(function(){var h, aa = aa || {}, q = this;
function t(a) {
  return void 0 !== a;
}
function ba(a) {
  a = a.split(".");
  for (var b = q, c;c = a.shift();) {
    if (null != b[c]) {
      b = b[c];
    } else {
      return null;
    }
  }
  return b;
}
function ca() {
}
function da(a) {
  a.X = function() {
    return a.Fj ? a.Fj : a.Fj = new a;
  };
}
function ea(a) {
  var b = typeof a;
  if ("object" == b) {
    if (a) {
      if (a instanceof Array) {
        return "array";
      }
      if (a instanceof Object) {
        return b;
      }
      var c = Object.prototype.toString.call(a);
      if ("[object Window]" == c) {
        return "object";
      }
      if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) {
        return "array";
      }
      if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) {
        return "function";
      }
    } else {
      return "null";
    }
  } else {
    if ("function" == b && "undefined" == typeof a.call) {
      return "object";
    }
  }
  return b;
}
function u(a) {
  return "array" == ea(a);
}
function fa(a) {
  var b = ea(a);
  return "array" == b || "object" == b && "number" == typeof a.length;
}
function w(a) {
  return "string" == typeof a;
}
function ga(a) {
  return "boolean" == typeof a;
}
function ha(a) {
  return "number" == typeof a;
}
function ia(a) {
  return "function" == ea(a);
}
function x(a) {
  var b = typeof a;
  return "object" == b && null != a || "function" == b;
}
function ja(a) {
  return a[la] || (a[la] = ++ma);
}
var la = "closure_uid_" + (1E9 * Math.random() >>> 0), ma = 0;
function na(a, b, c) {
  return a.call.apply(a.bind, arguments);
}
function oa(a, b, c) {
  if (!a) {
    throw Error();
  }
  if (2 < arguments.length) {
    var d = Array.prototype.slice.call(arguments, 2);
    return function() {
      var c = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(c, d);
      return a.apply(b, c);
    };
  }
  return function() {
    return a.apply(b, arguments);
  };
}
function pa(a, b, c) {
  pa = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? na : oa;
  return pa.apply(null, arguments);
}
function qa(a, b) {
  var c = Array.prototype.slice.call(arguments, 1);
  return function() {
    var b = c.slice();
    b.push.apply(b, arguments);
    return a.apply(this, b);
  };
}
var y = Date.now || function() {
  return +new Date;
};
function ra(a, b) {
  var c = a.split("."), d = q;
  c[0] in d || !d.execScript || d.execScript("var " + c[0]);
  for (var e;c.length && (e = c.shift());) {
    !c.length && t(b) ? d[e] = b : d[e] ? d = d[e] : d = d[e] = {};
  }
}
function A(a, b) {
  function c() {
  }
  c.prototype = b.prototype;
  a.j = b.prototype;
  a.prototype = new c;
  a.prototype.constructor = a;
  a.Eq = function(a, c, f) {
    for (var g = Array(arguments.length - 2), k = 2;k < arguments.length;k++) {
      g[k - 2] = arguments[k];
    }
    return b.prototype[c].apply(a, g);
  };
}
;function sa(a) {
  a.prototype.then = a.prototype.then;
  a.prototype.$goog_Thenable = !0;
}
function ta(a) {
  if (!a) {
    return !1;
  }
  try {
    return !!a.$goog_Thenable;
  } catch (b) {
    return !1;
  }
}
;function va(a) {
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, va);
  } else {
    var b = Error().stack;
    b && (this.stack = b);
  }
  a && (this.message = String(a));
}
A(va, Error);
va.prototype.name = "CustomError";
var wa;
function xa(a, b) {
  return 0 == a.lastIndexOf(b, 0);
}
function ya(a, b) {
  var c = a.length - b.length;
  return 0 <= c && a.indexOf(b, c) == c;
}
function za(a) {
  return /^[\s\xa0]*$/.test(a);
}
function Aa(a) {
  return a.replace(/[\t\r\n ]+/g, " ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g, "");
}
var Ba = String.prototype.trim ? function(a) {
  return a.trim();
} : function(a) {
  return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
};
function Ca(a) {
  if (!Da.test(a)) {
    return a;
  }
  -1 != a.indexOf("&") && (a = a.replace(Ea, "&amp;"));
  -1 != a.indexOf("<") && (a = a.replace(Fa, "&lt;"));
  -1 != a.indexOf(">") && (a = a.replace(Ga, "&gt;"));
  -1 != a.indexOf('"') && (a = a.replace(Ha, "&quot;"));
  -1 != a.indexOf("'") && (a = a.replace(Ia, "&#39;"));
  -1 != a.indexOf("\x00") && (a = a.replace(Ja, "&#0;"));
  return a;
}
var Ea = /&/g, Fa = /</g, Ga = />/g, Ha = /"/g, Ia = /'/g, Ja = /\x00/g, Da = /[\x00&<>"']/;
function Ka(a) {
  return -1 != a.indexOf("&") ? "document" in q ? La(a) : Ma(a) : a;
}
function La(a, b) {
  var c = {"&amp;":"&", "&lt;":"<", "&gt;":">", "&quot;":'"'}, d;
  d = b ? b.createElement("div") : q.document.createElement("div");
  return a.replace(Na, function(a, b) {
    var g = c[a];
    if (g) {
      return g;
    }
    if ("#" == b.charAt(0)) {
      var k = Number("0" + b.substr(1));
      isNaN(k) || (g = String.fromCharCode(k));
    }
    g || (d.innerHTML = a + " ", g = d.firstChild.nodeValue.slice(0, -1));
    return c[a] = g;
  });
}
function Ma(a) {
  return a.replace(/&([^;]+);/g, function(a, c) {
    switch(c) {
      case "amp":
        return "&";
      case "lt":
        return "<";
      case "gt":
        return ">";
      case "quot":
        return '"';
      default:
        if ("#" == c.charAt(0)) {
          var d = Number("0" + c.substr(1));
          if (!isNaN(d)) {
            return String.fromCharCode(d);
          }
        }
        return a;
    }
  });
}
var Na = /&([^;\s<&]+);?/g;
function Oa(a, b) {
  for (var c = b.length, d = 0;d < c;d++) {
    var e = 1 == c ? b : b.charAt(d);
    if (a.charAt(0) == e && a.charAt(a.length - 1) == e) {
      return a.substring(1, a.length - 1);
    }
  }
  return a;
}
var Pa = {"\x00":"\\0", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t", "\x0B":"\\x0B", '"':'\\"', "\\":"\\\\", "<":"<"}, Ra = {"'":"\\'"};
function Sa(a) {
  a = String(a);
  for (var b = ['"'], c = 0;c < a.length;c++) {
    var d = a.charAt(c), e = d.charCodeAt(0), f = c + 1, g;
    if (!(g = Pa[d])) {
      if (!(31 < e && 127 > e)) {
        if (d in Ra) {
          d = Ra[d];
        } else {
          if (d in Pa) {
            d = Ra[d] = Pa[d];
          } else {
            e = d;
            g = d.charCodeAt(0);
            if (31 < g && 127 > g) {
              e = d;
            } else {
              if (256 > g) {
                if (e = "\\x", 16 > g || 256 < g) {
                  e += "0";
                }
              } else {
                e = "\\u", 4096 > g && (e += "0");
              }
              e += g.toString(16).toUpperCase();
            }
            d = Ra[d] = e;
          }
        }
      }
      g = d;
    }
    b[f] = g;
  }
  b.push('"');
  return b.join("");
}
function Ta(a) {
  return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08");
}
var Ua = String.prototype.repeat ? function(a, b) {
  return a.repeat(b);
} : function(a, b) {
  return Array(b + 1).join(a);
};
function Va(a) {
  a = t(void 0) ? a.toFixed(void 0) : String(a);
  var b = a.indexOf(".");
  -1 == b && (b = a.length);
  return Ua("0", Math.max(0, 2 - b)) + a;
}
function Wa(a, b) {
  for (var c = 0, d = Ba(String(a)).split("."), e = Ba(String(b)).split("."), f = Math.max(d.length, e.length), g = 0;0 == c && g < f;g++) {
    var k = d[g] || "", l = e[g] || "", m = /(\d*)(\D*)/g, n = /(\d*)(\D*)/g;
    do {
      var p = m.exec(k) || ["", "", ""], r = n.exec(l) || ["", "", ""];
      if (0 == p[0].length && 0 == r[0].length) {
        break;
      }
      c = Xa(0 == p[1].length ? 0 : parseInt(p[1], 10), 0 == r[1].length ? 0 : parseInt(r[1], 10)) || Xa(0 == p[2].length, 0 == r[2].length) || Xa(p[2], r[2]);
    } while (0 == c);
  }
  return c;
}
function Xa(a, b) {
  return a < b ? -1 : a > b ? 1 : 0;
}
;function Ya(a, b, c) {
  this.f = c;
  this.c = a;
  this.h = b;
  this.b = 0;
  this.a = null;
}
Ya.prototype.get = function() {
  var a;
  0 < this.b ? (this.b--, a = this.a, this.a = a.next, a.next = null) : a = this.c();
  return a;
};
Ya.prototype.put = function(a) {
  this.h(a);
  this.b < this.f && (this.b++, a.next = this.a, this.a = a);
};
function Za() {
  this.b = this.a = null;
}
var ab = new Ya(function() {
  return new $a;
}, function(a) {
  a.reset();
}, 100);
Za.prototype.add = function(a, b) {
  var c = ab.get();
  c.set(a, b);
  this.b ? this.b.next = c : this.a = c;
  this.b = c;
};
Za.prototype.remove = function() {
  var a = null;
  this.a && (a = this.a, this.a = this.a.next, this.a || (this.b = null), a.next = null);
  return a;
};
function $a() {
  this.next = this.a = this.Oa = null;
}
$a.prototype.set = function(a, b) {
  this.Oa = a;
  this.a = b;
  this.next = null;
};
$a.prototype.reset = function() {
  this.next = this.a = this.Oa = null;
};
var cb = Array.prototype.indexOf ? function(a, b, c) {
  return Array.prototype.indexOf.call(a, b, c);
} : function(a, b, c) {
  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
  if (w(a)) {
    return w(b) && 1 == b.length ? a.indexOf(b, c) : -1;
  }
  for (;c < a.length;c++) {
    if (c in a && a[c] === b) {
      return c;
    }
  }
  return -1;
}, db = Array.prototype.lastIndexOf ? function(a, b, c) {
  return Array.prototype.lastIndexOf.call(a, b, null == c ? a.length - 1 : c);
} : function(a, b, c) {
  c = null == c ? a.length - 1 : c;
  0 > c && (c = Math.max(0, a.length + c));
  if (w(a)) {
    return w(b) && 1 == b.length ? a.lastIndexOf(b, c) : -1;
  }
  for (;0 <= c;c--) {
    if (c in a && a[c] === b) {
      return c;
    }
  }
  return -1;
}, eb = Array.prototype.forEach ? function(a, b, c) {
  Array.prototype.forEach.call(a, b, c);
} : function(a, b, c) {
  for (var d = a.length, e = w(a) ? a.split("") : a, f = 0;f < d;f++) {
    f in e && b.call(c, e[f], f, a);
  }
}, fb = Array.prototype.filter ? function(a, b, c) {
  return Array.prototype.filter.call(a, b, c);
} : function(a, b, c) {
  for (var d = a.length, e = [], f = 0, g = w(a) ? a.split("") : a, k = 0;k < d;k++) {
    if (k in g) {
      var l = g[k];
      b.call(c, l, k, a) && (e[f++] = l);
    }
  }
  return e;
}, gb = Array.prototype.map ? function(a, b, c) {
  return Array.prototype.map.call(a, b, c);
} : function(a, b, c) {
  for (var d = a.length, e = Array(d), f = w(a) ? a.split("") : a, g = 0;g < d;g++) {
    g in f && (e[g] = b.call(c, f[g], g, a));
  }
  return e;
}, hb = Array.prototype.some ? function(a, b, c) {
  return Array.prototype.some.call(a, b, c);
} : function(a, b, c) {
  for (var d = a.length, e = w(a) ? a.split("") : a, f = 0;f < d;f++) {
    if (f in e && b.call(c, e[f], f, a)) {
      return !0;
    }
  }
  return !1;
}, ib = Array.prototype.every ? function(a, b, c) {
  return Array.prototype.every.call(a, b, c);
} : function(a, b, c) {
  for (var d = a.length, e = w(a) ? a.split("") : a, f = 0;f < d;f++) {
    if (f in e && !b.call(c, e[f], f, a)) {
      return !1;
    }
  }
  return !0;
};
function jb(a, b) {
  var c = 0;
  eb(a, function(a, e, f) {
    b.call(void 0, a, e, f) && ++c;
  }, void 0);
  return c;
}
function kb(a, b) {
  var c = lb(a, b, void 0);
  return 0 > c ? null : w(a) ? a.charAt(c) : a[c];
}
function lb(a, b, c) {
  for (var d = a.length, e = w(a) ? a.split("") : a, f = 0;f < d;f++) {
    if (f in e && b.call(c, e[f], f, a)) {
      return f;
    }
  }
  return -1;
}
function mb(a, b) {
  return 0 <= cb(a, b);
}
function nb(a) {
  if (!u(a)) {
    for (var b = a.length - 1;0 <= b;b--) {
      delete a[b];
    }
  }
  a.length = 0;
}
function ob(a, b) {
  var c = cb(a, b), d;
  (d = 0 <= c) && pb(a, c);
  return d;
}
function pb(a, b) {
  Array.prototype.splice.call(a, b, 1);
}
function qb(a) {
  return Array.prototype.concat.apply(Array.prototype, arguments);
}
function rb(a) {
  var b = a.length;
  if (0 < b) {
    for (var c = Array(b), d = 0;d < b;d++) {
      c[d] = a[d];
    }
    return c;
  }
  return [];
}
function sb(a, b) {
  for (var c = 1;c < arguments.length;c++) {
    var d = arguments[c];
    if (fa(d)) {
      var e = a.length || 0, f = d.length || 0;
      a.length = e + f;
      for (var g = 0;g < f;g++) {
        a[e + g] = d[g];
      }
    } else {
      a.push(d);
    }
  }
}
function tb(a, b, c, d) {
  Array.prototype.splice.apply(a, ub(arguments, 1));
}
function ub(a, b, c) {
  return 2 >= arguments.length ? Array.prototype.slice.call(a, b) : Array.prototype.slice.call(a, b, c);
}
function vb(a, b, c) {
  c = c || wb;
  for (var d = 0, e = a.length, f;d < e;) {
    var g = d + e >> 1, k;
    k = c(b, a[g]);
    0 < k ? d = g + 1 : (e = g, f = !k);
  }
  return f ? d : ~d;
}
function xb(a, b) {
  a.sort(b || wb);
}
function yb(a, b) {
  if (!fa(a) || !fa(b) || a.length != b.length) {
    return !1;
  }
  for (var c = a.length, d = zb, e = 0;e < c;e++) {
    if (!d(a[e], b[e])) {
      return !1;
    }
  }
  return !0;
}
function wb(a, b) {
  return a > b ? 1 : a < b ? -1 : 0;
}
function zb(a, b) {
  return a === b;
}
function Ab(a, b, c) {
  c = vb(a, b, c);
  return 0 > c ? (tb(a, -(c + 1), 0, b), !0) : !1;
}
function Bb(a) {
  for (var b = [], c = 0;c < arguments.length;c++) {
    var d = arguments[c];
    if (u(d)) {
      for (var e = 0;e < d.length;e += 8192) {
        for (var f = Bb.apply(null, ub(d, e, e + 8192)), g = 0;g < f.length;g++) {
          b.push(f[g]);
        }
      }
    } else {
      b.push(d);
    }
  }
  return b;
}
;var Cb;
a: {
  var Db = q.navigator;
  if (Db) {
    var Eb = Db.userAgent;
    if (Eb) {
      Cb = Eb;
      break a;
    }
  }
  Cb = "";
}
function Fb(a) {
  return -1 != Cb.indexOf(a);
}
;function Gb(a, b, c) {
  for (var d in a) {
    b.call(c, a[d], d, a);
  }
}
function Hb(a) {
  var b = [], c = 0, d;
  for (d in a) {
    b[c++] = a[d];
  }
  return b;
}
function Ib(a) {
  var b = [], c = 0, d;
  for (d in a) {
    b[c++] = d;
  }
  return b;
}
function Jb(a, b) {
  for (var c = fa(b), d = c ? b : arguments, c = c ? 0 : 1;c < d.length && (a = a[d[c]], t(a));c++) {
  }
  return a;
}
function Kb(a) {
  return null !== a && "withCredentials" in a;
}
function Lb(a) {
  for (var b in a) {
    return !1;
  }
  return !0;
}
function Mb(a, b, c) {
  if (null !== a && b in a) {
    throw Error('The object already contains the key "' + b + '"');
  }
  a[b] = c;
}
function Nb(a, b) {
  return null !== a && b in a ? a[b] : void 0;
}
function Ob(a) {
  var b = {}, c;
  for (c in a) {
    b[c] = a[c];
  }
  return b;
}
var Pb = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Qb(a, b) {
  for (var c, d, e = 1;e < arguments.length;e++) {
    d = arguments[e];
    for (c in d) {
      a[c] = d[c];
    }
    for (var f = 0;f < Pb.length;f++) {
      c = Pb[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);
    }
  }
}
function Rb(a) {
  var b = arguments.length;
  if (1 == b && u(arguments[0])) {
    return Rb.apply(null, arguments[0]);
  }
  if (b % 2) {
    throw Error("Uneven number of arguments");
  }
  for (var c = {}, d = 0;d < b;d += 2) {
    c[arguments[d]] = arguments[d + 1];
  }
  return c;
}
;function Sb() {
  return Fb("Opera") || Fb("OPR");
}
function Tb() {
  return (Fb("Chrome") || Fb("CriOS")) && !Sb() && !Fb("Edge");
}
;function Ub(a) {
  q.setTimeout(function() {
    throw a;
  }, 0);
}
var Vb;
function Wb() {
  var a = q.MessageChannel;
  "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !Fb("Presto") && (a = function() {
    var a = document.createElement("IFRAME");
    a.style.display = "none";
    a.src = "";
    document.documentElement.appendChild(a);
    var b = a.contentWindow, a = b.document;
    a.open();
    a.write("");
    a.close();
    var c = "callImmediate" + Math.random(), d = "file:" == b.location.protocol ? "*" : b.location.protocol + "//" + b.location.host, a = pa(function(a) {
      if (("*" == d || a.origin == d) && a.data == c) {
        this.port1.onmessage();
      }
    }, this);
    b.addEventListener("message", a, !1);
    this.port1 = {};
    this.port2 = {postMessage:function() {
      b.postMessage(c, d);
    }};
  });
  if ("undefined" !== typeof a && !Fb("Trident") && !Fb("MSIE")) {
    var b = new a, c = {}, d = c;
    b.port1.onmessage = function() {
      if (t(c.next)) {
        c = c.next;
        var a = c.cb;
        c.cb = null;
        a();
      }
    };
    return function(a) {
      d.next = {cb:a};
      d = d.next;
      b.port2.postMessage(0);
    };
  }
  return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(a) {
    var b = document.createElement("SCRIPT");
    b.onreadystatechange = function() {
      b.onreadystatechange = null;
      b.parentNode.removeChild(b);
      b = null;
      a();
      a = null;
    };
    document.documentElement.appendChild(b);
  } : function(a) {
    q.setTimeout(a, 0);
  };
}
;function Xb(a, b) {
  Yb || Zb();
  $b || (Yb(), $b = !0);
  ac.add(a, b);
}
var Yb;
function Zb() {
  if (q.Promise && q.Promise.resolve) {
    var a = q.Promise.resolve(void 0);
    Yb = function() {
      a.then(bc);
    };
  } else {
    Yb = function() {
      var a = bc;
      !ia(q.setImmediate) || q.Window && q.Window.prototype && !Fb("Edge") && q.Window.prototype.setImmediate == q.setImmediate ? (Vb || (Vb = Wb()), Vb(a)) : q.setImmediate(a);
    };
  }
}
var $b = !1, ac = new Za;
function bc() {
  for (var a = null;a = ac.remove();) {
    try {
      a.Oa.call(a.a);
    } catch (b) {
      Ub(b);
    }
    ab.put(a);
  }
  $b = !1;
}
;function cc(a, b) {
  this.a = dc;
  this.o = void 0;
  this.f = this.b = this.c = null;
  this.h = this.l = !1;
  if (a != ca) {
    try {
      var c = this;
      a.call(b, function(a) {
        ec(c, fc, a);
      }, function(a) {
        ec(c, gc, a);
      });
    } catch (d) {
      ec(this, gc, d);
    }
  }
}
var dc = 0, fc = 2, gc = 3;
function hc() {
  this.next = this.c = this.b = this.f = this.a = null;
  this.h = !1;
}
hc.prototype.reset = function() {
  this.c = this.b = this.f = this.a = null;
  this.h = !1;
};
var ic = new Ya(function() {
  return new hc;
}, function(a) {
  a.reset();
}, 100);
function jc(a, b, c) {
  var d = ic.get();
  d.f = a;
  d.b = b;
  d.c = c;
  return d;
}
cc.prototype.then = function(a, b, c) {
  return kc(this, ia(a) ? a : null, ia(b) ? b : null, c);
};
sa(cc);
function lc(a) {
  a.a == dc && Xb(function() {
    var a = new mc(void 0);
    nc(this, a);
  }, a);
}
function nc(a, b) {
  if (a.a == dc) {
    if (a.c) {
      var c = a.c;
      if (c.b) {
        for (var d = 0, e = null, f = null, g = c.b;g && (g.h || (d++, g.a == a && (e = g), !(e && 1 < d)));g = g.next) {
          e || (f = g);
        }
        e && (c.a == dc && 1 == d ? nc(c, b) : (f ? (d = f, d.next == c.f && (c.f = d), d.next = d.next.next) : oc(c), pc(c, e, gc, b)));
      }
      a.c = null;
    } else {
      ec(a, gc, b);
    }
  }
}
function qc(a, b) {
  a.b || a.a != fc && a.a != gc || rc(a);
  a.f ? a.f.next = b : a.b = b;
  a.f = b;
}
function kc(a, b, c, d) {
  var e = jc(null, null, null);
  e.a = new cc(function(a, g) {
    e.f = b ? function(c) {
      try {
        var e = b.call(d, c);
        a(e);
      } catch (m) {
        g(m);
      }
    } : a;
    e.b = c ? function(b) {
      try {
        var e = c.call(d, b);
        !t(e) && b instanceof mc ? g(b) : a(e);
      } catch (m) {
        g(m);
      }
    } : g;
  });
  e.a.c = a;
  qc(a, e);
  return e.a;
}
cc.prototype.s = function(a) {
  this.a = dc;
  ec(this, fc, a);
};
cc.prototype.D = function(a) {
  this.a = dc;
  ec(this, gc, a);
};
function ec(a, b, c) {
  if (a.a == dc) {
    a == c && (b = gc, c = new TypeError("Promise cannot resolve to itself"));
    a.a = 1;
    var d;
    a: {
      var e = c, f = a.s, g = a.D;
      if (e instanceof cc) {
        qc(e, jc(f || ca, g || null, a)), d = !0;
      } else {
        if (ta(e)) {
          e.then(f, g, a), d = !0;
        } else {
          if (x(e)) {
            try {
              var k = e.then;
              if (ia(k)) {
                sc(e, k, f, g, a);
                d = !0;
                break a;
              }
            } catch (l) {
              g.call(a, l);
              d = !0;
              break a;
            }
          }
          d = !1;
        }
      }
    }
    d || (a.o = c, a.a = b, a.c = null, rc(a), b != gc || c instanceof mc || tc(a, c));
  }
}
function sc(a, b, c, d, e) {
  function f(a) {
    k || (k = !0, d.call(e, a));
  }
  function g(a) {
    k || (k = !0, c.call(e, a));
  }
  var k = !1;
  try {
    b.call(a, g, f);
  } catch (l) {
    f(l);
  }
}
function rc(a) {
  a.l || (a.l = !0, Xb(a.J, a));
}
function oc(a) {
  var b = null;
  a.b && (b = a.b, a.b = b.next, b.next = null);
  a.b || (a.f = null);
  return b;
}
cc.prototype.J = function() {
  for (var a = null;a = oc(this);) {
    pc(this, a, this.a, this.o);
  }
  this.l = !1;
};
function pc(a, b, c, d) {
  if (c == gc && b.b && !b.h) {
    for (;a && a.h;a = a.c) {
      a.h = !1;
    }
  }
  if (b.a) {
    b.a.c = null, uc(b, c, d);
  } else {
    try {
      b.h ? b.f.call(b.c) : uc(b, c, d);
    } catch (e) {
      vc.call(null, e);
    }
  }
  ic.put(b);
}
function uc(a, b, c) {
  b == fc ? a.f.call(a.c, c) : a.b && a.b.call(a.c, c);
}
function tc(a, b) {
  a.h = !0;
  Xb(function() {
    a.h && vc.call(null, b);
  });
}
var vc = Ub;
function mc(a) {
  va.call(this, a);
}
A(mc, va);
mc.prototype.name = "cancel";
/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function B(a, b) {
  this.D = [];
  this.Ba = a;
  this.$ = b || null;
  this.o = this.f = !1;
  this.l = void 0;
  this.ea = this.ka = this.F = !1;
  this.s = 0;
  this.h = null;
  this.W = 0;
}
function wc(a, b) {
  if (a.f) {
    a.l instanceof B && wc(a.l);
  } else {
    if (a.h) {
      var c = a.h;
      delete a.h;
      b ? wc(c, b) : (c.W--, 0 >= c.W && wc(c));
    }
    a.Ba ? a.Ba.call(a.$, a) : a.ea = !0;
    a.f || a.C(new xc);
  }
}
h = B.prototype;
h.Te = function(a, b) {
  this.F = !1;
  yc(this, a, b);
};
function yc(a, b, c) {
  a.f = !0;
  a.l = c;
  a.o = !b;
  a.Sg();
}
function zc(a) {
  if (a.f) {
    if (!a.ea) {
      throw new Ac;
    }
    a.ea = !1;
  }
}
h.callback = function(a) {
  zc(this);
  yc(this, !0, a);
};
h.C = function(a) {
  zc(this);
  yc(this, !1, a);
};
h.i = function(a, b) {
  return this.u(a, null, b);
};
h.Gc = function(a, b) {
  return this.u(null, a, b);
};
h.G = function(a, b) {
  return this.u(a, a, b);
};
h.u = function(a, b, c) {
  this.D.push([a, b, c]);
  this.f && this.Sg();
  return this;
};
h.then = function(a, b, c) {
  var d, e, f = new cc(function(a, b) {
    d = a;
    e = b;
  });
  this.u(d, function(a) {
    a instanceof xc ? lc(f) : e(a);
  });
  return f.then(a, b, c);
};
sa(B);
B.prototype.b = function(a) {
  this.u(a.callback, a.C, a);
  return this;
};
function Bc(a) {
  var b = new B;
  a.b(b);
  return b;
}
function Cc(a) {
  return hb(a.D, function(a) {
    return ia(a[1]);
  });
}
B.prototype.Sg = function() {
  this.s && this.f && Cc(this) && (Dc(this.s), this.s = 0);
  this.h && (this.h.W--, delete this.h);
  for (var a = this.l, b = !1, c = !1;this.D.length && !this.F;) {
    var d = this.D.shift(), e = d[0], f = d[1], d = d[2];
    if (e = this.o ? f : e) {
      try {
        var g = e.call(d || this.$, a);
        t(g) && (this.o = this.o && (g == a || g instanceof Error), this.l = a = g);
        if (ta(a) || "function" === typeof q.Promise && a instanceof q.Promise) {
          this.F = c = !0;
        }
      } catch (k) {
        a = k, this.o = !0, Cc(this) || (b = !0);
      }
    }
  }
  this.l = a;
  c && (c = pa(this.Te, this, !0), g = pa(this.Te, this, !1), a instanceof B ? (a.u(c, g), a.ka = !0) : a.then(c, g));
  b && (a = new Ec(a), Fc[a.a] = a, this.s = a.a);
};
function C(a) {
  var b = new B;
  b.callback(a);
  return b;
}
function D(a) {
  var b = new B;
  b.C(a);
  return b;
}
function Ac() {
  va.call(this);
}
A(Ac, va);
Ac.prototype.message = "Deferred has already fired";
Ac.prototype.name = "AlreadyCalledError";
function xc() {
  va.call(this);
}
A(xc, va);
xc.prototype.message = "Deferred was canceled";
xc.prototype.name = "CanceledError";
function Ec(a) {
  this.a = q.setTimeout(pa(this.c, this), 0);
  this.b = a;
}
Ec.prototype.c = function() {
  delete Fc[this.a];
  window.console.error(this.b.stack);
  throw this.b;
};
var Fc = {};
function Dc(a) {
  var b = Fc[a];
  b && (q.clearTimeout(b.a), delete Fc[a]);
}
;function Gc() {
  0 != Hc && (Ic[ja(this)] = this);
  this.J = this.J;
  this.ga = this.ga;
}
var Hc = 0, Ic = {};
Gc.prototype.J = !1;
Gc.prototype.O = function() {
  if (!this.J && (this.J = !0, this.I(), 0 != Hc)) {
    var a = ja(this);
    delete Ic[a];
  }
};
function Jc(a, b) {
  a.J ? b.call(void 0) : (a.ga || (a.ga = []), a.ga.push(t(void 0) ? pa(b, void 0) : b));
}
Gc.prototype.I = function() {
  if (this.ga) {
    for (;this.ga.length;) {
      this.ga.shift()();
    }
  }
};
function Kc(a) {
  a && "function" == typeof a.O && a.O();
}
;function Lc() {
  return Fb("iPhone") && !Fb("iPod") && !Fb("iPad");
}
;var Mc = Sb(), E = Fb("Trident") || Fb("MSIE"), Nc = Fb("Edge"), Oc = Nc || E, Pc = Fb("Gecko") && !(-1 != Cb.toLowerCase().indexOf("webkit") && !Fb("Edge")) && !(Fb("Trident") || Fb("MSIE")) && !Fb("Edge"), Qc = -1 != Cb.toLowerCase().indexOf("webkit") && !Fb("Edge");
Qc && Fb("Mobile");
var Rc = Fb("Macintosh");
Fb("Windows");
Fb("Linux") || Fb("CrOS");
var Sc = q.navigator || null;
Sc && (Sc.appVersion || "").indexOf("X11");
Fb("Android");
Lc();
Fb("iPad");
function Tc() {
  var a = Cb;
  if (Pc) {
    return /rv\:([^\);]+)(\)|;)/.exec(a);
  }
  if (Nc) {
    return /Edge\/([\d\.]+)/.exec(a);
  }
  if (E) {
    return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
  }
  if (Qc) {
    return /WebKit\/(\S+)/.exec(a);
  }
}
function Uc() {
  var a = q.document;
  return a ? a.documentMode : void 0;
}
var Vc = function() {
  if (Mc && q.opera) {
    var a;
    var b = q.opera.version;
    try {
      a = b();
    } catch (c) {
      a = b;
    }
    return a;
  }
  a = "";
  (b = Tc()) && (a = b ? b[1] : "");
  return E && (b = Uc(), b > parseFloat(a)) ? String(b) : a;
}(), Xc = {};
function Yc(a) {
  return Xc[a] || (Xc[a] = 0 <= Wa(Vc, a));
}
var Zc = q.document, $c = Zc && E ? Uc() || ("CSS1Compat" == Zc.compatMode ? parseInt(Vc, 10) : 5) : void 0;
var ad = !E || 9 <= $c, bd = !E || 9 <= $c, cd = E && !Yc("9");
!Qc || Yc("528");
Pc && Yc("1.9b") || E && Yc("8") || Mc && Yc("9.5") || Qc && Yc("528");
Pc && !Yc("8") || E && Yc("9");
function G(a, b) {
  this.type = a;
  this.b = this.target = b;
  this.o = this.h = !1;
  this.lk = !0;
}
G.prototype.stopPropagation = function() {
  this.h = !0;
};
G.prototype.preventDefault = function() {
  this.o = !0;
  this.lk = !1;
};
function dd(a) {
  dd[" "](a);
  return a;
}
dd[" "] = ca;
function ed(a, b) {
  try {
    return dd(a[b]), !0;
  } catch (c) {
  }
  return !1;
}
;function fd(a, b) {
  G.call(this, a ? a.type : "");
  this.f = this.b = this.target = null;
  this.l = this.a = this.clientY = this.clientX = 0;
  this.J = this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
  this.c = null;
  a && this.init(a, b);
}
A(fd, G);
var gd = [1, 4, 2];
fd.prototype.init = function(a, b) {
  var c = this.type = a.type, d = a.changedTouches ? a.changedTouches[0] : null;
  this.target = a.target || a.srcElement;
  this.b = b;
  var e = a.relatedTarget;
  e ? Pc && (ed(e, "nodeName") || (e = null)) : "mouseover" == c ? e = a.fromElement : "mouseout" == c && (e = a.toElement);
  this.f = e;
  null === d ? (this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY) : (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY);
  this.a = a.keyCode || 0;
  this.l = a.charCode || ("keypress" == c ? a.keyCode : 0);
  this.ctrlKey = a.ctrlKey;
  this.altKey = a.altKey;
  this.shiftKey = a.shiftKey;
  this.metaKey = a.metaKey;
  this.J = Rc ? a.metaKey : a.ctrlKey;
  this.c = a;
  a.defaultPrevented && this.preventDefault();
};
function hd(a) {
  return (ad ? 0 == a.c.button : "click" == a.type ? !0 : !!(a.c.button & gd[0])) && !(Qc && Rc && a.ctrlKey);
}
fd.prototype.stopPropagation = function() {
  fd.j.stopPropagation.call(this);
  this.c.stopPropagation ? this.c.stopPropagation() : this.c.cancelBubble = !0;
};
fd.prototype.preventDefault = function() {
  fd.j.preventDefault.call(this);
  var a = this.c;
  if (a.preventDefault) {
    a.preventDefault();
  } else {
    if (a.returnValue = !1, cd) {
      try {
        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {
          a.keyCode = -1;
        }
      } catch (b) {
      }
    }
  }
};
var id = "closure_listenable_" + (1E6 * Math.random() | 0);
function jd(a) {
  return !(!a || !a[id]);
}
var kd = 0;
function ld(a, b, c, d, e) {
  this.listener = a;
  this.proxy = null;
  this.src = b;
  this.type = c;
  this.Re = !!d;
  this.M = e;
  this.key = ++kd;
  this.removed = this.Qe = !1;
}
function md(a) {
  a.removed = !0;
  a.listener = null;
  a.proxy = null;
  a.src = null;
  a.M = null;
}
;function nd(a) {
  this.src = a;
  this.a = {};
  this.b = 0;
}
nd.prototype.add = function(a, b, c, d, e) {
  var f = a.toString();
  a = this.a[f];
  a || (a = this.a[f] = [], this.b++);
  var g = od(a, b, d, e);
  -1 < g ? (b = a[g], c || (b.Qe = !1)) : (b = new ld(b, this.src, f, !!d, e), b.Qe = c, a.push(b));
  return b;
};
nd.prototype.remove = function(a, b, c, d) {
  a = a.toString();
  if (!(a in this.a)) {
    return !1;
  }
  var e = this.a[a];
  b = od(e, b, c, d);
  return -1 < b ? (md(e[b]), pb(e, b), 0 == e.length && (delete this.a[a], this.b--), !0) : !1;
};
function pd(a, b) {
  var c = b.type;
  c in a.a && ob(a.a[c], b) && (md(b), 0 == a.a[c].length && (delete a.a[c], a.b--));
}
nd.prototype.removeAll = function(a) {
  a = a && a.toString();
  var b = 0, c;
  for (c in this.a) {
    if (!a || c == a) {
      for (var d = this.a[c], e = 0;e < d.length;e++) {
        ++b, md(d[e]);
      }
      delete this.a[c];
      this.b--;
    }
  }
  return b;
};
function qd(a, b, c, d, e) {
  a = a.a[b.toString()];
  b = -1;
  a && (b = od(a, c, d, e));
  return -1 < b ? a[b] : null;
}
function od(a, b, c, d) {
  for (var e = 0;e < a.length;++e) {
    var f = a[e];
    if (!f.removed && f.listener == b && f.Re == !!c && f.M == d) {
      return e;
    }
  }
  return -1;
}
;var rd = "closure_lm_" + (1E6 * Math.random() | 0), sd = {}, td = 0;
function ud(a, b, c, d, e) {
  if (u(b)) {
    for (var f = 0;f < b.length;f++) {
      ud(a, b[f], c, d, e);
    }
    return null;
  }
  c = vd(c);
  return jd(a) ? a.listen(b, c, d, e) : wd(a, b, c, !1, d, e);
}
function wd(a, b, c, d, e, f) {
  if (!b) {
    throw Error("Invalid event type");
  }
  var g = !!e, k = xd(a);
  k || (a[rd] = k = new nd(a));
  c = k.add(b, c, d, e, f);
  if (c.proxy) {
    return c;
  }
  d = yd();
  c.proxy = d;
  d.src = a;
  d.listener = c;
  if (a.addEventListener) {
    a.addEventListener(b.toString(), d, g);
  } else {
    if (a.attachEvent) {
      a.attachEvent(zd(b.toString()), d);
    } else {
      throw Error("addEventListener and attachEvent are unavailable.");
    }
  }
  td++;
  return c;
}
function yd() {
  var a = Ad, b = bd ? function(c) {
    return a.call(b.src, b.listener, c);
  } : function(c) {
    c = a.call(b.src, b.listener, c);
    if (!c) {
      return c;
    }
  };
  return b;
}
function Bd(a, b, c, d, e) {
  if (u(b)) {
    for (var f = 0;f < b.length;f++) {
      Bd(a, b[f], c, d, e);
    }
    return null;
  }
  c = vd(c);
  return jd(a) ? a.lc.add(String(b), c, !0, d, e) : wd(a, b, c, !0, d, e);
}
function Cd(a, b, c, d, e) {
  if (u(b)) {
    for (var f = 0;f < b.length;f++) {
      Cd(a, b[f], c, d, e);
    }
  } else {
    c = vd(c), jd(a) ? a.ca(b, c, d, e) : a && (a = xd(a)) && (b = qd(a, b, c, !!d, e)) && Dd(b);
  }
}
function Dd(a) {
  if (!ha(a) && a && !a.removed) {
    var b = a.src;
    if (jd(b)) {
      pd(b.lc, a);
    } else {
      var c = a.type, d = a.proxy;
      b.removeEventListener ? b.removeEventListener(c, d, a.Re) : b.detachEvent && b.detachEvent(zd(c), d);
      td--;
      (c = xd(b)) ? (pd(c, a), 0 == c.b && (c.src = null, b[rd] = null)) : md(a);
    }
  }
}
function zd(a) {
  return a in sd ? sd[a] : sd[a] = "on" + a;
}
function Ed(a, b, c, d) {
  var e = !0;
  if (a = xd(a)) {
    if (b = a.a[b.toString()]) {
      for (b = b.concat(), a = 0;a < b.length;a++) {
        var f = b[a];
        f && f.Re == c && !f.removed && (f = Fd(f, d), e = e && !1 !== f);
      }
    }
  }
  return e;
}
function Fd(a, b) {
  var c = a.listener, d = a.M || a.src;
  a.Qe && Dd(a);
  return c.call(d, b);
}
function Ad(a, b) {
  if (a.removed) {
    return !0;
  }
  if (!bd) {
    var c = b || ba("window.event"), d = new fd(c, this), e = !0;
    if (!(0 > c.keyCode || void 0 != c.returnValue)) {
      a: {
        var f = !1;
        if (0 == c.keyCode) {
          try {
            c.keyCode = -1;
            break a;
          } catch (l) {
            f = !0;
          }
        }
        if (f || void 0 == c.returnValue) {
          c.returnValue = !0;
        }
      }
      c = [];
      for (f = d.b;f;f = f.parentNode) {
        c.push(f);
      }
      for (var f = a.type, g = c.length - 1;!d.h && 0 <= g;g--) {
        d.b = c[g];
        var k = Ed(c[g], f, !0, d), e = e && k;
      }
      for (g = 0;!d.h && g < c.length;g++) {
        d.b = c[g], k = Ed(c[g], f, !1, d), e = e && k;
      }
    }
    return e;
  }
  return Fd(a, new fd(b, this));
}
function xd(a) {
  a = a[rd];
  return a instanceof nd ? a : null;
}
var Gd = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);
function vd(a) {
  if (ia(a)) {
    return a;
  }
  a[Gd] || (a[Gd] = function(b) {
    return a.handleEvent(b);
  });
  return a[Gd];
}
;function H() {
  Gc.call(this);
  this.lc = new nd(this);
  this.Vk = this;
  this.fe = null;
}
A(H, Gc);
H.prototype[id] = !0;
h = H.prototype;
h.Md = function() {
  return this.fe;
};
h.di = function(a) {
  this.fe = a;
};
h.addEventListener = function(a, b, c, d) {
  ud(this, a, b, c, d);
};
h.removeEventListener = function(a, b, c, d) {
  Cd(this, a, b, c, d);
};
function I(a, b) {
  var c, d = a.Md();
  if (d) {
    for (c = [];d;d = d.Md()) {
      c.push(d);
    }
  }
  var d = a.Vk, e = b, f = e.type || e;
  if (w(e)) {
    e = new G(e, d);
  } else {
    if (e instanceof G) {
      e.target = e.target || d;
    } else {
      var g = e, e = new G(f, d);
      Qb(e, g);
    }
  }
  var g = !0, k;
  if (c) {
    for (var l = c.length - 1;!e.h && 0 <= l;l--) {
      k = e.b = c[l], g = Hd(k, f, !0, e) && g;
    }
  }
  e.h || (k = e.b = d, g = Hd(k, f, !0, e) && g, e.h || (g = Hd(k, f, !1, e) && g));
  if (c) {
    for (l = 0;!e.h && l < c.length;l++) {
      k = e.b = c[l], g = Hd(k, f, !1, e) && g;
    }
  }
  return g;
}
h.I = function() {
  H.j.I.call(this);
  this.lc && this.lc.removeAll(void 0);
  this.fe = null;
};
h.listen = function(a, b, c, d) {
  return this.lc.add(String(a), b, !1, c, d);
};
h.ca = function(a, b, c, d) {
  return this.lc.remove(String(a), b, c, d);
};
function Hd(a, b, c, d) {
  b = a.lc.a[String(b)];
  if (!b) {
    return !0;
  }
  b = b.concat();
  for (var e = !0, f = 0;f < b.length;++f) {
    var g = b[f];
    if (g && !g.removed && g.Re == c) {
      var k = g.listener, l = g.M || g.src;
      g.Qe && pd(a.lc, g);
      e = !1 !== k.call(l, d) && e;
    }
  }
  return e && 0 != d.lk;
}
;function Id(a, b, c) {
  this.c = a;
  this.b = b;
  this.a = c;
  this.id = this.b + (this.a ? "-" + this.a : "");
}
Id.prototype.getName = function() {
  return this.a;
};
Id.prototype.send = function(a, b) {
  var c = new Jd(a), d = this.a;
  c.l = this.b;
  c.o = d;
  c.b = b;
  var d = c.f, e = this.c, f = c.toJSON();
  Kd(e).postMessage(f);
  e.a.push(c);
  50 < e.a.length && --e.a.length;
  return d;
};
function Ld(a) {
  G.call(this, a.req || "event");
  this.f = a;
}
A(Ld, G);
Ld.prototype.getMessage = function() {
  return this.f;
};
Ld.prototype.getData = function() {
  return this.f.data;
};
var Md = {area:!0, base:!0, br:!0, col:!0, command:!0, embed:!0, hr:!0, img:!0, input:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, wbr:!0};
function Nd() {
  this.a = "";
  this.b = Od;
}
Nd.prototype.od = !0;
Nd.prototype.Ub = function() {
  return this.a;
};
Nd.prototype.toString = function() {
  return "Const{" + this.a + "}";
};
function Pd(a) {
  return a instanceof Nd && a.constructor === Nd && a.b === Od ? a.a : "type_error:Const";
}
var Od = {};
function Qd(a) {
  var b = new Nd;
  b.a = a;
  return b;
}
;function Rd() {
  this.a = "";
  this.b = Sd;
}
Rd.prototype.od = !0;
var Sd = {};
Rd.prototype.Ub = function() {
  return this.a;
};
function Td(a) {
  var b = new Rd;
  b.a = a;
  return b;
}
var Ud = Td(""), Vd = /^[-,."'%_!# a-zA-Z0-9]+$/;
function Wd() {
  this.a = "";
  this.b = Xd;
}
Wd.prototype.od = !0;
Wd.prototype.Ub = function() {
  return this.a;
};
Wd.prototype.zh = !0;
Wd.prototype.Od = function() {
  return 1;
};
function Yd(a) {
  return a instanceof Wd && a.constructor === Wd && a.b === Xd ? a.a : "type_error:SafeUrl";
}
var Zd = /^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;
function $d(a) {
  if (a instanceof Wd) {
    return a;
  }
  a = a.od ? a.Ub() : String(a);
  Zd.test(a) || (a = "about:invalid#zClosurez");
  return ae(a);
}
var Xd = {};
function ae(a) {
  var b = new Wd;
  b.a = a;
  return b;
}
;function be() {
  this.a = ce;
}
be.prototype.od = !0;
be.prototype.Ub = function() {
  return "";
};
be.prototype.zh = !0;
be.prototype.Od = function() {
  return 1;
};
var ce = {};
function de() {
  this.a = "";
  this.c = ee;
  this.b = null;
}
de.prototype.zh = !0;
de.prototype.Od = function() {
  return this.b;
};
de.prototype.od = !0;
de.prototype.Ub = function() {
  return this.a;
};
function fe(a) {
  return a instanceof de && a.constructor === de && a.c === ee ? a.a : "type_error:SafeHtml";
}
function ge(a) {
  if (a instanceof de) {
    return a;
  }
  var b = null;
  a.zh && (b = a.Od());
  a = Ca(a.od ? a.Ub() : String(a));
  return he(a, b);
}
function ie(a) {
  if (a instanceof de) {
    return a;
  }
  a = ge(a);
  var b;
  b = fe(a).replace(/  /g, " &#160;").replace(/(\r\n|\r|\n)/g, "<br>");
  return he(b, a.Od());
}
var je = /^[a-zA-Z0-9-]+$/, ke = {action:!0, cite:!0, data:!0, formaction:!0, href:!0, manifest:!0, poster:!0, src:!0}, le = {APPLET:!0, BASE:!0, EMBED:!0, IFRAME:!0, LINK:!0, MATH:!0, OBJECT:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};
function me(a, b, c) {
  if (!je.test(a)) {
    throw Error("Invalid tag name <" + a + ">.");
  }
  if (a.toUpperCase() in le) {
    throw Error("Tag name <" + a + "> is not allowed for SafeHtml.");
  }
  var d = null, e = "<" + a;
  if (b) {
    for (var f in b) {
      if (!je.test(f)) {
        throw Error('Invalid attribute name "' + f + '".');
      }
      var g = b[f];
      if (null != g) {
        var k, l = a;
        k = f;
        if (g instanceof Nd) {
          g = Pd(g);
        } else {
          if ("style" == k.toLowerCase()) {
            if (!x(g)) {
              throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof g + " given: " + g);
            }
            if (!(g instanceof Rd)) {
              var l = "", m = void 0;
              for (m in g) {
                if (!/^[-_a-zA-Z0-9]+$/.test(m)) {
                  throw Error("Name allows only [-_a-zA-Z0-9], got: " + m);
                }
                var n = g[m];
                if (null != n) {
                  if (n instanceof Nd) {
                    n = Pd(n);
                  } else {
                    if (Vd.test(n)) {
                      for (var p = !0, r = !0, v = 0;v < n.length;v++) {
                        var z = n.charAt(v);
                        "'" == z && r ? p = !p : '"' == z && p && (r = !r);
                      }
                      p && r || (n = "zClosurez");
                    } else {
                      n = "zClosurez";
                    }
                  }
                  l += m + ":" + n + ";";
                }
              }
              g = l ? Td(l) : Ud;
            }
            g = g instanceof Rd && g.constructor === Rd && g.b === Sd ? g.a : "type_error:SafeStyle";
          } else {
            if (/^on/i.test(k)) {
              throw Error('Attribute "' + k + '" requires goog.string.Const value, "' + g + '" given.');
            }
            if (k.toLowerCase() in ke) {
              if (g instanceof be) {
                g = g instanceof be && g.constructor === be && g.a === ce ? "" : "type_error:TrustedResourceUrl";
              } else {
                if (g instanceof Wd) {
                  g = Yd(g);
                } else {
                  if (w(g)) {
                    g = $d(g).Ub();
                  } else {
                    throw Error('Attribute "' + k + '" on tag "' + l + '" requires goog.html.SafeUrl, goog.string.Const, or string, value "' + g + '" given.');
                  }
                }
              }
            }
          }
        }
        g.od && (g = g.Ub());
        k = k + '="' + Ca(String(g)) + '"';
        e += " " + k;
      }
    }
  }
  null != c ? u(c) || (c = [c]) : c = [];
  !0 === Md[a.toLowerCase()] ? e += ">" : (d = ne(c), e += ">" + fe(d) + "</" + a + ">", d = d.Od());
  (a = b && b.dir) && (/^(ltr|rtl|auto)$/i.test(a) ? d = 0 : d = null);
  return he(e, d);
}
function ne(a) {
  function b(a) {
    u(a) ? eb(a, b) : (a = ge(a), d += fe(a), a = a.Od(), 0 == c ? c = a : 0 != a && c != a && (c = null));
  }
  var c = 0, d = "";
  eb(arguments, b);
  return he(d, c);
}
var ee = {};
function he(a, b) {
  var c = new de;
  c.a = a;
  c.b = b;
  return c;
}
he("<!DOCTYPE html>", 0);
var oe = he("", 0);
function pe(a) {
  if (a.Fa && "function" == typeof a.Fa) {
    return a.Fa();
  }
  if (w(a)) {
    return a.split("");
  }
  if (fa(a)) {
    for (var b = [], c = a.length, d = 0;d < c;d++) {
      b.push(a[d]);
    }
    return b;
  }
  return Hb(a);
}
function qe(a, b) {
  if (a.forEach && "function" == typeof a.forEach) {
    a.forEach(b, void 0);
  } else {
    if (fa(a) || w(a)) {
      eb(a, b, void 0);
    } else {
      var c;
      if (a.Ta && "function" == typeof a.Ta) {
        c = a.Ta();
      } else {
        if (a.Fa && "function" == typeof a.Fa) {
          c = void 0;
        } else {
          if (fa(a) || w(a)) {
            c = [];
            for (var d = a.length, e = 0;e < d;e++) {
              c.push(e);
            }
          } else {
            c = Ib(a);
          }
        }
      }
      for (var d = pe(a), e = d.length, f = 0;f < e;f++) {
        b.call(void 0, d[f], c && c[f], a);
      }
    }
  }
}
;var re = "StopIteration" in q ? q.StopIteration : {message:"StopIteration", stack:""};
function se() {
}
se.prototype.next = function() {
  throw re;
};
se.prototype.Fc = function() {
  return this;
};
function te(a) {
  if (a instanceof se) {
    return a;
  }
  if ("function" == typeof a.Fc) {
    return a.Fc(!1);
  }
  if (fa(a)) {
    var b = 0, c = new se;
    c.next = function() {
      for (;;) {
        if (b >= a.length) {
          throw re;
        }
        if (b in a) {
          return a[b++];
        }
        b++;
      }
    };
    return c;
  }
  throw Error("Not implemented");
}
function ue(a, b) {
  if (fa(a)) {
    try {
      eb(a, b, void 0);
    } catch (c) {
      if (c !== re) {
        throw c;
      }
    }
  } else {
    a = te(a);
    try {
      for (;;) {
        b.call(void 0, a.next(), void 0, a);
      }
    } catch (c) {
      if (c !== re) {
        throw c;
      }
    }
  }
}
function ve(a) {
  if (fa(a)) {
    return rb(a);
  }
  a = te(a);
  var b = [];
  ue(a, function(a) {
    b.push(a);
  });
  return b;
}
;function we(a, b) {
  this.b = {};
  this.a = [];
  this.f = this.c = 0;
  var c = arguments.length;
  if (1 < c) {
    if (c % 2) {
      throw Error("Uneven number of arguments");
    }
    for (var d = 0;d < c;d += 2) {
      this.set(arguments[d], arguments[d + 1]);
    }
  } else {
    if (a) {
      a instanceof we ? (c = a.Ta(), d = a.Fa()) : (c = Ib(a), d = Hb(a));
      for (var e = 0;e < c.length;e++) {
        this.set(c[e], d[e]);
      }
    }
  }
}
h = we.prototype;
h.za = function() {
  return this.c;
};
h.Fa = function() {
  xe(this);
  for (var a = [], b = 0;b < this.a.length;b++) {
    a.push(this.b[this.a[b]]);
  }
  return a;
};
h.Ta = function() {
  xe(this);
  return this.a.concat();
};
h.Wb = function() {
  return 0 == this.c;
};
h.clear = function() {
  this.b = {};
  this.f = this.c = this.a.length = 0;
};
h.remove = function(a) {
  return ye(this.b, a) ? (delete this.b[a], this.c--, this.f++, this.a.length > 2 * this.c && xe(this), !0) : !1;
};
function xe(a) {
  if (a.c != a.a.length) {
    for (var b = 0, c = 0;b < a.a.length;) {
      var d = a.a[b];
      ye(a.b, d) && (a.a[c++] = d);
      b++;
    }
    a.a.length = c;
  }
  if (a.c != a.a.length) {
    for (var e = {}, c = b = 0;b < a.a.length;) {
      d = a.a[b], ye(e, d) || (a.a[c++] = d, e[d] = 1), b++;
    }
    a.a.length = c;
  }
}
h.get = function(a, b) {
  return ye(this.b, a) ? this.b[a] : b;
};
h.set = function(a, b) {
  ye(this.b, a) || (this.c++, this.a.push(a), this.f++);
  this.b[a] = b;
};
h.forEach = function(a, b) {
  for (var c = this.Ta(), d = 0;d < c.length;d++) {
    var e = c[d], f = this.get(e);
    a.call(b, f, e, this);
  }
};
h.clone = function() {
  return new we(this);
};
h.Fc = function(a) {
  xe(this);
  var b = 0, c = this.f, d = this, e = new se;
  e.next = function() {
    if (c != d.f) {
      throw Error("The map has changed since the iterator was created");
    }
    if (b >= d.a.length) {
      throw re;
    }
    var e = d.a[b++];
    return a ? e : d.b[e];
  };
  return e;
};
function ye(a, b) {
  return Object.prototype.hasOwnProperty.call(a, b);
}
;function ze(a) {
  this.a = new we;
  if (a) {
    a = pe(a);
    for (var b = a.length, c = 0;c < b;c++) {
      this.add(a[c]);
    }
  }
}
function Ae(a) {
  var b = typeof a;
  return "object" == b && a || "function" == b ? "o" + ja(a) : b.substr(0, 1) + a;
}
h = ze.prototype;
h.za = function() {
  return this.a.za();
};
h.add = function(a) {
  this.a.set(Ae(a), a);
};
h.removeAll = function(a) {
  a = pe(a);
  for (var b = a.length, c = 0;c < b;c++) {
    this.remove(a[c]);
  }
};
h.remove = function(a) {
  return this.a.remove(Ae(a));
};
h.clear = function() {
  this.a.clear();
};
h.Wb = function() {
  return this.a.Wb();
};
h.contains = function(a) {
  a = Ae(a);
  return ye(this.a.b, a);
};
h.Fa = function() {
  return this.a.Fa();
};
h.clone = function() {
  return new ze(this);
};
h.Fc = function() {
  return this.a.Fc(!1);
};
function Be(a) {
  var b;
  b = Error();
  if (Error.captureStackTrace) {
    Error.captureStackTrace(b, a || Be), b = String(b.stack);
  } else {
    try {
      throw b;
    } catch (c) {
      b = c;
    }
    b = (b = b.stack) ? String(b) : null;
  }
  b || (b = Ce(a || arguments.callee.caller, []));
  return b;
}
function Ce(a, b) {
  var c = [];
  if (mb(b, a)) {
    c.push("[...circular reference...]");
  } else {
    if (a && 50 > b.length) {
      c.push(De(a) + "(");
      for (var d = a.arguments, e = 0;d && e < d.length;e++) {
        0 < e && c.push(", ");
        var f;
        f = d[e];
        switch(typeof f) {
          case "object":
            f = f ? "object" : "null";
            break;
          case "string":
            break;
          case "number":
            f = String(f);
            break;
          case "boolean":
            f = f ? "true" : "false";
            break;
          case "function":
            f = (f = De(f)) ? f : "[fn]";
            break;
          default:
            f = typeof f;
        }
        40 < f.length && (f = f.substr(0, 40) + "...");
        c.push(f);
      }
      b.push(a);
      c.push(")\n");
      try {
        c.push(Ce(a.caller, b));
      } catch (g) {
        c.push("[exception trying to get caller]\n");
      }
    } else {
      a ? c.push("[...long stack...]") : c.push("[end]");
    }
  }
  return c.join("");
}
function De(a) {
  if (Ee[a]) {
    return Ee[a];
  }
  a = String(a);
  if (!Ee[a]) {
    var b = /function ([^\(]+)/.exec(a);
    Ee[a] = b ? b[1] : "[Anonymous]";
  }
  return Ee[a];
}
var Ee = {};
function Fe(a, b, c, d, e) {
  this.reset(a, b, c, d, e);
}
Fe.prototype.h = 0;
Fe.prototype.a = null;
var Ge = 0;
Fe.prototype.reset = function(a, b, c, d, e) {
  this.h = "number" == typeof e ? e : Ge++;
  this.f = d || y();
  this.c = a;
  this.l = b;
  this.b = c;
  delete this.a;
};
Fe.prototype.getMessage = function() {
  return this.l;
};
function He(a) {
  this.h = a;
  this.a = this.f = this.b = this.c = null;
}
function Ie(a, b) {
  this.name = a;
  this.value = b;
}
Ie.prototype.toString = function() {
  return this.name;
};
var Je = new Ie("SHOUT", 1200), Ke = new Ie("SEVERE", 1E3), Le = new Ie("WARNING", 900), Me = new Ie("INFO", 800), Ne = new Ie("CONFIG", 700), Oe = new Ie("FINE", 500), Pe = new Ie("FINER", 400), Qe = new Ie("FINEST", 300), Re = [new Ie("OFF", Infinity), Je, Ke, Le, Me, Ne, Oe, Pe, Qe, new Ie("ALL", 0)], Se = null;
h = He.prototype;
h.getName = function() {
  return this.h;
};
h.getChildren = function() {
  this.f || (this.f = {});
  return this.f;
};
function Te(a) {
  return a.b ? a.b : a.c ? Te(a.c) : null;
}
h.log = function(a, b, c) {
  if (a.value >= Te(this).value) {
    for (ia(b) && (b = b()), a = new Fe(a, String(b), this.h), c && (a.a = c), c = "log:" + a.getMessage(), q.console && (q.console.timeStamp ? q.console.timeStamp(c) : q.console.markTimeline && q.console.markTimeline(c)), q.msWriteProfilerMark && q.msWriteProfilerMark(c), c = this;c;) {
      b = c;
      var d = a;
      if (b.a) {
        for (var e = 0, f = void 0;f = b.a[e];e++) {
          f(d);
        }
      }
      c = c.c;
    }
  }
};
h.info = function(a, b) {
  this.log(Me, a, b);
};
h.config = function(a, b) {
  this.log(Ne, a, b);
};
function Ue(a, b) {
  a.log(Pe, b, void 0);
}
function Ve(a, b) {
  a.log(Qe, b, void 0);
}
var We = {}, Xe = null;
function Ye() {
  Xe || (Xe = new He(""), We[""] = Xe, Xe.b = Ne);
}
function Ze() {
  Ye();
  return Xe;
}
function J(a) {
  Ye();
  var b;
  if (!(b = We[a])) {
    b = new He(a);
    var c = a.lastIndexOf("."), d = a.substr(c + 1), c = J(a.substr(0, c));
    c.getChildren()[d] = b;
    b.c = c;
    We[a] = b;
  }
  return b;
}
;function $e(a, b, c) {
  a && a.log(b, c, void 0);
}
function af(a, b) {
  a && a.log(Ke, b, void 0);
}
function K(a, b, c) {
  a && a.log(Le, b, c);
}
function bf(a, b) {
  a && a.info(b, void 0);
}
function L(a, b) {
  a && a.log(Oe, b, void 0);
}
;function M(a, b) {
  a && a.log(Qe, b, void 0);
}
function N(a, b) {
  a && a.log(Pe, b, void 0);
}
;function O(a) {
  va.call(this, a);
  this.name = "ydn.error.ArgumentException";
}
A(O, va);
function cf(a) {
  va.call(this, a);
  this.name = "ydn.error.NotSupportedException";
}
A(cf, va);
function df(a) {
  va.call(this, a);
  this.name = "ydn.error.NotImplementedException";
}
A(df, va);
function ef(a) {
  va.call(this, a);
  this.name = "ydn.error.InvalidOperationException";
}
A(ef, va);
function ff(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, ff) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.InternalError";
}
A(ff, Error);
ff.prototype.name = "ydn.error.InternalError";
function gf(a, b) {
  B.call(this, a, b);
  this.J = [];
}
A(gf, B);
gf.prototype.c = function(a, b) {
  this.J.push([a, b]);
  return this;
};
function hf(a, b) {
  for (var c = 0;c < a.J.length;c++) {
    a.J[c][0].call(a.J[c][1], b);
  }
}
gf.prototype.callback = function(a) {
  this.J.length = 0;
  gf.j.callback.call(this, a);
};
gf.prototype.C = function(a) {
  this.J.length = 0;
  gf.j.C.call(this, a);
};
gf.prototype.b = function(a) {
  gf.j.b.call(this, a);
  a instanceof gf && a.c(function(a) {
    hf(this, a);
  }, this);
  return this;
};
function jf(a) {
  var b = new gf;
  b.C(a);
  return b;
}
;var kf = q.JSON.parse, lf = q.JSON.stringify;
function mf() {
}
function nf(a, b, c) {
  if (null == b) {
    c.push("null");
  } else {
    if ("object" == typeof b) {
      if (u(b)) {
        var d = b;
        b = d.length;
        c.push("[");
        for (var e = "", f = 0;f < b;f++) {
          c.push(e), nf(a, d[f], c), e = ",";
        }
        c.push("]");
        return;
      }
      if (b instanceof String || b instanceof Number || b instanceof Boolean) {
        b = b.valueOf();
      } else {
        c.push("{");
        e = "";
        for (d in b) {
          Object.prototype.hasOwnProperty.call(b, d) && (f = b[d], "function" != typeof f && (c.push(e), of(d, c), c.push(":"), nf(a, f, c), e = ","));
        }
        c.push("}");
        return;
      }
    }
    switch(typeof b) {
      case "string":
        of(b, c);
        break;
      case "number":
        c.push(isFinite(b) && !isNaN(b) ? String(b) : "null");
        break;
      case "boolean":
        c.push(String(b));
        break;
      case "function":
        c.push("null");
        break;
      default:
        throw Error("Unknown type: " + typeof b);;
    }
  }
}
var pf = {'"':'\\"', "\\":"\\\\", "/":"\\/", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t", "\x0B":"\\u000b"}, qf = /\uffff/.test("\uffff") ? /[\\\"\x00-\x1f\x7f-\uffff]/g : /[\\\"\x00-\x1f\x7f-\xff]/g;
function of(a, b) {
  b.push('"', a.replace(qf, function(a) {
    var b = pf[a];
    b || (b = "\\u" + (a.charCodeAt(0) | 65536).toString(16).substr(1), pf[a] = b);
    return b;
  }), '"');
}
;function Jd(a) {
  this.id = "i" + this.count();
  this.req = a;
  this.c = !0;
  this.a = this.b = null;
  this.f = new gf;
  this.h = NaN;
}
Jd.prototype.N = function() {
  return this.id;
};
var rf = 0;
h = Jd.prototype;
h.count = function() {
  rf++;
  return rf;
};
h.listen = function(a) {
  if (a && a.id == this.id) {
    this.b = a.data;
    var b = a.error;
    if (b) {
      if (b instanceof Error) {
        this.a = b;
      } else {
        if (x(b)) {
          this.a = Error(b.message), b.name && (this.a.name = b.name), this.a.source = b, this.a.result = this.b;
        } else {
          if (w(b)) {
            if (/^\s*$/.test(b) ? 0 : /^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g, "@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g, "]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g, ""))) {
              try {
                var c = JSON.parse(b);
                this.a = Error(c.message);
                for (var d in c) {
                  this.a[d] = c[d];
                }
              } catch (e) {
                this.a = Error(b);
              }
            } else {
              this.a = Error(b);
            }
          } else {
            this.a = Error(b);
          }
        }
      }
    }
    a.done ? (this.c = !1, this.a ? this.f.C(this.a) : this.f.callback(this.b), window.clearTimeout(this.h)) : hf(this.f, a.data);
    return !0;
  }
  return !1;
};
h.toString = function() {
  return "Message:" + this.id + (this.c ? "*" : "");
};
h.getData = function() {
  return this.b;
};
h.getError = function() {
  return this.a;
};
h.toJSON = function() {
  var a = this;
  this.h = window.setTimeout(function() {
    if (a.c) {
      var b = Error("message timeout");
      b.name = "TimeOutError";
      a.listen({id:a.id, req:a.req, error:b});
    }
  }, 3E5);
  return {id:this.id, req:this.req, group:this.l, name:this.o, data:this.b};
};
function sf(a) {
  H.call(this);
  var b = w(a) ? null : a;
  this.name = w(a) ? a : a.name;
  this.a = [];
  this.l = b;
  this.b = null;
  this.f = {};
}
A(sf, H);
sf.prototype.I = function() {
  if (this.b) {
    var a = this;
    this.b.disconnect(function() {
      a.b = null;
      a.a.length = 0;
    });
  } else {
    this.a.length = 0;
  }
};
sf.prototype.h = function(a) {
  if (a) {
    if (a.id) {
      for (var b = this.a.length - 1;0 <= b;b--) {
        if (this.a[b].N() == a.id) {
          if (this.a[b].listen(a)) {
            this.a[b].c ? 25 < b && (a = this.a.splice(b, 1), this.a.unshift(a[0])) : this.a.splice(b, 1);
            break;
          }
          break;
        }
      }
    } else {
      "info" == a.req ? (a.data = this.l, this.b.postMessage(a)) : "html-body-inner" == a.req ? (window.console.log("html", a), a.req = "", a.done = !0, a.data = document && document.body ? document.body.innerHTML : "", this.b.postMessage(a)) : I(this, new Ld(a));
    }
  }
};
sf.prototype.c = function(a, b) {
  var c = a || tf, d = c + (b ? "-" + b : "");
  this.f[d] || (this.f[d] = new Id(this, c, b || ""));
  return this.f[d];
};
function uf() {
  var a = vf(), b;
  for (b in a.f) {
    if ("sugarcrm" == b.split("-")[0]) {
      return a.f[b];
    }
  }
  return null;
}
function Kd(a) {
  if (!a.b) {
    a.b = chrome.runtime.connect({name:a.name});
    var b = pa(a.h, a);
    a.b.onMessage.addListener(b);
    a.b.onDisconnect.addListener(function() {
      a.b.onMessage.removeListener(b);
      a.b = null;
      a.a.length = 0;
    });
  }
  return a.b;
}
var wf = null;
function vf() {
  if (!wf) {
    var a = tf + "-" + y();
    wf = new sf(a);
  }
  return wf;
}
function xf(a) {
  var b = a;
  w(a) && (b = {group:a, name:a + "-" + y()});
  return wf = new sf(b);
}
var tf = "default", yf = "dev content-script hostper popup options setup".split(" ");
function Q(a, b) {
  return vf().c(a, b);
}
;function zf(a) {
  Gc.call(this);
  this.b = a;
  this.a = {};
}
A(zf, Gc);
var Af = [];
h = zf.prototype;
h.listen = function(a, b, c, d) {
  u(b) || (b && (Af[0] = b.toString()), b = Af);
  for (var e = 0;e < b.length;e++) {
    var f = ud(a, b[e], c || this.handleEvent, d || !1, this.b || this);
    if (!f) {
      break;
    }
    this.a[f.key] = f;
  }
  return this;
};
function Bf(a, b, c, d, e, f) {
  if (u(c)) {
    for (var g = 0;g < c.length;g++) {
      Bf(a, b, c[g], d, e, f);
    }
  } else {
    (b = Bd(b, c, d || a.handleEvent, e, f || a.b || a)) && (a.a[b.key] = b);
  }
}
h.ca = function(a, b, c, d, e) {
  if (u(b)) {
    for (var f = 0;f < b.length;f++) {
      this.ca(a, b[f], c, d, e);
    }
  } else {
    c = c || this.handleEvent, e = e || this.b || this, c = vd(c), d = !!d, b = jd(a) ? qd(a.lc, String(b), c, d, e) : a ? (a = xd(a)) ? qd(a, b, c, d, e) : null : null, b && (Dd(b), delete this.a[b.key]);
  }
  return this;
};
h.removeAll = function() {
  Gb(this.a, function(a, b) {
    this.a.hasOwnProperty(b) && Dd(a);
  }, this);
  this.a = {};
};
h.I = function() {
  zf.j.I.call(this);
  this.removeAll();
};
h.handleEvent = function() {
  throw Error("EventHandler.handleEvent not implemented");
};
function Cf(a, b) {
  H.call(this);
  this.b = a || 1;
  this.a = b || q;
  this.c = pa(this.Co, this);
  this.f = y();
}
A(Cf, H);
h = Cf.prototype;
h.pe = !1;
h.na = null;
h.setInterval = function(a) {
  this.b = a;
  this.na && this.pe ? (this.stop(), this.start()) : this.na && this.stop();
};
h.Co = function() {
  if (this.pe) {
    var a = y() - this.f;
    0 < a && a < .8 * this.b ? this.na = this.a.setTimeout(this.c, this.b - a) : (this.na && (this.a.clearTimeout(this.na), this.na = null), I(this, "tick"), this.pe && (this.na = this.a.setTimeout(this.c, this.b), this.f = y()));
  }
};
h.start = function() {
  this.pe = !0;
  this.na || (this.na = this.a.setTimeout(this.c, this.b), this.f = y());
};
h.stop = function() {
  this.pe = !1;
  this.na && (this.a.clearTimeout(this.na), this.na = null);
};
h.I = function() {
  Cf.j.I.call(this);
  this.stop();
  delete this.a;
};
function Df(a, b, c) {
  if (ia(a)) {
    c && (a = pa(a, c));
  } else {
    if (a && "function" == typeof a.handleEvent) {
      a = pa(a.handleEvent, a);
    } else {
      throw Error("Invalid listener argument");
    }
  }
  return 2147483647 < b ? -1 : q.setTimeout(a, b || 0);
}
;function Ef() {
}
Ef.prototype.a = null;
function Ff(a) {
  var b;
  (b = a.a) || (b = {}, Gf(a) && (b[0] = !0, b[1] = !0), b = a.a = b);
  return b;
}
;var Hf;
function If() {
}
A(If, Ef);
function Jf(a) {
  return (a = Gf(a)) ? new ActiveXObject(a) : new XMLHttpRequest;
}
function Gf(a) {
  if (!a.b && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {
    for (var b = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], c = 0;c < b.length;c++) {
      var d = b[c];
      try {
        return new ActiveXObject(d), a.b = d;
      } catch (e) {
      }
    }
    throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
  }
  return a.b;
}
Hf = new If;
var Kf = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
function Lf(a, b) {
  if (a) {
    for (var c = a.split("&"), d = 0;d < c.length;d++) {
      var e = c[d].indexOf("="), f = null, g = null;
      0 <= e ? (f = c[d].substring(0, e), g = c[d].substring(e + 1)) : f = c[d];
      b(f, g ? decodeURIComponent(g.replace(/\+/g, " ")) : "");
    }
  }
}
;function Mf(a) {
  H.call(this);
  this.headers = new we;
  this.ea = a || null;
  this.b = !1;
  this.$ = this.ha = null;
  this.Ba = this.s = "";
  this.l = 0;
  this.o = "";
  this.f = this.oa = this.F = this.ka = !1;
  this.h = 0;
  this.V = null;
  this.c = Nf;
  this.W = this.D = !1;
}
A(Mf, H);
var Nf = "";
Mf.prototype.a = J("goog.net.XhrIo");
var Of = /^https?$/i, Pf = ["POST", "PUT"];
h = Mf.prototype;
h.hj = function() {
  return this.c;
};
h.jj = function() {
  return this.D;
};
h.send = function(a, b, c, d) {
  if (this.ha) {
    throw Error("[goog.net.XhrIo] Object is active with another request=" + this.s + "; newUri=" + a);
  }
  b = b ? b.toUpperCase() : "GET";
  this.s = a;
  this.o = "";
  this.l = 0;
  this.Ba = b;
  this.ka = !1;
  this.b = !0;
  this.ha = this.ea ? Jf(this.ea) : Jf(Hf);
  this.$ = this.ea ? Ff(this.ea) : Ff(Hf);
  this.ha.onreadystatechange = pa(this.ck, this);
  try {
    L(this.a, Qf(this, "Opening Xhr")), this.oa = !0, this.ha.open(b, String(a), !0), this.oa = !1;
  } catch (f) {
    L(this.a, Qf(this, "Error opening Xhr: " + f.message));
    Rf(this, f);
    return;
  }
  a = c || "";
  var e = this.headers.clone();
  d && qe(d, function(a, b) {
    e.set(b, a);
  });
  d = kb(e.Ta(), Sf);
  c = q.FormData && a instanceof q.FormData;
  !mb(Pf, b) || d || c || e.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");
  e.forEach(function(a, b) {
    this.ha.setRequestHeader(b, a);
  }, this);
  this.c && (this.ha.responseType = this.c);
  Kb(this.ha) && (this.ha.withCredentials = this.D);
  try {
    Tf(this), 0 < this.h && (this.W = Uf(this.ha), L(this.a, Qf(this, "Will abort after " + this.h + "ms if incomplete, xhr2 " + this.W)), this.W ? (this.ha.timeout = this.h, this.ha.ontimeout = pa(this.vk, this)) : this.V = Df(this.vk, this.h, this)), L(this.a, Qf(this, "Sending request")), this.F = !0, this.ha.send(a), this.F = !1;
  } catch (f) {
    L(this.a, Qf(this, "Send error: " + f.message)), Rf(this, f);
  }
};
function Uf(a) {
  return E && Yc(9) && ha(a.timeout) && t(a.ontimeout);
}
function Sf(a) {
  return "content-type" == a.toLowerCase();
}
h.vk = function() {
  "undefined" != typeof aa && this.ha && (this.o = "Timed out after " + this.h + "ms, aborting", this.l = 8, L(this.a, Qf(this, this.o)), I(this, "timeout"), this.abort(8));
};
function Rf(a, b) {
  a.b = !1;
  a.ha && (a.f = !0, a.ha.abort(), a.f = !1);
  a.o = b;
  a.l = 5;
  Vf(a);
  Wf(a);
}
function Vf(a) {
  a.ka || (a.ka = !0, I(a, "complete"), I(a, "error"));
}
h.abort = function(a) {
  this.ha && this.b && (L(this.a, Qf(this, "Aborting")), this.b = !1, this.f = !0, this.ha.abort(), this.f = !1, this.l = a || 7, I(this, "complete"), I(this, "abort"), Wf(this));
};
h.I = function() {
  this.ha && (this.b && (this.b = !1, this.f = !0, this.ha.abort(), this.f = !1), Wf(this, !0));
  Mf.j.I.call(this);
};
h.ck = function() {
  this.J || (this.oa || this.F || this.f ? Xf(this) : this.An());
};
h.An = function() {
  Xf(this);
};
function Xf(a) {
  if (a.b && "undefined" != typeof aa) {
    if (a.$[1] && 4 == Yf(a) && 2 == a.P()) {
      L(a.a, Qf(a, "Local request error detected and ignored"));
    } else {
      if (a.F && 4 == Yf(a)) {
        Df(a.ck, 0, a);
      } else {
        if (I(a, "readystatechange"), 4 == Yf(a)) {
          L(a.a, Qf(a, "Request complete"));
          a.b = !1;
          try {
            Zf(a) ? (I(a, "complete"), I(a, "success")) : (a.l = 6, a.o = a.fb() + " [" + a.P() + "]", Vf(a));
          } finally {
            Wf(a);
          }
        }
      }
    }
  }
}
function Wf(a, b) {
  if (a.ha) {
    Tf(a);
    var c = a.ha, d = a.$[0] ? ca : null;
    a.ha = null;
    a.$ = null;
    b || I(a, "ready");
    try {
      c.onreadystatechange = d;
    } catch (e) {
      af(a.a, "Problem encountered resetting onreadystatechange: " + e.message);
    }
  }
}
function Tf(a) {
  a.ha && a.W && (a.ha.ontimeout = null);
  ha(a.V) && (q.clearTimeout(a.V), a.V = null);
}
function Zf(a) {
  var b = a.P(), c;
  a: {
    switch(b) {
      case 200:
      ;
      case 201:
      ;
      case 202:
      ;
      case 204:
      ;
      case 206:
      ;
      case 304:
      ;
      case 1223:
        c = !0;
        break a;
      default:
        c = !1;
    }
  }
  if (!c) {
    if (b = 0 === b) {
      a = String(a.s).match(Kf)[1] || null, !a && q.self && q.self.location && (a = q.self.location.protocol, a = a.substr(0, a.length - 1)), b = !Of.test(a ? a.toLowerCase() : "");
    }
    c = b;
  }
  return c;
}
function Yf(a) {
  return a.ha ? a.ha.readyState : 0;
}
h.P = function() {
  try {
    return 2 < Yf(this) ? this.ha.status : -1;
  } catch (a) {
    return -1;
  }
};
h.fb = function() {
  try {
    return 2 < Yf(this) ? this.ha.statusText : "";
  } catch (a) {
    return L(this.a, "Can not get status: " + a.message), "";
  }
};
function $f(a) {
  try {
    if (!a.ha) {
      return null;
    }
    if ("response" in a.ha) {
      return a.ha.response;
    }
    switch(a.c) {
      case Nf:
      ;
      case "text":
        return a.ha.responseText;
      case "arraybuffer":
        if ("mozResponseArrayBuffer" in a.ha) {
          return a.ha.mozResponseArrayBuffer;
        }
      ;
    }
    af(a.a, "Response type " + a.c + " is not supported on this browser");
    return null;
  } catch (b) {
    return L(a.a, "Can not get response: " + b.message), null;
  }
}
function Qf(a, b) {
  return b + " [" + a.Ba + " " + a.s + " " + a.P() + "]";
}
;function ag() {
  this.a = [];
  this.b = [];
}
function bg(a) {
  0 == a.a.length && (a.a = a.b, a.a.reverse(), a.b = []);
  return a.a.pop();
}
h = ag.prototype;
h.za = function() {
  return this.a.length + this.b.length;
};
h.Wb = function() {
  return 0 == this.a.length && 0 == this.b.length;
};
h.clear = function() {
  this.a = [];
  this.b = [];
};
h.contains = function(a) {
  return mb(this.a, a) || mb(this.b, a);
};
h.remove = function(a) {
  var b = db(this.a, a);
  if (0 > b) {
    return ob(this.b, a);
  }
  pb(this.a, b);
  return !0;
};
h.Fa = function() {
  for (var a = [], b = this.a.length - 1;0 <= b;--b) {
    a.push(this.a[b]);
  }
  for (var c = this.b.length, b = 0;b < c;++b) {
    a.push(this.b[b]);
  }
  return a;
};
function cg(a, b) {
  Gc.call(this);
  this.l = a || 0;
  this.c = b || 10;
  if (this.l > this.c) {
    throw Error(dg);
  }
  this.a = new ag;
  this.b = new ze;
  this.h = null;
  this.Me();
}
A(cg, Gc);
var dg = "[goog.structs.Pool] Min can not be greater than max";
h = cg.prototype;
h.rf = function() {
  var a = y();
  if (!(null != this.h && 0 > a - this.h)) {
    for (var b;0 < this.a.za() && (b = bg(this.a), !this.Uh(b));) {
      this.Me();
    }
    !b && this.za() < this.c && (b = this.fh());
    b && (this.h = a, this.b.add(b));
    return b;
  }
};
h.he = function(a) {
  this.b.remove(a);
  this.Uh(a) && this.za() < this.c ? this.a.b.push(a) : eg(a);
};
h.Me = function() {
  for (var a = this.a;this.za() < this.l;) {
    var b = this.fh();
    a.b.push(b);
  }
  for (;this.za() > this.c && 0 < this.a.za();) {
    eg(bg(a));
  }
};
h.fh = function() {
  return {};
};
function eg(a) {
  if ("function" == typeof a.O) {
    a.O();
  } else {
    for (var b in a) {
      a[b] = null;
    }
  }
}
h.Uh = function(a) {
  return "function" == typeof a.fl ? a.fl() : !0;
};
h.contains = function(a) {
  return this.a.contains(a) || this.b.contains(a);
};
h.za = function() {
  return this.a.za() + this.b.za();
};
h.Wb = function() {
  return this.a.Wb() && this.b.Wb();
};
h.I = function() {
  cg.j.I.call(this);
  if (0 < this.b.za()) {
    throw Error("[goog.structs.Pool] Objects not released");
  }
  delete this.b;
  for (var a = this.a;!a.Wb();) {
    eg(bg(a));
  }
  delete this.a;
};
function fg(a, b) {
  this.a = a;
  this.b = b;
}
fg.prototype.Y = function() {
  return this.b;
};
fg.prototype.clone = function() {
  return new fg(this.a, this.b);
};
function gg(a) {
  this.a = [];
  if (a) {
    a: {
      var b, c;
      if (a instanceof gg) {
        if (b = a.Ta(), c = a.Fa(), 0 >= a.za()) {
          a = this.a;
          for (var d = 0;d < b.length;d++) {
            a.push(new fg(b[d], c[d]));
          }
          break a;
        }
      } else {
        b = Ib(a), c = Hb(a);
      }
      for (d = 0;d < b.length;d++) {
        hg(this, b[d], c[d]);
      }
    }
  }
}
function hg(a, b, c) {
  var d = a.a;
  d.push(new fg(b, c));
  b = d.length - 1;
  a = a.a;
  for (c = a[b];0 < b;) {
    if (d = b - 1 >> 1, a[d].a > c.a) {
      a[b] = a[d], b = d;
    } else {
      break;
    }
  }
  a[b] = c;
}
h = gg.prototype;
h.remove = function() {
  var a = this.a, b = a.length, c = a[0];
  if (!(0 >= b)) {
    if (1 == b) {
      nb(a);
    } else {
      a[0] = a.pop();
      for (var a = 0, b = this.a, d = b.length, e = b[a];a < d >> 1;) {
        var f = 2 * a + 1, g = 2 * a + 2, f = g < d && b[g].a < b[f].a ? g : f;
        if (b[f].a > e.a) {
          break;
        }
        b[a] = b[f];
        a = f;
      }
      b[a] = e;
    }
    return c.Y();
  }
};
h.Fa = function() {
  for (var a = this.a, b = [], c = a.length, d = 0;d < c;d++) {
    b.push(a[d].Y());
  }
  return b;
};
h.Ta = function() {
  for (var a = this.a, b = [], c = a.length, d = 0;d < c;d++) {
    b.push(a[d].a);
  }
  return b;
};
h.clone = function() {
  return new gg(this);
};
h.za = function() {
  return this.a.length;
};
h.Wb = function() {
  return 0 == this.a.length;
};
h.clear = function() {
  nb(this.a);
};
function ig() {
  gg.call(this);
}
A(ig, gg);
function jg(a, b) {
  this.f = new ig;
  cg.call(this, a, b);
}
A(jg, cg);
h = jg.prototype;
h.rf = function(a, b) {
  if (!a) {
    return jg.j.rf.call(this);
  }
  hg(this.f, t(b) ? b : 100, a);
  this.uh();
};
h.uh = function() {
  for (var a = this.f;0 < a.za();) {
    var b = this.rf();
    if (b) {
      a.remove().apply(this, [b]);
    } else {
      break;
    }
  }
};
h.he = function(a) {
  jg.j.he.call(this, a);
  this.uh();
};
h.Me = function() {
  jg.j.Me.call(this);
  this.uh();
};
h.I = function() {
  jg.j.I.call(this);
  q.clearTimeout(void 0);
  this.f.clear();
  this.f = null;
};
function kg(a, b, c, d) {
  this.o = a;
  this.s = !!d;
  jg.call(this, b, c);
}
A(kg, jg);
kg.prototype.fh = function() {
  var a = new Mf, b = this.o;
  b && b.forEach(function(b, d) {
    a.headers.set(d, b);
  });
  this.s && (a.D = !0);
  return a;
};
kg.prototype.Uh = function(a) {
  return !a.J && !a.ha;
};
function lg(a, b, c, d, e, f) {
  H.call(this);
  this.f = t(a) ? a : 1;
  this.h = t(e) ? Math.max(0, e) : 0;
  this.b = new kg(b, c, d, f);
  this.a = new we;
  this.c = new zf(this);
}
A(lg, H);
var mg = "ready complete success error abort timeout".split(" ");
h = lg.prototype;
h.send = function(a, b, c, d, e, f, g, k, l, m) {
  if (this.a.get(a)) {
    throw Error("[goog.net.XhrManager] ID in use");
  }
  b = new ng(b, pa(this.Il, this, a), c, d, e, g, t(k) ? k : this.f, l, m);
  this.a.set(a, b);
  a = pa(this.Dl, this, a);
  this.b.rf(a, f);
  return b;
};
h.abort = function(a, b) {
  var c = this.a.get(a);
  if (c) {
    var d = c.ag;
    c.Hi = !0;
    b && (d && (this.c.ca(d, mg, c.li), Bd(d, "ready", function() {
      var a = this.b;
      a.b.remove(d) && a.he(d);
    }, !1, this)), this.a.remove(a));
    d && d.abort();
  }
};
h.Dl = function(a, b) {
  var c = this.a.get(a);
  c && !c.ag ? (this.c.listen(b, mg, c.li), b.h = Math.max(0, this.h), b.c = c.hj(), b.D = c.jj(), c.ag = b, I(this, new og("ready", this, a, b)), pg(this, a, b), c.Hi && b.abort()) : (c = this.b, c.b.remove(b) && c.he(b));
};
h.Il = function(a, b) {
  var c = b.target;
  switch(b.type) {
    case "ready":
      pg(this, a, c);
      break;
    case "complete":
      a: {
        var d = this.a.get(a);
        if (7 == c.l || Zf(c) || d.Pe > d.eh) {
          if (I(this, new og("complete", this, a, c)), d && (d.Wi = !0, d.Vi)) {
            c = d.Vi.call(c, b);
            break a;
          }
        }
        c = null;
      }
      return c;
    case "success":
      I(this, new og("success", this, a, c));
      break;
    case "timeout":
    ;
    case "error":
      d = this.a.get(a);
      d.Pe > d.eh && I(this, new og("error", this, a, c));
      break;
    case "abort":
      I(this, new og("abort", this, a, c));
  }
  return null;
};
function pg(a, b, c) {
  var d = a.a.get(b);
  !d || d.Wi || d.Pe > d.eh ? (d && (a.c.ca(c, mg, d.li), a.a.remove(b)), a = a.b, a.b.remove(c) && a.he(c)) : (d.Pe++, c.send(d.Do, d.lf(), d.va(), d.Ld()));
}
h.I = function() {
  lg.j.I.call(this);
  this.b.O();
  this.b = null;
  this.c.O();
  this.c = null;
  this.a.clear();
  this.a = null;
};
function og(a, b, c, d) {
  G.call(this, a, b);
  this.id = c;
  this.ag = d;
}
A(og, G);
function ng(a, b, c, d, e, f, g, k, l) {
  this.Do = a;
  this.c = c || "GET";
  this.a = d;
  this.b = e || null;
  this.eh = t(g) ? g : 1;
  this.Pe = 0;
  this.Hi = this.Wi = !1;
  this.li = b;
  this.Vi = f;
  this.f = k || Nf;
  this.h = !!l;
  this.ag = null;
}
h = ng.prototype;
h.lf = function() {
  return this.c;
};
h.va = function() {
  return this.a;
};
h.Ld = function() {
  return this.b;
};
h.jj = function() {
  return this.h;
};
h.hj = function() {
  return this.f;
};
function qg(a, b, c, d) {
  this.l = a;
  this.h = c;
  this.user_id = d || "";
  this.o = b;
  this.b = [];
  this.a = 12E4;
  this.c = 0;
  this.c = setTimeout(this.f.bind(this), 15E3);
}
qg.prototype.O = function() {
  this.c && clearTimeout(this.c);
  this.b = this.l = null;
};
qg.prototype.f = function() {
  if (this.b.length && this.h) {
    var a = this.b.splice(0, 100);
    this.request(a, function(a) {
      this.a = 200 == a ? 12E4 : this.a * this.a;
      this.a = Math.min(Math.max(this.a, 12E4), 9E5);
      clearTimeout(this.c);
      this.c = setTimeout(this.f.bind(this), this.a);
    }, this);
  } else {
    this.a += this.a, this.a = Math.min(Math.max(this.a, 12E4), 9E5);
  }
  this.c = setTimeout(this.f.bind(this), this.a);
};
qg.prototype.request = function(a, b, c) {
  for (var d = 0;d < a.length;d++) {
    rg(this, a[d]);
  }
  d = "id" + Math.random();
  a = "event=" + JSON.stringify(a);
  this.l.send(d, "https://api.amplitude.com/httpapi?api_key=6e8ee5d93a6c4ca9108476edda3dc157", "POST", a, {"content-type":"text/plain"}, 1E3, function(a) {
    b.call(c, a.target.P());
  });
};
function sg(a) {
  if (x(a)) {
    for (var b in a) {
      x(a[b]) ? a[b] = "" : w(a[b]) && (a[b] = a[b].replace(/&/g, " "), 1E3 < a[b].length && (a[b] = a[b].substr(0, 1E3)));
    }
    return a;
  }
  return {detail:String(a)};
}
function rg(a, b) {
  b.device_id = a.h;
  a.user_id && (b.user_id = a.user_id);
  b.event_properties && (b.event_properties = sg(b.event_properties));
  b.user_properties && (b.user_properties = sg(b.user_properties));
}
function tg(a, b) {
  var c = ug, d = {};
  d.event_type = a;
  d.time = y();
  d.app_version = c.o;
  x(b) && (d.event_properties = b);
  c.b.push(d);
  20 < c.b.length && (40 < c.b.length && c.b.splice(0, c.b.length - 20), c.f());
}
;var vg, wg = !1, xg = "", yg = "";
function zg() {
  return Jb(window, "YathitCrm", "Version", "release") || "0";
}
var Ag = null;
function Bg(a) {
  if (Ag) {
    return Bc(Ag);
  }
  Ag = new B;
  a ? Cg(a, function() {
    a.get(Dg, "install-id").G(function(b) {
      b && w(b.id) ? yg = b.id : (yg = Eg(), a.put(Dg, {id:yg}, "install-id"));
      Ag.callback(yg);
    }, this);
  }) : (yg = Eg(), Ag.callback(yg));
  return Ag;
}
function Eg() {
  var a = (new Date).getTime();
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(b) {
    var c = (a + 16 * Math.random()) % 16 | 0;
    a = Math.floor(a / 16);
    return ("x" == b ? c : c & 3 | 8).toString(16);
  });
}
;var Fg, Gg = ["release", "beta", "alpha"];
function Hg() {
  if (!Fg) {
    var a = chrome.runtime.getManifest();
    Fg = "Email Tracker" == a.short_name ? "Email Tracker" : "Email Tracker for Gmail" == a.short_name ? "Email Tracker for Gmail" : "Yathit SugarCRM for Gmail" == a.short_name || "Yathit InboxCRM" == a.short_name || "SugarCRM" == a.short_name ? "Yathit SugarCRM for Gmail" : "";
  }
  return Fg;
}
var Ig = ["ws-us-go", "ws-us-contact-save", "ws-us-gdata-cal", "ws-us-su"];
function Jg() {
  this.a = y();
}
var Kg = new Jg;
Jg.prototype.set = function(a) {
  this.a = a;
};
Jg.prototype.reset = function() {
  this.set(y());
};
Jg.prototype.get = function() {
  return this.a;
};
function Lg(a) {
  this.l = a || "";
  this.o = Kg;
}
Lg.prototype.c = !0;
Lg.prototype.a = !0;
Lg.prototype.b = !1;
function Mg(a) {
  a = new Date(a.f);
  return Ng(a.getFullYear() - 2E3) + Ng(a.getMonth() + 1) + Ng(a.getDate()) + " " + Ng(a.getHours()) + ":" + Ng(a.getMinutes()) + ":" + Ng(a.getSeconds()) + "." + Ng(Math.floor(a.getMilliseconds() / 10));
}
function Ng(a) {
  return 10 > a ? "0" + a : String(a);
}
function Og(a, b) {
  var c = (a.f - b) / 1E3, d = c.toFixed(3), e = 0;
  if (1 > c) {
    e = 2;
  } else {
    for (;100 > c;) {
      e++, c *= 10;
    }
  }
  for (;0 < e--;) {
    d = " " + d;
  }
  return d;
}
function Pg(a) {
  Lg.call(this, a);
}
A(Pg, Lg);
Pg.prototype.b = !0;
Pg.prototype.f = function(a) {
  return a ? this.h(a).Ub() : "";
};
Pg.prototype.h = function(a) {
  if (!a) {
    return oe;
  }
  var b;
  switch(a.c.value) {
    case Je.value:
      b = "dbg-sh";
      break;
    case Ke.value:
      b = "dbg-sev";
      break;
    case Le.value:
      b = "dbg-w";
      break;
    case Me.value:
      b = "dbg-i";
      break;
    default:
      b = "dbg-f";
  }
  var c = [];
  c.push(this.l, " ");
  this.a && c.push("[", Mg(a), "] ");
  c.push("[", Og(a, this.o.get()), "s] ");
  c.push("[", a.b, "] ");
  var c = ie(c.join("")), d = oe;
  if (this.b && a.a) {
    var d = me("br"), e;
    try {
      var f;
      var g = a.a, k = ba("window.location.href");
      if (w(g)) {
        f = {message:g, name:"Unknown error", lineNumber:"Not available", fileName:k, stack:"Not available"};
      } else {
        var l, m, n = !1;
        try {
          l = g.lineNumber || g.Jq || "Not available";
        } catch (P) {
          l = "Not available", n = !0;
        }
        try {
          m = g.fileName || g.filename || g.sourceURL || q.$googDebugFname || k;
        } catch (P) {
          m = "Not available", n = !0;
        }
        f = !n && g.lineNumber && g.fileName && g.stack && g.message && g.name ? g : {message:g.message || "Not available", name:g.name || "UnknownError", lineNumber:l, fileName:m, stack:g.stack || "Not available"};
      }
      var p;
      var r = f.fileName;
      null != r || (r = "");
      if (/^https?:\/\//i.test(r)) {
        var v = $d(r);
        Qd("view-source scheme plus HTTP/HTTPS URL");
        var z = "view-source:" + Yd(v);
        p = ae(z);
      } else {
        var F = Qd("sanitizedviewsrc");
        p = ae(Pd(F));
      }
      e = ne(ie("Message: " + f.message + "\nUrl: "), me("a", {href:p, target:"_new"}, f.fileName), ie("\nLine: " + f.lineNumber + "\n\nBrowser stack:\n" + f.stack + "-> [end]\n\nJS stack traversal:\n" + Be(void 0) + "-> "));
    } catch (P) {
      e = ie("Exception trying to expose exception! You win, we lose. " + P);
    }
    d = ne(d, e);
  }
  a = ie(a.getMessage());
  b = me("span", {"class":b}, ne(a, d));
  return this.c ? ne(c, b, me("br")) : ne(c, b);
};
function Qg(a) {
  Lg.call(this, a);
}
A(Qg, Lg);
Qg.prototype.f = function(a) {
  var b = [];
  b.push(this.l, " ");
  this.a && b.push("[", Mg(a), "] ");
  b.push("[", Og(a, this.o.get()), "s] ");
  b.push("[", a.b, "] ");
  b.push(a.getMessage());
  this.b && (a = a.a) && b.push("\n", a instanceof Error ? a.message : a.toString());
  this.c && b.push("\n");
  return b.join("");
};
Qg.prototype.h = function(a) {
  return ie(Qg.prototype.f(a));
};
function Tg() {
  this.f = pa(this.l, this);
  this.a = new Qg;
  this.a.a = !1;
  this.a.b = !1;
  this.b = this.a.c = !1;
  this.c = "";
  this.h = {};
}
function Ug(a) {
  var b = Vg;
  if (a != b.b) {
    var c = Ze();
    if (a) {
      var d = b.f;
      c.a || (c.a = []);
      c.a.push(d);
    } else {
      (c = c.a) && ob(c, b.f);
    }
    b.b = a;
  }
}
Tg.prototype.l = function(a) {
  if (!this.h[a.b]) {
    var b = this.a.f(a), c = Wg;
    if (c) {
      switch(a.c) {
        case Je:
          Xg(c, "info", b);
          break;
        case Ke:
          Xg(c, "error", b);
          break;
        case Le:
          Xg(c, "warn", b);
          break;
        default:
          Xg(c, "debug", b);
      }
    } else {
      this.c += b;
    }
  }
};
var Wg = q.console;
function Xg(a, b, c) {
  if (a[b]) {
    a[b](c);
  } else {
    a.log(c);
  }
}
;var Yg = !E || 9 <= $c, Zg = !Pc && !E || E && 9 <= $c || Pc && Yc("1.9.1"), $g = E && !Yc("9");
function ah(a, b) {
  this.x = t(a) ? a : 0;
  this.y = t(b) ? b : 0;
}
ah.prototype.clone = function() {
  return new ah(this.x, this.y);
};
function bh(a, b) {
  return new ah(a.x - b.x, a.y - b.y);
}
ah.prototype.ceil = function() {
  this.x = Math.ceil(this.x);
  this.y = Math.ceil(this.y);
  return this;
};
ah.prototype.floor = function() {
  this.x = Math.floor(this.x);
  this.y = Math.floor(this.y);
  return this;
};
ah.prototype.round = function() {
  this.x = Math.round(this.x);
  this.y = Math.round(this.y);
  return this;
};
function ch(a, b) {
  this.width = a;
  this.height = b;
}
h = ch.prototype;
h.clone = function() {
  return new ch(this.width, this.height);
};
h.bl = function() {
  return this.width * this.height;
};
h.Wb = function() {
  return !this.bl();
};
h.ceil = function() {
  this.width = Math.ceil(this.width);
  this.height = Math.ceil(this.height);
  return this;
};
h.floor = function() {
  this.width = Math.floor(this.width);
  this.height = Math.floor(this.height);
  return this;
};
h.round = function() {
  this.width = Math.round(this.width);
  this.height = Math.round(this.height);
  return this;
};
function dh(a) {
  return a ? new eh(fh(a)) : wa || (wa = new eh);
}
function gh(a, b) {
  return w(b) ? a.getElementById(b) : b;
}
function hh(a, b) {
  var c = b || document, d = null;
  c.getElementsByClassName ? d = c.getElementsByClassName(a)[0] : c.querySelectorAll && c.querySelector ? d = c.querySelector("." + a) : d = ih(document, "*", a, b)[0];
  return d || null;
}
function ih(a, b, c, d) {
  a = d || a;
  b = b && "*" != b ? b.toUpperCase() : "";
  if (a.querySelectorAll && a.querySelector && (b || c)) {
    return a.querySelectorAll(b + (c ? "." + c : ""));
  }
  if (c && a.getElementsByClassName) {
    a = a.getElementsByClassName(c);
    if (b) {
      d = {};
      for (var e = 0, f = 0, g;g = a[f];f++) {
        b == g.nodeName && (d[e++] = g);
      }
      d.length = e;
      return d;
    }
    return a;
  }
  a = a.getElementsByTagName(b || "*");
  if (c) {
    d = {};
    for (f = e = 0;g = a[f];f++) {
      b = g.className, "function" == typeof b.split && mb(b.split(/\s+/), c) && (d[e++] = g);
    }
    d.length = e;
    return d;
  }
  return a;
}
function jh(a, b) {
  Gb(b, function(b, d) {
    "style" == d ? a.style.cssText = b : "class" == d ? a.className = b : "for" == d ? a.htmlFor = b : kh.hasOwnProperty(d) ? a.setAttribute(kh[d], b) : xa(d, "aria-") || xa(d, "data-") ? a.setAttribute(d, b) : a[d] = b;
  });
}
var kh = {cellpadding:"cellPadding", cellspacing:"cellSpacing", colspan:"colSpan", frameborder:"frameBorder", height:"height", maxlength:"maxLength", role:"role", rowspan:"rowSpan", type:"type", usemap:"useMap", valign:"vAlign", width:"width"};
function lh(a) {
  a = a.document;
  a = mh(a) ? a.documentElement : a.body;
  return new ch(a.clientWidth, a.clientHeight);
}
function nh(a) {
  var b = oh(a);
  a = ph(a);
  return E && Yc("10") && a.pageYOffset != b.scrollTop ? new ah(b.scrollLeft, b.scrollTop) : new ah(a.pageXOffset || b.scrollLeft, a.pageYOffset || b.scrollTop);
}
function oh(a) {
  return a.scrollingElement ? a.scrollingElement : !Qc && mh(a) ? a.documentElement : a.body || a.documentElement;
}
function qh(a) {
  return a ? ph(a) : window;
}
function ph(a) {
  return a.parentWindow || a.defaultView;
}
function rh(a, b, c, d) {
  function e(c) {
    c && b.appendChild(w(c) ? a.createTextNode(c) : c);
  }
  for (;d < c.length;d++) {
    var f = c[d];
    !fa(f) || x(f) && 0 < f.nodeType ? e(f) : eb(sh(f) ? rb(f) : f, e);
  }
}
function mh(a) {
  return "CSS1Compat" == a.compatMode;
}
function th(a, b) {
  rh(fh(a), a, arguments, 1);
}
function uh(a) {
  for (var b;b = a.firstChild;) {
    a.removeChild(b);
  }
}
function vh(a, b) {
  b.parentNode && b.parentNode.insertBefore(a, b);
}
function wh(a) {
  return a && a.parentNode ? a.parentNode.removeChild(a) : null;
}
function xh(a) {
  return x(a) && 1 == a.nodeType;
}
function yh(a, b) {
  if (!a || !b) {
    return !1;
  }
  if (a.contains && 1 == b.nodeType) {
    return a == b || a.contains(b);
  }
  if ("undefined" != typeof a.compareDocumentPosition) {
    return a == b || !!(a.compareDocumentPosition(b) & 16);
  }
  for (;b && a != b;) {
    b = b.parentNode;
  }
  return b == a;
}
function fh(a) {
  return 9 == a.nodeType ? a : a.ownerDocument || a.document;
}
function zh(a, b) {
  if ("textContent" in a) {
    a.textContent = b;
  } else {
    if (3 == a.nodeType) {
      a.data = b;
    } else {
      if (a.firstChild && 3 == a.firstChild.nodeType) {
        for (;a.lastChild != a.firstChild;) {
          a.removeChild(a.lastChild);
        }
        a.firstChild.data = b;
      } else {
        uh(a), a.appendChild(fh(a).createTextNode(String(b)));
      }
    }
  }
}
var Ah = {SCRIPT:1, STYLE:1, HEAD:1, IFRAME:1, OBJECT:1}, Bh = {IMG:" ", BR:"\n"};
function Ch(a, b) {
  b ? a.tabIndex = 0 : (a.tabIndex = -1, a.removeAttribute("tabIndex"));
}
function Dh(a) {
  a = a.getAttributeNode("tabindex");
  return null != a && a.specified;
}
function Eh(a) {
  a = a.tabIndex;
  return ha(a) && 0 <= a && 32768 > a;
}
function Fh(a) {
  var b = [];
  Gh(a, b, !1);
  return b.join("");
}
function Gh(a, b, c) {
  if (!(a.nodeName in Ah)) {
    if (3 == a.nodeType) {
      c ? b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g, "")) : b.push(a.nodeValue);
    } else {
      if (a.nodeName in Bh) {
        b.push(Bh[a.nodeName]);
      } else {
        for (a = a.firstChild;a;) {
          Gh(a, b, c), a = a.nextSibling;
        }
      }
    }
  }
}
function sh(a) {
  if (a && "number" == typeof a.length) {
    if (x(a)) {
      return "function" == typeof a.item || "string" == typeof a.item;
    }
    if (ia(a)) {
      return "function" == typeof a.item;
    }
  }
  return !1;
}
function Hh(a, b, c, d) {
  if (!b && !c) {
    return null;
  }
  var e = b ? b.toUpperCase() : null;
  return Ih(a, function(a) {
    return (!e || a.nodeName == e) && (!c || w(a.className) && mb(a.className.split(/\s+/), c));
  }, !0, d);
}
function Jh(a, b) {
  return Hh(a, null, b, void 0);
}
function Ih(a, b, c, d) {
  c || (a = a.parentNode);
  c = null == d;
  for (var e = 0;a && (c || e <= d);) {
    if (b(a)) {
      return a;
    }
    a = a.parentNode;
    e++;
  }
  return null;
}
function Kh(a) {
  try {
    return a && a.activeElement;
  } catch (b) {
  }
  return null;
}
function eh(a) {
  this.a = a || q.document || document;
}
h = eh.prototype;
h.g = function(a) {
  return gh(this.a, a);
};
h.setProperties = jh;
h.w = function(a, b, c) {
  var d = this.a, e = arguments, f = e[0], g = e[1];
  if (!Yg && g && (g.name || g.type)) {
    f = ["<", f];
    g.name && f.push(' name="', Ca(g.name), '"');
    if (g.type) {
      f.push(' type="', Ca(g.type), '"');
      var k = {};
      Qb(k, g);
      delete k.type;
      g = k;
    }
    f.push(">");
    f = f.join("");
  }
  f = d.createElement(f);
  g && (w(g) ? f.className = g : u(g) ? f.className = g.join(" ") : jh(f, g));
  2 < e.length && rh(d, f, e, 2);
  return f;
};
h.createElement = function(a) {
  return this.a.createElement(a);
};
h.sl = uh;
h.Ej = vh;
h.dh = wh;
h.getChildren = function(a) {
  return Zg && void 0 != a.children ? a.children : fb(a.childNodes, function(a) {
    return 1 == a.nodeType;
  });
};
h.em = xh;
h.contains = yh;
function Lh(a, b, c, d) {
  this.top = a;
  this.right = b;
  this.bottom = c;
  this.left = d;
}
h = Lh.prototype;
h.getHeight = function() {
  return this.bottom - this.top;
};
h.clone = function() {
  return new Lh(this.top, this.right, this.bottom, this.left);
};
h.contains = function(a) {
  return this && a ? a instanceof Lh ? a.left >= this.left && a.right <= this.right && a.top >= this.top && a.bottom <= this.bottom : a.x >= this.left && a.x <= this.right && a.y >= this.top && a.y <= this.bottom : !1;
};
function Mh(a, b) {
  var c = b.x < a.left ? b.x - a.left : b.x > a.right ? b.x - a.right : 0, d = b.y < a.top ? b.y - a.top : b.y > a.bottom ? b.y - a.bottom : 0;
  return Math.sqrt(c * c + d * d);
}
h.ceil = function() {
  this.top = Math.ceil(this.top);
  this.right = Math.ceil(this.right);
  this.bottom = Math.ceil(this.bottom);
  this.left = Math.ceil(this.left);
  return this;
};
h.floor = function() {
  this.top = Math.floor(this.top);
  this.right = Math.floor(this.right);
  this.bottom = Math.floor(this.bottom);
  this.left = Math.floor(this.left);
  return this;
};
h.round = function() {
  this.top = Math.round(this.top);
  this.right = Math.round(this.right);
  this.bottom = Math.round(this.bottom);
  this.left = Math.round(this.left);
  return this;
};
function Nh(a, b, c, d) {
  this.left = a;
  this.top = b;
  this.width = c;
  this.height = d;
}
h = Nh.prototype;
h.clone = function() {
  return new Nh(this.left, this.top, this.width, this.height);
};
function Oh(a) {
  return new Lh(a.top, a.left + a.width, a.top + a.height, a.left);
}
h.contains = function(a) {
  return a instanceof Nh ? this.left <= a.left && this.left + this.width >= a.left + a.width && this.top <= a.top && this.top + this.height >= a.top + a.height : a.x >= this.left && a.x <= this.left + this.width && a.y >= this.top && a.y <= this.top + this.height;
};
h.ceil = function() {
  this.left = Math.ceil(this.left);
  this.top = Math.ceil(this.top);
  this.width = Math.ceil(this.width);
  this.height = Math.ceil(this.height);
  return this;
};
h.floor = function() {
  this.left = Math.floor(this.left);
  this.top = Math.floor(this.top);
  this.width = Math.floor(this.width);
  this.height = Math.floor(this.height);
  return this;
};
h.round = function() {
  this.left = Math.round(this.left);
  this.top = Math.round(this.top);
  this.width = Math.round(this.width);
  this.height = Math.round(this.height);
  return this;
};
function Ph(a, b) {
  var c = fh(a);
  return c.defaultView && c.defaultView.getComputedStyle && (c = c.defaultView.getComputedStyle(a, null)) ? c[b] || c.getPropertyValue(b) || "" : "";
}
function Qh(a, b) {
  return Ph(a, b) || (a.currentStyle ? a.currentStyle[b] : null) || a.style && a.style[b];
}
function Rh(a, b, c) {
  var d;
  b instanceof ah ? (d = b.x, b = b.y) : (d = b, b = c);
  a.style.left = Sh(d, !1);
  a.style.top = Sh(b, !1);
}
function Th(a) {
  a = a ? fh(a) : document;
  return !E || 9 <= $c || mh(dh(a).a) ? a.documentElement : a.body;
}
function Uh(a) {
  var b;
  try {
    b = a.getBoundingClientRect();
  } catch (c) {
    return {left:0, top:0, right:0, bottom:0};
  }
  E && a.ownerDocument.body && (a = a.ownerDocument, b.left -= a.documentElement.clientLeft + a.body.clientLeft, b.top -= a.documentElement.clientTop + a.body.clientTop);
  return b;
}
function Vh(a) {
  if (E && !(8 <= $c)) {
    return a.offsetParent;
  }
  var b = fh(a), c = Qh(a, "position"), d = "fixed" == c || "absolute" == c;
  for (a = a.parentNode;a && a != b;a = a.parentNode) {
    if (11 == a.nodeType && a.host && (a = a.host), c = Qh(a, "position"), d = d && "static" == c && a != b.documentElement && a != b.body, !d && (a.scrollWidth > a.clientWidth || a.scrollHeight > a.clientHeight || "fixed" == c || "absolute" == c || "relative" == c)) {
      return a;
    }
  }
  return null;
}
function Wh(a) {
  for (var b = new Lh(0, Infinity, Infinity, 0), c = dh(a), d = c.a.body, e = c.a.documentElement, f = oh(c.a);a = Vh(a);) {
    if (!(E && 0 == a.clientWidth || Qc && 0 == a.clientHeight && a == d) && a != d && a != e && "visible" != Qh(a, "overflow")) {
      var g = Xh(a), k = new ah(a.clientLeft, a.clientTop);
      g.x += k.x;
      g.y += k.y;
      b.top = Math.max(b.top, g.y);
      b.right = Math.min(b.right, g.x + a.clientWidth);
      b.bottom = Math.min(b.bottom, g.y + a.clientHeight);
      b.left = Math.max(b.left, g.x);
    }
  }
  d = f.scrollLeft;
  f = f.scrollTop;
  b.left = Math.max(b.left, d);
  b.top = Math.max(b.top, f);
  c = lh(ph(c.a) || window);
  b.right = Math.min(b.right, d + c.width);
  b.bottom = Math.min(b.bottom, f + c.height);
  return 0 <= b.top && 0 <= b.left && b.bottom > b.top && b.right > b.left ? b : null;
}
function Yh(a, b) {
  var c = b || oh(document), d;
  d = c || oh(document);
  var e = Xh(a), f = Xh(d), g = Zh(d);
  if (d == oh(document)) {
    var k = e.x - d.scrollLeft, e = e.y - d.scrollTop;
    !E || 10 <= $c || (k += g.left, e += g.top);
  } else {
    k = e.x - f.x - g.left, e = e.y - f.y - g.top;
  }
  var g = d.clientHeight - a.offsetHeight, f = d.scrollLeft, l = d.scrollTop, f = f + Math.min(k, Math.max(k - (d.clientWidth - a.offsetWidth), 0)), l = l + Math.min(e, Math.max(e - g, 0));
  d = new ah(f, l);
  c.scrollLeft = d.x;
  c.scrollTop = d.y;
}
function Xh(a) {
  var b = fh(a), c = new ah(0, 0), d = Th(b);
  if (a == d) {
    return c;
  }
  a = Uh(a);
  b = nh(dh(b).a);
  c.x = a.left + b.x;
  c.y = a.top + b.y;
  return c;
}
function $h(a, b, c) {
  if (b instanceof ch) {
    c = b.height, b = b.width;
  } else {
    if (void 0 == c) {
      throw Error("missing height argument");
    }
  }
  a.style.width = Sh(b, !0);
  a.style.height = Sh(c, !0);
}
function Sh(a, b) {
  "number" == typeof a && (a = (b ? Math.round(a) : a) + "px");
  return a;
}
function ai(a) {
  var b = bi;
  if ("none" != Qh(a, "display")) {
    return b(a);
  }
  var c = a.style, d = c.display, e = c.visibility, f = c.position;
  c.visibility = "hidden";
  c.position = "absolute";
  c.display = "inline";
  a = b(a);
  c.display = d;
  c.position = f;
  c.visibility = e;
  return a;
}
function bi(a) {
  var b = a.offsetWidth, c = a.offsetHeight, d = Qc && !b && !c;
  return t(b) && !d || !a.getBoundingClientRect ? new ch(b, c) : (a = Uh(a), new ch(a.right - a.left, a.bottom - a.top));
}
function ci(a) {
  var b = Xh(a);
  a = ai(a);
  return new Nh(b.x, b.y, a.width, a.height);
}
function di(a, b) {
  var c = a.style;
  "opacity" in c ? c.opacity = b : "MozOpacity" in c ? c.MozOpacity = b : "filter" in c && (c.filter = "" === b ? "" : "alpha(opacity=" + 100 * b + ")");
}
function R(a, b) {
  a.style.display = b ? "" : "none";
}
function ei(a) {
  return "none" != a.style.display;
}
function fi(a) {
  E && t(a.cssText) ? a.cssText = ".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}" : a.innerHTML = ".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}";
}
function gi(a) {
  return "rtl" == Qh(a, "direction");
}
var hi = Pc ? "MozUserSelect" : Qc || Nc ? "WebkitUserSelect" : null;
function ii(a, b, c) {
  c = c ? null : a.getElementsByTagName("*");
  if (hi) {
    if (b = b ? "none" : "", a.style && (a.style[hi] = b), c) {
      a = 0;
      for (var d;d = c[a];a++) {
        d.style && (d.style[hi] = b);
      }
    }
  } else {
    if (E || Mc) {
      if (b = b ? "on" : "", a.setAttribute("unselectable", b), c) {
        for (a = 0;d = c[a];a++) {
          d.setAttribute("unselectable", b);
        }
      }
    }
  }
}
function ji(a, b) {
  if (/^\d+px?$/.test(b)) {
    return parseInt(b, 10);
  }
  var c = a.style.left, d = a.runtimeStyle.left;
  a.runtimeStyle.left = a.currentStyle.left;
  a.style.left = b;
  var e = a.style.pixelLeft;
  a.style.left = c;
  a.runtimeStyle.left = d;
  return e;
}
function ki(a, b) {
  var c = a.currentStyle ? a.currentStyle[b] : null;
  return c ? ji(a, c) : 0;
}
var li = {thin:2, medium:4, thick:6};
function mi(a, b) {
  if ("none" == (a.currentStyle ? a.currentStyle[b + "Style"] : null)) {
    return 0;
  }
  var c = a.currentStyle ? a.currentStyle[b + "Width"] : null;
  return c in li ? li[c] : ji(a, c);
}
function Zh(a) {
  if (E && !(9 <= $c)) {
    var b = mi(a, "borderLeft"), c = mi(a, "borderRight"), d = mi(a, "borderTop");
    a = mi(a, "borderBottom");
    return new Lh(d, c, a, b);
  }
  b = Ph(a, "borderLeftWidth");
  c = Ph(a, "borderRightWidth");
  d = Ph(a, "borderTopWidth");
  a = Ph(a, "borderBottomWidth");
  return new Lh(parseFloat(d), parseFloat(c), parseFloat(a), parseFloat(b));
}
;function ni(a) {
  this.f = pa(this.h, this);
  this.a = new Pg;
  this.b = this.a.a = !1;
  this.K = a;
  this.c = this.K.ownerDocument || this.K.document;
  a = dh(this.K);
  var b = null, c = a.a;
  E && c.createStyleSheet ? (b = c.createStyleSheet(), fi(b)) : (c = ih(a.a, "HEAD", void 0, void 0)[0], c || (b = ih(a.a, "BODY", void 0, void 0)[0], c = a.w("HEAD"), b.parentNode.insertBefore(c, b)), b = a.w("STYLE"), fi(b), c.appendChild(b));
  this.K.className += " logdiv";
}
ni.prototype.h = function(a) {
  if (a) {
    var b = 100 >= this.K.scrollHeight - this.K.scrollTop - this.K.clientHeight, c = this.c.createElement("DIV");
    c.className = "logmsg";
    a = this.a.h(a);
    c.innerHTML = fe(a);
    this.K.appendChild(c);
    b && (this.K.scrollTop = this.K.scrollHeight);
  }
};
ni.prototype.clear = function() {
  this.K && (this.K.innerHTML = fe(oe));
};
var Vg = null, oi = null;
J("ydn.debug");
function pi(a, b) {
  var c;
  if (ha(b)) {
    c = new Ie("log", b);
  } else {
    if (w(b)) {
      c = b.toUpperCase();
      if (!Se) {
        Se = {};
        for (var d = 0, e;e = Re[d];d++) {
          Se[e.value] = e, Se[e.name] = e;
        }
      }
      c = Se[c] || null;
    } else {
      c = Oe;
    }
  }
  if (d = J(a || "ydn")) {
    d.b = c;
  }
  t(void 0) ? !oi && (c = oi = new ni(void 0), 1 != c.b && (d = Ze(), e = c.f, d.a || (d.a = []), d.a.push(e), c.b = !0), c = Ze()) && (c.b = Le) : !Vg && !oi && (Vg = new Tg, Ug(!0), c = Ze()) && (c.b = Le);
}
function qi(a) {
  Vg ? Ug(a) : a && (Vg = new Tg, Ug(!0), a = Ze()) && (a.b = Le);
}
var ri = null;
function si(a) {
  ri && setTimeout(function() {
    ri.log(a);
  }, 10);
}
;function ti() {
}
ti.prototype.log = function(a) {
  Q().send("log", a);
};
function ui(a, b) {
  this.o = this.J = this.b = "";
  this.l = null;
  this.h = this.f = "";
  this.c = !1;
  var c;
  a instanceof ui ? (this.c = t(b) ? b : a.c, vi(this, a.b), this.J = a.J, this.o = a.L(), wi(this, a.l), xi(this, a.f), yi(this, a.a.clone()), this.h = a.h) : a && (c = String(a).match(Kf)) ? (this.c = !!b, vi(this, c[1] || "", !0), this.J = zi(c[2] || ""), this.o = zi(c[3] || "", !0), wi(this, c[4]), xi(this, c[5] || "", !0), yi(this, c[6] || "", !0), this.h = zi(c[7] || "")) : (this.c = !!b, this.a = new Ai(null, 0, this.c));
}
ui.prototype.toString = function() {
  var a = [], b = this.b;
  b && a.push(Bi(b, Ci, !0), ":");
  var c = this.L();
  if (c || "file" == b) {
    a.push("//"), (b = this.J) && a.push(Bi(b, Ci, !0), "@"), a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), c = this.l, null != c && a.push(":", String(c));
  }
  if (c = this.f) {
    this.o && "/" != c.charAt(0) && a.push("/"), a.push(Bi(c, "/" == c.charAt(0) ? Di : Ei, !0));
  }
  (c = this.a.toString()) && a.push("?", c);
  (c = this.h) && a.push("#", Bi(c, Fi));
  return a.join("");
};
ui.prototype.clone = function() {
  return new ui(this);
};
function vi(a, b, c) {
  a.b = c ? zi(b, !0) : b;
  a.b && (a.b = a.b.replace(/:$/, ""));
}
ui.prototype.L = function() {
  return this.o;
};
function wi(a, b) {
  if (b) {
    b = Number(b);
    if (isNaN(b) || 0 > b) {
      throw Error("Bad port number " + b);
    }
    a.l = b;
  } else {
    a.l = null;
  }
}
function xi(a, b, c) {
  a.f = c ? zi(b, !0) : b;
}
function yi(a, b, c) {
  b instanceof Ai ? (a.a = b, Gi(a.a, a.c)) : (c || (b = Bi(b, Hi)), a.a = new Ai(b, 0, a.c));
}
function zi(a, b) {
  return a ? b ? decodeURI(a.replace(/%25/g, "%2525")) : decodeURIComponent(a) : "";
}
function Bi(a, b, c) {
  return w(a) ? (a = encodeURI(a).replace(b, Ii), c && (a = a.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), a) : null;
}
function Ii(a) {
  a = a.charCodeAt(0);
  return "%" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);
}
var Ci = /[#\/\?@]/g, Ei = /[\#\?:]/g, Di = /[\#\?]/g, Hi = /[\#\?@]/g, Fi = /#/g;
function Ai(a, b, c) {
  this.b = this.a = null;
  this.c = a || null;
  this.f = !!c;
}
function Ji(a) {
  a.a || (a.a = new we, a.b = 0, a.c && Lf(a.c, function(b, c) {
    a.add(decodeURIComponent(b.replace(/\+/g, " ")), c);
  }));
}
h = Ai.prototype;
h.za = function() {
  Ji(this);
  return this.b;
};
h.add = function(a, b) {
  Ji(this);
  this.c = null;
  a = Ki(this, a);
  var c = this.a.get(a);
  c || this.a.set(a, c = []);
  c.push(b);
  this.b++;
  return this;
};
h.remove = function(a) {
  Ji(this);
  a = Ki(this, a);
  return ye(this.a.b, a) ? (this.c = null, this.b -= this.a.get(a).length, this.a.remove(a)) : !1;
};
h.clear = function() {
  this.a = this.c = null;
  this.b = 0;
};
h.Wb = function() {
  Ji(this);
  return 0 == this.b;
};
function Li(a, b) {
  Ji(a);
  b = Ki(a, b);
  return ye(a.a.b, b);
}
h.Ta = function() {
  Ji(this);
  for (var a = this.a.Fa(), b = this.a.Ta(), c = [], d = 0;d < b.length;d++) {
    for (var e = a[d], f = 0;f < e.length;f++) {
      c.push(b[d]);
    }
  }
  return c;
};
h.Fa = function(a) {
  Ji(this);
  var b = [];
  if (w(a)) {
    Li(this, a) && (b = qb(b, this.a.get(Ki(this, a))));
  } else {
    a = this.a.Fa();
    for (var c = 0;c < a.length;c++) {
      b = qb(b, a[c]);
    }
  }
  return b;
};
h.set = function(a, b) {
  Ji(this);
  this.c = null;
  a = Ki(this, a);
  Li(this, a) && (this.b -= this.a.get(a).length);
  this.a.set(a, [b]);
  this.b++;
  return this;
};
h.get = function(a, b) {
  var c = a ? this.Fa(a) : [];
  return 0 < c.length ? String(c[0]) : b;
};
h.toString = function() {
  if (this.c) {
    return this.c;
  }
  if (!this.a) {
    return "";
  }
  for (var a = [], b = this.a.Ta(), c = 0;c < b.length;c++) {
    for (var d = b[c], e = encodeURIComponent(String(d)), d = this.Fa(d), f = 0;f < d.length;f++) {
      var g = e;
      "" !== d[f] && (g += "=" + encodeURIComponent(String(d[f])));
      a.push(g);
    }
  }
  return this.c = a.join("&");
};
h.clone = function() {
  var a = new Ai;
  a.c = this.c;
  this.a && (a.a = this.a.clone(), a.b = this.b);
  return a;
};
function Ki(a, b) {
  var c = String(b);
  a.f && (c = c.toLowerCase());
  return c;
}
function Gi(a, b) {
  b && !a.f && (Ji(a), a.c = null, a.a.forEach(function(a, b) {
    var e = b.toLowerCase();
    b != e && (this.remove(b), this.remove(e), 0 < a.length && (this.c = null, this.a.set(Ki(this, e), rb(a)), this.b += a.length));
  }, a));
  a.f = b;
}
;function Mi(a) {
  return !w(a) || za(a) ? {} : JSON.parse(a);
}
function Ni(a) {
  var b;
  try {
    b = w(a) ? a : Oi(a);
  } catch (c) {
    b = "";
  }
  return b ? b.substr(0, 70) + (70 < b.length ? "..." : "") : "";
}
function Oi(a) {
  return JSON.stringify(a, void 0, void 0);
}
;var Pi = J("ydn.http"), Qi = {}, Ri = [];
function Si(a) {
  if (!t(a)) {
    return Qi["default"];
  }
  for (var b = a, c = 0;c < Ri.length;c++) {
    var d = (0,Ri[c])(a);
    if (d) {
      b = d;
      break;
    }
  }
  M(Pi, "Resolving " + a + " to " + b);
  return Qi[b] || null;
}
;var Ti = J("ydn.crm"), Ui = !1, Vi = {};
function Wi(a, b) {
  "sync" == b && (x(a["lg-cc"]) && qi(!!a["lg-cc"].newValue), x(a["cp-po"]) && (Vi["cp-po"] = a["cp-po"].newValue || "in"));
}
var Xi = "alpha";
function Yi() {
  chrome.storage.local.get("custom-logging", function(a) {
    if (a = a["custom-logging"]) {
      for (var b in a) {
        var c = a[b];
        window.console.info("logging " + b + " enabled to " + c);
        pi(b, c);
      }
    }
  });
}
function Zi() {
  chrome.storage.local.get("custom-logging", function(a) {
    var b = a["custom-logging"];
    b || (b = {}, a["custom-logging"] = b);
    b["ydn.crm"] = "fine";
    pi("ydn.crm", "fine");
    chrome.storage.local.set(a);
  });
}
function $i(a) {
  Zi();
  var b = {};
  b["lg-cc"] = !!a;
  chrome.storage.sync.set(b);
  qi(!!a);
}
function aj(a) {
  if (!Ui) {
    Xi = a || Xi || "alpha";
    if (-1 == Gg.indexOf(Xi)) {
      throw Error("invalid track: " + Xi);
    }
    Ui = !0;
    Yi();
    q.console.info("Yathit 6.2.6");
    q.console.info("API documentation: http://crm.yathit.com/\nFeedback and suggestion: https://yathit.uservoice.com/\nBug report: https://github.com/yathit/sugarcrm-gmail-chrome-extension");
    qi(!1);
    Ti.info("Starting ydn.crm.App:6.2.6");
    var b = ["lg-cc", "cp-po", "lg-br"];
    chrome.storage.sync.get(b, function(a) {
      for (var d = {}, e = 0;e < b.length;e++) {
        t(a[b[e]]) && (d[b[e]] = {newValue:a[b[e]]});
      }
      Wi(d, "sync");
    });
    chrome.storage.onChanged.addListener(Wi);
  }
}
var bj = {};
function cj(a) {
  function b(b, e) {
    null != b && (a = b);
    dj("ui.record", "save", a, e);
    delete bj[c];
  }
  var c;
  c = setTimeout(b, 1E3);
  bj[c] = b;
  return c;
}
var ej = new ti;
function dj(a, b, c, d) {
  ej.log({category:a, action:b, label:c, value:d});
}
function fj(a) {
  return !!a && ("EXPRESS" == a.edition || "STANDARD" == a.edition);
}
var gj = null;
function hj() {
  if (!ga(gj)) {
    var a = chrome.runtime.getManifest();
    gj = /https\:\/\/\*/.test(a.permissions || "");
  }
  return gj;
}
function ij(a, b) {
  if (!chrome.permissions || hj()) {
    return b && b(!0), C(!0);
  }
  var c = new B;
  chrome.permissions.contains(a, function(a) {
    b && b(a);
    c.callback(a);
  });
  return c;
}
function jj(a, b) {
  var c = new ui(a);
  xi(c, "/*");
  return ij({origins:[c.toString()]}, b);
}
function kj(a, b) {
  if (!chrome.permissions || hj()) {
    b && b(!0), C(!0);
  } else {
    var c = new B;
    chrome.permissions.request(a, function(a) {
      b && b(a);
      c.callback(a);
    });
  }
}
function lj(a, b) {
  var c = new ui(a);
  xi(c, "/*");
  kj({origins:[c.toString()]}, b);
}
;function mj(a, b, c, d) {
  a > b && (b = a = void 0);
  null === a && (a = void 0);
  null === b && (b = void 0);
  this.lower = a;
  this.upper = b;
  this.lowerOpen = !!c;
  this.upperOpen = !!d;
}
h = mj.prototype;
h.lower = void 0;
h.upper = void 0;
h.lowerOpen = !1;
h.upperOpen = !1;
h.toJSON = function() {
  var a;
  a = this || {};
  return {lower:a.lower, upper:a.upper, lowerOpen:a.lowerOpen, upperOpen:a.upperOpen};
};
function nj(a) {
  return new mj(a, a, !1, !1);
}
function oj(a, b, c, d) {
  return new mj(a, b, c, d);
}
function pj(a, b) {
  return new mj(void 0, a, void 0, !!b);
}
function qj(a) {
  var b;
  if (u(a)) {
    b = rb(a), b.push("\uffff");
  } else {
    if (w(a)) {
      b = a + "\uffff";
    } else {
      if (ha(a)) {
        b = a + 2.220460492503131E-16, a -= 2.220460492503131E-16;
      } else {
        return nj(a);
      }
    }
  }
  return oj(a, b, !1, !0);
}
function rj(a) {
  if (null == a) {
    return null;
  }
  if (a instanceof mj) {
    return a;
  }
  if (x(a)) {
    return new mj(a.lower, a.upper, a.lowerOpen, a.upperOpen);
  }
  throw new O("Invalid key range: " + a + " of type " + typeof a);
}
function sj(a) {
  return null != a ? null != a.upper && null != a.lower ? tj.bound(a.lower, a.upper, !!a.lowerOpen, !!a.upperOpen) : null != a.upper ? tj.upperBound(a.upper, a.upperOpen) : null != a.lower ? tj.lowerBound(a.lower, a.lowerOpen) : null : null;
}
function uj(a) {
  if (a instanceof mj) {
    return "";
  }
  if (null != a) {
    if (x(a)) {
      for (var b in a) {
        if (a.hasOwnProperty(b) && !mb(["lower", "upper", "lowerOpen", "upperOpen"], b)) {
          return 'invalid attribute "' + b + '" in key range object';
        }
      }
      return "";
    }
    return "key range must be an object";
  }
  return "";
}
h.Dg = function(a) {
  var b = this.lower, c = this.upper, d = this.lowerOpen, e = this.upperOpen;
  null != a.lower && (null == this.lower || a.lower >= this.lower) && (b = a.lower, d = a.lowerOpen || this.lowerOpen);
  null != a.upper && (null == this.upper || a.upper <= this.upper) && (c = a.upper, e = a.upperOpen || this.upperOpen);
  return oj(b, c, d, e);
};
function vj(a) {
  if (!a) {
    return "";
  }
  var b = a.lowerOpen ? "(" : "[";
  null != a.lower && (b += a.lower + ", ");
  null != a.upper && (b += a.upper);
  return b += a.upperOpen ? ")" : "]";
}
function wj(a, b, c, d, e) {
  if (c) {
    if (c.lowerOpen || c.upperOpen || null == c.lower || null == c.upper || 0 !== xj(c.lower, c.upper)) {
      if (null != c.lower) {
        var f = c.lowerOpen ? " > " : " >= ";
        d.push(a + f + "?");
        e.push(yj(c.lower, b));
      }
      null != c.upper && (f = c.upperOpen ? " < " : " <= ", d.push(a + f + "?"), e.push(yj(c.upper, b)));
    } else {
      d.push(a + " = ?"), e.push(yj(c.lower, b));
    }
  }
}
function zj(a, b, c, d) {
  var e, f, g, k;
  if ("starts" == a || "^" == a) {
    return qj(b);
  }
  if ("<" == a || "<=" == a) {
    e = b, g = "<" == a;
  } else {
    if (">" == a || ">=" == a) {
      f = b, k = ">" == a;
    } else {
      if ("=" == a || "==" == a) {
        e = f = b;
      } else {
        throw new O("invalid op: " + a);
      }
    }
  }
  if ("<" == c || "<=" == c) {
    e = d, g = "<" == c;
  } else {
    if (">" == c || ">=" == c) {
      f = d, k = ">" == c;
    } else {
      if (t(c)) {
        throw new O("invalid op2: " + c);
      }
    }
  }
  return oj(f, e, k, g);
}
var tj = q.IDBKeyRange || q.webkitIDBKeyRange || mj;
function Aj(a, b) {
  var c, d;
  2 == arguments.length && w(arguments[1]) ? (c = !0, d = arguments[1].split(".")) : d = (c = fa(b)) ? b : arguments;
  for (c = c ? 0 : 1;c < d.length && (a = a[d[c]], t(a));c++) {
  }
  return a;
}
function Bj(a, b, c) {
  if (a) {
    if (-1 == b.indexOf(".")) {
      a[b] = c;
    } else {
      b = b.split(".");
      for (var d = b.pop(), e;e = b.shift();) {
        x(a[e]) || (a[e] = {}), a = a[e];
      }
      a[d] = c;
    }
  }
}
var Cj = {};
function Dj(a) {
  a = [a];
  for (var b = new Ej, c = 0, d, e;void 0 !== (e = a.pop());) {
    0 === c % 4 && 12 < c + 4 && (b.write(c), c = 0);
    d = typeof e;
    if (e instanceof Array) {
      if (c += 4, 0 < e.length) {
        a.push(Cj);
        for (d = e.length;d--;) {
          a.push(e[d]);
        }
        continue;
      } else {
        b.write(c);
      }
    } else {
      if ("number" === d) {
        c += 1, b.write(c), Fj(b, e);
      } else {
        if (e instanceof Date) {
          c += 2, b.write(c), Fj(b, e.valueOf());
        } else {
          if ("string" === d) {
            c += 3;
            b.write(c);
            c = b;
            for (d = 0;d < e.length;d++) {
              var f = e.charCodeAt(d);
              126 >= f ? c.write(f + 1) : 16510 >= f ? (f -= 127, c.write(128 | f >> 8, f & 255)) : c.write(192 | f >> 10, f >> 2 | 255, (f | 3) << 6);
            }
            c.write(0);
          } else {
            if (e === Cj) {
              b.write(0);
            } else {
              return "";
            }
          }
        }
      }
    }
    c = 0;
  }
  return b.trim().toString();
}
function Gj(a) {
  for (var b = [], c = b, d = [], e, f, g = new Hj(a);null != g.read();) {
    if (0 === g.current) {
      c = d.pop();
    } else {
      if (null === g.current) {
        break;
      }
      do {
        e = g.current / 4 | 0;
        a = g.current % 4;
        for (var k = 0;k < e;k++) {
          f = [], c.push(f), d.push(c), c = f;
        }
        if (0 === a && 12 < g.current + 4) {
          g.read();
        } else {
          break;
        }
      } while (1);
      1 === a ? c.push(Ij(g)) : 2 === a ? c.push(new Date(Ij(g))) : 3 === a ? c.push(Jj(g)) : 0 === a && (c = d.pop());
    }
  }
  return b[0];
}
function Fj(a, b) {
  var c, d, e;
  c = b;
  var f = e = d = 0;
  if (0 !== c) {
    if (isFinite(c)) {
      0 > c && (d = 1, c = -c);
      f = 0;
      if (2.2250738585072014E-308 <= c) {
        for (e = c;1 > e;) {
          f--, e *= 2;
        }
        for (;2 <= e;) {
          f++, e /= 2;
        }
        e = f + 1023;
      }
      f = e ? Math.floor(4503599627370496 * (c / Math.pow(2, f) - 1)) : Math.floor(c / 4.9E-324);
    } else {
      e = 2047, isNaN(c) ? f = 0x8000000000000 : -Infinity === c && (d = 1);
    }
  }
  c = d;
  d = e;
  e = f;
  c && (e = 0xfffffffffffff - e, d = 2047 - d);
  a.write((c ? 0 : 128) | d >> 4);
  a.write((d & 15) << 4 | 0 | e / 281474976710656);
  e %= 281474976710656;
  c = 0 | e / 4294967296;
  a.write(c >> 8, c & 255);
  e %= 4294967296;
  c = 0 | e / 65536;
  a.write(c >> 8, c & 255);
  c = e % 65536;
  a.write(c >> 8, c & 255);
}
function Ij(a) {
  var b = a.read() | 0, c = b >> 7 ? !1 : !0, d = c ? -1 : 1, e = (b & 127) << 4, b = a.read() | 0, e = e + (b >> 4);
  c && (e = 2047 - e);
  for (var b = [c ? 15 - (b & 15) : b & 15], f = 6;f--;) {
    b.push(c ? 255 - (a.read() | 0) : a.read() | 0);
  }
  a = 0;
  for (f = 7;f--;) {
    a = a / 256 + b[f];
  }
  a /= 16;
  return 0 === a && 0 === e ? 0 : (a + 1) * Math.pow(2, e - 1023) * d;
}
function Jj(a) {
  for (var b = [], c = 0, d = 0, e = 0, f, g;;) {
    f = a.read();
    if (0 === f || null == f) {
      break;
    }
    0 === c ? (g = f >> 6, 2 > g && !isNaN(f) ? b.push(String.fromCharCode(f - 1)) : (c = g, d = f << 10, e++)) : 2 === c ? (b.push(String.fromCharCode(d + f + 127)), c = d = e = 0) : 2 === e ? (d += f << 2, e++) : (b.push(String.fromCharCode(d | f >> 6)), c = d = e = 0);
  }
  return b.join("");
}
function Hj(a) {
  this.current = null;
  this.a = a;
  this.b = this.a.length - 1;
  this.index = -1;
}
Hj.prototype.read = function() {
  return this.current = this.index < this.b ? parseInt(this.a.charAt(++this.index) + this.a.charAt(++this.index), 16) : null;
};
function Ej() {
  this.a = [];
  this.b = void 0;
}
Ej.prototype.write = function(a) {
  for (var b = 0;b < arguments.length;b++) {
    this.b = arguments[b].toString(16), this.a.push(2 === this.b.length ? this.b : this.b = "0" + this.b);
  }
};
Ej.prototype.trim = function() {
  for (var a = this.a.length;"00" === this.a[--a];) {
  }
  this.a.length = ++a;
  return this;
};
Ej.prototype.toString = function() {
  return this.a.length ? this.a.join("") : "";
};
function Kj(a, b) {
  var c = Dj(a), d = Dj(b);
  return c > d ? 1 : c == d ? 0 : -1;
}
;function Lj(a, b, c, d, e) {
  this.a = b instanceof mj ? b : w(b) && t(c) ? zj(b, c, d, e) : rj(b);
  this.b = a;
}
Lj.prototype.b = "";
Lj.prototype.nc = function() {
  return this.b;
};
Lj.prototype.Dg = function(a) {
  if (this.b != a.b) {
    return null;
  }
  a = null != this.a && null != a.a ? this.a.Dg(a.a) : this.a || a.a;
  return new Lj(this.b, a);
};
var Mj = {READ_ONLY:"readonly", READ_WRITE:"readwrite", VERSION_CHANGE:"versionchange"}, Nj = Mj.READ_ONLY, Oj = Mj.READ_WRITE, Pj = Mj.VERSION_CHANGE, Qj = q.indexedDB;
function Rj(a, b, c, d) {
  Gc.call(this);
  this.b = c;
  this.ia = c.getName();
  this.vc = void 0;
  this.f = !1;
  this.ua = null;
  this.o = a;
  this.oa = 0;
  this.$ = this.F = !1;
  this.W = d || 4;
  this.s = this.c = this.a = void 0;
  this.V = function() {
    throw new ff;
  };
  this.ka = function() {
    throw new ff;
  };
  this.Ba = function() {
  };
}
A(Rj, Gc);
h = Rj.prototype;
h.init = function(a, b, c, d, e) {
  t(b) && (a = this.b, this.vc = (u(b) ? Sj(a, b) : Tj(a, b)).getName());
  this.f = w(this.vc);
  this.ua = c || null;
  this.oa = 0;
  this.$ = this.F = !1;
  this.reverse = "prev" == d || "prevunique" == d;
  this.unique = "nextunique" == d || "prevunique" == d;
  this.dir = d;
  this.xe = e;
  this.s = this.c = this.a = void 0;
};
h.dir = "";
h.ua = null;
h.unique = !1;
h.reverse = !1;
h.xe = !0;
h.logger = J("ydn.db.core.req.AbstractCursor");
function Uj(a, b) {
  a.ka(b);
  Vj(a);
  a.F = !0;
}
h.Xb = function(a, b, c) {
  null == a && (N(this.logger, this + " finished."), this.F = !0);
  this.a = a;
  this.c = b;
  this.s = c;
  this.oa++;
  this.F ? (M(this.logger, this + " DONE."), this.V(), Vj(this)) : (M(this.logger, this + " new cursor position {" + (this.f ? this.a + ", " + this.c : this.a) + "}"), this.V(this.a));
};
h.I = function() {
  this.o = null;
};
function Vj(a) {
  null != a.c ? a.c = Wj(a.c) : a.c = void 0;
  null != a.a ? a.a = Wj(a.a) : a.a = void 0;
  a.Ba(a.$, a.a, a.c);
}
h.open = function(a, b, c, d) {
  this.o = a;
  this.F = this.$ = !1;
  this.a = c;
  this.c = d;
  this.openCursor(this.a, this.c);
};
function Xj(a) {
  a.$ = !0;
  M(a.logger, a + ": exit");
  Vj(a);
}
h.za = function() {
  return this.oa;
};
h.ta = function() {
  return this.f ? this.c : this.a;
};
h.Y = function() {
  return this.xe ? this.ta() : this.s;
};
h.ke = function() {
};
h.$c = function() {
};
h.restart = function(a, b) {
  M(this.logger, this + " restarting");
  this.$ = this.F = !1;
  this.openCursor(b, a);
};
function Yj() {
}
;function Zj(a, b, c, d, e, f, g) {
  this.c = a;
  this.b = b;
  this.h = g;
  this.D = !!this.b;
  this.a = t(f) ? f : !!w(this.b);
  a = "next";
  d && e ? a = "prevunique" : d ? a = "prev" : e && (a = "nextunique");
  this.f = a;
  this.o = sj(c);
  this.l = ak;
  this.F = NaN;
}
A(Zj, Yj);
Zj.prototype.a = !0;
function bk(a, b, c, d, e) {
  if (!w(b)) {
    throw new O("index name must be string");
  }
  Zj.call(this, a, b, c, d, e, !0);
}
A(bk, Zj);
function ck(a, b, c) {
  if (3 < arguments.length) {
    throw new O("too many argument");
  }
  Zj.call(this, a, void 0, b, c, void 0, !1);
}
A(ck, Zj);
function dk(a, b) {
  return new ck(a, zj("starts", b, void 0, void 0));
}
function ek(a, b, c, d, e) {
  if (!w(b)) {
    throw new O("index name must be string");
  }
  Zj.call(this, a, b, c, d, e, !1);
}
A(ek, Zj);
function fk(a, b) {
  return new ek(a, "date_modified", zj("=", b, void 0, void 0));
}
var ak = "init";
h = Zj.prototype;
h.logger = J("ydn.db.Iterator");
h.R = function() {
  return this.c;
};
h.clone = function() {
  var a = new Zj(this.c, this.b, this.o, gk(this), hk(this), this.a, this.h);
  a.F = this.F;
  return a;
};
h.unique = function(a) {
  return new Zj(this.c, this.b, this.o, gk(this), a, this.a, this.h);
};
h.reverse = function() {
  return new Zj(this.c, this.b, this.o, !gk(this), hk(this), this.a, this.h);
};
function gk(a) {
  return "prev" === a.f || "prevunique" === a.f;
}
function hk(a) {
  return "nextunique" === a.f || "prevunique" === a.f;
}
h.getState = function() {
  return this.l;
};
h.load = function(a) {
  a = a[0];
  a.init(this.c, this.h || this.b, this.o, this.f, this.a);
  this.l = "busy";
  var b = this;
  a.Ba = function(a, d, e) {
    b.s = d;
    b.J = e;
    b.l = a ? "rest" : "done";
  };
  a.openCursor(this.s, this.J);
  return a;
};
h.ta = function() {
  return this.J;
};
h.reset = function(a, b, c) {
  a = a || ak;
  "busy" == this.getState() ? K(this.logger, this + ": resetting state to " + a + " ignore during iteration") : (this.s = b, this.J = c, this.l = a);
};
h.stores = function() {
  return [this.c];
};
function ik(a, b, c) {
  gf.call(this, b, c);
  this.V = a;
  this.J = [];
  this.ga = [];
  this.Xa = [];
  this.a = null;
  this.ae = "";
  this.oa = 0;
}
A(ik, gf);
h = ik.prototype;
h.ae = "";
h.logger = J("ydn.db.Request");
function jk(a, b, c) {
  a.a = b;
  a.ae = c;
  N(a.logger, a + " BEGIN");
  if (b) {
    for (c = 0;c < a.ga.length;c++) {
      a.ga[c][0].call(a.ga[c][1], b);
    }
    a.ga.length = 0;
  }
}
function kk(a) {
  var b = new ik(a.V);
  a.oa++;
  jk(b, a.a, a.ae + "C" + a.oa);
  return b;
}
function lk(a) {
  N(a.logger, a + " END");
  a.a = null;
}
h.lf = function() {
  return this.V;
};
h.abort = function() {
  N(this.logger, this + " aborting " + this.a);
  if (this.a) {
    if (ia(this.a.abort)) {
      this.a.abort();
    } else {
      if (ia(this.a.executeSql)) {
        this.a.executeSql("ABORT", [], function() {
        }, function() {
          return !0;
        });
      } else {
        throw new cf;
      }
    }
  } else {
    throw new mk("");
  }
};
function S(a, b, c) {
  var d = a.Xa.shift();
  c = !!c;
  d ? d[0].call(d[1], b, c, function(b, c) {
    S(a, b, c);
  }) : c ? a.C(b) : a.callback(b);
}
function nk(a, b, c) {
  a.Xa.push([b, c]);
}
function ok(a, b, c) {
  a.a ? b.call(c, a.a) : a.ga.push([b, c]);
}
h.callback = function(a) {
  N(this.logger, this + " SUCCESS");
  ik.j.callback.call(this, a);
};
h.C = function(a) {
  N(this.logger, this + " ERROR");
  ik.j.C.call(this, a);
};
function pk(a) {
  var b = "";
  a.ae && (b = a.a ? "*" : "", b = "[" + a.ae + b + "]");
  return a.V + b;
}
function qk(a, b) {
  var c = new ik(a);
  S(c, b);
  return c;
}
h.toString = function() {
  return "Request:" + pk(this);
};
h.Sg = function() {
  this.s && this.f && Cc(this) && (Dc(this.s), this.s = 0);
  this.h && (this.h.W--, delete this.h);
  for (var a = this.l, b = !1;this.D.length && !this.F;) {
    var c = this.D.shift(), d = c[0], e = c[1], c = c[2];
    if (d = this.o ? e : d) {
      d = d.call(c || this.$, a), t(d) && (this.o = this.o && (d == a || d instanceof Error), this.l = a = d), ta(a) && (this.F = b = !0);
    }
  }
  this.l = a;
  b && (b = pa(this.Te, this, !0), d = pa(this.Te, this, !1), a instanceof B ? (a.u(b, d), a.ka = !0) : a.then(b, d));
};
h.toJSON = function() {
  var a = (this.ae || "").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/) || [];
  return {method:this.V ? this.V.split(":") : [], branchNo:parseFloat(a[1]), transactionNo:parseFloat(a[2]), queueNo:parseFloat(a[3]), requestNo:parseFloat(a[4])};
};
var xj = Qj && Qj.cmp ? pa(Qj.cmp, Qj) : Kj, rk = [];
function sk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, sk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ConstraintError";
}
A(sk, Error);
sk.prototype.name = "ConstraintError";
function tk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, tk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.db.VersionError";
}
A(tk, Error);
tk.prototype.name = "ydn.db.VersionError";
function uk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, uk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
}
A(uk, Error);
uk.prototype.name = "ydn.db.InternalError";
function mk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, mk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "InvalidStateError";
}
A(mk, Error);
function vk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, vk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "InvalidAccessError";
}
A(vk, Error);
function wk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, wk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "NotFoundError";
}
A(wk, Error);
wk.prototype.name = "NotFoundError";
function xk(a, b) {
  Error.captureStackTrace ? Error.captureStackTrace(this, xk) : this.stack = Error().stack || "";
  b && (this.message = String(b));
  this.message += " :" + a.message + " [" + a.code + "]";
  this.name = "SQLError";
}
A(xk, Error);
function yk(a, b) {
  Error.captureStackTrace ? Error.captureStackTrace(this, yk) : this.stack = Error().stack || "";
  b && (this.message = String(b));
  this.message += " :" + a.message;
  this.name = "SecurityError";
}
A(yk, Error);
function zk(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, zk) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.db.SqlParseError";
}
A(zk, Error);
function Ak(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, Ak) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.db.TimeoutError";
}
A(Ak, Error);
function Bk(a, b, c) {
  var d;
  if (x(a)) {
    d = a.store, b = a.id, null != a.parent && (c = new Bk(a.parent));
  } else {
    if (t(b)) {
      d = a;
    } else {
      if (d = a.lastIndexOf("^|"), b = a, 0 < d && (b = a.substr(d), c = new Bk(a.substring(0, d))), b = b.split("^:"), d = b[0], b = b[1], !t(b)) {
        throw Error("Invalid key value: " + a);
      }
    }
  }
  this.ia = d;
  this.id = b;
  this.parent = c || null;
}
h = Bk.prototype;
h.toJSON = function() {
  var a = {store:this.ia, id:this.id};
  this.parent && (a.parent = this.parent.toJSON());
  return a;
};
h.valueOf = function() {
  return (this.parent ? this.parent.valueOf() + "^|" : "") + this.ia + "^:" + this.id;
};
h.toString = function() {
  return this.valueOf().replace("^|", "|").replace("^:", ":");
};
h.R = function() {
  return this.ia;
};
h.N = function() {
  return this.id;
};
function Ck(a) {
  return u(a.id) ? a.id.join("^|") : a.id instanceof Date ? +a.id : a.id;
}
function Dk(a) {
  return null != a ? ha(a) || w(a) || a instanceof Date || u(a) && ib(a, Dk) : !1;
}
function Wj(a) {
  if (fa(a)) {
    for (var b = [], c = 0, d = a.length;c < d;c++) {
      b[c] = a[c];
    }
    return b;
  }
  return a;
}
;function Ek(a, b) {
  this.a = b;
}
Ek.prototype.logger = J("ydn.db.crud.req.RequestExecuto");
function Fk(a) {
  this.f = a;
  this.a = null;
  this.b = 0;
}
Fk.prototype.logger = J("ydn.db.tr.Mutex");
Fk.prototype.Db = null;
function Gk(a) {
  return !!a.a && !a.c;
}
Fk.prototype.qb = null;
function Hk(a, b, c, d, e, f) {
  this.V = a;
  this.W = b;
  this.a = this.l = 0;
  this.ga = d;
  this.F = e;
  this.h = c || Ik;
  this.J = f || 0;
}
Hk.prototype.logger = J("ydn.db.tr.Thread");
Hk.prototype.type = function() {
  return Jk(this.V);
};
Hk.prototype.S = function() {
  return this.V;
};
Hk.prototype.sb = function() {
  return "B" + this.W + "T" + this.l;
};
var Ik = "single";
function Kk(a) {
  if (a) {
    if (ia(a.abort)) {
      a.abort();
    } else {
      if (ia(a.executeSql)) {
        a.executeSql("ABORT", [], null, function() {
          return !0;
        });
      } else {
        throw new cf;
      }
    }
  } else {
    throw new mk("No active transaction");
  }
}
;function Lk(a, b, c, d, e, f) {
  Hk.call(this, a, b, c, d, e, f);
  this.c = [];
  this.f = [];
  this.o = null;
  this.b = new Fk(b);
  this.s = f || 0;
  this.D = !1;
}
A(Lk, Hk);
h = Lk.prototype;
h.logger = J("ydn.db.tr.Serial");
function Mk(a, b, c) {
  if ("multi" == a.h) {
    a: {
      if (a = a.b, !a.Db || !a.mode || c != a.mode && (a.mode != Oj || c != Nj) || b.length > a.Db.length) {
        b = !1;
      } else {
        for (c = 0;c < b.length;c++) {
          if (-1 == a.Db.indexOf(b[c])) {
            b = !1;
            break a;
          }
        }
        b = !0;
      }
    }
  } else {
    if ("repeat" == a.h) {
      a: {
        if (a = a.b, a.Db && a.mode && c == a.mode && a.Db.length == b.length) {
          for (c = 0;c < b.length;c++) {
            if (-1 == a.Db.indexOf(b[c])) {
              b = !1;
              break a;
            }
          }
          b = !0;
        } else {
          b = !1;
        }
      }
    } else {
      b = "all" == a.h ? !0 : !1;
    }
  }
  return b;
}
function Nk(a) {
  var b = 0 < a.c.length ? a.c[0].Db : null, c = 0 < a.c.length ? a.c[0].mode : null;
  return null != b && null != c ? Mk(a, b, c) : !1;
}
function Ok(a, b, c, d, e) {
  M(a.logger, "push tx queue[" + a.c.length + "]");
  a.c.push({gf:b, Db:c, mode:d || Nj, qb:e});
}
h.abort = function() {
  N(this.logger, this + ": aborting");
  Kk(this.o);
};
h.sd = function(a, b, c, d) {
  var e = w(b) ? [b] : b, f = t(c) ? c : Nj, g = this;
  if (this.b.a || !Pk(this.S()) && this.D) {
    Ok(this, a, b, f, d);
  } else {
    var k = this.sb();
    d && this.f.push(d);
    if (this.s && this.l >= this.s) {
      throw new ef("Exceed maximum number of transactions of " + this.s);
    }
    this.D = !0;
    this.S().transaction(function(c) {
      var d = g.b;
      d.a = c;
      d.c = !1;
      d.Db = b;
      d.mode = f;
      d.b++;
      d.qb = null;
      k = g.sb();
      L(g.logger, k + " BEGIN " + Oi(b) + " " + f);
      a(g);
      for (a = null;Nk(g);) {
        c = g.c.shift(), c.qb && g.f.push(c.qb), M(g.logger, "pop tx queue" + (g.c.length + 1) + " reusing T" + g.l), c.gf();
      }
    }, e, f, function(a, b) {
      L(g.logger, k + " " + a);
      var c = g.b;
      c.a ? (c.a = null, c.Db = null, c.mode = null, ia(c.qb) && c.qb(a, b), c.qb = null) : K(c.logger, c + " has no TX to be unlocked for " + a);
      for (c = 0;c < g.f.length;c++) {
        (0,g.f[c])(a, b);
      }
      g.f.length = 0;
      (c = g.c.shift()) && g.sd(c.gf, c.Db, c.mode, c.qb);
      g.a = 0;
    });
  }
};
h.sb = function() {
  var a = this.b;
  return "B" + a.f + "T" + a.b;
};
h.request = function(a, b, c, d) {
  function e(a, b) {
    lk(f);
    d && d(a, b);
  }
  var f = new ik(a);
  a = c || Nj;
  var g = this;
  Gk(this.b) && Mk(this, b, a) ? (b = this.b.a, this.a++, jk(f, b, this.sb() + "R" + this.a), this.f.push(e)) : g.sd(function() {
    var a = g.b.a;
    g.a++;
    jk(f, a, g.sb() + "R" + g.a);
  }, b, a, e);
  return f;
};
h.be = function(a, b, c, d, e) {
  d = d || Nj;
  var f = this, g;
  if (Gk(f.b) && Mk(this, c, d)) {
    var k = f.b.a;
    f.a++;
    g = f.sb() + "R" + f.a;
    N(f.logger, g + " BEGIN");
    b(k, g, function(b, c) {
      f.o = k;
      c ? (N(f.logger, g + " ERROR"), a.C(b)) : (N(f.logger, g + " SUCCESS"), a.callback(b));
      f.o = null;
    });
    N(f.logger, g + " END");
    b = null;
  } else {
    f.sd(function() {
      var c = f.b.a;
      f.a++;
      g = f.sb() + "R" + f.a;
      N(f.logger, g + " BEGIN");
      b(c, g, function(b, d) {
        f.o = c;
        d ? (N(f.logger, g + " ERROR"), a.C(b)) : (N(f.logger, g + " SUCCESS"), a.callback(b));
        f.o = null;
      });
      N(f.logger, g + " END");
      b = null;
    }, c, d, e);
  }
};
h.getName = function() {
  return this.S().getName();
};
function Qk(a, b) {
  Lk.call(this, a, b);
}
A(Qk, Lk);
Qk.prototype.logger = J("ydn.db.tr.AtomicSerial");
Qk.prototype.request = function(a, b, c) {
  var d, e, f, g = Qk.j.request.call(this, a, b, c, function(a, b) {
    lk(g);
    if (d) {
      "complete" != a && (f = !0, e = b), d(e, f);
    } else {
      var c = new Ak;
      S(g, c, !0);
    }
  });
  nk(g, function(a, b, c) {
    f = b;
    e = a;
    d = c;
  });
  return g;
};
Qk.prototype.be = function(a, b, c, d, e) {
  var f, g, k = new B;
  k.u(function(a) {
    g = !1;
    f = a;
  }, function(a) {
    g = !0;
    f = a;
  });
  Qk.j.be.call(this, k, b, c, d, function(b, c) {
    if ("complete" != b) {
      a.C(c);
    } else {
      if (!0 === g) {
        a.C(f);
      } else {
        if (!1 === g) {
          a.callback(f);
        } else {
          var d = new Ak;
          a.C(d);
        }
      }
    }
    e && (e(b, c), e = void 0);
  });
};
function Rk(a, b, c, d) {
  this.f = a;
  this.b = b;
  this.a = c;
  this.mb = d;
  this.c = null;
}
Rk.prototype.logger = J("ydn.db.tr.DbOperator");
Rk.prototype.abort = function() {
  this.a.abort();
};
function Sk(a) {
  a.c || (a.c = a.f.F());
  return a.c;
}
Rk.prototype.S = function() {
  return this.f;
};
function Tk(a, b) {
  var c = w(b) ? b : x(b) ? b.name : void 0;
  if (!w(c)) {
    throw new O("store name " + c + " must be a string, but " + typeof c);
  }
  var d = Uk(a.b, c);
  if (!d) {
    if (!a.b.Cc()) {
      throw new O('store name "' + c + '" not found.');
    }
    d = Vk(x(b) ? b : {name:c});
    N(a.logger, "Adding object store: " + c);
    var e = d;
    var f = a.S(), g = e instanceof Wk ? e : Vk(e), e = Uk(f.b, e.name);
    if (0 == Xk(g, e).length) {
      C(!1);
    } else {
      if (f.b instanceof Yk) {
        Zk(f.b, g), f.c ? (f.c.close(), f.c = null, $k(f)) : C(!1);
      } else {
        throw new al("");
      }
    }
  } else {
    if (a.b.Cc() && x(b) && (f = Vk(b), f = Xk(d, f))) {
      throw new cf(f);
    }
  }
  if (!d) {
    throw new wk(c);
  }
  return d;
}
;function bl(a, b, c, d) {
  Rk.call(this, a, b, c, d);
}
A(bl, Rk);
h = bl.prototype;
h.logger = J("ydn.db.crud.DbOperator");
h.Jg = function(a, b, c, d) {
  var e, f, g, k = Uk(this.b, a);
  if (!k) {
    throw new O('store name "' + a + '" not found.');
  }
  f = [a];
  x(c) ? g = sj(c) : g = null;
  N(this.logger, "countIndexKeyRange: " + a + " " + (b ? b : "") + Oi(g));
  e = this.a.request("d", f);
  cl(k, e, arguments);
  ok(e, function() {
    Sk(this).Fd(e, f[0], g, b, !!d);
  }, this);
  return e;
};
h.count = function(a, b, c, d) {
  var e, f, g, k;
  if (null != a) {
    if (u(a)) {
      if (t(c) || t(b)) {
        throw new O("too many arguments.");
      }
      f = a;
      for (var l = 0;l < f.length;l++) {
        if (!dl(this.b, f[l])) {
          throw new O('store name "' + f[l] + '" at ' + l + " not found.");
        }
      }
      N(this.logger, "countStores: " + Oi(f));
      e = this.a.request("d", f);
      ok(e, function() {
        Sk(this).Ue(e, f);
      }, this);
    } else {
      if (w(a)) {
        l = Uk(this.b, a);
        if (!l) {
          throw new O('store name "' + a + '" not found.');
        }
        f = [a];
        if (w(b)) {
          g = b, x(c) ? k = sj(c) : k = null;
        } else {
          if (x(b) || null == b) {
            if (x(b)) {
              k = sj(b);
            } else {
              if (null != b) {
                throw new O("key range must be  an object but found " + Ni(b) + " of type " + typeof b);
              }
              k = null;
            }
          } else {
            throw new O('invalid second argument for count "' + Ni(c) + '" of type ' + typeof b);
          }
        }
        N(this.logger, "countKeyRange: " + a + " " + (g ? g : "") + Oi(k));
        e = this.a.request("d", f);
        cl(l, e, arguments);
        ok(e, function() {
          Sk(this).Fd(e, f[0], k, g, !!d);
        }, this);
      } else {
        throw new O("Invalid store name or store names.");
      }
    }
  } else {
    K(this.logger, "count method requires store name(s)"), l = el(this.b), e = this.a.request("d", l), nk(e, function(a, b, c) {
      if (b) {
        c(a, !0);
      } else {
        for (var d = b = 0;d < a.length;d++) {
          b += a[d];
        }
        c(b, !1);
      }
    }, this), ok(e, function() {
      Sk(this).Ue(e, f);
    }, this);
  }
  return e;
};
h.get = function(a, b) {
  var c = this, d;
  if (a instanceof Bk) {
    var e = a, f = e.R(), g = Uk(this.b, f);
    if (!g) {
      if (this.b.Cc()) {
        if (Pk(this.S())) {
          return qk("e", void 0);
        }
        d = new ik("e");
        Cg(this.S(), function() {
          c.get(a, b).u(function(a) {
            d.callback(a);
          }, function(a) {
            d.C(a);
          });
        });
        return d;
      }
      throw new O("Store: " + f + " not found.");
    }
    var k = e.N();
    N(this.logger, "getByKey: " + f + ":" + k);
    d = this.a.request("ek", [f]);
    cl(g, d, arguments, void 0, this);
    ok(d, function() {
      Sk(this).jf(d, f, k);
    }, this);
  } else {
    if (w(a) && t(b)) {
      var l = a, g = Uk(this.b, l);
      if (!g) {
        if (this.b.Cc()) {
          if (Pk(this.S())) {
            return qk("e", void 0);
          }
          d = new ik("e");
          Cg(this.S(), function() {
            c.get(a, b).u(function(a) {
              d.callback(a);
            }, function(a) {
              d.C(a);
            });
          });
          return d;
        }
        throw new O('Store name "' + l + '" not found.');
      }
      var m = b;
      N(this.logger, "getById: " + l + ":" + m);
      d = this.a.request("e", [l]);
      cl(g, d, arguments, void 0, this);
      ok(d, function() {
        Sk(this).jf(d, l, m);
      }, this);
    } else {
      throw new O("get require valid input arguments.");
    }
  }
  return d;
};
h.Ij = function(a, b, c, d, e) {
  var f = Uk(this.b, a), g, k, l, m = null;
  x(b) && (m = sj(b));
  if (t(c)) {
    if (ha(c)) {
      g = c;
    } else {
      throw new O("limit must be a number, but " + c + " is " + typeof c);
    }
  } else {
    g = 100;
  }
  if (t(d)) {
    if (ha(d)) {
      k = d;
    } else {
      throw new O("offset must be a number, but " + d + " is " + typeof d);
    }
  } else {
    k = 0;
  }
  if (t(e)) {
    if (ga(e)) {
      l = e;
    } else {
      throw new O("reverse must be a boolean, but " + e + " is " + typeof e);
    }
  }
  N(this.logger, "keysByKeyRange: " + a);
  var n = this.a.request("g", [a]);
  cl(f, n, arguments);
  ok(n, function() {
    Sk(this).list(n, 2, a, null, m, g, k, l, !1);
  }, this);
  return n;
};
h.Vd = function(a, b, c, d, e, f, g) {
  var k, l, m, n, p, r = Uk(this.b, a);
  k = sj(c);
  if (ha(d)) {
    l = d;
  } else {
    if (t(d)) {
      throw new O("limit must be a number");
    }
    l = 100;
  }
  if (ha(e)) {
    m = e;
  } else {
    if (t(e)) {
      throw new O("offset must be a number");
    }
    m = 0;
  }
  if (t(f)) {
    if (ga(f)) {
      n = f;
    } else {
      throw new O("reverse must be a boolean");
    }
  }
  if (t(g)) {
    if (ga(g)) {
      p = g;
    } else {
      throw new O("unique must be a boolean");
    }
  }
  N(this.logger, "keysByIndex: " + a);
  var v = this.a.request("i", [a]);
  cl(r, v, arguments);
  ok(v, function() {
    Sk(this).list(v, 2, a, b, k, l, m, n, p);
  }, this);
  return v;
};
h.keys = function(a, b, c, d, e, f, g) {
  var k = Uk(this.b, a);
  return this.b.Cc() && !k ? qk("g", []) : w(b) ? this.Vd(a, b, c, d, e, f, g) : this.Ij(a, b, c, d, e);
};
h.values = function(a, b, c, d, e, f, g) {
  var k = this, l;
  if (w(a)) {
    var m = a, n = Uk(this.b, m);
    if (!n) {
      if (this.b.Cc()) {
        if (Pk(this.S())) {
          return qk("s", []);
        }
        l = new ik("s");
        Cg(this.S(), function() {
          k.values(a, b, c, d, e, f).u(function(a) {
            l.callback(a);
          }, function(a) {
            l.C(a);
          });
        });
        return l;
      }
      throw new wk(m);
    }
    if (u(b)) {
      var p = b;
      N(this.logger, "listByIds: " + m + " " + p.length + " ids");
      l = this.a.request("v", [m]);
      cl(n, l, arguments, void 0, this);
      ok(l, function() {
        Sk(this).Kh(l, m, p);
      }, this);
    } else {
      l = w(b) ? this.ra(m, b, c, d, e, f, g) : this.xd(m, b, c, d, e);
    }
  } else {
    if (u(a)) {
      if (a[0] instanceof Bk) {
        for (var n = [], r = a, v = 0;v < r.length;v++) {
          var z = r[v].R();
          if (!dl(this.b, z)) {
            if (this.b.Cc()) {
              return n = [], n[r.length - 1] = void 0, qk("e", n);
            }
            throw new O("Store: " + z + " not found.");
          }
          mb(n, z) || n.push(z);
        }
        N(this.logger, "listByKeys: " + Oi(n) + " " + r.length + " keys");
        l = this.a.request("w", n);
        ok(l, function() {
          Sk(this).Lf(l, r);
        }, this);
      } else {
        throw new O("first argumentmust be array of ydn.db.Key, but " + a[0] + " of " + typeof a[0] + " found.");
      }
    } else {
      throw new O("first argument " + a + " is invalid.");
    }
  }
  return l;
};
h.xd = function(a, b, c, d, e) {
  var f = Uk(this.b, a), g, k, l, m = null;
  x(b) && (m = sj(b));
  if (t(c)) {
    if (ha(c)) {
      g = c;
    } else {
      throw new O("limit must be a number, but " + c + " is " + typeof c);
    }
  } else {
    g = 100;
  }
  if (t(d)) {
    if (ha(d)) {
      k = d;
    } else {
      throw new O("offset must be a number, but " + d + " is " + typeof d);
    }
  } else {
    k = 0;
  }
  if (t(e)) {
    if (ga(e)) {
      l = e;
    } else {
      throw new O("reverse must be a boolean, but " + e + " is " + typeof e);
    }
  }
  N(this.logger, (m ? "listByKeyRange: " : "listByStore: ") + a);
  var n = this.a.request("s", [a]);
  cl(f, n, arguments);
  ok(n, function() {
    Sk(this).list(n, 4, a, null, m, g, k, l, !1);
  }, this);
  return n;
};
h.ra = function(a, b, c, d, e, f, g) {
  var k = Uk(this.b, a), l, m, n, p, r = sj(c);
  if (t(d)) {
    if (ha(d)) {
      l = d;
    } else {
      throw new O("limit must be a number.");
    }
  } else {
    l = 100;
  }
  if (t(e)) {
    if (ha(e)) {
      m = e;
    } else {
      throw new O("offset must be a number.");
    }
  } else {
    m = 0;
  }
  if (ga(f)) {
    n = f;
  } else {
    if (t(f)) {
      throw new O("reverse must be a boolean, but " + f);
    }
  }
  if (t(g)) {
    if (ga(g)) {
      p = g;
    } else {
      throw new O("unique must be a boolean");
    }
  }
  N(this.logger, "listByIndexKeyRange: " + a + ":" + b);
  var v = this.a.request("u", [a]);
  cl(k, v, arguments);
  ok(v, function() {
    Sk(this).list(v, 4, a, b, r, l, m, n, p);
  }, this);
  return v;
};
h.list = function(a, b, c, d, e, f, g, k, l) {
  if (!Uk(this.b, b)) {
    if (this.b.Cc()) {
      return qk("e", []);
    }
    throw new wk(b);
  }
  var m, n = sj(d), p = 100;
  if (ha(e)) {
    p = e;
  } else {
    if (null != e) {
      throw new O('limit must be a number but "' + e + '" of type ' + typeof e + " found.");
    }
  }
  var r = 0;
  if (ha(f)) {
    r = f;
  } else {
    if (null != f) {
      throw new O('offset must be a number but "' + f + '" of type ' + typeof f + " found.");
    }
  }
  var v = !1;
  if (ga(g)) {
    v = g;
  } else {
    if (null != g) {
      throw new O('reverse must be a boolean but "' + g + '" of type ' + typeof g + " found.");
    }
  }
  var z = !1;
  if (ga(k)) {
    z = k;
  } else {
    if (null != k) {
      throw new O('unique must be a boolean but "' + k + '" of type ' + typeof k + " found.");
    }
  }
  if (r && l && t(l[0])) {
    throw new O("offset must not given when initial cursor position is defined");
  }
  N(this.logger, a + ": " + b + ":" + c);
  m = this.a.request("u", [b]);
  ok(m, function() {
    Sk(this).list(m, a, b, c || null, n, p, r, v, z, l);
  }, this);
  return m;
};
h.add = function(a, b, c) {
  if (u(b)) {
    return this.xi(a, b, c);
  }
  var d = Tk(this, a), e = d.getName(), f;
  if (w(d.keyPath) && t(c)) {
    throw new O("key must not be provided while the store uses in-line key.");
  }
  if (!d.keyPath && !d.autoIncrement && !t(c)) {
    throw new O("out-of-line key must be provided for store: " + e);
  }
  if (u(b)) {
    N(this.logger, "addObjects: " + e + " " + b.length + " objects");
    for (a = 0;a < b.length;a++) {
      fl(d, b[a]);
    }
    f = this.a.request("b", [e], Oj);
    ok(f, function() {
      Sk(this).pb(f, !1, !1, e, b, c);
    }, this);
    d.jc && f.i(function(a) {
      a = new gl(hl, this.S(), e, a, b);
      this.S().bb(a);
    }, this);
  } else {
    if (x(b)) {
      a = "store: " + e + " key: " + il(d, b, c), N(this.logger, "addObject: " + a), fl(d, b), f = this.a.request("a", [e], Oj), ok(f, function() {
        Sk(this).pb(f, !1, !0, e, [b], [c]);
      }, this), d.jc && f.i(function(a) {
        a = new jl(hl, this.S(), d.getName(), a, b);
        this.S().bb(a);
      }, this);
    } else {
      throw new O("record must be an object or array list of objects, but " + b + " of type " + typeof b + " found.");
    }
  }
  return f;
};
h.xi = function(a, b, c) {
  var d = Tk(this, a), e = d.getName(), f;
  if (w(d.keyPath) && t(c)) {
    throw new O("key must not be provided while the store uses in-line key.");
  }
  if (!d.keyPath && !d.autoIncrement && !t(c)) {
    throw new O("out-of-line key must be provided for store: " + e);
  }
  if (u(b)) {
    N(this.logger, "addObjects: " + e + " " + b.length + " objects");
    for (a = 0;a < b.length;a++) {
      fl(d, b[a]);
    }
    f = this.a.request("b", [e], Oj);
    ok(f, function() {
      Sk(this).pb(f, !1, !1, e, b, c);
    }, this);
    d.jc && f.i(function(a) {
      a = new gl(hl, this.S(), d.getName(), a, b);
      this.S().bb(a);
    }, this);
  } else {
    throw new O("record must be an array list of objects, but " + b + " of type " + typeof b + " found.");
  }
  return f;
};
h.put = function(a, b, c) {
  var d, e = this;
  if (a instanceof Bk) {
    var f = a, g = f.R(), k = Uk(this.b, g);
    if (!k) {
      throw new O('store "' + g + '" not found.');
    }
    if (k.keyPath) {
      var l = il(k, b);
      if (null != l) {
        if (0 != xj(l, f.N())) {
          throw new O("Inline key must be " + f + " but " + l + " found.");
        }
      } else {
        kl(k, b, f.N());
      }
      return this.put(g, b);
    }
    return this.put(g, b, f.N());
  }
  if (u(a)) {
    for (var m = a, n = b, f = [], g = 0, k = m.length;g < k;g++) {
      l = m[g].R();
      -1 == cb(f, l) && f.push(l);
      var p = Uk(this.b, l);
      if (!p) {
        throw new O('store "' + l + '" not found.');
      }
      p.keyPath && kl(p, n[g], m[g].N());
    }
    N(this.logger, "putByKeys: to " + Oi(f) + " " + n.length + " objects");
    for (g = 0;g < n.length;g++) {
      fl(p, n[g]);
    }
    d = this.a.request("l", f, Oj);
    cl(p, d, arguments);
    ok(d, function() {
      Sk(e).Tf(d, n, m);
    }, this);
  } else {
    if (w(a) || x(a)) {
      var p = Tk(this, a), r = p.getName();
      if (p.keyPath && t(c)) {
        throw new O("key must not be provided while the store uses in-line key.");
      }
      if (!p.keyPath && !p.autoIncrement && !t(c)) {
        throw new O("out-of-line key must be provided for store: " + r);
      }
      if (u(b)) {
        var v = b, z = c;
        N(this.logger, "putObjects: " + r + " " + v.length + " objects");
        for (g = 0;g < v.length;g++) {
          fl(p, v[g]);
        }
        d = this.a.request("k", [r], Oj);
        cl(p, d, arguments);
        ok(d, function() {
          Sk(this).pb(d, !0, !1, r, v, z);
        }, this);
        p.jc && d.i(function(a) {
          a = new gl(ll, this.S(), r, a, v);
          this.S().bb(a);
        }, this);
      } else {
        if (x(b)) {
          var F = b, P = c;
          N(this.logger, "putObject: " + r + " " + (t(P) ? P : "(without-key)"));
          if (t(q.Blob) && F instanceof Blob && p.Ad && !p.keyPath && 0 == ml(p) && Qc) {
            d = new ik("j"), f = new FileReader, f.onload = function(a) {
              var b = a.target.result, c = e.a.request("j", [r], Oj);
              cl(p, c, [r, F, P]);
              ok(c, function() {
                Sk(e).pb(c, !0, !0, r, [b], [P]);
              }, this);
              c.u(function(a) {
                d.callback(a);
              }, function(a) {
                d.C(a);
              });
            }, f.onerror = function(a) {
              d.C(a);
            }, f.onabort = function(a) {
              d.C(a);
            }, f.readAsDataURL(F);
          } else {
            fl(p, F);
            d = this.a.request("j", [r], Oj);
            var U = [r, F, P];
            cl(p, d, U);
            ok(d, function() {
              var a = t(P) ? [U[2]] : void 0;
              Sk(e).pb(d, !0, !0, r, [U[1]], a);
            }, this);
          }
          p.jc && d.i(function(a) {
            a = new jl(ll, this.S(), r, a, F);
            this.S().bb(a);
          }, this);
        } else {
          throw new O("put record value must be Object or array of Objects");
        }
      }
    } else {
      throw new O("the first argument of put must be store name, store schema or array of keys.");
    }
  }
  return d;
};
h.ze = function(a, b, c) {
  var d, e = Tk(this, a), f = e.getName();
  if (e.keyPath && t(c)) {
    throw new O("key must not be provided while the store uses in-line key.");
  }
  if (!e.keyPath && !e.autoIncrement && !t(c)) {
    throw new O("out-of-line key must be provided for store: " + f);
  }
  var g = b, k = c;
  N(this.logger, "putObjects: " + f + " " + g.length + " objects");
  for (var l = 0;l < g.length;l++) {
    fl(e, g[l]);
  }
  d = this.a.request("k", [f], Oj);
  cl(e, d, arguments);
  ok(d, function() {
    Sk(this).pb(d, !0, !1, f, g, k);
  }, this);
  e.jc && d.i(function(a) {
    a = new gl(ll, this.S(), f, a, g);
    this.S().bb(a);
  }, this);
  return d;
};
function nl(a, b, c, d) {
  var e = a.mb, f, g;
  if (w(b)) {
    for (var k = Uk(a.b, b), l = 0;l < c.length;l++) {
      fl(k, c[l]);
    }
    f = [b];
  } else {
    g = b;
    f = [];
    for (var l = 0, m = g.length;l < m;l++) {
      var n = g[l].R(), k = Uk(a.b, n);
      -1 == cb(f, n) && f.push(n);
      fl(k, c[l]);
    }
  }
  var p;
  w(b) ? (k = Uk(a.b, b), p = e.request("k", f, Oj), ok(p, function() {
    Sk(this).pb(p, !0, !1, b, c, d);
  }, a)) : (p = e.request("l", f, Oj), ok(p, function() {
    Sk(this).Tf(p, c, g);
  }, a));
  return p;
}
function ol(a, b) {
  for (var c = [], d = 0, e = b.length;d < e;d++) {
    var f = b[d].R();
    -1 == cb(c, f) && c.push(f);
  }
  var g = a.mb.request("o", c, Oj);
  ok(g, function() {
    Sk(this).Vf(g, b);
  }, a);
  return g;
}
function pl(a, b, c) {
  var d = a.mb.request("n", [b], Oj);
  ok(d, function() {
    Sk(this).Be(d, b, c || null);
  }, a);
  return d;
}
function ql(a, b, c, d, e, f, g) {
  f = f || 100;
  var k, l = g || 0, m = sj(d);
  w(c) ? (k = a.mb.request("u", [b]), ok(k, function() {
    Sk(this).list(k, 4, b, c, m, f, l, e, !1);
  }, a)) : (k = a.mb.request("s", [b]), ok(k, function() {
    Sk(this).list(k, 4, b, null, m, f, l, e, !1);
  }, a));
  return k;
}
function rl(a, b) {
  var c = [], d = b.length;
  if (0 == d) {
    return qk("g", []);
  }
  for (var e = 0;e < d;e++) {
    var f = b[e].R();
    -1 == cb(c, f) && c.push(f);
  }
  var g = a.mb.request("g", c);
  ok(g, function() {
    Sk(a).Lf(g, b);
  }, a);
  return g;
}
function sl(a, b, c, d, e, f, g, k) {
  var l;
  e = e || 100;
  w(c) ? (l = a.mb.request("i", [b]), ok(l, function() {
    Sk(this).list(l, 2, b, c, d, e, f, g, k);
  }, a)) : (l = a.mb.request("g", [b]), ok(l, function() {
    Sk(this).list(l, 2, b, null, d, e, f, g, k);
  }, a));
  return l;
}
h.clear = function(a, b) {
  var c;
  if (w(a)) {
    var d = Uk(this.b, a);
    if (!d) {
      throw new O('store name "' + a + '" not found.');
    }
    if (x(b)) {
      var e = sj(b);
      if (null === e) {
        throw new O("clear method requires a valid non-null KeyRange object.");
      }
      N(this.logger, "clearByKeyRange: " + a + ":" + Oi(e));
      c = this.a.request("c", [a], Oj);
      cl(d, c, [a, e]);
      ok(c, function() {
        Sk(this).Hg(c, a, e);
      }, this);
    } else {
      if (t(b)) {
        throw new O("clear method requires a valid KeyRange object as second argument, but found " + b + " of type " + typeof b);
      }
      N(this.logger, "clearByStore: " + a);
      c = this.a.request("c", [a], Oj);
      ok(c, function() {
        Sk(this).Se(c, [a]);
      }, this);
    }
  } else {
    if (!t(a) || u(a) && w(a[0])) {
      var f = a || el(this.b);
      N(this.logger, "clearByStores: " + Oi(f));
      c = this.a.request("c", f, Oj);
      ok(c, function() {
        Sk(this).Se(c, f);
      }, this);
    } else {
      throw new O('first argument "' + a + '" is invalid.');
    }
  }
  return c;
};
h.remove = function(a, b, c) {
  var d;
  if (w(a)) {
    var e = Uk(this.b, a);
    if (!e) {
      throw new O('store name "' + a + '" not found.');
    }
    if (t(c)) {
      if (w(b)) {
        var f = Tj(e, b);
        if (!f) {
          throw new O("index: " + b + " not found in " + a);
        }
        if (x(c) || null === c) {
          var g = sj(c);
          N(this.logger, "removeByIndexKeyRange: " + a + ":" + f.getName() + " " + a);
          d = this.a.request("p", [a], Oj);
          ok(d, function() {
            Sk(this).Xh(d, a, f.getName(), g);
          }, this);
        } else {
          throw new O("key range " + c + ' is invalid type "' + typeof c + '".');
        }
      } else {
        throw new O('index name "' + b + '" must be a string, but ' + typeof b + " found.");
      }
    } else {
      if (w(b) || ha(b) || fa(b) || b instanceof Date) {
        N(this.logger, "removeById: " + a + ":" + b);
        d = this.a.request("m", [a], Oj);
        var k = [a, b];
        cl(e, d, k);
        ok(d, function() {
          Sk(this).Uf(d, a, k[1]);
        }, this);
        e.jc && d.i(function(c) {
          c = 1 == c ? b : void 0;
          c = new jl(tl, this.S(), a, c, void 0);
          this.S().bb(c);
        }, this);
      } else {
        if (x(b)) {
          g = sj(b), N(this.logger, "removeByKeyRange: " + a + ":" + Oi(g)), d = this.a.request("n", [a], Oj), cl(e, d, [a, g]), ok(d, function() {
            Sk(this).Be(d, a, g);
          }, this), e.jc && d.i(function(b) {
            var c = [];
            c.length = b;
            b = new gl(tl, this.S(), a, c, void 0);
            this.S().bb(b);
          }, this);
        } else {
          throw new O('Invalid key or key range "' + b + '" of type ' + typeof b);
        }
      }
    }
  } else {
    if (a instanceof Bk) {
      var l = a.R(), e = Uk(this.b, l);
      d = this.a.request("m", [l], Oj);
      var m = [l, a.N()];
      cl(e, d, m);
      ok(d, function() {
        Sk(this).Uf(d, l, m[1]);
      }, this);
    } else {
      if (u(a)) {
        c = [];
        for (var e = 0, n = a.length;e < n;e++) {
          var p = a[e].R();
          -1 == cb(c, p) && c.push(p);
        }
        if (1 > c.length) {
          throw new O('at least one valid key required in key list "' + Ni(a) + '"');
        }
        d = this.a.request("o", c, Oj);
        ok(d, function() {
          Sk(this).Vf(d, a);
        }, this);
      } else {
        throw new O('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "' + Ni(a) + '" (' + ea(a) + ") found.");
      }
    }
  }
  return d;
};
function ul(a, b, c, d) {
  Rk.call(this, a, b, c, d);
}
A(ul, bl);
h = ul.prototype;
h.logger = J("ydn.db.core.DbOperator");
h.get = function(a, b) {
  if (a instanceof Zj) {
    var c = a.R(), d = Uk(this.b, c);
    if (!d) {
      throw new O('store "' + c + '" not found.');
    }
    var e = a.b;
    if (t(e) && !vl(d, e)) {
      throw new O('index "' + e + '" not found in store "' + c + '".');
    }
    N(this.logger, "getByIterator:" + a);
    var f = this.a.request("f", [c]);
    ok(f, function() {
      wl(this, 5, f, a, 1);
    }, this);
    return f;
  }
  return ul.j.get.call(this, a, b);
};
h.Gh = function(a, b) {
  var c = 100;
  if (ha(b)) {
    if (c = b, 1 > c) {
      throw new O("limit must be a positive value, but " + b);
    }
  } else {
    if (t(b)) {
      throw new O("limit must be a number,  but " + b);
    }
  }
  N(this.logger, "keysOf:" + a);
  var d = this.a.request("h", [a.R()]);
  ok(d, function() {
    a.D ? wl(this, 1, d, a, c) : wl(this, 2, d, a, c);
  }, this);
  return d;
};
h.keys = function(a, b, c, d, e, f, g) {
  return a instanceof Zj ? this.Gh(a, b) : ul.j.keys.call(this, a, b, c, d, e, f, g);
};
h.Lg = function(a) {
  N(this.logger, "countIterator:" + a);
  var b = this.a.request("d", [a.R()]);
  ok(b, function() {
    wl(this, 6, b, a);
  }, this);
  return b;
};
h.count = function(a, b, c, d) {
  if (a instanceof Zj) {
    if (t(b) || t(c)) {
      throw new O("too many arguments.");
    }
    return this.Lg(a);
  }
  return ul.j.count.call(this, a, b, c, d);
};
h.ji = function(a, b) {
  var c;
  if (ha(b)) {
    if (c = b, 1 > c) {
      throw new O("limit must be a positive value, but " + c);
    }
  } else {
    if (t(b)) {
      throw new O("limit must be a number, but " + b);
    }
  }
  N(this.logger, "listByIterator:" + a);
  var d = this.a.request("t", [a.R()]);
  ok(d, function() {
    a.a ? wl(this, 2, d, a, c) : wl(this, 4, d, a, c);
  }, this);
  return d;
};
h.values = function(a, b, c, d, e, f) {
  return a instanceof Zj ? this.ji(a, b) : ul.j.values.call(this, a, b, c, d, e, f);
};
function xl(a, b, c) {
  var d, e = [];
  for (d = 0;d < c.length;d++) {
    for (var f = c[d].stores(), g = 0;g < f.length;g++) {
      mb(e, f[g]) || e.push(f[g]);
    }
  }
  N(a.logger, a + ": scan for " + c.length + " iterators on " + e);
  d = a.a.request("qa", e);
  a.a.be(d, function(d, e, f) {
    function g(b) {
      for (var c = 0;c < W.length;c++) {
        Xj(W[c]);
      }
      nb(W);
      N(a.logger, r + " error");
      f(b, !0);
    }
    function p(d, e) {
      if (v) {
        throw new yl;
      }
      ua++;
      var g = ua === z, k = F[d], l = c[k], n = W[k], k = n.ta(), n = n.Y();
      P[d] = e;
      U[d] = l.D ? l.a ? k : n : l.a ? e : n;
      if (g) {
        var p;
        p = b(P, U);
        g = [];
        l = [];
        k = [];
        n = [];
        if (u(p)) {
          for (var ka = 0;ka < p.length;ka++) {
            !0 === p[ka] ? k[ka] = 1 : !1 === p[ka] ? n[ka] = !0 : l[ka] = p[ka];
          }
        } else {
          if (null === p) {
            g = [];
          } else {
            if (t(p)) {
              if (x(p)) {
                g = p.continuePrimary || [], l = p["continue"] || [], k = p.advance || [], n = p.restart || [];
              } else {
                throw new ef("scan callback output");
              }
            } else {
              for (g = [], ka = 0;ka < c.length;ka++) {
                t(F[ka]) && (k[ka] = 1);
              }
            }
          }
        }
        for (ka = ua = p = 0;ka < c.length;ka++) {
          null != g[ka] || t(l[ka]) || null != n[ka] || null != k[ka] || ua++;
        }
        for (ka = 0;ka < c.length;ka++) {
          if (null != g[ka] || t(l[ka]) || null != n[ka] || null != k[ka]) {
            var No = F[ka];
            if (!t(No)) {
              throw new zl(ka + " is not an iterator.");
            }
            var No = c[No], Po = W[ka];
            P[ka] = void 0;
            U[ka] = void 0;
            if (null != n[ka]) {
              Po.restart();
            } else {
              if (t(l[ka])) {
                Po.$c(l[ka]);
              } else {
                if (null != g[ka]) {
                  Po.ke(g[ka]);
                } else {
                  if (null != k[ka]) {
                    Po.advance(1);
                  } else {
                    throw new yl(No + ": has no action");
                  }
                }
              }
            }
            p++;
          }
        }
        if (0 == p) {
          for (g = 0;g < W.length;g++) {
            Xj(W[g]);
          }
          v = !0;
          nb(W);
          N(a.logger, "success " + r);
          f(void 0);
        }
      }
    }
    var r = e + " " + a + " scanning";
    M(a.logger, r);
    var v = !1, z, F = [], P = [], U = [], W = [], ua = 0;
    (function() {
      for (var b = 0, f = 0;f < c.length;f++) {
        var m = c[f], r = [Sk(a).b(d, e, m.R())], m = m.load(r);
        m.ka = g;
        m.V = qa(p, b);
        W[f] = m;
        F[b] = f;
        b++;
      }
      z = c.length;
    })();
  }, e, Nj);
  return d;
}
h.open = function(a, b, c, d) {
  c = c || Nj;
  var e = this, f = this.a.request("i5", b.stores(), c);
  N(this.logger, "open:" + c + " " + b);
  ok(f, function(c) {
    var k = pk(f);
    N(e.logger, k + " iterating " + b);
    for (var l = b.stores(), m = [], n = 0;n < l.length;n++) {
      m[n] = Sk(e).b(c, k, l[n]);
    }
    var p = b.load(m);
    p.ka = function(a) {
      S(f, a, !0);
    };
    p.V = function(b) {
      null != b ? (b = a.call(d, p), !0 === b ? p.restart() : x(b) ? !0 === b.restart ? p.restart(b["continue"], b.continuePrimary) : null != b["continue"] ? p.$c(b["continue"]) : null != b.continuePrimary ? p.ke(b.continuePrimary) : (Xj(p), S(f, void 0)) : null === b ? (Xj(p), S(f, void 0)) : null != b ? p.$c(b) : p.advance(1)) : (Xj(p), S(f, void 0));
    };
  }, this);
  return f;
};
function wl(a, b, c, d, e) {
  var f = [], g = c.a, k = pk(c), l = k + " " + b + "ByIterator " + d;
  0 < e && (l += " limit " + e);
  N(a.logger, l);
  for (var m = Sk(a), n = [], p = d.stores(), r = 0;r < p.length;r++) {
    n[r] = m.b(g, k, p[r]);
  }
  var v = d.load(n);
  v.ka = function(a) {
    Xj(v);
    S(c, a, !0);
  };
  var z = 0, F = !1;
  v.V = function(d) {
    F || (M(a.logger, l + " starting"), F = !0);
    null != d ? (v.ta(), z++, 1 == b ? f.push(d) : 2 == b ? f.push(v.ta()) : 3 == b ? f.push([d, v.ta()]) : 6 != b && f.push(v.Y()), 5 == b ? (Xj(v), S(c, f[0])) : 6 == b || !t(e) || z < e ? v.$c() : (N(a.logger, "success:" + l + " yields " + f.length + " records"), Xj(v), S(c, f))) : (N(a.logger, "success:" + l + " yields " + f.length + " records"), Xj(v), S(c, 5 == b ? f[0] : 6 == b ? z : f));
  };
}
;function Al(a, b, c, d, e, f) {
  B.call(this, e, f);
  this.J = a;
  this.a = [];
  this.ga = !!b;
  this.fe = !!c;
  this.Xa = !!d;
  for (b = this.oa = 0;b < a.length;b++) {
    a[b].u(pa(this.V, this, b, !0), pa(this.V, this, b, !1));
  }
  0 != a.length || this.ga || this.callback(this.a);
}
A(Al, B);
Al.prototype.V = function(a, b, c) {
  this.oa++;
  this.a[a] = [b, c];
  this.f || (this.ga && b ? this.callback([a, c]) : this.fe && !b ? this.C(c) : this.oa == this.J.length && this.callback(this.a));
  this.Xa && !b && (c = null);
  return c;
};
Al.prototype.C = function(a) {
  Al.j.C.call(this, a);
  for (a = 0;a < this.J.length;a++) {
    wc(this.J[a]);
  }
};
function Bl(a) {
  return (new Al(a, !1, !0)).i(function(a) {
    for (var c = [], d = 0;d < a.length;d++) {
      c[d] = a[d][1];
    }
    return c;
  });
}
;var hl = "created", tl = "deleted", ll = "updated";
function Cl(a, b) {
  G.call(this, a, b);
}
A(Cl, G);
Cl.prototype.R = function() {
  return this.ia;
};
function Dl(a, b, c) {
  G.call(this, a, b);
  this.version = c;
}
A(Dl, Cl);
Dl.prototype.name = "ReadyEvent";
Dl.prototype.version = NaN;
function El(a, b, c) {
  G.call(this, c || "error", a);
  this.error = b;
}
A(El, Cl);
El.prototype.toString = function() {
  return this.name + ":" + (this.error ? this.error : "");
};
El.prototype.name = "ErrorEvent";
El.prototype.error = null;
El.prototype.getError = function() {
  return this.error;
};
function Fl(a, b) {
  El.call(this, a, b, "fail");
}
A(Fl, El);
Fl.prototype.name = "FailEvent";
function jl(a, b, c, d, e) {
  G.call(this, a, b);
  this.ia = c;
  this.key = d;
  this.value = e;
}
A(jl, Cl);
jl.prototype.name = "RecordEvent";
jl.prototype.Y = function() {
  return this.value;
};
function gl(a, b, c, d, e) {
  G.call(this, a, b);
  this.ia = c;
  this.keys = d;
  this.values = e;
}
A(gl, Cl);
gl.prototype.name = "StoreEvent";
gl.prototype.Ta = function() {
  return this.keys;
};
gl.prototype.Fa = function() {
  return this.values;
};
Fb("Firefox");
var Gl = Lc() || Fb("iPod"), Hl = Fb("iPad");
!Fb("Android") || Tb() || Fb("Firefox") || Sb() || Fb("Silk");
Tb();
var Il = Fb("Safari") && !(Tb() || Fb("Coast") || Sb() || Fb("Edge") || Fb("Silk") || Fb("Android")) && !(Lc() || Fb("iPad") || Fb("iPod"));
function Jl(a, b, c, d, e, f) {
  t(e) || (e = u(a) ? a.join(", ") : a);
  if (null != a && !w(a) && !fa(a)) {
    throw new O("index keyPath for " + e + " must be a string or array, but " + a + " is " + typeof a);
  }
  !t(a) && t(e) && (a = e.replace(/[,\s]/g, ""));
  this.keyPath = a;
  this.l = fa(this.keyPath);
  this.a = e;
  this.type = Kl(b);
  if (t(b)) {
    if (!t(this.type)) {
      throw new O("type invalid in index: " + this.a);
    }
    if (u(this.keyPath)) {
      throw new O('composite key for store "' + this.a + '" must not specified type');
    }
  }
  this.unique = !!c;
  this.multiEntry = !!d;
  this.o = w(this.type) ? this.type : Ll;
  this.f = w(e) ? e : u(a) ? this.keyPath.join(",") : a;
  this.c = Sa(this.f);
  this.b = this.l ? null : this.keyPath.split(".");
  this.h = f || null;
}
function Ml(a, b) {
  if (null != b) {
    if (fa(a.keyPath)) {
      for (var c = [], d = 0, e = a.keyPath.length;d < e;d++) {
        var f = Aj(b, a.keyPath[d]);
        c[d] = f;
      }
      return c;
    }
    return Aj(b, a.keyPath);
  }
}
function Nl(a, b, c) {
  for (var d = 0;d < a.b.length;d++) {
    d == a.b.length - 1 ? b[a.b[d]] = c : x(b[a.b[d]]) || (b[a.b[d]] = {});
  }
}
var Ll = "TEXT";
function yj(a, b) {
  if ("DATE" == b) {
    if (a instanceof Date) {
      return +a;
    }
  } else {
    return null != b ? a : Dj(a);
  }
}
function Ol(a, b) {
  return "DATE" == b ? new Date(a) : t(b) ? a : Gj(a);
}
var Pl = ["BLOB", "DATE", "INTEGER", "NUMERIC", Ll];
function Kl(a) {
  if (w(a)) {
    return a = cb(Pl, a), Pl[a];
  }
}
Jl.prototype.getName = function() {
  return this.a;
};
Jl.prototype.toJSON = function() {
  return {name:this.a, keyPath:this.keyPath, type:this.type, unique:this.unique, multiEntry:this.multiEntry};
};
Jl.prototype.clone = function() {
  var a = u(this.keyPath) ? rb(this.keyPath) : this.keyPath;
  return new Jl(a, this.type, this.unique, this.multiEntry, this.a, this.h);
};
function Ql(a, b) {
  return null != a || null != b ? null != a ? null != b ? fa(a) && fa(b) ? yb(a, b) ? null : "expect: " + a + ", but: " + b : Rl(a, b) ? null : "expect: " + a + ", but: " + b : "keyPath: " + a + " no longer defined" : "newly define " + b : null;
}
Jl.prototype.hint = function(a) {
  if (!a) {
    return this;
  }
  var b = u(this.keyPath) ? rb(this.keyPath) : this.keyPath, c = this.type;
  t(a.type) || "TEXT" != c || (c = void 0);
  return new Jl(b, c, this.unique, this.multiEntry, a.a);
};
function Sl(a, b) {
  a.h = b;
}
;function Wk(a, b, c, d, e, f, g, k) {
  if (!w(a)) {
    throw new O("store name must be a string");
  }
  this.c = a;
  this.keyPath = t(b) ? b : null;
  this.o = fa(this.keyPath);
  if (null !== this.keyPath && !w(this.keyPath) && !this.o) {
    throw new O("keyPath must be a string or array");
  }
  this.autoIncrement = !!c;
  var l;
  if (null != d) {
    l = Kl(d);
    if (!t(l)) {
      throw new O('type "' + d + '" for primary key in store "' + this.c + '" is invalid.');
    }
    if (this.o) {
      throw new O('composite key for store "' + this.c + '" must not specified type');
    }
  }
  this.type = null != l ? l : this.autoIncrement ? "INTEGER" : void 0;
  this.h = w(this.keyPath) ? this.keyPath.split(".") : [];
  this.indexes = e || [];
  a = [];
  for (b = 0;b < this.indexes.length;b++) {
    c = this.indexes[b].getName();
    if (0 <= a.indexOf(c)) {
      throw new O('index "' + c + '" already defined in store: ' + this.c);
    }
    a.push(c);
  }
  this.jc = !!f;
  this.Ad = !!g;
  this.s = w(this.type) ? this.type : Ll;
  this.f = u(this.keyPath) ? this.keyPath.join(",") : w(this.keyPath) ? this.keyPath : "_ROWID_";
  this.b = Sa(this.f);
  this.J = !!k;
  this.l = [];
}
h = Wk.prototype;
h.jc = !1;
h.Ad = !1;
h.toJSON = function() {
  for (var a = [], b = 0;b < this.indexes.length;b++) {
    a.push(this.indexes[b].toJSON());
  }
  return {name:this.c, keyPath:this.keyPath, autoIncrement:this.autoIncrement, type:this.type, indexes:a};
};
function Vk(a) {
  var b = [], c = a.indexes || [];
  if (u(c)) {
    for (var d = 0;d < c.length;d++) {
      var e;
      e = c[d];
      e = new Jl(e.keyPath, e.type, e.unique, e.multiEntry, e.name, e.generator);
      t(e.keyPath) && e.keyPath === a.keyPath || b.push(e);
    }
  }
  return new Wk(a.name, a.keyPath, a.autoIncrement, "undefined" === a.type || "null" === a.type ? void 0 : a.type, b, a.dispatchEvents, a.fixed, a.encrypted);
}
function Tl(a, b, c, d, e, f, g) {
  a = Ul(a, b, c, d, e, f, g);
  b = "";
  0 != c && (b += "SELECT " + a.select);
  b += " FROM " + a.from;
  a.xa && (b += " WHERE " + a.xa);
  a.group && (b += " GROUP BY " + a.group);
  a.Oc && (b += " ORDER BY " + a.Oc);
  return b;
}
function Ul(a, b, c, d, e, f, g) {
  var k = {select:"", from:"", xa:"", group:"", Oc:""}, l = a.f, m = a.b, n = null;
  d !== l && w(d) && (n = Tj(a, d));
  var p = !!n, r = d || l, v = Sa(r), z = p ? n.type : a.type, F = p && n.multiEntry;
  k.from = Vl(a);
  6 === c ? k.select = "COUNT(" + m + ")" : 3 === c || 1 === c || 2 === c ? (k.select = m, null != d && d != l && (k.select += ", " + v)) : k.select = "*";
  d = g ? "DISTINCT " : "";
  l = [];
  F ? (F = Sa("ydn.db.me:" + a.getName() + ":" + n.getName()), k.select = 6 === c ? "COUNT(" + d + F + "." + v + ")" : 3 === c || 1 === c || 2 === c ? "DISTINCT " + Vl(a) + "." + m + ", " + F + "." + v + " AS " + r : "DISTINCT " + Vl(a) + ".*, " + F + "." + v + " AS " + r, k.from = F + " INNER JOIN " + Vl(a) + " USING (" + m + ")", null != e && (wj(F + "." + v, z, e, l, b), 0 < l.length && (k.xa = k.xa ? k.xa + (" AND " + l.join(" AND ")) : l.join(" AND ")))) : null != e && (wj(v, z, e, l, b), 0 < 
  l.length && (k.xa = k.xa ? k.xa + (" AND " + l.join(" AND ")) : l.join(" AND ")));
  p && !n.unique && g && (k.group = v);
  a = f ? "DESC" : "ASC";
  k.Oc = v + " " + a;
  p && (k.Oc += ", " + m + " " + a);
  return k;
}
function Wl(a, b, c, d, e, f, g, k, l) {
  var m, n, p, r;
  null != e ? (m = e.lower, n = e.upper, p = e.lowerOpen, r = e.upperOpen, f ? null != n ? (e = xj(k, n), -1 == e ? (n = k, r = l) : 0 == e && (r = l || r)) : (n = k, r = l) : null != m ? (e = xj(k, m), 1 == e ? (m = k, p = l) : 0 == e && (p = l || p)) : (m = k, p = l)) : f ? (n = k, r = l) : (m = k, p = l);
  e = new mj(m, n, !!p, !!r);
  d = d ? Tj(a, d) : null;
  b = Ul(a, c, b, d ? d.f : a.f, e, f, g);
  b = "SELECT " + b.select + " FROM " + b.from + (b.xa ? " WHERE " + b.xa : "") + (b.group ? " GROUP BY " + b.group : "") + " ORDER BY " + b.Oc;
  d && (b += ", " + a.b + (f ? "DESC" : "ASC"));
  return b;
}
function Xl(a, b, c, d, e, f, g, k, l, m) {
  var n = Tj(a, d), p = n.f;
  d = n.c;
  var r = a.b, v = l ? " <" : " >", v = g ? v + " " : v + "= ";
  g = yj(f, n.type);
  k = yj(k, a.type);
  n = "";
  e ? (a = Ul(a, c, b, p, e, l, m), a.xa += " AND ", n = d + v + "?", c.push(g)) : (e = l ? pj(f, !0) : new mj(f, void 0, !0, void 0), a = Ul(a, c, b, p, e, l, m), n = a.xa, a.xa = "");
  a.xa += "(" + n + " OR (" + d + " = ? AND " + r + v + "?))";
  c.push(g);
  c.push(k);
  return "SELECT " + a.select + " FROM " + a.from + " WHERE " + a.xa + (a.group ? " GROUP BY " + a.group : "") + " ORDER BY " + a.Oc;
}
h.clone = function() {
  return Vk(this.toJSON());
};
function ml(a) {
  return a.indexes.length;
}
h.index = function(a) {
  return this.indexes[a] || null;
};
function Tj(a, b) {
  return kb(a.indexes, function(a) {
    return a.getName() == b;
  });
}
function Sj(a, b) {
  for (var c = 0;c < a.indexes.length;c++) {
    if (!Ql(a.indexes[c].keyPath, b)) {
      return a.indexes[c];
    }
  }
  return null;
}
function vl(a, b) {
  return b === a.keyPath ? !0 : hb(a.indexes, function(a) {
    return a.getName() == b;
  });
}
function Vl(a) {
  return Sa(a.c);
}
function Yl(a, b) {
  if (!b) {
    return a;
  }
  var c = a.autoIncrement, d = u(a.keyPath) ? rb(a.keyPath) : a.keyPath, e = a.type, f = gb(a.indexes, function(a) {
    return a.clone();
  });
  t(b.type) || "TEXT" != e || (e = void 0);
  u(b.keyPath) && w(d) && d == b.keyPath.join(",") && (d = rb(b.keyPath));
  for (var g = 0, k = b.indexes.length;g < k;g++) {
    if (b.indexes[g].l) {
      for (var l = b.indexes[g].getName(), m = f.length - 1;0 <= m;m--) {
        if (0 <= l.indexOf(f[m].getName())) {
          f[m] = b.indexes[g].clone();
          break;
        }
      }
    }
  }
  for (g = 0;g < f.length;g++) {
    (k = Tj(b, f[g].getName())) && (f[g] = f[g].hint(k));
  }
  return new Wk(b.c, d, c, e, f);
}
h.getName = function() {
  return this.c;
};
function il(a, b, c) {
  if (b) {
    if (!a.keyPath && null != c) {
      return c;
    }
    if (a.o) {
      c = [];
      for (var d = 0;d < a.keyPath.length;d++) {
        c.push(Aj(b, a.keyPath[d]));
      }
      return c;
    }
    if (a.keyPath) {
      return Jb(b, a.h);
    }
  }
}
function kl(a, b, c) {
  for (var d = 0;d < a.h.length;d++) {
    var e = a.h[d];
    if (d == a.h.length - 1) {
      b[e] = c;
      break;
    }
    t(b[e]) || (b[e] = {});
    b = b[e];
  }
}
function Zl(a, b, c) {
  var d = [], e = [];
  c = t(c) ? c : il(a, b);
  t(c) && (e.push(a.b), d.push(yj(c, a.type)));
  for (var f = 0;f < a.indexes.length;f++) {
    var g = a.indexes[f];
    if (!g.multiEntry && g.getName() !== a.keyPath && "_default_" != g.getName()) {
      var k = Ml(g, b);
      null != k && (d.push(yj(k, g.type)), e.push(g.c));
    }
  }
  a.Ad ? a.Ad && !a.keyPath && 0 == ml(a) && (w(b) && -1 == b.indexOf(";base64,") ? d.push(b) : d.push(Oi(b)), e.push("_default_")) : (d.push(Oi(b)), e.push("_default_"));
  a = [];
  for (f = d.length - 1;0 <= f;f--) {
    a[f] = "?";
  }
  return {Ti:e, pk:a, values:d, key:c};
}
function Xk(a, b) {
  if (!b) {
    return "missing store: " + a.c;
  }
  if (a.c != b.c) {
    return "store name, expect: " + a.c + ", but: " + b.c;
  }
  var c = Ql(a.keyPath, b.keyPath);
  if (c) {
    return "keyPath, " + c;
  }
  if (t(a.autoIncrement) && t(b.autoIncrement) && a.autoIncrement != b.autoIncrement) {
    return "autoIncrement, expect:  " + a.autoIncrement + ", but: " + b.autoIncrement;
  }
  if (a.indexes.length != b.indexes.length) {
    return "indexes length, expect:  " + a.indexes.length + ", but: " + b.indexes.length;
  }
  if (t(a.type) && t(b.type) && (fa(a.type) ? !yb(a.type, b.type) : a.type != b.type)) {
    return "data type, expect:  " + a.type + ", but: " + b.type;
  }
  for (c = 0;c < a.indexes.length;c++) {
    var d = Tj(b, a.indexes[c].getName()), e;
    e = a.indexes[c];
    if (d) {
      if (e.a != d.a) {
        e = "name, expect: " + e.a + ", but: " + d.a;
      } else {
        var f = Ql(e.keyPath, d.keyPath);
        e = f ? "keyPath, " + f : null != e.unique && null != d.unique && e.unique != d.unique ? "unique, expect: " + e.unique + ", but: " + d.unique : null != e.multiEntry && null != d.multiEntry && e.multiEntry != d.multiEntry ? "multiEntry, expect: " + e.multiEntry + ", but: " + d.multiEntry : t(e.type) && t(d.type) && (fa(e.type) ? !yb(e.type, d.type) : e.type != d.type) ? "data type, expect: " + e.type + ", but: " + d.type : "";
      }
    } else {
      e = "no index for " + e.a;
    }
    if (0 < e.length) {
      return 'index "' + a.indexes[c].getName() + '" ' + e;
    }
  }
  return "";
}
function fl(a, b) {
  if (b) {
    for (var c = 0;c < a.indexes.length;c++) {
      var d = a.indexes[c], e = b;
      if (d.h) {
        var f = d.h(e), g = typeof f;
        if ("string" == g || "number" == g || f instanceof Date || u(f)) {
          for (g = 0;g < d.b.length - 1;g++) {
            x(e[d.b[g]]) || (e[d.b[g]] = {});
          }
          e[d.b[d.b.length - 1]] = f;
        }
      }
    }
  }
}
function $l(a, b) {
  a.l.push(b);
}
function cl(a, b, c, d, e) {
  for (var f = 0;f < a.l.length;f++) {
    d !== f && a.l[f].call(e, b, c);
  }
}
function am(a, b) {
  for (var c = 0;c < a.indexes.length;c++) {
    if (a.indexes[c].getName() == b) {
      return c;
    }
  }
  return -1;
}
;function bm(a, b, c) {
  this.ia = a;
  this.a = b;
  this.b = c || 1;
}
bm.prototype.R = function() {
  return this.ia;
};
function cm(a, b, c, d) {
  this.name = a;
  this.indexes = b;
  this.lang = c || "";
  this.b = d || null;
  this.a = null;
}
cm.prototype.getName = function() {
  return this.name;
};
cm.prototype.count = function() {
  return this.indexes.length;
};
cm.prototype.index = function(a) {
  return this.indexes[a];
};
function dm(a, b, c) {
  return kb(a.indexes, function(a) {
    return a.R() == b && a.a == c;
  });
}
function em(a) {
  if (!u(a.sources)) {
    throw new O("indexes require for full text search index " + a.name + ", but " + a.sources + " of type " + typeof a.sources + " found.");
  }
  var b = a.sources.map(function(a) {
    return new bm(a.storeName, a.keyPath, a.weight);
  });
  return new cm(a.name, b, a.lang);
}
;function fm(a, b) {
  var c, d, e = b;
  if (x(a)) {
    d = a;
    c = d.version;
    for (var e = [], f = d.stores || [], g = 0;g < f.length;g++) {
      var k = Vk(f[g]);
      e.push(k);
    }
  } else {
    w(a) ? c = 0 == a.length ? void 0 : parseFloat(a) : ha(a) && (c = a);
  }
  if (t(c)) {
    if (!ha(c) || 0 > c) {
      throw new O("Invalid version: " + c + " (" + a + ")");
    }
    isNaN(c) && (c = void 0);
  }
  if (t(b) && (!u(b) || 0 < b.length && !(b[0] instanceof Wk))) {
    throw new O("stores");
  }
  this.version = c;
  this.pd = !t(this.version);
  this.stores = e || [];
  c = [];
  if (d && d.fullTextCatalogs) {
    for (g = 0;g < d.fullTextCatalogs.length;g++) {
      e = em(d.fullTextCatalogs[g]), c[g] = e, Uk(this, e.getName()) || (f = [new Jl("k", Ll), new Jl("v", Ll)], e = new Wk(e.getName(), "id", !1, void 0, f, !1, !1, !1), this.stores.push(e));
    }
  }
  this.a = c;
}
h = fm.prototype;
h.toJSON = function() {
  var a = gb(this.stores, function(a) {
    return a.toJSON();
  }), b = {};
  b.stores = a;
  t(this.version) && (b.version = this.version);
  return b;
};
h.pd = !1;
h.Cc = function() {
  return !1;
};
function el(a) {
  return gb(a.stores, function(a) {
    return a.getName();
  });
}
h.store = function(a) {
  return this.stores[a] || null;
};
h.count = function() {
  return this.stores.length;
};
function Uk(a, b) {
  return kb(a.stores, function(a) {
    return a.getName() == b;
  });
}
function dl(a, b) {
  return hb(a.stores, function(a) {
    return a.getName() == b;
  });
}
function gm(a, b, c, d) {
  if (!b || a.stores.length != b.stores.length) {
    return "Number of store: " + a.stores.length + " vs " + b.stores.length;
  }
  for (var e = 0;e < a.stores.length;e++) {
    var f = Uk(b, a.stores[e].getName());
    if (f) {
      c && (f = Yl(f, a.stores[e]));
      if (d) {
        for (var g = f, k = a.stores[e], l = 0;l < k.indexes.length;l++) {
          var m = k.indexes[l];
          vl(g, m.getName()) || "BLOB" != m.type || (m = new Jl(m.keyPath, m.type, m.unique, m.multiEntry, m.getName()), g.indexes.push(m));
        }
      }
      f = Xk(a.stores[e], f);
      if (0 < f.length) {
        return 'store: "' + a.stores[e].getName() + '" ' + f;
      }
    } else {
      return 'missing object store "' + a.stores[e].getName() + '"';
    }
  }
  return "";
}
function hm(a, b) {
  return kb(a.a, function(a) {
    return a.getName() == b;
  });
}
;function Yk(a, b) {
  fm.call(this, a, b);
}
A(Yk, fm);
Yk.prototype.Cc = function() {
  return !0;
};
function Zk(a, b) {
  a.stores.push(b);
}
;function im(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, im) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.ArgumentException";
}
A(im, Error);
function jm(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, jm) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.NotSupportedException";
}
A(im, Error);
jm.prototype.name = "ydn.error.NotSupportedException";
function km(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, km) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.NotImplementedException";
}
A(km, Error);
function yl(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, yl) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.InternalError";
}
A(yl, Error);
yl.prototype.name = "ydn.InternalError";
function al(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, al) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.ConstraintError";
}
A(al, Error);
al.prototype.name = "ydn.error.ConstraintError";
function zl(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, zl) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.InvalidOperationException";
}
A(im, Error);
function lm(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, lm) : this.stack = Error().stack || "";
  a && (this.message = String(a));
  this.name = "ydn.error.InvalidOperationError";
}
A(lm, Error);
function mm(a) {
  return "undefined" == typeof a ? void 0 : "number" == typeof a && isNaN(a) ? NaN : Mi(Oi(a));
}
function Rl(a, b) {
  var c;
  c = c || {};
  if (null != a && null != b) {
    if (fa(a) && fa(b)) {
      if (a.length != b.length) {
        return !1;
      }
      for (var d = 0;d < a.length;d++) {
        if (-1 == lb(b, function(b) {
          return Rl(b, a[d]);
        })) {
          return !1;
        }
      }
      return !0;
    }
    if (fa(a)) {
      return 1 == a.length && Rl(a[0], b);
    }
    if (fa(b)) {
      return 1 == b.length && Rl(b[0], a);
    }
    if (x(a) && x(a)) {
      for (var e in a) {
        if (a.hasOwnProperty(e) && !c[e]) {
          var f = Rl(a[e], b[e]);
          if (!f) {
            return !1;
          }
        }
      }
      for (e in b) {
        if (b.hasOwnProperty(e) && !c[e] && (f = Rl(a[e], b[e]), !f)) {
          return !1;
        }
      }
      return !0;
    }
    return a === b;
  }
  return !1;
}
function nm(a) {
  if (a) {
    for (var b in a) {
      if (a.hasOwnProperty(b)) {
        return a[b];
      }
    }
  }
}
;/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
 Licensed under the Apache License, Version 2.0 (the "License");.
*/
function om(a, b, c) {
  c = c || {};
  this.ga = c.mechanisms || (Il || Lc() || Fb("iPad") || Fb("iPod") ? ub(pm, 1) : pm);
  this.D = c.size;
  this.V = t(c.connectionTimeout) ? c.connectionTimeout : 6E4;
  this.c = null;
  this.f = [];
  this.Df = !1;
  var d;
  if (b instanceof fm) {
    d = b;
  } else {
    if (x(b)) {
      c.autoSchema || !t(b.stores) ? d = new Yk(b) : d = new fm(b);
      var e = b.stores ? b.stores.length : 0;
      for (c = 0;c < e;c++) {
        var f = Uk(d, b.stores[c].name);
        b.stores[c].Sync && this.Ji(f, b.stores[c].Sync);
      }
    } else {
      d = new Yk;
    }
  }
  this.b = d;
  for (c = 0;c < this.b.count();c++) {
    this.b.store(c).J && (b = this.b.store(c), K(this.logger, "Encryption option for " + b.getName() + " ignored."));
  }
  if (t(a)) {
    if (this.c) {
      throw new ef("Already connected with " + this.s);
    }
    this.s = a;
    $k(this);
  }
  this.J = null;
  this.l = new B;
}
om.prototype.logger = J("ydn.db.con.Storage");
function qm(a, b) {
  return dl(a.b, b);
}
function rm(a, b, c) {
  return (a = Uk(a.b, b)) ? vl(a, c) : !1;
}
function sm(a) {
  var b;
  if (t(b)) {
    var c = function(a) {
      b(a.toJSON());
      b = void 0;
    };
    a.c ? a.c.Jb(c) : a.transaction(function(b) {
      a.c.Jb(c, b);
    }, null, Nj);
  }
  return a.b ? a.b.toJSON() : null;
}
om.prototype.getName = function() {
  return this.s;
};
var pm = "indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");
h = om.prototype;
h.Mg = function() {
  return null;
};
function $k(a) {
  function b(b, e) {
    b ? (M(a.logger, a + ": ready."), a.Kj = NaN, d.Ke = function(b) {
      a.bb(new El(a, b));
    }, d.og = function(b) {
      a.bb(new Fl(a, b));
      a.c = null;
    }, d.Sf = function(b) {
      a.bb(b);
    }, setTimeout(function() {
      tm(a, e);
      um(a);
    }, 10), c.callback(e)) : (K(a.logger, a + ": database connection fail " + e.name), setTimeout(function() {
      tm(a, new Fl(a, e));
      if (a.f) {
        bf(a.logger, "Purging " + a.f.length + " transactions request.");
        for (var b;b = a.f.shift();) {
          b.qb && b.qb("error", e);
        }
      }
    }, 10), c.C(e));
  }
  for (var c = new B, d = null, e = a.ga, f = 0;f < e.length;f++) {
    var g = e[f].toLowerCase();
    if (d = a.Mg(g)) {
      d = a.Mg(g);
      break;
    }
  }
  null === d ? (e = new al("No storage mechanism found."), b(!1, new Fl(a, e))) : (a.init(), d.connect(a.s, a.b).u(function() {
    this.c = d;
    b(!0, new Dl("ready", this, parseFloat(d.mg())));
  }, function(a) {
    K(this.logger, this + ": opening fail");
    b(!1, a);
  }, a));
}
function Jk(a) {
  if (a.c) {
    return a.c.Je();
  }
}
function Cg(a, b, c) {
  Bc(a.l).G(b, c);
}
function tm(a, b) {
  setTimeout(function() {
    a.b.pd && a.l.f || (b instanceof El ? a.l.C(b.error) : a.l.callback(), a.bb(b));
  }, 4);
}
function Pk(a) {
  return !!a.c && a.c.ng();
}
h.init = function() {
};
h.close = function() {
  this.c && (this.c.close(), this.c = null, M(this.logger, this + " closed"));
};
h.Kj = NaN;
function um(a) {
  var b = a.f.shift();
  b && (M(a.logger, "pop tx queue[" + (a.f.length + 1) + "]"), a.transaction(b.gf, b.scopes, b.mode, b.qb));
  a.Kj = y();
}
function vm(a, b, c, d, e) {
  M(a.logger, "push tx queue[" + a.f.length + "]");
  a.f.push({gf:b, scopes:c, mode:d || Nj, qb:e});
}
h.Df = !1;
h.transaction = function(a, b, c, d) {
  var e = b;
  w(b) ? e = [b] : null != b || (e = null);
  if (this.c && this.c.ng() && !this.Df) {
    var f = this, g = t(c) ? c : Nj;
    g == Pj && (this.Df = !0);
    this.c.Ze(function(b) {
      a(b);
      a = null;
    }, e, g, function(a, b) {
      ia(d) && (d(a, b), d = void 0);
      g == Pj && (f.Df = !1);
      um(f);
    });
  } else {
    vm(this, a, e, c, d);
  }
};
h.Ji = function(a) {
  K(this.logger, "Synchronization option for " + a.getName() + " ignored.");
};
h.Ii = function(a) {
  K(this.logger, "Full text indexer option for " + a.getName() + " ignored.");
};
h.bb = function() {
};
function wm(a, b, c, d) {
  this.f = a;
  this.a = rb(c);
  this.c = d;
  this.b = [];
}
wm.prototype.f = null;
wm.prototype.onCompleted = function(a, b) {
  for (var c = 0;c < this.b.length;c++) {
    this.b[c](a, b);
  }
  this.b.length = 0;
  this.b = this.a = this.f = null;
};
function xm(a, b, c) {
  if (a.f) {
    c && a.b.push(c), b(a.f);
  } else {
    throw new ff("tx committed on ParallelTxExecutor");
  }
}
;function ym(a, b, c, d, e, f) {
  Hk.call(this, a, b, c, d, e, f);
  this.c = this.b = null;
}
A(ym, Hk);
h = ym.prototype;
h.logger = J("ydn.db.tr.Parallel");
h.abort = function() {
  N(this.logger, this + ": aborting");
  Kk(this.c);
};
h.Jk = function(a, b) {
  var c;
  if ("multi" == this.h) {
    a: {
      if (c = this.b, !c.a || !c.c || b != c.c && (c.c != Oj || b != Nj) || a.length > c.a.length) {
        c = !1;
      } else {
        for (var d = 0;d < a.length;d++) {
          if (-1 == c.a.indexOf(a[d])) {
            c = !1;
            break a;
          }
        }
        c = !0;
      }
    }
  } else {
    if ("repeat" == this.h) {
      a: {
        if (c = this.b, c.a && c.c && b == c.c && c.a.length == a.length) {
          for (d = 0;d < a.length;d++) {
            if (-1 == c.a.indexOf(a[d])) {
              c = !1;
              break a;
            }
          }
          c = !0;
        } else {
          c = !1;
        }
      }
    } else {
      c = "all" == this.h ? !0 : !1;
    }
  }
  return c;
};
h.sd = function(a, b, c, d) {
  function e(c) {
    l.l++;
    m = new wm(c, 0, b, k);
    g = l.sb();
    L(l.logger, g + " BEGIN " + Oi(b) + " " + k);
    l.b = m;
    xm(l.b, a, d);
  }
  function f(a, b) {
    L(l.logger, g + " " + a);
    if (m) {
      m.onCompleted(a, b);
    }
    l.a = 0;
  }
  var g;
  this.ga && (b = this.ga);
  this.F && (c = this.F);
  var k = t(c) ? c : Nj, l = this, m;
  if (this.b && this.b.f && this.Jk(b, k)) {
    xm(this.b, a, d);
  } else {
    if (this.J && this.l >= this.J) {
      throw new ef("Exceed maximum number of transactions of " + this.J);
    }
    this.S().transaction(e, b, k, f);
  }
};
h.request = function(a, b, c, d) {
  var e = new ik(a), f = this;
  this.sd(function(a) {
    f.a++;
    jk(e, a, f.sb() + "R" + f.a);
  }, b, c || Nj, function(a, b) {
    lk(e);
    d && d(a, b);
  });
  return e;
};
h.be = function(a, b, c, d, e) {
  var f = this, g;
  this.sd(function(c) {
    f.a++;
    g = f.sb() + "R" + f.a;
    N(f.logger, g + " BEGIN");
    b(c, g, function(b, d) {
      f.c = c;
      g = f.sb() + "R" + f.a;
      d ? (N(f.logger, g + " ERROR"), a.C(b)) : (N(f.logger, g + " SUCCESS"), a.callback(b));
      f.c = null;
    });
    b = null;
    N(f.logger, g + " END");
  }, c, d, e);
};
function zm(a, b) {
  ym.call(this, a, b, Ik);
}
A(zm, ym);
zm.prototype.logger = J("ydn.db.tr.AtomicParallel");
zm.prototype.Jk = function() {
  return !1;
};
zm.prototype.request = function(a, b, c) {
  var d, e, f, g = this, k = zm.j.request.call(this, a, b, c, function(a, b) {
    lk(k);
    N(g.logger, "transaction " + a);
    if (d) {
      "complete" != a && (f = !0, e = b), d(e, f);
    } else {
      var c = new Ak;
      S(k, c, !0);
    }
  });
  nk(k, function(a, b, c) {
    f = b;
    e = a;
    d = c;
  });
  return k;
};
zm.prototype.be = function(a, b, c, d, e) {
  var f, g, k = new B;
  k.u(function(a) {
    g = !1;
    f = a;
  }, function(a) {
    g = !0;
    f = a;
  });
  zm.j.be.call(this, k, b, c, d, function(b, c) {
    if ("complete" != b) {
      a.C(c);
    } else {
      if (!0 === g) {
        a.C(f);
      } else {
        if (!1 === g) {
          a.callback(f);
        } else {
          var d = new Ak;
          a.C(d);
        }
      }
    }
    e && (e(b, c), e = void 0);
  });
};
function Am(a, b, c) {
  om.call(this, a, b, c);
  this.h = 0;
  a = !0;
  b = Ik;
  c && (t(c.isSerial) && (a = !!c.isSerial), c.policy && (b = c.policy));
  c = Bm(this, b, a);
  this.mb = Bm(this, "atomic", !1);
  this.a = this.Wd(c, this.mb);
}
A(Am, om);
Am.prototype.h = 0;
function Cm(a, b, c) {
  b = b || Ik;
  b = Bm(a, b, c, void 0, void 0, void 0);
  return a.Wd(b, a.mb);
}
Am.prototype.Wd = function(a, b) {
  return new Rk(this, this.b, a, b);
};
function Bm(a, b, c, d, e, f) {
  if (c) {
    if ("multi" == b || "repeat" == b || "all" == b || b == Ik) {
      return new Lk(a, a.h++, b, d, e, f);
    }
    if ("atomic" == b) {
      return new Qk(a, a.h++);
    }
    throw new O('Invalid requestType "' + b + '"');
  }
  if ("multi" == b || "repeat" == b || "all" == b || b == Ik) {
    return new ym(a, a.h++, b, d, e, f);
  }
  if ("atomic" == b) {
    return new zm(a, a.h++);
  }
  throw new O('Invalid requestType "' + b + '"');
}
function Dm(a, b, c) {
  a.h++;
  c = c || el(a.b);
  var d = Nj, d = Oj, e = Bm(a, "all", !1, c, d, 1), f = a.Wd(e, a.mb), g = new ik("q");
  e.sd(function(c) {
    M(a.logger, "executing run in transaction on " + e);
    jk(g, c, e.sb() + "R0");
    b(f);
  }, c, d, function(a) {
    lk(g);
    S(g, e.l, "complete" !== a);
  });
  return g;
}
;function Em(a, b, c) {
  Am.call(this, a, b, c);
  a = this.b;
  for (b = 0;b < a.a.length;b++) {
    c = a.a[b];
    var d = Uk(a, c.getName());
    if (d) {
      if (!vl(d, "k")) {
        throw new O('full text index store "' + d.getName() + '" must have "keyword" index');
      }
      if (!vl(d, "v")) {
        throw new O('full text index store "' + d.getName() + '" must have "keyword" index');
      }
      if ("id" != d.keyPath) {
        throw new O('full text index store "' + d.getName() + '" must use "id" as key path.');
      }
    } else {
      throw new O('full text index store "' + c.getName() + '" required.');
    }
    for (d = 0;d < c.count();d++) {
      var e = c.index(d), f = Uk(a, e.R());
      if (f) {
        this.Ii(f, c);
      } else {
        throw new O('full text source store "' + e.R() + '" does not exist for full text index "' + c.getName() + '"');
      }
    }
  }
}
A(Em, Am);
h = Em.prototype;
h.init = function() {
  Em.j.init.call(this);
};
h.Wd = function(a, b) {
  return new bl(this, this.b, a, b);
};
h.add = function(a, b, c) {
  return this.a.add(a, b, c);
};
h.xi = function(a, b, c) {
  return this.a.xi(a, b, c);
};
h.count = function(a, b, c, d) {
  return this.a.count(a, b, c, d);
};
h.Jg = function(a, b, c, d) {
  return this.a.Jg(a, b, c, d);
};
h.get = function(a, b) {
  return this.a.get(a, b);
};
h.keys = function(a, b, c, d, e, f, g) {
  return this.a.keys(a, b, c, d, e, f, g);
};
h.Vd = function(a, b, c, d, e, f, g) {
  return this.a.Vd(a, b, c, d, e, f, g);
};
h.values = function(a, b, c, d, e, f) {
  return this.a.values(a, b, c, d, e, f);
};
h.ra = function(a, b, c, d, e, f, g) {
  return this.a.ra(a, b, c, d, e, f, g);
};
h.list = function(a, b, c, d, e, f, g, k, l) {
  return this.a.list(a, b, c, d, e, f, g, k, l);
};
h.put = function(a, b, c) {
  return this.a.put(a, b, c);
};
h.ze = function(a, b, c) {
  return this.a.ze(a, b, c);
};
h.clear = function(a, b, c) {
  return this.a.clear(a, b, c);
};
h.remove = function(a, b, c) {
  return this.a.remove(a, b, c);
};
function Fm(a, b, c) {
  Em.call(this, a, b, c);
}
A(Fm, Em);
h = Fm.prototype;
h.Wd = function(a, b) {
  return new ul(this, this.b, a, b);
};
h.open = function(a, b, c, d) {
  return this.a.open(a, b, c, d);
};
h.Lg = function(a) {
  return this.a.Lg(a);
};
h.ji = function(a, b) {
  return this.a.ji(a, b);
};
h.Gh = function(a, b) {
  return this.a.Gh(a, b);
};
function Gm(a) {
  for (var b = sm(a), c = 0;c < b.stores.length;c++) {
  }
  this.a = Cm(a, Ik, !1);
  this.f = !1;
  Cg(a, this.J, this);
  this.b = 1E4;
  this.h = Qe.value;
  this.c = 0;
  this.s = pa(this.D, this);
  this.o = !1;
  this.l = {};
}
function Hm(a) {
  if (a.b && a.c >= a.b) {
    var b = a.b / 100;
    100 < b && (b = 100);
    a.a.keys("db-logger", null, b).i(function(a) {
      a = a.map(function(a) {
        return new Bk("db-logger", a);
      });
      this.a.remove(a).i(function() {
        this.a.count("db-logger").i(function(a) {
          this.c = a;
        }, this);
      }, this);
    }, a);
  }
}
function Im() {
  var a = Jm;
  a.b = 1E3;
  Hm(a);
}
Gm.prototype.J = function() {
  this.b && (this.f = !0, this.a.count("db-logger").i(function(a) {
    this.c = a;
    Hm(this);
  }, this));
};
function Km() {
  var a = Jm;
  if (0 != a.o) {
    var b = Ze().a;
    b && ob(b, a.s);
    a.o = !1;
  }
}
Gm.prototype.D = function(a) {
  if (this.f) {
    var b = a.b;
    xa(b, "ydn.db.") || this.l[b] || !(b = a.c) || b.value <= this.h || (a = {level:b.value, logger:a.b, name:b.name, time:a.f, message:a.getMessage(), seq:a.h}, this.a.put("db-logger", a), this.c++, Hm(this));
  }
};
function Lm(a, b) {
  var c = Jm, d = a || 100, e = b || 0, f = qj(["INFO"]);
  return c.a.values("db-logger", "name, time", f, d, e, !0);
}
var Jm = null;
function Mm(a, b, c) {
  if (ha(a)) {
    Nm(a);
  } else {
    if (w(a)) {
      Om(a);
    } else {
      var d = a || {list:"userId"};
      Pm().request(new T("/ga/", "GET", d)).execute(function(a) {
        b ? b.call(c, a) : (delete a.installId, window.ydn_crm_qa_last_ = a, a = a.map(function(a) {
          a.category && (a["cat-act"] = a.category, a.action && (a.lv += "-" + a.action));
          a.label && (a.lv = a.label, a.value && (a.lv += " " + a.value));
          a.ts = (new Date(parseInt(a.key, 10))).toLocaleString();
          return a;
        }), "userId" == d.list && xb(a, function(a, b) {
          return -1 * wb(a.key, b.key);
        }), window.console.table(a, ["cat-act", "lv", "userId", "detail", "ts"]));
      });
    }
  }
}
function Nm(a) {
  var b = 0, c = Pm(), d = new T("/ga/", "GET", {list:"userId"}), b = b || 0, e = a + b || 5;
  c.request(d).execute(function(a) {
    function c(b) {
      b < e && a[b] && Om(a[b].userId, function() {
        c(++b);
      });
    }
    c(b);
  });
}
function Om(a, b) {
  var c = {userId:a}, d = Pm(), c = new T("/ga/", "GET", c);
  window.console.log(a);
  d.request(c).execute(function(a) {
    for (var c = 0;c < a.length;c++) {
      var d = a[c];
      d && d.category && (/^ui/.test(d.category) || /^setup/.test(d.category)) && window.console.log((new Date(parseInt(d.key, 10))).toLocaleString() + " " + d.category + " " + (d.action || "") + " " + (d.label || ""));
    }
    b && b();
  });
}
function Qm(a) {
  x(a) && Rm(a.category, a.action, a.label, a.value);
}
var Sm = 0, Tm = "";
function Rm(a, b, c, d) {
  if (!Um) {
    var e = a + "-" + b;
    if (e == Tm) {
      if (Sm++, 5 <= Sm) {
        return;
      }
    } else {
      Sm = 0;
    }
    Tm = e;
    e = x(d);
    if (!(e && vg || !e && wg)) {
      var e = 0, f = "";
      d && (ha(d) ? e = d : f = w(d) ? d : JSON.stringify(d));
      if (Vm) {
        var g = {key:a + "." + b, segmentation:{}};
        c && (g.segmentation.label = c);
        e && (g.sum = d);
        f && (g.segmentation.detail = f);
        Vm.c(g);
      }
      ug && (g = {}, c && (g[c] = d || 1), tg(a + "." + b, g));
      q._gaq ? "gehcogaddkopajdfhbfgokbongbfijnh" == location.hostname || !q._gaq || 100 < q._gaq.length || q._gaq.push(["_trackEvent", xg || yg, a + "." + b, c, e]) : q.googleAnalytic && q.googleAnalytic("send", a, b, c, e);
    }
  }
}
var Vm = null, ug = null, Um = !1;
function Wm(a) {
  if (!a) {
    return null;
  }
  a.category = a.category || "unknown";
  var b = a.category + "-" + a.action;
  if (b == Xm) {
    if (Ym++, 3 < Ym) {
      return null;
    }
  } else {
    Ym = 0;
  }
  Xm = b;
  a.userId = xg || "";
  a.installId = yg;
  return a;
}
function Zm() {
  var a = $m, b = an();
  Um = 0 <= ["gehcogaddkopajdfhbfgokbongbfijnh", "dgaiampnekgmojepocnpmjmhimhpcmho", "ijgbdfkpglplenkcfdpnhjenhobcidfm"].indexOf(location.host);
  zg();
  Jm = new Gm(a);
  Im();
  Jm.h = 300;
  Jm.l["ydn.db.tr.DbOperator"] = !0;
  Km();
  ri = new bn(a, Wm);
  var c = [cn()];
  c.push(Bg(a).i(function(a) {
    ri.prefix = "ga/" + a;
  }));
  return Bl(c).i(function() {
    if (!Um && !wg) {
      var a = zg();
      q.amplitude && w(a) && amplitude.setVersionName(a);
      q.heap && w(a) && heap.setEventProperties({appVersion:a});
      ug = new qg(b, a, yg, xg);
    }
  });
}
var Xm, Ym;
function cn() {
  var a = new B;
  chrome.storage.sync.get(["disableAnalyticReport", "disableDebugReport"], function(b) {
    wg = !!b.disableAnalyticReport;
    vg = !!b.disableDebugReport;
    a.callback();
  });
  return a;
}
;var dn;
function T(a, b, c, d, e) {
  this.path = a;
  this.method = b ? b.toUpperCase() : "GET";
  this.params = c || {};
  this.headers = d || {};
  this.body = e;
}
;function en(a, b, c, d) {
  w(a) ? this.raw = a : (this.raw = null, this.status = a, this.body = b, this.headers = c || {}, this.a = d);
}
function fn(a) {
  if (a.raw) {
    var b = Mi(a.raw);
    b.gapiRequest && (b = b.gapiRequest.data);
    a.status = b.status;
    a.a = b.statusText;
    a.headers = b.headers;
    a.body = b.body;
    a.raw = null;
  }
}
en.prototype.P = function() {
  fn(this);
  return this.status;
};
function gn(a) {
  fn(a);
  return 200 <= a.status && 400 > a.status;
}
en.prototype.fb = function() {
  fn(this);
  return this.a || "";
};
function hn(a) {
  fn(a);
  return a.body;
}
function jn(a, b) {
  fn(a);
  return a.headers[b];
}
en.prototype.Ld = function() {
  fn(this);
  return this.headers;
};
function kn(a) {
  var b;
  fn(a);
  (b = jn(a, "content-type")) && 0 <= b.toLocaleLowerCase().indexOf("application/json") ? b = !0 : (b = a.body, b = w(b) && !za(b) ? /^[\],:{}\s]*$/.test(b.replace(/\\["\\\/bfnrtu]/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")) : !1);
  return b && w(a.body) ? JSON.parse(a.body) : a.body;
}
function ln(a) {
  return a instanceof en ? a : w(a) ? new en(a) : new en(a.status, a.body, a.headers, a.statusText);
}
;function mn() {
  dn || (dn = new lg);
  return dn;
}
;function nn(a, b, c, d) {
  this.l = t(b) ? b : mn();
  this.h = "sr" + on++;
  this.o = c || 0;
  this.f = !!d;
  this.a = a;
}
var on = 0;
nn.prototype.N = function() {
  return this.h;
};
nn.prototype.execute = function(a, b) {
  var c = this.a, d = new ui(c.path), e;
  for (e in c.params) {
    d.a.set(e, c.params[e]);
  }
  this.l.send(this.h, d.toString(), c.method, c.body, c.headers, void 0, function(d) {
    d = d.target;
    for (var e = (d.ha && 4 == Yf(d) ? d.ha.getAllResponseHeaders() : "").split("\n"), k = {}, l = 0;l < e.length;l++) {
      var m = e[l].indexOf(":");
      0 < m && (k[e[l].substr(0, m).toLowerCase()] = e[l].substr(m + 1).trim());
    }
    e = l = $f(d);
    if (k["content-type"] && /json/.test(k["content-type"])) {
      if (x(l)) {
        e = l;
      } else {
        if (w(l)) {
          try {
            e = Mi(l);
          } catch (n) {
            e = l;
          }
        }
      }
    }
    k = new en(d.P(), l, k, d.fb());
    pn && 400 == k.P() && pn.log({context:"HTTP request", path:c.path, uri:String(d.s), method:c.method, params:c.params, headers:c.headers, body:c.body, status:k.P(), statusText:k.fb(), respond:hn(k)});
    a && (a.call(b, e, k), a = null);
  }, this.o, void 0, this.f);
  this.l = null;
};
function qn(a, b, c) {
  this.c = t(a) ? a : mn();
  this.a = b;
  this.b = c;
}
qn.prototype.request = function(a) {
  if (this.a) {
    a.headers || (a.headers = {});
    for (var b in this.a) {
      a.headers[b] = this.a[b];
    }
  }
  this.b && (a.path = this.b + a.path);
  return new nn(a, this.c);
};
var rn = {}, sn = [];
function tn(a, b) {
  rn[b || "default"] = a;
}
function un(a) {
  if (!t(a)) {
    return rn["default"];
  }
  for (var b = a, c = 0;c < sn.length;c++) {
    var d = (0,sn[c])(a);
    if (d) {
      b = d;
      break;
    }
  }
  return rn[b] || null;
}
function vn() {
  var a = un();
  a || (a = new qn, tn(a));
  return a;
}
var pn = null;
function wn(a, b, c) {
  this.c = a;
  this.b = b;
  this.a = c;
}
wn.prototype.request = function(a) {
  return this.c(a) ? this.b.request(a) : this.a.request(a);
};
function xn(a, b, c) {
  this.client = a;
  this.f = b;
  this.b = NaN;
  this.c = [];
  this.a = !1;
  this.h = !!c;
}
xn.prototype.request = function(a) {
  return new yn(a, this);
};
function yn(a, b) {
  a.path = b.f + a.path;
  this.req = b.client.request(a);
  this.parent = b;
  b.h && (this.req instanceof nn && (this.req.f = !0), this.f = !0);
  this.b = null;
  this.c = void 0;
}
A(yn, nn);
yn.prototype.execute = function(a, b) {
  if (this.parent.a) {
    this.b = a, this.c = b, this.parent.c.push(this);
  } else {
    this.parent.a = !0;
    var c = function(c, d) {
      var g = jn(d, "retry-after");
      this.parent.b = g ? /[^0-9|\.]/.test(g) ? (new Date(g)).getTime() : 1E3 * parseFloat(g) + y() : NaN;
      a && a.call(b, c, d);
      this.parent.a = !1;
      if (g = this.parent.c.pop()) {
        g.execute(g.b, g.c), g.b = null, g.c = null;
      }
    }, d = this.parent.b - y();
    0 < d ? Df(function() {
      this.parent.b = NaN;
      this.req.execute(c, this);
    }, d, this) : this.req.execute(c, this);
  }
};
function zn(a, b, c, d, e) {
  this.c = t(a) ? a : mn();
  this.a = b;
  this.b = c;
  this.f = d || 0;
  this.h = !!e;
}
zn.prototype.c = null;
function An(a, b) {
  a.a || (a.a = {});
  b ? a.a.Authorization = b : delete a.a.Authorization;
}
zn.prototype.request = function(a) {
  if (this.a) {
    a.headers || (a.headers = {});
    for (var b in this.a) {
      a.headers[b] = this.a[b];
    }
  }
  this.b && (a.path = this.b + a.path);
  return new nn(a, this.c, this.f, this.h);
};
function Bn(a, b, c) {
  this.provider = a;
  this.b = b;
  this.a = t(c) ? c : !0;
}
Bn.prototype.request = function(a) {
  return new Cn(a, this);
};
function Cn(a, b) {
  nn.call(this, a, b.b);
  this.parent = b;
}
A(Cn, nn);
var Dn = new en(0, null, null, "No access token");
Cn.prototype.execute = function(a, b) {
  this.parent.provider.getAuthToken().u(function(c) {
    c ? (this.parent.a ? this.a.headers.Authorization = "Bearer " + c : this.a.params.access_token = c, Cn.j.execute.call(this, a, b)) : a.call(b, null, Dn);
  }, function() {
    a.call(b, null, Dn);
  }, this);
};
function En(a, b, c, d) {
  Rj.call(this, a, 0, c, d);
  this.h = null;
}
A(En, Rj);
h = En.prototype;
h.logger = J("ydn.db.core.req.IDBCursor");
h.We = function(a) {
  (a = a.target.result) ? this.Xb(a.key, a.primaryKey, a.value) : this.Xb();
};
h.openCursor = function(a, b) {
  function c(a, b, c) {
    p.h = n;
    p.h.onsuccess = pa(p.We, p);
    p.Xb(a, p.f ? b : void 0, c);
    n = null;
  }
  var d = this + " opening ";
  null != a && (d += "{" + a, d = null != b ? d + (";" + b + "}") : d + "}");
  M(this.logger, d);
  var e = this.ua, d = this.o.objectStore(this.ia), f = w(this.vc) ? d.index(this.vc) : null;
  if (t(a)) {
    var g = f ? !t(b) : !0, k = e ? e.lower : void 0, l = e ? e.upper : void 0, m = e ? !!e.lowerOpen : !1, e = e ? !!e.upperOpen : !1, e = sj(this.reverse ? new mj(k, a, m, g) : new mj(a, l, g, e))
  }
  var n;
  this.xe ? f ? n = null != this.dir ? f.openKeyCursor(e, this.dir) : null != e ? f.openKeyCursor(e) : f.openKeyCursor() : n = null != this.dir ? d.openCursor(e, this.dir) : null != e ? d.openCursor(e) : d.openCursor() : f ? n = null != this.dir ? f.openCursor(e, this.dir) : null != e ? f.openCursor(e) : f.openCursor() : n = null != this.dir ? d.openCursor(e, this.dir) : null != e ? d.openCursor(e) : d.openCursor();
  var p = this;
  n.onerror = function(a) {
    var b = n.error;
    a.preventDefault();
    Uj(p, b);
  };
  null != a ? n.onsuccess = function(d) {
    if (d = d.target.result) {
      var e = Qj.cmp(d.key, a), f = p.reverse ? -1 : 1;
      if (e == f) {
        c(d.key, d.primaryKey, d.value);
      } else {
        if (e == -f) {
          d["continue"](a);
        } else {
          if (null != b) {
            if (Qj.cmp(d.primaryKey, b) == f) {
              c(d.key, d.primaryKey, d.value);
            } else {
              d["continue"]();
            }
          } else {
            d["continue"]();
          }
        }
      }
    } else {
      c();
    }
  } : (p.h = n, p.h.onsuccess = pa(p.We, p));
};
h.Bf = function() {
  return !!this.h;
};
h.update = function(a) {
  var b = this.h.result;
  if (b) {
    var c = new B;
    a = b.update(a);
    a.onsuccess = function(a) {
      c.callback(a.target.result);
    };
    a.onerror = function(a) {
      a.preventDefault();
      c.C(a);
    };
    return c;
  }
  throw new vk("cursor gone");
};
h.clear = function() {
  var a = this.h.result;
  if (a) {
    var b = new B, a = a["delete"]();
    a.onsuccess = function() {
      b.callback(1);
    };
    a.onerror = function(a) {
      a.preventDefault();
      b.C(a);
    };
    return b;
  }
  throw new vk("cursor gone");
};
h.advance = function(a) {
  var b = this.h.result;
  if (1 == a) {
    b["continue"]();
  } else {
    b.advance(a);
  }
};
h.ke = function(a) {
  var b, c = this.h.result, d = this;
  this.h.onsuccess = function(e) {
    if (c = e.target.result) {
      if (b = Qj.cmp(c.primaryKey, a), 0 == b || 1 == b && !d.reverse || -1 == b && d.reverse) {
        d.h.onsuccess = pa(d.We, d), d.Xb(c.key, d.f ? c.primaryKey : void 0, c.value);
      } else {
        c["continue"]();
      }
    } else {
      d.h.onsuccess = pa(d.We, d), d.Xb();
    }
  };
  c["continue"]();
};
h.$c = function(a) {
  var b = this.h.result;
  if (null != a) {
    b["continue"](a);
  } else {
    b["continue"]();
  }
};
h.I = function() {
  En.j.I.call(this);
  this.h = null;
};
function Fn(a, b) {
  this.a = b;
}
A(Fn, Ek);
h = Fn.prototype;
h.logger = J("ydn.db.crud.req.IndexedDb");
h.Ue = function(a, b) {
  function c(e) {
    var f = a.a.objectStore(b[e]).count();
    f.onsuccess = function(f) {
      d[e] = f.target.result;
      e++;
      e == b.length ? S(a, d) : c(e);
    };
    f.onerror = function(b) {
      b.preventDefault();
      S(a, f.error, !0);
    };
  }
  var d = [];
  0 == b.length ? S(a, []) : c(0);
};
h.pb = function(a, b, c, d, e, f) {
  function g(v) {
    if (null == e[v]) {
      if (M(n.logger, "empty object at " + v + " of " + e.length), l++, l == e.length) {
        S(a, k, m);
      } else {
        var F = v + 10;
        F < e.length && g(F);
      }
    }
    var P, F = e[v];
    P = f && null != f[v] ? b ? r.put(F, f[v]) : r.add(F, f[v]) : b ? r.put(F) : r.add(F);
    P.onsuccess = function(b) {
      l++;
      k[v] = b.target.result;
      l == e.length ? S(a, c ? k[0] : k, m) : (b = v + 10, b < e.length && g(b));
    };
    P.onerror = function(b) {
      l++;
      var f = P.error;
      M(n.logger, pk(a) + p + ' request to "' + d + '" cause ' + f.name + ' for object "' + Ni(e[v]) + '" at index ' + v + " of " + e.length + " objects.");
      k[v] = f;
      m = !0;
      b.preventDefault();
      l == e.length ? S(a, c ? k[0] : k, m) : (b = v + 10, b < e.length && g(b));
    };
  }
  var k = [], l = 0, m = !1, n = this, p = b ? "put" : "add", r = a.a.objectStore(d);
  M(this.logger, pk(a) + " " + p + " " + e.length + ' objects to store "' + d + '"');
  if (0 < e.length) {
    for (var v = 0;10 > v && v < e.length;v++) {
      g(v);
    }
  } else {
    S(a, []);
  }
};
h.Tf = function(a, b, c) {
  function d(k) {
    var m = c[k], n = a.a.objectStore(m.R()), p;
    p = null === n.keyPath ? n.put(b[k], m.N()) : n.put(b[k]);
    p.onsuccess = function(c) {
      f++;
      e[k] = c.target.result;
      f == b.length ? S(a, e, g) : (c = k + 10, c < b.length && d(c));
    };
    p.onerror = function(c) {
      f++;
      e[k] = p.error;
      g = !0;
      c.preventDefault();
      f == b.length ? S(a, e, g) : (c = k + 10, c < b.length && d(c));
    };
  }
  var e = [], f = 0, g = !1;
  M(this.logger, pk(a) + " putByKeys: of " + b.length + " objects");
  if (0 < b.length) {
    for (var k = 0;10 > k && k < b.length;k++) {
      d(k);
    }
  } else {
    S(a, e, g);
  }
};
h.Uf = function(a, b, c) {
  var d = a.a.objectStore(b);
  M(this.logger, pk(a) + " clearById: " + b + " " + c);
  var e = d.openCursor(tj.only(c));
  e.onsuccess = function(b) {
    if (b = b.target.result) {
      var c = b["delete"]();
      c.onsuccess = function() {
        S(a, 1);
      };
      c.onerror = function() {
        S(a, c.error, !0);
      };
    } else {
      S(a, 0);
    }
  };
  e.onerror = function(b) {
    b.preventDefault();
    S(a, e.error, !0);
  };
};
h.Vf = function(a, b) {
  function c(k) {
    k++;
    if (k >= b.length) {
      0 < g.length ? S(a, g, !0) : S(a, d);
    } else {
      b[k].R() != e && (e = b[k].R(), f = a.a.objectStore(e));
      var l = f["delete"](b[k].N());
      l.onsuccess = function() {
        d++;
        c(k);
      };
      l.onerror = function(a) {
        a.preventDefault();
        g[k] = l.error;
        c(k);
      };
    }
  }
  var d = 0, e, f;
  M(this.logger, pk(a) + " removeByKeys: " + b.length + " keys");
  var g = [];
  c(-1);
};
h.Be = function(a, b, c) {
  var d = a.a.objectStore(b), e = d.count(c);
  M(this.logger, pk(a) + " clearByKeyRange: " + b + " " + c);
  e.onsuccess = function(b) {
    var e = b.target.result, k = d["delete"](c);
    k.onsuccess = function() {
      S(a, e);
    };
    k.onerror = function() {
      S(a, k.error, !0);
    };
  };
  e.onerror = function(b) {
    b.preventDefault();
    S(a, e.error, !0);
  };
};
h.Hg = function(a, b, c) {
  var d = a.a.objectStore(b);
  M(this.logger, pk(a) + " " + b + " " + c);
  var e = d["delete"](c);
  e.onsuccess = function() {
    S(a, void 0);
  };
  e.onerror = function(b) {
    b.preventDefault();
    S(a, e.error, !0);
  };
};
h.Xh = function(a, b, c, d) {
  var e = a.a.objectStore(b).index(c);
  M(this.logger, pk(a) + " clearByIndexKeyRange: " + b + ":" + c + " " + d);
  var f = [], g = e.openCursor(d), k = 0;
  g.onsuccess = function(b) {
    var c = b.target.result;
    if (c) {
      var d = c["delete"]();
      d.onsuccess = function() {
        k++;
        c["continue"]();
      };
      d.onerror = function(a) {
        f.push(d.error);
        a.preventDefault();
        c["continue"]();
      };
    } else {
      0 < f.length ? S(a, f, !0) : S(a, k);
    }
  };
  g.onerror = function(b) {
    b.preventDefault();
    S(a, g.error, !0);
  };
};
h.Se = function(a, b) {
  var c = b.length, d = 0;
  M(this.logger, pk(a) + " clearByStores: " + b);
  for (var e = 0;e < c;e++) {
    var f = a.a.objectStore(b[e]).clear();
    f.onsuccess = function() {
      d++;
      d == c && S(a, d);
    };
    f.onerror = function(b) {
      d++;
      b.preventDefault();
      d == c && S(a, f.error, !0);
    };
  }
};
h.jf = function(a, b, c) {
  var d = this;
  M(this.logger, pk(a) + b + ":" + c);
  var e = a.a.objectStore(b), f = e.get(c);
  f.onsuccess = function(b) {
    M(d.logger, pk(a) + " record " + c + (null != b.target.result ? " " : " not ") + " exists.");
    var f = b.target.result;
    if (!e.keyPath && 0 == e.indexNames.length && Qc && w(f) && 0 <= f.indexOf(";base64,")) {
      '"' == f.charAt(0) && '"' == f.charAt(f.length - 1) && (f = f.substr(1, f.length - 2));
      f = f.split(";base64,");
      b = f[0].split(":")[1];
      for (var f = window.atob(f[1]), l = f.length, m = new Uint8Array(l), n = 0;n < l;++n) {
        m[n] = f.charCodeAt(n);
      }
      S(a, new Blob([m.buffer], {type:b}));
    } else {
      S(a, b.target.result);
    }
  };
  f.onerror = function(b) {
    b.preventDefault();
    S(a, f.error, !0);
  };
};
h.Kh = function(a, b, c) {
  function d(b) {
    if (null == c[b]) {
      if (f++, e[b] = void 0, f == k) {
        S(a, e);
      } else {
        var m = b + 10;
        m < k && d(m);
      }
    }
    var n;
    n = g.get(c[b]);
    n.onsuccess = function(c) {
      f++;
      e[b] = c.target.result;
      f == k ? S(a, e) : (c = b + 10, c < k && d(c));
    };
    n.onerror = function(b) {
      f++;
      b.preventDefault();
      S(a, n.error, !0);
    };
  }
  var e = [];
  e.length = c.length;
  var f = 0, g = a.a.objectStore(b), k = c.length;
  M(this.logger, pk(a) + " " + b + ":" + k + " ids");
  if (0 < k) {
    for (b = 0;10 > b && b < k;b++) {
      d(b);
    }
  } else {
    S(a, []);
  }
};
h.Lf = function(a, b) {
  function c(f) {
    var k = b[f], l = a.a.objectStore(k.R()).get(k.N());
    l.onsuccess = function(k) {
      e++;
      d[f] = k.target.result;
      e == b.length ? S(a, d) : (k = f + 10, k < b.length && c(k));
    };
    l.onerror = function(b) {
      e++;
      b.preventDefault();
      S(a, l.error, !0);
    };
  }
  var d = [];
  d.length = b.length;
  var e = 0;
  M(this.logger, pk(a) + " " + b.length + " ids");
  if (0 < b.length) {
    for (var f = 0;10 > f && f < b.length;f++) {
      c(f);
    }
  } else {
    S(a, []);
  }
};
h.Fd = function(a, b, c, d) {
  var e = a.a.objectStore(b);
  b = pk(a) + " " + b + (d ? ":" + d : "") + (c ? ":" + Oi(c) : "");
  M(this.logger, b);
  var f;
  null != d ? (d = e.index(d), f = null != c ? d.count(c) : d.count()) : f = null != c ? e.count(c) : e.count();
  f.onsuccess = function(b) {
    S(a, b.target.result);
  };
  f.onerror = function(b) {
    b.preventDefault();
    S(a, f.error, !0);
  };
};
function Gn(a, b, c, d) {
  var e = b.getAll(c, d);
  e.onsuccess = function(b) {
    S(a, b.target.result);
  };
  e.onerror = function(b) {
    b.preventDefault();
    S(a, e.error, !0);
  };
}
function Hn(a, b, c, d) {
  var e = b.getAllKeys(c, d);
  e.onsuccess = function(b) {
    S(a, b.target.result);
  };
  e.onerror = function(b) {
    b.preventDefault();
    S(a, e.error, !0);
  };
}
h.list = function(a, b, c, d, e, f, g, k, l, m) {
  var n = [], p = a.a.objectStore(c), r = k ? l ? "prevunique" : "prev" : l ? "nextunique" : "next";
  c = pk(a) + " " + b + " " + c + (d ? ":" + d : "") + (e ? Oi(e) : "");
  k && (c += " reverse");
  l && (c += " unique");
  if (m && t(m[0])) {
    var v = d ? !t(m[1]) : !0, z = m[0], F = e ? e.lower : void 0, P = e ? e.upper : void 0, U = e ? !!e.lowerOpen : !1;
    e = e ? !!e.upperOpen : !1;
    e = sj(k ? new mj(F, z, U, v) : new mj(z, P, v, e));
    c += " starting from " + Oi(m[0]);
    t(m[1]) && (c += ", " + Oi(m[1]));
  }
  M(this.logger, c);
  var W;
  if (1 == b || 2 == b || 3 == b) {
    if (d) {
      c = p.index(d);
      if (2 == b && c.getAllKeys && !l && !g && !k && !m) {
        Hn(a, c, e, f);
        return;
      }
      W = c.openKeyCursor(e, r);
    } else {
      if (2 == b && p.getAllKeys && !l && !g && !k && !m) {
        Hn(a, p, e, f);
        return;
      }
      W = p.openCursor(e, r);
    }
  } else {
    if (d) {
      c = p.index(d);
      if (c.getAll && !l && !g && !k && !m) {
        Gn(a, c, e, f);
        return;
      }
      W = c.openCursor(e, r);
    } else {
      if (p.getAll && !l && !g && !k && !m) {
        Gn(a, p, e, f);
        return;
      }
      W = p.openCursor(e, r);
    }
  }
  var ua = !1;
  W.onsuccess = function(c) {
    if (c = c.target.result) {
      if (!ua) {
        if (0 < g) {
          ua = !0;
          c.advance(g);
          return;
        }
        if (m && d && t(m[0])) {
          if (t(m[1])) {
            var e = Qj.cmp(c.key, m[0]), l = k ? -1 : 1;
            if (0 == e) {
              e = Qj.cmp(c.primaryKey, m[1]);
              if (0 == e) {
                ua = !0;
                c["continue"]();
                return;
              }
              if (e == l) {
                ua = !0;
              } else {
                c["continue"]();
                return;
              }
            } else {
              ua = !0;
            }
          } else {
            ua = !0;
          }
        } else {
          ua = !0;
        }
      }
      1 == b ? n.push(c.key) : 2 == b ? n.push(c.primaryKey) : 3 == b ? (l = {}, d && (l[d] = c.key), p.keyPath ? l[p.keyPath] = c.primaryKey : l._ROWID_ = c.primaryKey, n.push(l)) : 4 == b ? n.push(c.value) : n.push([c.key, c.primaryKey, c.value]);
      if (n.length < f) {
        c["continue"]();
      } else {
        m && (m[0] = Wj(c.key), m[1] = Wj(c.primaryKey)), S(a, n);
      }
    } else {
      m && (m[0] = void 0, m[1] = void 0), S(a, n);
    }
  };
  W.onerror = function(b) {
    b.preventDefault();
    S(a, W.error, !0);
  };
};
function In(a, b) {
  this.a = b;
}
A(In, Fn);
In.prototype.logger = J("ydn.db.core.req.IndexedDb");
In.prototype.b = function(a, b, c, d) {
  b = Uk(this.a, c);
  return new En(a, 0, b, d);
};
function Jn() {
  this.a = !1;
}
Jn.prototype.a = !1;
function Kn(a, b, c, d) {
  Rj.call(this, a, 0, c, d);
  this.s = this.c = this.a = void 0;
  this.l = this.h = null;
  this.D = new Jn;
  this.$f = this.Yc = null;
}
A(Kn, Rj);
h = Kn.prototype;
h.logger = J("ydn.db.core.req.SimpleCursor");
h.Bf = function() {
  return !!this.o;
};
h.update = function(a) {
  Ln(this.$f, this.ta(), a);
  return C();
};
h.advance = function(a) {
  function b(b) {
    d++;
    if (!b || d >= a) {
      return Mn(c, b);
    }
  }
  var c = this, d = this.h ? -1 : 0;
  this.reverse ? Nn(this.Yc, b, this.h) : On(this.Yc, b, this.h);
};
h.$c = function(a) {
  if (null != a) {
    var b = this, c = new Pn(a), d = function(c) {
      b.h = c;
      if (!c) {
        return Mn(b, c);
      }
      var d = xj(c.value.key, a);
      if (b.reverse) {
        if (1 != d) {
          return Mn(b, c);
        }
      } else {
        if (-1 != d) {
          return Mn(b, c);
        }
      }
    };
    this.reverse ? Nn(this.Yc, d, c) : On(this.Yc, d, c);
  } else {
    this.advance(1);
  }
};
function Qn(a) {
  setTimeout(function() {
    a.D.a ? (a.D.a = !1, a.Xb(a.a, a.c, a.s), Qn(a)) : (a.l(), a.l = null);
  }, 4);
}
function Mn(a, b) {
  if (a.h = b) {
    var c = b.value;
    if (a.ua) {
      if (a.reverse || null == a.ua.upper) {
        a.reverse && null != a.ua.lower && (d = xj(c.key, a.ua.lower), -1 == d || 0 == d && a.ua.lowerOpen) && (a.h = null);
      } else {
        var d = xj(c.key, a.ua.upper);
        if (1 == d || 0 == d && a.ua.upperOpen) {
          a.h = null;
        }
      }
    }
    if (a.h) {
      if (a.unique && null != a.a && null != c.key && 0 == xj(a.a, c.key)) {
        return;
      }
      a.a = c.key;
      a.c = a.f ? c.ta() : a.a;
      4 == a.W && (a.xe ? a.s = a.c : a.s = a.$f.Sb(null, a.c));
    }
  }
  a.h || (a.a = void 0, a.c = void 0, a.s = void 0);
  return a.D.a = !0;
}
h.openCursor = function(a, b) {
  var c = null;
  if (this.ua) {
    if (this.reverse) {
      var d = this.f ? "\uffff" : void 0;
      null != this.ua.upper && (c = new Pn(this.ua.upper, d));
    } else {
      null != this.ua.lower && (c = new Pn(this.ua.lower));
    }
  }
  null != a && (c = this.f ? new Pn(a, b) : new Pn(a));
  this.l = this.o.S(function(b) {
    function d(b) {
      var e = b.value, f = e.key;
      if (b && null != f) {
        if (null != a) {
          if (0 == Rn(c, e)) {
            return;
          }
        } else {
          if (this.ua && (!this.reverse && this.ua.lowerOpen && null != this.ua.lower && (e = xj(f, this.ua.lower), 0 == e) || this.reverse && this.ua.upperOpen && null != this.ua.upper && (e = xj(f, this.ua.upper), 0 == e))) {
            return;
          }
        }
      }
      return Mn(this, b);
    }
    this.$f = Sn(b, this.ia);
    this.Yc = Tn(this.$f, this.vc);
    this.reverse ? Nn(this.Yc, pa(d, this), c) : On(this.Yc, pa(d, this), c);
    Qn(this);
  }, this);
};
h.clear = function() {
  throw new df;
};
h.ke = function() {
  throw new df;
};
function Un(a, b, c) {
  a = ["ydn.db", a];
  t(b) && (a.push(b), t(c) && (a.push(c), t(void 0) && a.push(Dj(void 0))));
  return a.join("^|");
}
;function Pn(a, b) {
  this.key = a;
  this.a = b;
}
Pn.prototype.ta = function() {
  return this.a;
};
function Rn(a, b) {
  var c = xj(a.key, b.key);
  return 0 === c ? null != a.a ? null != b.a ? xj(a.a, b.a) : 1 : null != b.a ? -1 : 0 : c;
}
;function Vn(a) {
  this.Nb = a || Wn;
}
function Wn(a, b) {
  return String(a) < String(b) ? -1 : String(a) > String(b) ? 1 : 0;
}
h = Vn.prototype;
h.Na = null;
h.Nb = null;
h.zc = null;
h.yc = null;
h.add = function(a) {
  if (null == this.Na) {
    return this.yc = this.zc = this.Na = new Xn(a), !0;
  }
  var b = null;
  Yn(this, function(c) {
    var d = null, e = this.Nb(c.value, a);
    0 < e ? (d = c.left, null == c.left && (b = new Xn(a, c), c.left = b, c == this.zc && (this.zc = b))) : 0 > e && (d = c.right, null == c.right && (b = new Xn(a, c), c.right = b, c == this.yc && (this.yc = b)));
    return d;
  });
  b && (Yn(this, function(a) {
    a.count++;
    return a.parent;
  }, b.parent), Zn(this, b.parent));
  return !!b;
};
h.remove = function(a) {
  var b = null;
  Yn(this, function(c) {
    var d = null, e = this.Nb(c.value, a);
    0 < e ? d = c.left : 0 > e ? d = c.right : (b = c.value, $n(this, c));
    return d;
  });
  return b;
};
h.clear = function() {
  this.yc = this.zc = this.Na = null;
};
h.contains = function(a) {
  var b = !1;
  Yn(this, function(c) {
    var d = null, e = this.Nb(c.value, a);
    0 < e ? d = c.left : 0 > e ? d = c.right : b = !0;
    return d;
  });
  return b;
};
h.indexOf = function(a) {
  var b = -1, c = 0;
  Yn(this, function(d) {
    var e = this.Nb(d.value, a);
    if (0 < e) {
      return d.left;
    }
    d.left && (c += d.left.count);
    if (0 > e) {
      return c++, d.right;
    }
    b = c;
    return null;
  });
  return b;
};
h.za = function() {
  return this.Na ? this.Na.count : 0;
};
h.getHeight = function() {
  return this.Na ? this.Na.height : 0;
};
h.Fa = function() {
  var a = [];
  ao(this, function(b) {
    a.push(b);
  });
  return a;
};
function ao(a, b) {
  if (a.Na) {
    var c, d = c = bo(a);
    for (c = c.left ? c.left : c;null != d;) {
      if (null != d.left && d.left != c && d.right != c) {
        d = d.left;
      } else {
        if (d.right != c && b(d.value)) {
          break;
        }
        var e = d, d = null != d.right && d.right != c ? d.right : d.parent;
        c = e;
      }
    }
  }
}
function Yn(a, b, c) {
  for (c = c ? c : a.Na;c && null != c;) {
    c = b.call(a, c);
  }
}
function Zn(a, b) {
  Yn(a, function(a) {
    var b = a.left ? a.left.height : 0, e = a.right ? a.right.height : 0;
    1 < b - e ? (a.left.right && (!a.left.left || a.left.left.height < a.left.right.height) && co(this, a.left), eo(this, a)) : 1 < e - b && (a.right.left && (!a.right.right || a.right.right.height < a.right.left.height) && eo(this, a.right), co(this, a));
    b = a.left ? a.left.height : 0;
    e = a.right ? a.right.height : 0;
    a.height = Math.max(b, e) + 1;
    return a.parent;
  }, b);
}
function co(a, b) {
  fo(b) ? (b.parent.left = b.right, b.right.parent = b.parent) : go(b) ? (b.parent.right = b.right, b.right.parent = b.parent) : (a.Na = b.right, a.Na.parent = null);
  var c = b.right;
  b.right = b.right.left;
  null != b.right && (b.right.parent = b);
  c.left = b;
  b.parent = c;
  c.count = b.count;
  b.count -= (c.right ? c.right.count : 0) + 1;
}
function eo(a, b) {
  fo(b) ? (b.parent.left = b.left, b.left.parent = b.parent) : go(b) ? (b.parent.right = b.left, b.left.parent = b.parent) : (a.Na = b.left, a.Na.parent = null);
  var c = b.left;
  b.left = b.left.right;
  null != b.left && (b.left.parent = b);
  c.right = b;
  b.parent = c;
  c.count = b.count;
  b.count -= (c.left ? c.left.count : 0) + 1;
}
function $n(a, b) {
  if (null != b.left || null != b.right) {
    var c = null, d;
    if (null != b.left) {
      d = ho(a, b.left);
      Yn(a, function(a) {
        a.count--;
        return a.parent;
      }, d);
      if (d != b.left) {
        if (d.parent.right = d.left) {
          d.left.parent = d.parent;
        }
        d.left = b.left;
        d.left.parent = d;
        c = d.parent;
      }
      d.parent = b.parent;
      d.right = b.right;
      d.right && (d.right.parent = d);
      b == a.yc && (a.yc = d);
    } else {
      d = bo(a, b.right);
      Yn(a, function(a) {
        a.count--;
        return a.parent;
      }, d);
      if (d != b.right) {
        if (d.parent.left = d.right) {
          d.right.parent = d.parent;
        }
        d.right = b.right;
        d.right.parent = d;
        c = d.parent;
      }
      d.parent = b.parent;
      d.left = b.left;
      d.left && (d.left.parent = d);
      b == a.zc && (a.zc = d);
    }
    d.count = b.count;
    fo(b) ? b.parent.left = d : go(b) ? b.parent.right = d : a.Na = d;
    Zn(a, c ? c : d);
  } else {
    Yn(a, function(a) {
      a.count--;
      return a.parent;
    }, b.parent), fo(b) ? (b.parent.left = null, b == a.zc && (a.zc = b.parent), Zn(a, b.parent)) : go(b) ? (b.parent.right = null, b == a.yc && (a.yc = b.parent), Zn(a, b.parent)) : a.clear();
  }
}
function bo(a, b) {
  if (!b) {
    return a.zc;
  }
  var c = b;
  Yn(a, function(a) {
    var b = null;
    a.left && (b = c = a.left);
    return b;
  }, b);
  return c;
}
function ho(a, b) {
  if (!b) {
    return a.yc;
  }
  var c = b;
  Yn(a, function(a) {
    var b = null;
    a.right && (b = c = a.right);
    return b;
  }, b);
  return c;
}
function Xn(a, b) {
  this.value = a;
  this.parent = b ? b : null;
  this.count = 1;
}
Xn.prototype.left = null;
Xn.prototype.right = null;
Xn.prototype.height = 1;
function go(a) {
  return !!a.parent && a.parent.right == a;
}
function fo(a) {
  return !!a.parent && a.parent.left == a;
}
;function jo(a) {
  this.Nb = a || Wn;
}
A(jo, Vn);
function On(a, b, c) {
  if (a.Na) {
    var d;
    if (c instanceof Xn) {
      d = c;
    } else {
      if (c) {
        if (Yn(a, function(a) {
          var b = null;
          0 < this.Nb(a.value, c) ? (b = a.left, d = a) : 0 > this.Nb(a.value, c) ? b = a.right : d = a;
          return b;
        }), !d) {
          return;
        }
      } else {
        d = bo(a);
      }
    }
    a = d;
    for (var e = d.left ? d.left : d;null != a;) {
      if (null != a.left && a.left != e && a.right != e) {
        a = a.left;
      } else {
        if (a.right != e && b(a)) {
          return;
        }
        var f = a;
        a = null != a.right && a.right != e ? a.right : a.parent;
        e = f;
      }
    }
    b(null);
  }
}
function Nn(a, b, c) {
  if (a.Na) {
    var d;
    if (c instanceof Xn) {
      d = c;
    } else {
      if (c) {
        if (Yn(a, pa(function(a) {
          var b = null;
          0 < this.Nb(a.value, c) ? b = a.left : (0 > this.Nb(a.value, c) && (b = a.right), d = a);
          return b;
        }, a)), !d) {
          return;
        }
      } else {
        d = ho(a);
      }
    }
    a = d;
    for (var e = d.right ? d.right : d;null != a;) {
      if (null != a.right && a.right != e && a.left != e) {
        a = a.right;
      } else {
        if (a.left != e && b(a)) {
          return;
        }
        var f = a;
        a = null != a.left && a.left != e ? a.left : a.parent;
        e = f;
      }
    }
    b(null);
  }
}
;function ko(a, b, c) {
  this.h = a;
  this.storage = b;
  this.c = c;
  this.a = {};
  a = this.c.keyPath;
  this.b = u(a) ? a.join(",") : a || "_ROWID_";
  this.a[this.b] = null;
  this.f = Un(this.h, this.c.getName(), this.b) + "^|";
}
function Tn(a, b) {
  var c = b || a.b;
  if (!a.a[c]) {
    a.a[c] = new jo(Rn);
    for (var d = a.storage.length, e = 0;e < d;e++) {
      var f = a.storage.key(e);
      if (null !== f && xa(f, a.f)) {
        var g = Gj(f.substr(a.f.length));
        if (c == a.b) {
          a.a[c].add(new Pn(g));
        } else {
          var k = a.storage.getItem(f);
          if (null !== k) {
            if (f = Tj(a.c, c), k = Mi(k), k = Ml(f, k), f.multiEntry) {
              if (u(k)) {
                for (f = 0;f < k.length;f++) {
                  a.a[c].add(new Pn(k[f], g));
                }
              }
            } else {
              a.a[c].add(new Pn(k, g));
            }
          }
        }
      }
    }
  }
  return a.a[c];
}
function lo(a, b, c) {
  for (var d in a.a) {
    var e = a.a[d];
    if (e) {
      if (d == a.b) {
        e.remove(new Pn(b));
      } else {
        var f = Tj(a.c, d), f = Aj(c, f.keyPath);
        e.remove(new Pn(b, f));
      }
    }
  }
}
function mo(a) {
  for (var b in a.a) {
    var c = a.a[b];
    c && c.clear();
  }
  a.a = {};
}
function Ln(a, b, c, d) {
  if (null == b && (a.c.keyPath && (b = il(a.c, c)), a.c.autoIncrement && null == b)) {
    b = a.f + Dj(void 0);
    var e = Mi(a.storage.getItem(b));
    e.key_count || (e.key_count = 0);
    e.key_count++;
    a.storage.setItem(b, Oi(e));
    b = e.key_count;
  }
  if (d && null !== a.storage.getItem(a.f + Dj(b))) {
    return null;
  }
  a.storage.setItem(a.f + Dj(b), Oi(c));
  d = b;
  for (var f in a.a) {
    if (e = a.a[f]) {
      if (f == a.b) {
        e.add(new Pn(d));
      } else {
        var g = Tj(a.c, f), g = Aj(c, g.keyPath);
        null != g && e.add(new Pn(d, g));
      }
    }
  }
  return b;
}
function no(a, b) {
  var c = a.f + Dj(b), d = a.storage.getItem(c);
  if (null === d) {
    return 0;
  }
  a.storage.removeItem(c);
  c = Mi(d);
  lo(a, b, c);
  return 1;
}
h = ko.prototype;
h.clear = function() {
  mo(this);
  oo(this);
};
h.Sb = function(a, b) {
  if (a && a != this.b) {
    throw "impl";
  }
  var c = this.storage.getItem(this.f + Dj(b)), d = void 0;
  if (null !== c) {
    for (var d = Mi(c), c = 0, e = ml(this.c);c < e;c++) {
      var f = this.c.index(c);
      if ("DATE" == f.type) {
        var g = Ml(f, d);
        g && Nl(f, d, new Date(g));
      }
    }
  }
  return d;
};
h.getName = function() {
  return this.c.getName();
};
h.le = function(a, b) {
  a = a || this.b;
  var c = Tn(this, a), d = null, e = null, f = 0, g = !1, k = !1;
  null != b && (null != b.lower && (d = new Pn(b.lower)), null != b.upper && (e = new Pn(b.upper)), g = b.lowerOpen, k = b.upperOpen);
  On(c, function(a) {
    if (null != a && (a = a.value, !g || null == d || 0 != xj(a.key, d.key))) {
      if (null != e && (a = xj(a.key, e.key), 1 === a || 0 === a && k)) {
        return !0;
      }
      f++;
    }
  }, d);
  return f;
};
function oo(a, b) {
  var c = Tn(a, a.b), d = null, e = null, f = 0, g = [], k = [], l = !1, m = !1;
  null != b && (null != b.lower && (d = new Pn(b.lower)), null != b.upper && (e = new Pn(b.upper)), l = b.lowerOpen, m = b.upperOpen);
  On(c, function(b) {
    if (null != b && (b = b.value, !l || null == d || 0 != Rn(b, d))) {
      if (null != e) {
        var c = Rn(b, e);
        if (1 === c || 0 === c && m) {
          return !0;
        }
      }
      var c = a.f + Dj(b.key), r = a.storage.getItem(c);
      null !== r && (a.storage.removeItem(c), f++, 10 > g.length && (g.push(b.key), k.push(Mi(r))));
    }
  }, d);
  if (10 > g.length) {
    for (c = 0;c < g.length;c++) {
      lo(a, g[c], k[c]);
    }
  } else {
    mo(a);
  }
  return f;
}
h.cd = function(a, b, c, d, e, f, g, k) {
  function l(b) {
    if (b && (F++, !(F < f))) {
      var c = b.value;
      if (d) {
        if (U && null != z && (b = p ? Rn(c, z) : xj(c.key, z.key), 0 == b)) {
          return;
        }
        if (null != v && (b = p ? Rn(c, v) : xj(c.key, v.key), -1 == b || 0 == b && P)) {
          return k && (k[0] = void 0, k[1] = void 0), !0;
        }
      } else {
        if (P && null != v && (b = p ? Rn(c, v) : xj(c.key, v.key), 0 == b)) {
          return;
        }
        if (null != z && (b = p ? Rn(c, z) : xj(c.key, z.key), 1 == b || 0 == b && U)) {
          return k && (k[0] = void 0, k[1] = void 0), !0;
        }
      }
      b = c.key;
      if (!g || !r || null == n || 0 != xj(n, b)) {
        c = r ? c.ta() : b;
        if (2 == a) {
          m.push(c);
        } else {
          if (1 == a) {
            m.push(b);
          } else {
            if (3 == a) {
              m.push([b, c]);
            } else {
              if (4 == a) {
                var l = ua.Sb(null, c);
                m.push(l);
              } else {
                m.push([b, c, ua.Sb(null, c)]);
              }
            }
          }
        }
        k && (k[0] = b, k[1] = c);
      }
      n = b;
      if (t(e) && m.length >= e) {
        return !0;
      }
    }
  }
  var m = [], n, p = !!k && null != k[0];
  b = b || this.b;
  var r = b != this.b;
  b = Tn(this, b);
  var v = null, z = null;
  t(f) || (f = 0);
  var F = -1, P = !1, U = !1;
  null != c && (null != c.lower && (v = r && d ? new Pn(c.lower, "\uffff") : new Pn(c.lower)), null != c.upper && (z = r && !d ? new Pn(c.upper, "\uffff") : new Pn(c.upper)), P = !!c.lowerOpen, U = !!c.upperOpen);
  if (p) {
    d ? U = !0 : P = !0;
    c = k[0];
    var W = t(k[1]) ? k[1] : "\uffff";
    d ? z = r ? new Pn(c, W) : new Pn(c) : v = r ? new Pn(c, W) : new Pn(c);
  }
  var ua = this;
  d ? Nn(b, l, z) : On(b, l, v);
  return m;
};
h.Ta = function(a, b, c, d, e) {
  return this.cd(2, a, b, c, d, e);
};
function po() {
  this.clear();
}
h = po.prototype;
h.Ig = function() {
  return this;
};
h.setItem = function(a, b) {
  t(this.a[a]) || (this.keys.push(a.toString()), this.length = this.keys.length);
  this.a[a] = b;
};
h.getItem = function(a) {
  return t(this.a[a]) ? this.a[a] : null;
};
h.removeItem = function(a) {
  delete this.a[a];
  ob(this.keys, a.toString());
  this.length = this.keys.length;
};
h.length = 0;
h.key = function(a) {
  a = this.keys[a];
  return t(a) ? this.a[a] : null;
};
h.clear = function() {
  this.a = {};
  this.keys = [];
  this.length = 0;
};
function qo(a) {
  this.l = a || new po;
  this.h = {};
}
function Sn(a, b) {
  var c = Uk(a.a, b);
  if (c) {
    a.h[b] || (a.h[b] = new ko(a.f, a.c, c));
  } else {
    throw new ff('store name "' + b + '" not found.');
  }
  return a.h[b];
}
qo.prototype.Jb = function(a) {
  var b = this;
  setTimeout(function() {
    var c = Un(b.f), c = b.c.getItem(c), c = new fm(c);
    a(c);
  }, 10);
};
function ro(a, b) {
  this.b = a;
  this.a = b;
}
ro.prototype.S = function(a, b) {
  var c = this.b;
  setTimeout(function() {
    a.call(b, c);
  }, 4);
  var d = this;
  return function() {
    d.a("complete", null);
    d.a = null;
    d.b = null;
  };
};
function so(a, b) {
  this.a = b;
}
A(so, Ek);
h = so.prototype;
h.logger = J("ydn.db.crud.req.SimpleStore");
h.Tf = function(a, b, c) {
  this.pb(a, !0, !1, null, b, c);
};
h.pb = function(a, b, c, d, e, f) {
  M(this.logger, pk(a) + " " + (b ? "put" : "add") + "Object" + (c ? "" : "s " + e.length + " objects"));
  var g = a.a.S(function(k) {
    var l;
    if (c) {
      l = Sn(k, d), k = f ? f[0] : void 0, k = Ln(l, k, e[0], !b), null != k ? S(a, k) : (l = new sk(""), S(a, l, !0));
    } else {
      for (var m = d, n = [], p = !1, r = f || {}, v = 0;v < e.length;v++) {
        var z;
        d ? z = r[v] : (m = f[v], z = m.N(), m = m.R());
        l && l.getName() == m || (l = Sn(k, m));
        z = Ln(l, z, e[v], !b);
        null != z ? n.push(z) : (p = !0, n.push(new sk));
      }
      S(a, n, p);
    }
    g();
    g = null;
  }, this);
};
h.jf = function(a, b, c) {
  var d = a.a.S(function(e) {
    e = Sn(e, b).Sb(null, c);
    S(a, e);
    d();
    d = null;
  }, this);
};
function to(a, b, c, d) {
  var e = b.a.S(function(a) {
    for (var g = [], k = c, l, m = 0;m < d.length;m++) {
      var n = d[m];
      n instanceof Bk && (k = n, n = k.N(), k = k.R());
      l && l.getName() == k || (l = Sn(a, k));
      n = l.Sb(null, n);
      g[m] = n;
    }
    S(b, g, !1);
    e();
    e = null;
  }, a);
}
h.Kh = function(a, b, c) {
  to(this, a, b, c);
};
h.Lf = function(a, b) {
  to(this, a, null, b);
};
h.Uf = function(a, b, c) {
  var d = pk(a) + " removeById " + b + " " + c;
  M(this.logger, d);
  var e = this, f = a.a.S(function(g) {
    g = no(Sn(g, b), c);
    N(e.logger, "success " + d + (0 == g ? " [not found]" : ""));
    S(a, g);
    f();
    f = null;
  }, this);
};
h.Vf = function(a, b) {
  M(this.logger, pk(a) + " removeByKeys " + b.length + " keys");
  var c, d = 0, e = a.a.S(function(f) {
    for (var g = 0;g < b.length;g++) {
      var k = b[g].R(), l = b[g].N();
      c && c.getName() == k || (c = Sn(f, k));
      d += no(c, l);
    }
    S(a, d);
    e();
    e = null;
  }, this);
};
h.Hg = function(a, b, c) {
  this.Be(a, b, c);
};
h.Be = function(a, b, c) {
  var d = pk(a) + " removeByKeyRange " + (c ? Oi(c) : "");
  M(this.logger, d);
  var e = this, f = a.a.S(function(g) {
    g = oo(Sn(g, b), c);
    N(e.logger, d + " deleted " + g + " records.");
    S(a, g);
    f();
    f = null;
  }, this);
};
h.Xh = function(a, b, c, d) {
  var e = pk(a) + " removeByIndexKeyRange " + (d ? Oi(d) : "");
  M(this.logger, e);
  var f = a.a.S(function(e) {
    e = Sn(e, b);
    for (var k = e.Ta(c, d), l = k.length, m = 0;m < l;m++) {
      no(e, k[m]);
    }
    S(a, l);
    f();
    f = null;
  }, this);
};
h.Se = function(a, b) {
  var c = pk(a) + " clearByStores";
  M(this.logger, c);
  var d = a.a.S(function(e) {
    for (var f = 0;f < b.length;f++) {
      Sn(e, b[f]).clear();
    }
    N(this.logger, "success " + c);
    S(a, b.length);
    d();
    d = null;
  }, this);
};
h.Ue = function(a, b) {
  var c = a.a.S(function(d) {
    for (var e = [], f = 0;f < b.length;f++) {
      var g = Sn(d, b[f]);
      e.push(g.le());
    }
    S(a, e);
    c();
    c = null;
  }, this);
};
h.Fd = function(a, b, c, d) {
  var e = pk(a) + " count" + (null != d ? "Index" : "") + (null != c ? "KeyRange" : "Store");
  M(this.logger, e);
  var f = a.a.S(function(g) {
    g = Sn(g, b).le(d, c);
    N(this.logger, "success " + e);
    S(a, g);
    f();
    f = null;
  }, this);
};
h.list = function(a, b, c, d, e, f, g, k, l, m) {
  var n = pk(a) + " " + c + " " + (e ? Ni(e) : "");
  M(this.logger, n);
  var p = a.a.S(function(r) {
    r = Sn(r, c).cd(b, d, e, k, f, g, l, m);
    N(this.logger, n + " " + r.length + " records found.");
    S(a, r);
    p();
    p = null;
  }, this);
};
function uo(a, b) {
  this.a = b;
}
A(uo, so);
uo.prototype.b = function(a, b, c, d) {
  b = Uk(this.a, c);
  return new Kn(a, 0, b, d);
};
function vo(a, b, c, d) {
  Rj.call(this, a, 0, c, d);
  this.ea = null;
  this.h = this.l = void 0;
}
A(vo, Rj);
h = vo.prototype;
h.logger = J("ydn.db.core.req.WebsqlCursor");
h.ta = function() {
  return this.h;
};
h.init = function(a, b, c, d, e) {
  vo.j.init.call(this, a, b, c, d, e);
  this.ea = w(b) ? Tj(this.b, b) : null;
};
h.Y = function() {
  return this.D;
};
function wo(a, b) {
  a.l = void 0;
  a.h = void 0;
  a.D = void 0;
  if (t(b)) {
    if (x(b)) {
      var c = Ol(b[a.b.f], a.b.type);
      a.h = c;
      if (a.f) {
        var d = Tj(a.b, a.vc).type;
        a.l = Ol(b[a.vc], d);
      } else {
        a.l = c;
      }
      a.D = a.xe ? c : xo(b, a.b);
    } else {
      a.D = b;
    }
  }
}
function yo(a, b, c) {
  Tj(a.b, a.vc);
  var d = [], e = a.vc, f = a.ua, g = a.l;
  if (null != f) {
    var k = f.lower, l = f.upper, m = f.lowerOpen, n = f.upperOpen;
    a.reverse ? l = null != l && -1 == xj(l, g) ? l : g : k = null != k && 1 == xj(k, g) ? k : g;
    null != k && null != l ? f = oj(k, l, !!m, !!n) : f = null != k ? tj.lowerBound(k, !!m) : tj.upperBound(l, !!n);
  } else {
    f = a.reverse ? tj.upperBound(g) : tj.lowerBound(g);
  }
  e = Ul(a.b, d, a.W, e, f, a.reverse, a.unique);
  c = a.reverse ? tj.upperBound(c, !1) : tj.lowerBound(c, !1);
  c = Ul(a.b, d, a.W, a.b.f, c, a.reverse, a.unique);
  e.xa = e.xa ? e.xa + (" AND " + c.xa) : c.xa;
  c = "SELECT " + e.select + " FROM " + e.from + (e.xa ? " WHERE " + e.xa : "") + (e.group ? " GROUP BY " + e.group : "") + " ORDER BY " + e.Oc;
  c += " LIMIT 1";
  M(a.logger, a + ": continuePrimary:  SQL: " + c + " : " + Oi(d));
  a.o.executeSql(c, d, function(c, d) {
    0 < d.rows.length ? wo(a, d.rows.item(0)) : wo(a);
    b.call(a, a.l, a.h, a.D);
    b = null;
  }, function(c, d) {
    K(a.logger, "get error: " + d.message);
    Uj(a, d);
    wo(a);
    b.call(a, a.h, a.l, a.D);
    b = null;
    return !1;
  });
}
function zo(a, b, c, d, e, f) {
  var g = !d;
  d = [];
  a.f && null != f && null != c ? c = Xl(a.b, a.W, d, a.ea.getName(), a.ua, c, g, f, a.reverse, a.unique) : null != c ? (f = a.ea ? a.ea.getName() : null, c = Wl(a.b, a.W, d, f, a.ua, a.reverse, a.unique, c, g)) : (c = Tl(a.b, d, a.W, a.f ? a.ea.f : a.b.f, a.ua, a.reverse, a.unique), a.f && (c += ", " + a.b.b + " ASC"));
  c += " LIMIT 1";
  0 < e && (c += " OFFSET " + e);
  M(a.logger, a + ": continue:  SQL: " + c + " : " + Oi(d));
  a.o.executeSql(c, d, function(c, d) {
    0 < d.rows.length ? wo(a, d.rows.item(0)) : wo(a);
    b.call(a, a.l, a.h, a.D);
    b = null;
  }, function(c, d) {
    K(a.logger, "get error: " + d.message);
    Uj(a, d);
    wo(a);
    b.call(a, a.h, a.l, a.D);
    b = null;
    return !1;
  });
}
h.Bf = function() {
  return !!this.o;
};
h.update = function(a) {
  if (!this.Bf()) {
    throw new vk;
  }
  var b = new B, c = this.ta();
  a = Zl(this.b, a, c);
  var d = "REPLACE INTO " + Vl(this.b) + " (" + a.Ti.join(", ") + ") VALUES (" + a.pk.join(", ") + ")";
  M(this.logger, this + ': update "' + d + '" : ' + Oi(a.values));
  this.o.executeSql(d, a.values, function() {
    b.callback(c);
  }, function(a, c) {
    b.C(c);
    return !1;
  });
  return b;
};
h.advance = function(a) {
  var b = this.l, c = this.h, d = !0;
  null == this.l || this.f && null == this.h || (--a, d = !1);
  zo(this, function(a, d, g) {
    var k = null != b && null != a && 0 == xj(b, a);
    if (this.f) {
      var l = null != d && null != c && 0 == xj(d, c);
      if (k && l) {
        throw new ff("current: " + b + ";" + c + " next: " + a + ";" + d);
      }
    } else {
      if (k) {
        throw new ff("current: " + b + " next: " + a);
      }
    }
    this.Xb(a, d, g);
  }, this.l, d, a, this.h);
};
h.$c = function(a) {
  null != a ? zo(this, this.Xb, a, !0) : this.advance(1);
};
h.openCursor = function(a, b) {
  zo(this, this.Xb, a, !1, 0, b);
};
h.clear = function() {
  if (!this.Bf()) {
    throw new vk;
  }
  var a = new B, b = this.b.f, b = "DELETE FROM " + Vl(this.b) + " WHERE " + b + " = ?", c = [this.ta()];
  M(this.logger, this + ': clear "' + b + '" : ' + Oi(c));
  this.o.executeSql(b, c, function(b, c) {
    a.callback(c.rowsAffected);
  }, function(b, c) {
    a.C(c);
    return !1;
  });
  return a;
};
h.ke = function(a) {
  var b = xj(a, this.h);
  if (0 == b || 1 == b && this.reverse || -1 == b && !this.reverse) {
    throw new lm(this + " to continuePrimaryKey  from " + this.h + " to " + a + " on " + this.dir + " direction is wrong");
  }
  yo(this, this.Xb, a);
};
function Ao(a, b) {
  this.a = b;
}
A(Ao, Ek);
h = Ao.prototype;
h.logger = J("ydn.db.crud.req.WebSql");
function xo(a, b) {
  if (b.Ad && !b.keyPath && 0 == ml(b) && a._default_) {
    var c = a._default_;
    if (-1 == c.indexOf(";base64,")) {
      return Mi(c);
    }
    '"' == c.charAt(0) && '"' == c.charAt(c.length - 1) && (c = c.substr(1, c.length - 2));
    for (var d = c.split(";base64,"), c = d[0].split(":")[1], d = window.atob(d[1]), e = d.length, f = new Uint8Array(e), g = 0;g < e;++g) {
      f[g] = d.charCodeAt(g);
    }
    return new Blob([f.buffer], {type:c});
  }
  c = a._default_ ? Mi(a._default_) : {};
  null != b.keyPath && (d = Ol(a[b.keyPath], b.type), null != d && kl(b, c, d));
  for (d = 0;d < ml(b);d++) {
    e = b.index(d), f = e.f, "_default_" == f || e.l || e.multiEntry || "DATE" != e.type && !b.Ad || (f = Ol(a[f], e.type), t(f) && Nl(e, c, f));
  }
  return c;
}
h.pb = function(a, b, c, d, e, f) {
  function g(b, d) {
    if (null == e[b]) {
      if (M(m.logger, "empty object at " + b + " of " + e.length), p++, p == e.length) {
        N(m.logger, r + " success " + r), S(a, n, v);
      } else {
        var P = b + 2;
        P < e.length && g(P, d);
      }
    }
    var U;
    U = t(f) ? Zl(k, e[b], f[b]) : Zl(k, e[b]);
    P = l + Vl(k) + " (" + U.Ti.join(", ") + ") VALUES (" + U.pk.join(", ") + ");";
    M(m.logger, pk(a) + " SQL: " + P + " PARAMS: " + U.values + " REQ: " + b + " of " + e.length);
    d.executeSql(P, U.values, function(f, r) {
      function P(b, c) {
        var e = "ydn.db.me:" + k.getName() + ":" + b.getName(), e = l + Sa(e) + " (" + k.b + ", " + b.c + ") VALUES (?, ?)", f = [yj(Qa, k.type), yj(c, b.type)];
        M(m.logger, pk(a) + " multiEntry " + e + " " + f);
        d.executeSql(e, f, function() {
        }, function(a, b) {
          K(m.logger, "multiEntry index insert error: " + b.message);
          return !1;
        });
      }
      p++;
      var Qa = t(U.key) ? U.key : r.insertId;
      1 > r.rowsAffected && (v = !0, Qa = new sk(Qa + " no-op"));
      for (var Wc = 0, Mo = ml(k);Wc < Mo;Wc++) {
        var Rg = k.index(Wc);
        if (Rg.multiEntry) {
          for (var Sg = Aj(e[b], Rg.keyPath), Nt = (Sg ? Sg.length : 0) || 0, ka = 0;ka < Nt;ka++) {
            P(Rg, Sg[ka]);
          }
        }
      }
      c ? S(a, Qa) : (n[b] = Qa, p == e.length ? S(a, n, v) : (Wc = b + 2, Wc < e.length && g(Wc, f)));
    }, function(d, f) {
      p++;
      v = !0;
      6 == f.code ? f.name = "ConstraintError" : K(m.logger, "error: " + f.message + " " + r);
      if (c) {
        S(a, f, !0);
      } else {
        if (n[b] = f, p == e.length) {
          M(m.logger, "success " + r), S(a, n, v);
        } else {
          var k = b + 2;
          k < e.length && g(k, d);
        }
      }
      return !1;
    });
  }
  b = !b;
  var k = Uk(this.a, d), l = b ? "INSERT INTO " : "INSERT OR REPLACE INTO ";
  d = a.a;
  var m = this, n = [], p = 0, r = pk(a) + " inserting " + e.length + " objects.", v = !1;
  if (0 < e.length) {
    for (b = 0;2 > b && b < e.length;b++) {
      g(b, d);
    }
  } else {
    N(this.logger, "success"), S(a, []);
  }
};
h.Tf = function(a, b, c) {
  if (0 == c.length) {
    S(a, []);
  } else {
    for (var d = [], e = 0, f = 0, g = this, k = function(k, l) {
      var m = [];
      M(g.logger, "put " + l.length + " objects to " + k);
      for (var n = !!Uk(g.a, k).keyPath, p = n ? void 0 : [], r = 0;r < l.length;r++) {
        m.push(b[l[r]]), n || p.push(c[l[r]].N());
      }
      n = kk(a);
      n.u(function(b) {
        for (var c = 0;c < l.length;c++) {
          d[l[c]] = b[c];
        }
        e++;
        e == f && S(a, d);
      }, function() {
        e++;
        e == f && S(a, d, !0);
      });
      g.pb(n, !1, !1, k, m, p);
    }, l = "", m = [], n = [], p = 0;p < c.length;p++) {
      var r = c[p].R(), v = c[p].N();
      r != l ? (f++, 0 < m.length && k(l, m), m = [p], n = [v], l = r) : (m.push(p), n.push(v));
    }
    0 < m.length && k(l, m);
  }
};
h.jf = function(a, b, c) {
  var d = a.a, e = Uk(this.a, b), f = this;
  b = e.b;
  c = [yj(c, e.type)];
  b = "SELECT * FROM " + Vl(e) + " WHERE " + b + " = ?";
  var g = pk(a) + " SQL: " + b + " PARAMS: " + c;
  M(this.logger, g);
  d.executeSql(b, c, function(b, c) {
    if (0 < c.rows.length) {
      var d = c.rows.item(0);
      null != d ? (d = xo(d, e), S(a, d)) : (N(f.logger, "success no result: " + g), S(a, void 0));
    } else {
      N(f.logger, "success no result: " + g), S(a, void 0);
    }
  }, function(b, c) {
    K(f.logger, "error: " + g + " " + c.message);
    S(a, c, !0);
    return !1;
  });
};
h.Kh = function(a, b, c) {
  function d(b, e) {
    var p = l.b, r = [yj(c[b], l.type)], v = "SELECT * FROM " + Vl(l) + " WHERE " + p + " = ?";
    M(f.logger, "SQL: " + v + " PARAMS: " + r);
    e.executeSql(v, r, function(e, f) {
      k++;
      if (0 < f.rows.length) {
        var n = f.rows.item(0);
        null != n && (g[b] = xo(n, l));
      } else {
        g[b] = void 0;
      }
      k == c.length ? S(a, g) : (n = b + 10, n < c.length && d(n, e));
    }, function(e, l) {
      k++;
      K(f.logger, "error: " + v + " " + l.message);
      if (k == c.length) {
        S(a, g);
      } else {
        var n = b + 10;
        n < c.length && d(n, e);
      }
      return !1;
    });
  }
  var e = a.a, f = this, g = [], k = 0, l = Uk(this.a, b);
  if (0 < c.length) {
    for (b = 0;10 > b && b < c.length;b++) {
      d(b, e);
    }
  } else {
    N(f.logger, "success"), S(a, []);
  }
};
h.Lf = function(a, b) {
  function c(d, k) {
    var n = b[d], p = Uk(e.a, n.R()), r = Ck(n), n = p.b, r = [yj(r, p.type)], v = "SELECT * FROM " + Vl(p) + " WHERE " + n + " = ?";
    M(e.logger, "SQL: " + v + " PARAMS: " + r);
    k.executeSql(v, r, function(k, m) {
      g++;
      if (0 < m.rows.length) {
        var n = m.rows.item(0);
        null != n && (f[d] = xo(n, p));
      } else {
        f[d] = void 0;
      }
      g == b.length ? (M(e.logger, "success " + v), S(a, f)) : (n = d + 10, n < b.length && c(n, k));
    }, function(b, c) {
      S(a, c, !0);
      return !1;
    });
  }
  var d = a.a, e = this, f = [], g = 0;
  if (0 < b.length) {
    for (var k = 0;10 > k && k < b.length;k++) {
      c(k, d);
    }
  } else {
    M(this.logger, "success"), S(a, []);
  }
};
h.Se = function(a, b) {
  function c(d, g) {
    function k(a) {
      a = "ydn.db.me:" + l.getName() + ":" + a.getName();
      a = "DELETE FROM  " + Sa(a);
      M(e.logger, "SQL: " + a);
      g.executeSql(a, []);
    }
    var l = Uk(e.a, b[d]), m = "DELETE FROM  " + Vl(l);
    M(e.logger, "SQL: " + m + " PARAMS: []");
    g.executeSql(m, [], function(g) {
      d == b.length - 1 ? (M(e.logger, "success " + m), S(a, b.length)) : c(d + 1, g);
    }, function(b, c) {
      S(a, c, !0);
      return !1;
    });
    for (var n = 0, p = ml(l);n < p;n++) {
      var r = l.index(n);
      r.multiEntry && k(r);
    }
  }
  var d = a.a, e = this;
  0 < b.length ? c(0, d) : (M(this.logger, "success"), S(a, 0));
};
h.Vf = function(a, b) {
  function c(k) {
    if (k >= b.length) {
      S(a, f, g);
    } else {
      var l = Uk(e.a, b[k].R()), m = yj(b[k].N(), l.type), n = " WHERE " + l.b + " = ?", p = "DELETE FROM " + Vl(l) + n, r = pk(a) + " SQL: " + p + " PARAMS: " + [m];
      d.executeSql(p, [m], function() {
        f++;
        c(k);
      }, function(a, b) {
        K(e.logger, "error: " + r + b.message);
        g = !0;
        c(k);
        return !1;
      });
      k++;
      for (var p = function(b) {
        b = "ydn.db.me:" + l.getName() + ":" + b.getName();
        b = "DELETE FROM  " + Sa(b) + n;
        M(e.logger, pk(a) + NaN + b);
        d.executeSql(b, [m]);
      }, v = 0, z = ml(l);v < z;v++) {
        var F = l.index(v);
        F.multiEntry && p(F);
      }
    }
  }
  var d = a.a, e = this, f = 0, g = !1;
  M(this.logger, pk(a) + " removeByKeys: " + b.length + " keys");
  c(0);
};
h.Uf = function(a, b, c) {
  function d(b) {
    b = "ydn.db.me:" + f.getName() + ":" + b.getName();
    b = "DELETE FROM  " + Sa(b) + l;
    M(k.logger, pk(a) + NaN + b);
    e.executeSql(b, [g]);
  }
  var e = a.a, f = Uk(this.a, b), g = yj(c, f.type), k = this, l = " WHERE " + f.b + " = ?";
  b = "DELETE FROM " + Vl(f) + l;
  M(this.logger, pk(a) + " SQL: " + b + " PARAMS: " + [g]);
  e.executeSql(b, [g], function(b, c) {
    S(a, c.rowsAffected);
  }, function(b, c) {
    S(a, c, !0);
    return !1;
  });
  b = 0;
  for (c = ml(f);b < c;b++) {
    var m = f.index(b);
    m.multiEntry && d(m);
  }
};
h.Hg = function(a, b, c) {
  Bo(this, a, b, void 0, c);
};
h.Be = function(a, b, c) {
  Bo(this, a, b, void 0, c);
};
h.Xh = function(a, b, c, d) {
  Bo(this, a, b, c, d);
};
function Bo(a, b, c, d, e) {
  function f(c) {
    c = "ydn.db.me:" + k.getName() + ":" + c.getName();
    c = "DELETE FROM  " + Sa(c) + n;
    M(a.logger, pk(b) + NaN + c);
    g.executeSql(c, m);
  }
  var g = b.a, k = Uk(a.a, c);
  c = "DELETE FROM " + Vl(k);
  var l = [], m = [], n = "";
  null != e && (t(d) ? (d = Tj(k, d), wj(d.c, d.type, e, m, l)) : wj(k.b, k.type, e, m, l), n = " WHERE " + m.join(" AND "));
  c += n;
  var p = pk(b) + " SQL: " + c + " PARAMS: " + l;
  M(a.logger, p);
  g.executeSql(c, l, function(c, d) {
    M(a.logger, "success " + p);
    S(b, d.rowsAffected);
  }, function(c, d) {
    K(a.logger, "error: " + p + d.message);
    S(b, d, !0);
    return !1;
  });
  e = 0;
  for (d = ml(k);e < d;e++) {
    c = k.index(e), c.multiEntry && f(c);
  }
}
h.Ue = function(a, b) {
  function c(g) {
    var k = "SELECT COUNT(*) FROM " + Sa(b[g]);
    M(e.logger, "SQL: " + k + " PARAMS: []");
    d.executeSql(k, [], function(d, e) {
      var k = e.rows.item(0);
      f[g] = parseInt(k["COUNT(*)"], 10);
      g++;
      g == b.length ? S(a, f) : c(g);
    }, function(b, c) {
      S(a, c, !0);
      return !1;
    });
  }
  var d = a.a, e = this, f = [];
  0 == b.length ? (M(this.logger, "success"), S(a, 0)) : c(0);
};
h.Fd = function(a, b, c, d, e) {
  var f = [];
  b = Tl(Uk(this.a, b), f, 6, d, c, !1, e);
  M(this.logger, pk(a) + " SQL: " + b + " PARAMS: " + f);
  a.a.executeSql(b, f, function(b, c) {
    var d = c.rows.item(0);
    S(a, nm(d));
  }, function(b, c) {
    S(a, c, !0);
    return !1;
  });
};
h.list = function(a, b, c, d, e, f, g, k, l, m) {
  var n = this, p = [], r = Uk(this.a, c), v = r.f, z = r.type, F = z, P = null != d && d !== v ? Tj(r, d) : null, U = d || v;
  P && (F = P.type);
  c = [];
  if (m && t(m[0])) {
    var W = m[0];
    P && t(m[1]) ? (d = m[1], e = Xl(r, b, c, P.getName(), e, W, !0, d, k, l)) : e = Wl(r, b, c, d, e, k, l, W, !0);
  } else {
    e = Tl(r, c, b, U, e, k, l);
  }
  ha(f) && (e += " LIMIT " + f);
  ha(g) && (e += " OFFSET " + g);
  var ua = a + " SQL: " + e + " ;params= " + Oi(c);
  M(this.logger, ua);
  a.a.executeSql(e, c, function(c, d) {
    for (var e = d.rows.length, f, g = 0;g < e;g++) {
      f = d.rows.item(g), 2 == b ? p[g] = Ol(f[v], z) : 1 == b ? p[g] = Ol(f[U], F) : 3 == b ? p[g] = [Ol(f[U], F), Ol(f[v], z)] : null != f && (p[g] = xo(f, r));
    }
    N(n.logger, "success " + a);
    m && f && (m[0] = Ol(f[U], F), m[1] = Ol(f[v], z));
    S(a, p);
  }, function(b, c) {
    K(n.logger, "error: " + ua + c.message);
    S(a, c, !0);
    return !1;
  });
};
function Co(a, b) {
  this.a = b;
}
A(Co, Ao);
Co.prototype.logger = J("ydn.db.core.req.WebSql");
Co.prototype.b = function(a, b, c, d) {
  b = Uk(this.a, c);
  return new vo(a, 0, b, d);
};
Fm.prototype.F = function() {
  var a = Jk(this);
  if ("indexeddb" == a) {
    return new In(0, this.b);
  }
  if ("websql" == a || "sqlite" == a) {
    return new Co(0, this.b);
  }
  if ("memory" == a || "localstorage" == a || "userdata" == a || "sessionstorage" == a) {
    return new uo(0, this.b);
  }
  throw new ff("No executor for " + a);
};
function Do(a) {
  return w(a) ? a.replace(/\D/g, "").replace(/^0+/, "") : null;
}
function Eo(a) {
  if (!w(a) || !/.+@.+\..+/.test(a)) {
    return null;
  }
  a = a.replace(/.*</, "").replace(/>.*/, "");
  a = a.toLowerCase();
  a = a.replace(/\+\w*?@/, "@");
  for (var b = a.indexOf("@");0 <= b;b--) {
  }
  return a;
}
function Fo(a) {
  return a ? (a = a.match(/\w+/g)) ? a.length : 0 : 0;
}
;function Go(a) {
  if (!w(a)) {
    throw new im;
  }
  this.Cb = a;
  this.f = Oj;
  this.a = [];
  Ho(this, a);
  this.Ie = "";
}
h = Go.prototype;
h.Cb = "";
h.Ik = NaN;
h.Oj = NaN;
h.wi = !1;
h.Ie = "";
function Ho(a, b) {
  var c = b.split(/\sFROM\s/i);
  if (2 == c.length) {
    var d = c[1], c = c[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i);
    if (3 == c.length) {
      a.h = c[1].toUpperCase();
      if ("SELECT" == a.h) {
        a.f = Nj;
      } else {
        if ("INSERT" == a.h) {
          a.f = Oj;
        } else {
          if ("UPDATE" == a.h) {
            a.f = Oj;
          } else {
            if ("DELETE" == a.h) {
              a.f = Oj;
            } else {
              return;
            }
          }
        }
      }
      var c = c[2].trim(), e = c.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);
      e ? (a.c = e[0].toUpperCase(), c = c.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i, "").trim()) : a.c = void 0;
      "(" == c.charAt(0) && (")" == c.charAt(c.length - 1) ? c = c.substring(1, c.length - 1) : new zk("missing closing parentheses"));
      a.J = c;
      c = d.search(/(ORDER BY|LIMIT|OFFSET)/i);
      0 < c ? (a.b = d.substring(c), d = d.substring(0, c)) : a.b = "";
      c = d.search(/WHERE/i);
      0 < c ? (a.l = d.substring(c + 6).trim(), d = d.substring(0, c)) : a.l = "";
      a.a = d.trim().split(",").map(function(a) {
        a = Oa(a, '"');
        a = Oa(a, "'");
        return a.trim();
      });
    }
  }
}
h.parse = function(a) {
  if (a) {
    for (var b = 0;b < a.length;b++) {
      this.Cb = this.Cb.replace("?", a[b]);
    }
    Ho(this, this.Cb);
  }
  this.o = Io(this);
  if (!this.o) {
    return this.Ie;
  }
  a = this.b.length;
  if (b = /OFFSET\s+(\d+)/i.exec(this.b)) {
    this.Oj = parseInt(b[1], 10), a = this.b.search(/OFFSET/i);
  }
  if (b = /LIMIT\s+(\d+)/i.exec(this.b)) {
    this.Ik = parseInt(b[1], 10), b = this.b.search(/LIMIT/i), b < a && (a = b);
  }
  (a = /ORDER BY\s+(.+)/i.exec(this.b.substr(0, a))) ? (a = a[1].trim(), (b = a.match(/(ASC|DESC)/i)) ? (this.wi = "DESC" == b[0].toUpperCase(), a = a.replace(/\s+(ASC|DESC)/i, "")) : this.wi = !1, this.s = Oa(Oa(a, '"'), "'")) : this.s = void 0;
  return "";
};
function Jo(a) {
  if ("*" == a.J) {
    return null;
  }
  a = a.J.split(",");
  return a = a.map(function(a) {
    return Oa(a.trim(), '"');
  });
}
h.toJSON = function() {
  return {sql:this.Cb};
};
function Io(a) {
  function b(a) {
    return lb(c, function(b) {
      return b.nc() == a;
    });
  }
  var c = [], d = /(.+?)(<=|>=|=|>|<)(.+)/i;
  if (0 < a.l.length) {
    for (var e = a.l.split("AND"), f = 0;f < e.length;f++) {
      var g = e[f], k = d.exec(g);
      if (k) {
        var l = k[1].trim(), l = Oa(l, '"'), l = Oa(l, "'");
        if (0 < l.length) {
          var m = k[3].trim();
          xa(m, '"') ? m = Oa(m, '"') : xa(m, "'") ? m = Oa(m, "'") : m = parseFloat(m);
          k = new Lj(l, k[2], m);
          l = b(l);
          if (0 <= l) {
            if (c[l] = c[l].Dg(k), !c[l]) {
              return a.Ie = 'where clause "' + g + '" conflict', null;
            }
          } else {
            c.push(k);
          }
        } else {
          return a.Ie = 'Invalid clause "' + g + '"', null;
        }
      } else {
        return a.Ie = 'Invalid clause "' + g + '"', null;
      }
    }
  }
  return c;
}
h.toString = function() {
  return Go.j.toString.call(this);
};
function Ko(a, b) {
  this.a = b;
  this.b = a;
}
Ko.prototype.logger = J("ydn.db.sql.req.nosql.Node");
Ko.prototype.toJSON = function() {
  return {sql:this.a};
};
Ko.prototype.toString = function() {
  return "idb.Node:";
};
Ko.prototype.execute = function(a, b) {
  var c = rb(this.a.a)[0], d = this.a.o, e = this.a.Ik, e = isNaN(e) ? 100 : e, f = this.a.Oj, f = isNaN(f) ? 0 : f, g = this.a.s, k = Jo(this.a), l = null, m = this.a.wi;
  if (0 == d.length) {
    l = null;
  } else {
    if (1 == d.length) {
      l = sj(d[0].a);
    } else {
      throw new cf("too many conditions.");
    }
  }
  null === k || nk(a, function(a, b, c) {
    var d = a;
    b || (d = a.map(function(a) {
      var b = k.length;
      if (1 == b) {
        return Aj(a, k[0]);
      }
      for (var c = {}, d = 0;d < b;d++) {
        c[k[d]] = Aj(a, k[d]);
      }
      return c;
    }));
    c(d, b);
  });
  var d = 0 < d.length ? d[0].nc() : void 0, n = pk(a) + " executing on" + c;
  d && (n += ":" + d);
  n += " " + vj(l);
  N(this.logger, n);
  g && g != this.b.keyPath ? b.list(a, 4, c, g, l, e, f, m, !1) : t(d) && d != this.b.keyPath ? b.list(a, 4, c, d, l, e, f, m, !1) : b.list(a, 4, c, null, l, e, f, m, !1);
};
function Lo(a, b) {
  Ko.call(this, a, b);
}
A(Lo, Ko);
Lo.prototype.execute = function(a, b) {
  var c, d = rb(this.a.a)[0], e = this.a.o, f = null;
  if (0 == e.length) {
    f = null;
  } else {
    if (1 == e.length) {
      f = sj(e[0].a);
    } else {
      throw new cf("too many conditions.");
    }
  }
  var g = this.a.c, e = 0 < e.length ? e[0].nc() : void 0, k = pk(a) + " executing " + g + " on " + d;
  e && (k += ":" + e);
  k += " " + vj(f);
  N(this.logger, k);
  if ("COUNT" == g) {
    f ? b.Fd(a, d, f, e, !1) : b.Fd(a, d, null, void 0, !1);
  } else {
    var l, k = Jo(this.a);
    if (!k || 0 == k.length) {
      throw new lm("field name require for reduce operation: " + g);
    }
    k = k[0];
    if ("MIN" == g) {
      l = Oo(k);
    } else {
      if ("MAX" == g) {
        l = Qo(k);
      } else {
        if ("AVG" == g) {
          c = 0, l = Ro(k);
        } else {
          if ("SUM" == g) {
            c = 0, l = So(k);
          } else {
            throw new jm(g);
          }
        }
      }
    }
    var m;
    t(e) ? m = new ek(d, e, f) : m = new ck(d, f);
    var d = b.b(a.a, pk(a), d, 4), n = m.load([d]);
    n.ka = function(b) {
      S(a, b, !0);
    };
    var p = 0;
    n.V = function(b) {
      null != b ? (b = m.a ? n.ta() : n.Y(), c = l(b, c, p), n.advance(1), p++) : S(a, c);
    };
  }
};
function Ro(a) {
  return function(b, c, d) {
    t(c) || (c = 0);
    return (c * d + b[a]) / (d + 1);
  };
}
function So(a) {
  return function(b, c) {
    return c + b[a];
  };
}
function Oo(a) {
  return function(b, c) {
    var d = b[a];
    return t(c) ? c < d ? c : d : d;
  };
}
function Qo(a) {
  return function(b, c) {
    var d = b[a];
    return t(c) ? c > d ? c : d : d;
  };
}
;function To(a, b) {
  this.a = b;
}
A(To, In);
To.prototype.logger = J("ydn.db.sql.req.IndexedDb");
To.prototype.executeSql = function(a, b, c) {
  if (c = b.parse(c)) {
    throw new zk(c);
  }
  c = rb(b.a);
  if (1 == c.length) {
    var d = Uk(this.a, c[0]);
    if (!d) {
      throw new wk(c[0]);
    }
    var e = Jo(b);
    if (e) {
      for (var f = 0;f < e.length;f++) {
        if (!vl(d, e[f])) {
          throw new wk('Index "' + e[f] + '" not found in ' + c[0]);
        }
      }
    }
    var g;
    b.c ? g = new Lo(d, b) : g = new Ko(d, b);
    g.execute(a, this);
  } else {
    throw new jm(b.Cb);
  }
};
function Uo(a, b) {
  this.b = b;
  this.c = a;
  this.a = Jo(b);
}
Uo.prototype.logger = J("ydn.db.sql.req.websql.Node");
Uo.prototype.toJSON = function() {
  return {sql:this.b.Cb};
};
Uo.prototype.toString = function() {
  return "websql.Node:";
};
function Vo(a, b) {
  if (a.a) {
    if (1 == a.a.length) {
      if (x(b)) {
        return Jb(b, a.a[0]);
      }
      return;
    }
    for (var c = {}, d = 0;d < a.a.length;d++) {
      c[a.a[d]] = Jb(b, a.a[d]);
    }
    return c;
  }
  return xo(b, a.c);
}
Uo.prototype.execute = function(a, b, c) {
  var d = this, e = [];
  b.executeSql(this.b.Cb, c, function(b, c) {
    for (var k = c.rows.length, l = 0;l < k;l++) {
      var m = c.rows.item(l);
      if (x(m)) {
        var n = Vo(d, m);
        e.push(n);
      } else {
        e.push(n);
      }
    }
    a(e);
  }, function(b, c) {
    K(d.logger, "Sqlite error: " + c.message);
    a(c, !0);
    return !0;
  });
};
function Wo(a, b) {
  Uo.call(this, a, b);
}
A(Wo, Uo);
Wo.prototype.execute = function(a, b, c) {
  var d = this;
  b.executeSql(this.b.Cb, c, function(b, c) {
    var d = c.rows.length;
    if (1 == d) {
      d = nm(c.rows.item(0)), a(d);
    } else {
      if (0 == d) {
        a(void 0);
      } else {
        throw new uk;
      }
    }
  }, function(b, c) {
    K(d.logger, "Sqlite error: " + c.message);
    a(c, !0);
    return !0;
  });
};
function Xo(a, b) {
  this.a = b;
}
A(Xo, Co);
Xo.prototype.logger = J("ydn.db.sql.req.WebSql");
Xo.prototype.executeSql = function(a, b, c) {
  var d = rb(b.a);
  if (1 == d.length) {
    var e = Uk(this.a, d[0]);
    if (!e) {
      throw new wk(d[0]);
    }
    var f = Jo(b);
    if (f) {
      for (var g = 0;g < f.length;g++) {
        if (!vl(e, f[g])) {
          throw new wk('Index "' + f[g] + '" not found in ' + d[0]);
        }
      }
    }
    var k;
    b.c ? k = new Wo(e, b) : k = new Uo(e, b);
    k.execute(function(b, c) {
      S(a, b, c);
    }, a.a, c);
  } else {
    throw new jm(b.Cb);
  }
};
function Yo(a, b) {
  this.a = b;
}
A(Yo, uo);
Yo.prototype.logger = J("ydn.db.sql.req.SimpleStore");
Yo.prototype.executeSql = function(a, b, c) {
  if (c = b.parse(c)) {
    throw new zk(c);
  }
  c = rb(b.a);
  if (1 == c.length) {
    var d = Uk(this.a, c[0]);
    if (!d) {
      throw new wk(c[0]);
    }
    var e = Jo(b);
    if (e) {
      for (var f = 0;f < e.length;f++) {
        if (!vl(d, e[f])) {
          throw new O('Index "' + e[f] + '" not found in ' + c[0]);
        }
      }
    }
    var g;
    b.c ? g = new Lo(d, b) : g = new Ko(d, b);
    g.execute(a, this);
  } else {
    throw new cf(b.Cb);
  }
};
function Zo(a, b, c, d) {
  Rk.call(this, a, b, c, d);
}
A(Zo, ul);
Zo.prototype.executeSql = function(a, b) {
  for (var c = new Go(a), d = rb(c.a), e = 0;e < d.length;e++) {
    var f = Uk(this.b, d[e]);
    if (!f) {
      throw new O("store: " + f + " not exists.");
    }
  }
  N(this.logger, "executeSql: " + a + " params: " + b);
  var g = this.a.request("r", rb(c.a), c.f);
  ok(g, function() {
    Sk(this).executeSql(g, c, b || []);
  }, this);
  return g;
};
function $o(a, b, c) {
  Em.call(this, a, b, c);
}
A($o, Fm);
$o.prototype.Wd = function(a, b) {
  return new Zo(this, this.b, a, b);
};
$o.prototype.executeSql = function(a, b) {
  return this.a.executeSql(a, b);
};
$o.prototype.F = function() {
  var a = Jk(this);
  if ("indexeddb" == a) {
    return new To(0, this.b);
  }
  if ("websql" == a || "sqlite" == a) {
    return new Xo(0, this.b);
  }
  if ("memory" == a || "localstorage" == a || "sessionstorage" == a) {
    return new Yo(0, this.b);
  }
  throw new ff("No executor for " + a);
};
function ap(a, b) {
  t(a) && 5242880 < a && $e(this.logger, Le, "storage size request ignored, use Quota Management API instead");
  this.Ha = null;
  this.Ee = b || NaN;
}
h = ap.prototype;
h.connect = function(a, b) {
  function c(a, c, d) {
    N(e.logger, (d ? "changing" : "upgrading") + " version to " + a.version + " from " + g);
    for (d = 0;d < b.stores.length;d++) {
      bp(e, a, c, b.stores[d]);
    }
    c = a.objectStoreNames;
    var f = c.length;
    for (d = 0;d < f;d++) {
      dl(b, c[d]) || (a.deleteObjectStore(c[d]), N(e.logger, "store: " + c[d] + " deleted."));
    }
  }
  function d(a, b) {
    f.f ? K(e.logger, "database already set.") : t(b) ? (K(e.logger, b ? b.message : "Error received."), e.Ha = null, f.C(b)) : (e.Ha = a, e.Ha.onabort = function(a) {
      M(e.logger, e + ": abort");
      e.Ke(a.target.error);
    }, e.Ha.onerror = function(a) {
      M(e.logger, e + ": error");
      e.Ke(a.target.error);
    }, e.Ha.onversionchange = function(a) {
      M(e.logger, e + " closing connection for onversionchange to: " + a.version);
      if (e.Ha && (e.Ha.onabort = null, e.Ha.onblocked = null, e.Ha.onerror = null, e.Ha.onversionchange = null, e.Sf(a), !a.defaultPrevented)) {
        e.Ha.close();
        e.Ha = null;
        var b = Error();
        b.name = a.type;
        e.og(b);
      }
    }, f.callback(parseFloat(g)));
  }
  var e = this, f = new B, g = void 0, k = b.version;
  $e(this.logger, Pe, "Opening database: " + a + " ver: " + (b.pd ? "auto" : k));
  var l;
  l = t(k) ? Qj.open(a, k) : Qj.open(a);
  l.onsuccess = function(f) {
    var k = f.target.result;
    t(g) || (g = k.version);
    $e(e.logger, Pe, "Database: " + k.name + ", ver: " + k.version + " opened.");
    if (b.pd) {
      e.Jb(function(f) {
        if (b instanceof Yk) {
          for (var g = 0;g < f.stores.length;g++) {
            dl(b, f.stores[g].getName()) || Zk(b, f.stores[g].clone());
          }
        }
        f = gm(b, f, !1, !0);
        if (0 < f.length) {
          $e(e.logger, Pe, "Schema change require for difference in " + f);
          f = ha(k.version) ? k.version + 1 : 1;
          k.close();
          var l = Qj.open(a, f);
          l.onupgradeneeded = function(a) {
            a = a.target.result;
            $e(e.logger, Pe, "re-open for version " + a.version);
            c(a, l.transaction, !1);
          };
          l.onsuccess = function(a) {
            d(a.target.result);
          };
          l.onerror = function() {
            $e(e.logger, Pe, e + ": fail.");
            d(null);
          };
        } else {
          d(k);
        }
      }, void 0, k);
    } else {
      if (b.version > k.version) {
        var l = k.setVersion(b.version);
        l.a = function(a) {
          K(e.logger, "migrating from " + k.version + " to " + b.version + " failed.");
          d(null, a);
        };
        l.onsuccess = function() {
          c(k, l.transaction, !0);
        };
      } else {
        b.version == k.version ? $e(e.logger, Pe, "database version " + k.version + " ready to go") : K(e.logger, "connected database version " + k.version + " is higher than requested version."), e.Jb(function(a) {
          a = gm(b, a, !1, !0);
          0 < a.length ? ($e(e.logger, Pe, a), d(null, new al("different schema: " + a))) : d(k);
        }, void 0, k);
      }
    }
  };
  l.onupgradeneeded = function(a) {
    a = a.target.result;
    g = NaN;
    $e(this.logger, Pe, "upgrade needed for version " + a.version);
    c(a, l.transaction, !1);
  };
  l.onerror = function(c) {
    af(e.logger, 'open request to database "' + a + '" ' + (t(b.version) ? " with version " + b.version : "") + " cause error of " + l.error.name);
    d(null, c);
  };
  l.onblocked = function(c) {
    af(e.logger, "database " + a + " " + b.version + " block, close other connections.");
    d(null, c);
  };
  ha(this.Ee) && !isNaN(this.Ee) && setTimeout(function() {
    "done" != l.readyState && (af(e.logger, e + ": database state is still " + l.readyState), d(null, new Ak("connection timeout after " + e.Ee)));
  }, this.Ee);
  return f;
};
h.Ee = 18E4;
h.og = function() {
};
h.Ke = function() {
};
h.Sf = function() {
};
h.Je = function() {
  return "indexeddb";
};
h.ng = function() {
  return !!this.Ha;
};
h.logger = J("ydn.db.con.IndexedDb");
h.Ha = null;
h.mg = function() {
  return this.Ha ? parseFloat(this.Ha.version) : void 0;
};
h.Jb = function(a, b, c) {
  c = c || this.Ha;
  if (t(b)) {
    if (null === b) {
      if (0 == c.objectStoreNames.length) {
        a(new fm(c.version));
        return;
      }
      throw new yl;
    }
    c = b.db;
  } else {
    b = [];
    for (var d = c.objectStoreNames.length - 1;0 <= d;d--) {
      b[d] = c.objectStoreNames[d];
    }
    if (0 == b.length) {
      a(new fm(c.version));
      return;
    }
    b = c.transaction(b, Nj);
  }
  for (var e = c.objectStoreNames, f = [], g = e.length, d = 0;d < g;d++) {
    for (var k = b.objectStore(e[d]), l = [], m = 0, n = k.indexNames.length;m < n;m++) {
      var p = k.index(k.indexNames[m]);
      l[m] = new Jl(p.keyPath, void 0, p.unique, p.multiEntry, p.name);
    }
    f[d] = new Wk(k.name, k.keyPath, k.autoIncrement, void 0, l);
  }
  b = new fm(c.version, f);
  a(b);
};
function bp(a, b, c, d) {
  function e() {
    var a = {autoIncrement:!!d.autoIncrement};
    null != d.keyPath && (a.keyPath = d.keyPath);
    return b.createObjectStore(d.getName(), a);
  }
  $e(a.logger, Qe, "Creating Object Store for " + d.getName() + " keyPath: " + d.keyPath);
  if (b.objectStoreNames.contains(d.getName())) {
    c = c.objectStore(d.getName());
    Ql(d.keyPath || "", c.keyPath || "") ? (b.deleteObjectStore(d.getName()), $e(a.logger, Le, "store: " + d.getName() + " deleted due to keyPath change."), c = e()) : ga(c.autoIncrement) && ga(d.autoIncrement) && c.autoIncrement != d.autoIncrement && (b.deleteObjectStore(d.getName()), $e(a.logger, Le, "store: " + d.getName() + " deleted due to autoIncrement change."), c = e());
    for (var f = c.indexNames, g = 0;g < ml(d);g++) {
      var k = d.index(g);
      !f.contains(k.getName()) && k.h && (c.clear(), $e(a.logger, Le, "store: " + d.getName() + " cleared since generator index need re-indexing."));
    }
    for (var l = 0, m = 0, n = 0, g = 0;g < ml(d);g++) {
      var k = d.index(g), p = !1;
      if (f.contains(k.getName())) {
        var r = c.index(k.getName()), v = null != r.unique && null != k.unique && r.unique != k.unique, z = null != r.multiEntry && null != k.multiEntry && r.multiEntry != k.multiEntry, r = null != r.keyPath && null != k.keyPath && !!Ql(r.keyPath, k.keyPath);
        if (v || z || r) {
          c.deleteIndex(k.getName()), p = !0, l--, n++;
        }
      } else {
        "BLOB" != k.type && (p = !0);
      }
      p && (k.unique || k.multiEntry ? (p = {unique:k.unique, multiEntry:k.multiEntry}, c.createIndex(k.getName(), k.keyPath, p)) : c.createIndex(k.getName(), k.keyPath), l++);
    }
    for (g = 0;g < f.length;g++) {
      vl(d, f[g]) || (c.deleteIndex(f[g]), m++);
    }
    $e(a.logger, Qe, "Updated store: " + c.name + ", " + l + " index created, " + m + " index deleted, " + n + " modified.");
  } else {
    c = e();
    for (g = 0;g < ml(d);g++) {
      k = d.index(g), "BLOB" == k.type ? $e(a.logger, Me, "Index " + k + " of blob data type ignored.") : (M(a.logger, "Creating index: " + k + " for " + d.getName()), k.unique || k.multiEntry ? (p = {unique:k.unique, multiEntry:k.multiEntry}, c.createIndex(k.getName(), k.keyPath, p)) : c.createIndex(k.getName(), k.keyPath));
    }
    N(a.logger, "Created store: " + c);
  }
}
h.Ze = function(a, b, c, d) {
  var e = this.Ha;
  if (!b) {
    b = [];
    for (var f = e.objectStoreNames.length - 1;0 <= f;f--) {
      b[f] = e.objectStoreNames[f];
    }
  }
  0 == b.length ? a(null) : (b = e.transaction(b, c), b.oncomplete = function(a) {
    d("complete", a);
  }, b.onabort = function(a) {
    d("abort", a);
  }, a(b), a = null);
};
h.close = function() {
  $e(this.logger, Qe, this + " closing connection");
  this.Ha.close();
};
rk.push(function(a, b) {
  if (!Qj || b && "indexeddb" != b) {
    return null;
  }
  var c = Qj.deleteDatabase(a), d = new ik("vc");
  c.onblocked = function(a) {
    hf(d, a);
  };
  c.onerror = function(a) {
    d.C(a);
  };
  c.onsuccess = function(a) {
    d.callback(a);
  };
  return d;
});
function cp(a) {
  qo.call(this, a);
  this.b = NaN;
}
A(cp, qo);
h = cp.prototype;
h.logger = J("ydn.db.con.SimpleStorage");
h.mg = function() {
  return this.b;
};
h.connect = function(a, b) {
  function c(a, b) {
    setTimeout(function() {
      b ? (N(d.logger, d + " opening fail"), e.C(b)) : (N(d.logger, d + " version " + d.mg() + " open"), e.callback(a));
    }, 10);
  }
  var d = this, e = new B;
  this.c = this.l.Ig(a);
  this.f = a;
  this.a = b;
  var f = Un(this.f);
  this.b = NaN;
  var g = Mi(this.c.getItem(f));
  t(g.version) && !ha(g.version) && (g.version = NaN);
  if (g) {
    if (g = new fm(g), gm(this.a, g, !1, !1)) {
      if (!this.a.pd && !isNaN(g.version) && this.a.version > g.version) {
        c(NaN, new tk(""));
      } else {
        var k = this.a.version;
        this.b = t(k) ? k : g.version + 1;
        for (k = 0;k < this.a.count();k++) {
          var l = this.a.store(k)
        }
        if (this.a instanceof Yk) {
          for (k = 0;k < g.count();k++) {
            l = g.store(k), Zk(this.a, l);
          }
        }
        k = this.a.toJSON();
        k.version = this.b || NaN;
        this.c.setItem(f, Oi(k));
        c(g.version || NaN);
      }
    } else {
      for (k = 0;k < this.a.count();k++) {
        l = this.a.store(k);
      }
      this.b = g.version || NaN;
      c(this.b);
    }
  } else {
    g = b.toJSON(), this.b = 1, g.version = this.b, this.c.setItem(f, Oi(g)), c(NaN);
  }
  return e;
};
h.ng = function() {
  return !!this.f;
};
h.og = function() {
};
h.Ke = function() {
};
h.Sf = function() {
};
h.Je = function() {
  return "memory";
};
h.close = function() {
};
h.Ze = function(a, b, c, d) {
  a(new ro(this, function(a, b) {
    d(a, b);
  }));
};
function dp() {
  cp.call(this, this);
}
A(dp, cp);
dp.prototype.Ig = function() {
  return q.localStorage;
};
dp.prototype.Je = function() {
  return "localstorage";
};
rk.push(function(a, b) {
  if (!b || "localstorage" == b) {
    var c = new dp, d = new Yk;
    c.connect(a, d);
    c.Jb(function(a) {
      for (var b = 0;b < a.stores.length;b++) {
        Sn(c, a.stores[b].getName()).clear();
      }
    });
  }
});
function ep() {
  cp.call(this, this);
}
A(ep, cp);
ep.prototype.Ig = function() {
  return q.sessionStorage;
};
ep.prototype.Je = function() {
  return "sessionstorage";
};
rk.push(function(a, b) {
  if (!b || "sessionstorage" == b) {
    var c = new ep, d = new Yk;
    c.connect(a, d);
    c.Jb(function(a) {
      for (var b = 0;b < a.stores.length;b++) {
        Sn(c, a.stores[b].getName()).clear();
      }
    });
  }
});
function fp(a, b) {
  this.a = t(a) ? a : 4194304;
  this.b = b || "websql";
}
h = fp.prototype;
h.connect = function(a, b) {
  function c(b, c) {
    var f = b.version ? parseInt(b.version, 10) : 0, g = c.pd ? isNaN(f) ? 1 : f + 1 : c.version;
    L(e.logger, a + ": changing version from " + b.version + " to " + g);
    var k = !1, l = 0;
    b.changeVersion(b.version, g + "", function(a) {
      e.Jb(function(b) {
        k = !0;
        for (var d = 0;d < c.count();d++) {
          var f = Uk(b, c.store(d).getName()), f = f ? Yl(f, c.store(d)) : null;
          gp(e, a, c.store(d), function(a) {
            a && l++;
          }, f);
        }
        for (f = 0;f < b.count();f++) {
          if (d = b.store(f), !dl(c, d.getName())) {
            if (c instanceof Yk) {
              Zk(c, d);
            } else {
              for (var g = hp(d), d = 0;d < g.length;d++) {
                var m = g[d];
                N(e.logger, m);
                a.executeSql(m, [], function() {
                }, function(a, b) {
                  throw b;
                });
              }
            }
          }
        }
      }, a, b);
    }, function(c) {
      af(e.logger, "SQLError " + c + " " + c.code + "(" + c.message + ") while changing version from " + b.version + " to " + g + " on " + a);
      throw c;
    }, function() {
      if (k) {
        var f = ".";
        l != c.stores.length && (f = " but unexpected stores exists.");
        M(e.logger, a + ":" + b.version + " ready" + f);
        d(b);
      } else {
        K(e.logger, a + ": changing version voided.");
      }
    });
  }
  function d(a, b) {
    t(b) ? (e.lb = null, g.C(b)) : (e.lb = a, g.callback(parseFloat(f)));
  }
  var e = this, f = NaN, g = new B, k = null;
  try {
    "sqlite" == this.b ? q.sqlitePlugin ? (k = q.sqlitePlugin.openDatabase(a, "", a, this.a), k.readTransaction || (k.readTransaction = k.transaction), k.changeVersion = function(a, b, c, d, e) {
      k.transaction(c, d, e);
    }) : (K(this.logger, "sqlitePlugin not found."), k = null, this.pg = Error("sqlitePlugin not found.")) : k = q.openDatabase(a, "", a, this.a);
  } catch (m) {
    if ("SECURITY_ERR" == m.name) {
      K(this.logger, "SECURITY_ERR for opening " + a), k = null, this.pg = new yk(m);
    } else {
      throw m;
    }
  }
  if (k) {
    var f = k.version || "", l = "database " + a + (0 == f.length ? "" : " version " + k.version);
    null != b.version && b.version == k.version ? (L(e.logger, "Existing " + l + " opened as requested."), d(k)) : this.Jb(function(a) {
      (a = gm(b, a, !0, !1)) ? (0 == f ? L(e.logger, "New " + l + " created.") : b.pd ? L(e.logger, "Existing " + l + " opened and schema change for " + a) : L(e.logger, "Existing " + l + " opened and  schema change to version " + b.version + " for " + a), c(k, b)) : (L(e.logger, "Existing " + l + " with same schema opened."), d(k));
    }, null, k);
  } else {
    d(null, this.pg);
  }
  return g;
};
h.Je = function() {
  return this.b;
};
h.pg = null;
h.lb = null;
h.logger = J("ydn.db.con.WebSql");
h.og = function() {
};
h.Ke = function() {
};
function hp(a) {
  var b = [];
  b.push("DROP TABLE IF EXISTS " + Sa(a.getName()));
  for (var c = 0, d = ml(a);c < d;c++) {
    var e = a.index(c);
    e.multiEntry && (e = "ydn.db.me:" + a.getName() + ":" + e.getName(), e = "DROP TABLE IF EXISTS " + Sa(e), b.push(e));
  }
  return b;
}
function ip(a) {
  var b = a.s, c = "CREATE TABLE IF NOT EXISTS " + Vl(a) + " (", d = a.b, c = c + (d + " " + b + " PRIMARY KEY ");
  a.autoIncrement && (c += " AUTOINCREMENT ");
  if (!a.Ad || !a.keyPath && 0 == ml(a)) {
    c += " ,_default_ BLOB";
  }
  for (var e = [], f = [d], g = 0, k = ml(a);g < k;g++) {
    var l = a.index(g), m = "";
    if (l.multiEntry) {
      var m = "ydn.db.me:" + a.getName() + ":" + l.getName(), n = l.unique ? " UNIQUE " : "", l = "CREATE TABLE IF NOT EXISTS " + Sa(m) + " (" + d + " " + b + ", " + l.c + " " + l.o + n + ")";
      e.push(l);
    } else {
      l.unique && (m = " UNIQUE "), n = l.c, -1 == f.indexOf(n) && (c += ", " + n + " " + l.o + m, f.push(n));
    }
  }
  e.unshift(c + ")");
  return e;
}
h.mg = function() {
  return this.lb ? parseFloat(this.lb.version) : void 0;
};
h.Jb = function(a, b, c) {
  function d(a, b) {
    throw b;
  }
  function e(b, c) {
    if (c && c.rows) {
      for (var d = 0;d < c.rows.length;d++) {
        var e = c.rows.item(d);
        if ("__WebKitDatabaseInfoTable__" != e.name && "sqlite_sequence" != e.name && "table" == e.type) {
          var r = Nb(e, "sql");
          M(f.logger, "Parsing table schema from SQL: " + r);
          for (var v = r.substr(r.indexOf("("), r.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g), z = void 0, F, r = [], P = !1, U = !1, W = 0;W < v.length;W++) {
            var ua = v[W].match(/\w+|"[^"]+"/g), bb = gb(ua, function(a) {
              return a.toUpperCase();
            }), Qa = Oa(ua[0], '"'), ua = Kl(bb[1]);
            if (-1 != bb.indexOf("PRIMARY") && -1 != bb.indexOf("KEY")) {
              F = ua;
              if (w(Qa) && !za(Qa) && "_ROWID_" != Qa) {
                var Wc = Qa.split(","), z = Qa;
                1 < Wc.length && (z = Wc, F = void 0);
              }
              -1 != bb.indexOf("AUTOINCREMENT") && (P = !0);
            } else {
              if ("_ROWID_" != Qa) {
                if ("_default_" == Qa) {
                  U = !0;
                } else {
                  var Mo = "UNIQUE" == bb[2];
                  xa(Qa, e.tbl_name + "-") && (Qa = Qa.substr(e.tbl_name.length + 1));
                  bb = new Jl(Qa, ua, Mo);
                  r.push(bb);
                }
              }
            }
          }
          if (xa(e.name, "ydn.db.me:")) {
            if (z = e.name.split(":"), 3 <= z.length) {
              var Rg = z[1], Sg = z[2], z = new Jl(Sg, ua, Mo, !0), v = lb(k, function(a) {
                return a.getName() === Rg;
              });
              0 <= v ? (W = k[v], bb = am(W, Sg), 0 <= bb ? r[bb] = z : (bb = lb(r, function(a) {
                return a.getName() == Sg;
              }), 0 <= bb ? r[bb] = z : r.push(z)), k[v] = new Wk(W.getName(), W.keyPath, P, F, r, void 0, !U)) : k.push(new Wk(Rg, void 0, !1, void 0, [z]));
              M(f.logger, 'multi entry index "' + z.getName() + '" found in ' + Rg + (-1 == v ? "*" : ""));
            } else {
              K(f.logger, 'Invalid multiEntry store name "' + e.name + '"');
            }
          } else {
            if (v = lb(k, function(a) {
              return a.getName() === e.name;
            }), 0 <= v) {
              for (d = 0;d < ml(k[v]);d++) {
                var W = k[v].index(d), Nt = W.getName();
                -1 == lb(r, function(a) {
                  return a.getName() == Nt;
                }) && r.push(W);
              }
              k[v] = new Wk(e.name, z, P, F, r, void 0, !U);
            } else {
              r = new Wk(e.name, z, P, F, r, void 0, !U), k.push(r);
            }
          }
        }
      }
      d = new fm(g, k);
      a(d);
    }
  }
  var f = this, g = (c = c || this.lb) && c.version ? parseFloat(c.version) : void 0, g = isNaN(g) ? void 0 : g, k = [];
  b ? b.executeSql("SELECT * FROM sqlite_master", [], e, d) : c.readTransaction(function(b) {
    f.Jb(a, b, c);
  }, function(a) {
    af(f.logger, "opening tx: " + a.message);
    throw a;
  }, e);
};
function gp(a, b, c, d, e) {
  function f(a) {
    b.executeSql(a, [], function() {
      g++;
      g == k.length && (d(!0), d = null);
    }, function(a, b) {
      g++;
      g == k.length && (d(!1), d = null);
      throw new xk(b, '"');
    });
  }
  var g = 0, k = ip(c), l = "Create";
  if (e) {
    var m = Xk(c, e);
    if (0 == m.length) {
      M(a.logger, "same table " + c.getName() + " exists.");
      d(!0);
      d = null;
      return;
    }
    l = "Modify";
    K(a.logger, "table: " + c.getName() + " has changed by " + m + " ALTER TABLE cannot run in WebSql, dropping old table.");
    k.unshift.apply(k, hp(e));
  }
  M(a.logger, l + " table: " + c.getName() + ": " + k.join(";"));
  for (a = 0;a < k.length;a++) {
    f(k[a]);
  }
}
h.ng = function() {
  return !!this.lb;
};
h.close = function() {
  this.lb = null;
};
h.Ze = function(a, b, c, d) {
  function e(a) {
    M(k.logger, k + ": Tx " + c + " request cause error.");
    d("abort", a);
  }
  function f() {
    d("complete", {type:"complete"});
  }
  function g(b) {
    a(b);
  }
  var k = this;
  null === this.lb && (a(null), d("abort", this.pg));
  c == Nj ? this.lb.readTransaction(g, e, f) : c == Pj ? this.lb.changeVersion(this.lb.version, this.lb.version + 1 + "", g, e, f) : this.lb.transaction(g, e, f);
};
rk.push(function(a, b) {
  if (ia(q.openDatabase) && (!b || "websql" == b)) {
    var c = new fp, d = new Yk;
    N(c.logger, "deleting websql database: " + a);
    var d = c.connect(a, d), e = function() {
      bf(c.logger, "all tables in " + a + " deleted.");
    };
    d.i(function() {
      c.Ze(function(b) {
        b.executeSql('SELECT * FROM sqlite_master WHERE type = "table"', [], function(d, e) {
          if (e && e.rows) {
            for (var l = e.rows.length, m = 0, n = 0;n < l;n++) {
              var p = e.rows.item(n);
              "__WebKitDatabaseInfoTable__" != p.name && "sqlite_sequence" != p.name && (m++, M(c.logger, "deleting table: " + p.name), b.executeSql("DROP TABLE " + p.name));
            }
            N(c.logger, m + ' tables deleted from "' + a + '"');
          }
        }, function(a, b) {
          throw b;
        });
      }, [], Oj, e);
    });
    d.Gc(function() {
      K(c.logger, "Connecting " + a + " failed.");
    });
  }
});
fp.prototype.Sf = function() {
};
Am.prototype.Mg = function(a) {
  return "indexeddb" == a && Qj ? new ap(this.D, this.V) : "sqlite" == a && q.sqlitePlugin ? new fp(this.D, "sqlite") : "websql" == a && ia(q.openDatabase) ? new fp(this.D) : "localstorage" == a && q.localStorage ? new dp : "sessionstorage" == a && q.sessionStorage ? new ep : "memory" == a ? new cp : null;
};
function jp(a, b) {
  Gc.call(this);
  this.f = b;
  this.a = [];
  if (a > this.f) {
    throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");
  }
  for (var c = 0;c < a;c++) {
    this.a.push(this.b());
  }
}
A(jp, Gc);
function kp(a, b) {
  a.a.length < a.f ? a.a.push(b) : a.c(b);
}
jp.prototype.b = function() {
  return {};
};
jp.prototype.c = function(a) {
  if (x(a)) {
    if (ia(a.O)) {
      a.O();
    } else {
      for (var b in a) {
        delete a[b];
      }
    }
  }
};
jp.prototype.I = function() {
  jp.j.I.call(this);
  for (var a = this.a;a.length;) {
    this.c(a.pop());
  }
  delete this.a;
};
function lp() {
  this.a = [];
  this.h = new we;
  this.D = this.F = this.ga = this.o = 0;
  this.b = new we;
  this.l = this.s = 0;
  this.V = 1;
  this.c = new jp(0, 4E3);
  this.c.b = function() {
    return new mp;
  };
  this.J = new jp(0, 50);
  this.J.b = function() {
    return new np;
  };
  var a = this;
  this.f = new jp(0, 2E3);
  this.f.b = function() {
    return String(a.V++);
  };
  this.f.c = function() {
  };
}
J("goog.debug.Trace");
function np() {
  this.ki = this.time = this.count = 0;
}
np.prototype.toString = function() {
  var a = [];
  a.push(this.type, " ", this.count, " (", Math.round(10 * this.time) / 10, " ms)");
  this.ki && a.push(" [VarAlloc = ", this.ki, "]");
  return a.join("");
};
function mp() {
}
function op(a, b, c, d) {
  var e = [];
  -1 == c ? e.push("    ") : e.push(pp(a.eventTime - c));
  e.push(" ", qp(a.eventTime - b));
  0 == a.a ? e.push(" Start        ") : 1 == a.a ? (e.push(" Done "), e.push(pp(a.c - a.startTime), " ms ")) : e.push(" Comment      ");
  e.push(d, a);
  0 < a.b && e.push("[VarAlloc ", a.b, "] ");
  return e.join("");
}
mp.prototype.toString = function() {
  return null == this.type ? this.comment : "[" + this.type + "] " + this.comment;
};
lp.prototype.reset = function() {
  for (var a = 0;a < this.a.length;a++) {
    var b = this.c.id;
    b && kp(this.f, b);
    kp(this.c, this.a[a]);
  }
  this.a.length = 0;
  this.h.clear();
  this.o = y();
  this.l = this.s = this.D = this.F = this.ga = 0;
  b = this.b.Ta();
  for (a = 0;a < b.length;a++) {
    var c = this.b.get(b[a]);
    c.count = 0;
    c.time = 0;
    c.ki = 0;
    kp(this.J, c);
  }
  this.b.clear();
};
lp.prototype.toString = function() {
  for (var a = [], b = -1, c = [], d = 0;d < this.a.length;d++) {
    var e = this.a[d];
    1 == e.a && c.pop();
    a.push(" ", op(e, this.o, b, c.join("")));
    b = e.eventTime;
    a.push("\n");
    0 == e.a && c.push("|  ");
  }
  if (0 != this.h.za()) {
    var f = y();
    a.push(" Unstopped timers:\n");
    ue(this.h, function(b) {
      a.push("  ", b, " (", f - b.startTime, " ms, started at ", qp(b.startTime), ")\n");
    });
  }
  b = this.b.Ta();
  for (d = 0;d < b.length;d++) {
    c = this.b.get(b[d]), 1 < c.count && a.push(" TOTAL ", c, "\n");
  }
  a.push("Total tracers created ", this.s, "\n", "Total comments created ", this.l, "\n", "Overhead start: ", this.ga, " ms\n", "Overhead end: ", this.F, " ms\n", "Overhead comment: ", this.D, " ms\n");
  return a.join("");
};
function pp(a) {
  a = Math.round(a);
  var b = "";
  1E3 > a && (b = " ");
  100 > a && (b = "  ");
  10 > a && (b = "   ");
  return b + a;
}
function qp(a) {
  a = Math.round(a);
  return String(100 + a / 1E3 % 60).substring(1, 3) + "." + String(1E3 + a % 1E3).substring(1, 4);
}
new lp;
function rp(a) {
  a.J || (a.J = new H);
  return a.J;
}
Am.prototype.addEventListener = function(a, b, c, d) {
  "ready" == a ? Bd(rp(this), a, b, c, d) : ud(rp(this), a, b, c, d);
};
Am.prototype.removeEventListener = function(a, b, c, d) {
  Cd(rp(this), a, b, c, d);
};
Am.prototype.bb = function(a) {
  I(rp(this), a);
};
function sp(a, b, c) {
  Em.call(this, a, b, c);
}
A(sp, $o);
function tp(a) {
  for (var b = [], c = 0, d = 0;d < a.length;d++) {
    for (var e = a.charCodeAt(d);255 < e;) {
      b[c++] = e & 255, e >>= 8;
    }
    b[c++] = e;
  }
  return b;
}
function up(a) {
  return gb(a, function(a) {
    a = a.toString(16);
    return 1 < a.length ? a : "0" + a;
  }).join("");
}
;function vp() {
  this.c = [];
  this.b = this.a = 0;
}
;function wp() {
  this.b = -1;
}
;function bn(a, b) {
  this.a = a;
  this.filter = b || null;
  this.b = !1;
  this.prefix = "";
}
function xp() {
  var a = ri;
  a.b || (yp(a), a.b = !0, window.setInterval(function() {
    a.count().i(function(b) {
      b > zp && a.a.keys("log", null, 1, zp).i(function(b) {
        a.a.clear("log", pj(b[0]));
      });
      20 < b && yp(a);
    });
  }, 18E5));
}
var zp = 1E3;
bn.prototype.count = function() {
  return this.a.count("log");
};
function yp(a) {
  var b = un();
  if (b) {
    var c = {"Content-Type":"application/json"};
    a.a.values("log", null, 40).i(function(a) {
      var e;
      if (0 != a.length) {
        var f = a.map(function(a) {
          return a.key;
        }), g = "";
        for (e = 0;e < a.length;e++) {
          x(a[e].detail) && (a[e].detail = JSON.stringify(a[e].detail)), x(a[e].state) && (a[e].state = JSON.stringify(a[e].state));
        }
        try {
          g = JSON.stringify(a);
        } catch (k) {
          a = pj(f[f.length - 1]);
          this.a.clear("log", a);
          return;
        }
        a = new T("https://www.yathit.com/ga/", "PUT", null, c, g);
        f = f.map(function(a) {
          return new Bk("log", a);
        });
        b.request(a).execute(function(a, b) {
          gn(b) && this.a.remove(f).i(function(a) {
            a == f.length && yp(this);
          }, this);
        }, this);
      }
    }, a);
  }
}
bn.prototype.log = function(a) {
  this.filter && (a = this.filter(a));
  if (a) {
    var b = String(y());
    a.key = b;
    this.a.put("log", a);
  }
};
var $m = null, Ap = null, Dg = "default", Bp = {stores:[{name:"log", keyPath:"key"}, {name:"db-logger", autoIncrement:!0, indexes:[{name:"level"}, {name:"time"}, {name:"name"}, {name:"name, time", keyPath:["name", "time"]}]}, {name:Dg, autoIncrement:!0}, {name:"Social", keyPath:"id"}]};
function an() {
  Ap || (Ap = new lg(0));
  return Ap;
}
var Cp = {};
function Dp(a) {
  var b = Ep(a.name);
  Cp[a.name] = {name:a.name, group:b, port:a};
  var c = "content-script" == b;
  c && (Vm && Vm.b(a.name), ug && tg("session"));
  a.onDisconnect.addListener(function() {
    L(Ti, "disconnected " + a.name);
    Cp[a.name] && delete Cp[a.name];
    c && Vm && Vm.a(a.name);
  });
}
function Fp(a) {
  N(Ti, "broadcasting " + a.req);
  delete a.id;
  for (var b in Cp) {
    Cp[b].port.postMessage(a);
  }
}
function Ep(a) {
  return a.substr(0, a.lastIndexOf("-"));
}
dj = Rm;
y();
var Gp;
Gp = function(a) {
  aj(a);
  Hp();
  $m = new sp("ydn.crm", Bp);
};
var Ip = null;
function Hp() {
  Ip || (Ip = new qn(an()), tn(Ip, "default"));
}
function Jp(a) {
  return a ? a.getAuthToken() : D("No service");
}
function Kp(a) {
  tn(a, "gc");
  hj() ? tn(a, "gse") : tn(new wn(function(a) {
    return "GET" == a.method;
  }, a, new xn(a, "https://www.yathit.com/proxy/", !0)), "gse");
}
function Pm() {
  var a = un("login");
  a || (Hp(), a = new zn(an(), void 0, "https://www.yathit.com", 0, !0), tn(a, "login"));
  return a;
}
function Lp() {
  var a = un("auth");
  a || (a = new zn(an(), void 0, "https://www.yathit.com/a/cm", 0, !0), tn(a, "auth"));
  return a;
}
;y();
var Mp;
Mp = {cq:["BC", "AD"], bq:["Before Christ", "Anno Domini"], jq:"JFMAMJJASOND".split(""), uq:"JFMAMJJASOND".split(""), iq:"January February March April May June July August September October November December".split(" "), tq:"January February March April May June July August September October November December".split(" "), qq:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "), wq:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "), Cq:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), 
yq:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), sq:"Sun Mon Tue Wed Thu Fri Sat".split(" "), xq:"Sun Mon Tue Wed Thu Fri Sat".split(" "), kq:"SMTWTFS".split(""), vq:"SMTWTFS".split(""), rq:["Q1", "Q2", "Q3", "Q4"], nq:["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"], Xp:["AM", "PM"], Zp:["EEEE, MMMM d, y", "MMMM d, y", "MMM d, y", "M/d/yy"], zq:["h:mm:ss a zzzz", "h:mm:ss a z", "h:mm:ss a", "h:mm a"], $p:["{1} 'at' {0}", "{1} 'at' {0}", "{1}, {0}", "{1}, {0}"], 
Sk:6, Dq:[5, 6], Tk:5};
function Np(a, b, c) {
  ha(a) ? (this.date = Op(a, b || 0, c || 1), Pp(this, c || 1)) : x(a) ? (this.date = Op(a.getFullYear(), a.getMonth(), a.getDate()), Pp(this, a.getDate())) : (this.date = new Date(y()), a = this.date.getDate(), this.date.setHours(0), this.date.setMinutes(0), this.date.setSeconds(0), this.date.setMilliseconds(0), Pp(this, a));
}
function Op(a, b, c) {
  b = new Date(a, b, c);
  0 <= a && 100 > a && b.setFullYear(b.getFullYear() - 1900);
  return b;
}
h = Np.prototype;
h.dj = Mp.Sk;
h.ej = Mp.Tk;
h.clone = function() {
  var a = new Np(this.date);
  a.dj = this.dj;
  a.ej = this.ej;
  return a;
};
h.getFullYear = function() {
  return this.date.getFullYear();
};
h.getMonth = function() {
  return this.date.getMonth();
};
h.getDate = function() {
  return this.date.getDate();
};
h.getTime = function() {
  return this.date.getTime();
};
h.getDay = function() {
  return this.date.getDay();
};
h.getUTCFullYear = function() {
  return this.date.getUTCFullYear();
};
h.getUTCMonth = function() {
  return this.date.getUTCMonth();
};
h.getUTCDate = function() {
  return this.date.getUTCDate();
};
h.getUTCHours = function() {
  return this.date.getUTCHours();
};
h.getUTCMinutes = function() {
  return this.date.getUTCMinutes();
};
h.getTimezoneOffset = function() {
  return this.date.getTimezoneOffset();
};
h.set = function(a) {
  this.date = new Date(a.getFullYear(), a.getMonth(), a.getDate());
};
h.add = function(a) {
  if (a.c || a.b) {
    var b = this.getMonth() + a.b + 12 * a.c, c = this.getFullYear() + Math.floor(b / 12), b = b % 12;
    0 > b && (b += 12);
    var d;
    a: {
      switch(b) {
        case 1:
          d = 0 != c % 4 || 0 == c % 100 && 0 != c % 400 ? 28 : 29;
          break a;
        case 5:
        ;
        case 8:
        ;
        case 10:
        ;
        case 3:
          d = 30;
          break a;
      }
      d = 31;
    }
    d = Math.min(d, this.getDate());
    this.date.setDate(1);
    this.date.setFullYear(c);
    this.date.setMonth(b);
    this.date.setDate(d);
  }
  a.a && (a = new Date((new Date(this.getFullYear(), this.getMonth(), this.getDate(), 12)).getTime() + 864E5 * a.a), this.date.setDate(1), this.date.setFullYear(a.getFullYear()), this.date.setMonth(a.getMonth()), this.date.setDate(a.getDate()), Pp(this, a.getDate()));
};
function Qp(a, b) {
  return [a.getFullYear(), Va(a.getMonth() + 1), Va(a.getDate())].join(b ? "-" : "") + "";
}
h.toString = function() {
  return Qp(this);
};
function Pp(a, b) {
  a.getDate() != b && a.date.setUTCHours(a.date.getUTCHours() + (a.getDate() < b ? 1 : -1));
}
h.valueOf = function() {
  return this.date.valueOf();
};
function Rp(a) {
  a = String(a);
  if (void 0 === Mp.al) {
    return a;
  }
  for (var b = [], c = 0;c < a.length;c++) {
    var d = a.charCodeAt(c);
    b.push(48 <= d && 57 >= d ? String.fromCharCode(Mp.al + d - 48) : a.charAt(c));
  }
  return b.join("");
}
;var Sp = {Pk:{1E3:{other:"0K"}, 1E4:{other:"00K"}, 1E5:{other:"000K"}, 1E6:{other:"0M"}, 1E7:{other:"00M"}, 1E8:{other:"000M"}, 1E9:{other:"0B"}, 1E10:{other:"00B"}, 1E11:{other:"000B"}, 1E12:{other:"0T"}, 1E13:{other:"00T"}, 1E14:{other:"000T"}}, Ok:{1E3:{other:"0 thousand"}, 1E4:{other:"00 thousand"}, 1E5:{other:"000 thousand"}, 1E6:{other:"0 million"}, 1E7:{other:"00 million"}, 1E8:{other:"000 million"}, 1E9:{other:"0 billion"}, 1E10:{other:"00 billion"}, 1E11:{other:"000 billion"}, 1E12:{other:"0 trillion"}, 
1E13:{other:"00 trillion"}, 1E14:{other:"000 trillion"}}}, Tp = Sp, Tp = Sp;
var Up = {Bi:".", wg:",", Ei:"%", yg:"0", Zk:"+", Uk:"-", Ci:"E", Fi:"\u2030", xg:"\u221e", Wk:"NaN", Ai:"#,##0.###", $k:"#E0", Yk:"#,##0%", Qk:"\u00a4#,##0.00", Rk:"USD"}, Vp = Up, Vp = Up;
var Wp = {AED:[2, "dh", "\u062f.\u0625.", "DH"], ALL:[0, "Lek", "Lek"], AUD:[2, "$", "AU$"], BDT:[2, "\u09f3", "Tk"], BGN:[2, "lev", "lev"], BRL:[2, "R$", "R$"], CAD:[2, "$", "C$"], CDF:[2, "FrCD", "CDF"], CHF:[2, "CHF", "CHF"], CLP:[0, "$", "CL$"], CNY:[2, "\u00a5", "RMB\u00a5"], COP:[32, "$", "COL$"], CRC:[0, "\u20a1", "CR\u20a1"], CZK:[50, "K\u010d", "K\u010d"], DKK:[50, "kr.", "kr."], DOP:[2, "RD$", "RD$"], EGP:[2, "\u00a3", "LE"], ETB:[2, "Birr", "Birr"], EUR:[2, "\u20ac", "\u20ac"], GBP:[2, 
"\u00a3", "GB\u00a3"], HKD:[2, "$", "HK$"], HRK:[2, "kn", "kn"], HUF:[34, "Ft", "Ft"], IDR:[0, "Rp", "Rp"], ILS:[34, "\u20aa", "IL\u20aa"], INR:[2, "\u20b9", "Rs"], IRR:[0, "Rial", "IRR"], ISK:[0, "kr", "kr"], JMD:[2, "$", "JA$"], JPY:[0, "\u00a5", "JP\u00a5"], KRW:[0, "\u20a9", "KR\u20a9"], LKR:[2, "Rs", "SLRs"], LTL:[2, "Lt", "Lt"], MNT:[0, "\u20ae", "MN\u20ae"], MVR:[2, "Rf", "MVR"], MXN:[2, "$", "Mex$"], MYR:[2, "RM", "RM"], NOK:[50, "kr", "NOkr"], PAB:[2, "B/.", "B/."], PEN:[2, "S/.", "S/."], 
PHP:[2, "\u20b1", "Php"], PKR:[0, "Rs", "PKRs."], PLN:[50, "z\u0142", "z\u0142"], RON:[2, "RON", "RON"], RSD:[0, "din", "RSD"], RUB:[50, "\u20bd", "RUB"], SAR:[2, "Rial", "Rial"], SEK:[50, "kr", "kr"], SGD:[2, "$", "S$"], THB:[2, "\u0e3f", "THB"], TRY:[2, "TL", "YTL"], TWD:[2, "NT$", "NT$"], TZS:[0, "TSh", "TSh"], UAH:[2, "\u0433\u0440\u043d.", "UAH"], USD:[2, "$", "US$"], UYU:[2, "$", "$U"], VND:[48, "\u20ab", "VN\u20ab"], YER:[0, "Rial", "Rial"], ZAR:[2, "R", "ZAR"]};
function Xp(a, b, c) {
  this.s = b || Vp.Rk;
  this.oa = c || Yp;
  this.ga = 40;
  this.a = 1;
  this.$ = 0;
  this.h = 3;
  this.V = this.b = 0;
  this.ka = !1;
  this.F = this.l = "";
  this.c = "-";
  this.o = "";
  this.D = 1;
  this.f = [];
  this.W = this.ea = !1;
  this.J = Zp;
  if ("number" == typeof a) {
    switch(a) {
      case 1:
        $p(this, Vp.Ai);
        break;
      case 2:
        $p(this, Vp.$k);
        break;
      case 3:
        $p(this, Vp.Yk);
        break;
      case 4:
        a = Vp.Qk;
        b = ["0"];
        c = Wp[this.s][0] & 7;
        if (0 < c) {
          b.push(".");
          for (var d = 0;d < c;d++) {
            b.push("0");
          }
        }
        a = a.replace(/0.00/g, b.join(""));
        $p(this, a);
        break;
      case 5:
        aq(this, 1);
        break;
      case 6:
        aq(this, 2);
        break;
      default:
        throw Error("Unsupported pattern type.");;
    }
  } else {
    $p(this, a);
  }
}
var Yp = 0, Zp = 0;
function $p(a, b) {
  b.replace(/ /g, "\u00a0");
  var c = [0];
  a.l = bq(a, b, c);
  for (var d = c[0], e = -1, f = 0, g = 0, k = 0, l = -1, m = b.length, n = !0;c[0] < m && n;c[0]++) {
    switch(b.charAt(c[0])) {
      case "#":
        0 < g ? k++ : f++;
        0 <= l && 0 > e && l++;
        break;
      case "0":
        if (0 < k) {
          throw Error('Unexpected "0" in pattern "' + b + '"');
        }
        g++;
        0 <= l && 0 > e && l++;
        break;
      case ",":
        0 < l && a.f.push(l);
        l = 0;
        break;
      case ".":
        if (0 <= e) {
          throw Error('Multiple decimal separators in pattern "' + b + '"');
        }
        e = f + g + k;
        break;
      case "E":
        if (a.W) {
          throw Error('Multiple exponential symbols in pattern "' + b + '"');
        }
        a.W = !0;
        a.V = 0;
        c[0] + 1 < m && "+" == b.charAt(c[0] + 1) && (c[0]++, a.ka = !0);
        for (;c[0] + 1 < m && "0" == b.charAt(c[0] + 1);) {
          c[0]++, a.V++;
        }
        if (1 > f + g || 1 > a.V) {
          throw Error('Malformed exponential pattern "' + b + '"');
        }
        n = !1;
        break;
      default:
        c[0]--, n = !1;
    }
  }
  0 == g && 0 < f && 0 <= e && (g = e, 0 == g && g++, k = f - g, f = g - 1, g = 1);
  if (0 > e && 0 < k || 0 <= e && (e < f || e > f + g) || 0 == l) {
    throw Error('Malformed pattern "' + b + '"');
  }
  k = f + g + k;
  a.h = 0 <= e ? k - e : 0;
  0 <= e && (a.b = f + g - e, 0 > a.b && (a.b = 0));
  a.a = (0 <= e ? e : k) - f;
  a.W && (a.ga = f + a.a, 0 == a.h && 0 == a.a && (a.a = 1));
  a.f.push(Math.max(0, l));
  a.ea = 0 == e || e == k;
  d = c[0] - d;
  a.F = bq(a, b, c);
  c[0] < b.length && b.charAt(c[0]) == cq ? (c[0]++, a.c = bq(a, b, c), c[0] += d, a.o = bq(a, b, c)) : (a.c = a.l + a.c, a.o += a.F);
}
function aq(a, b) {
  a.J = b;
  $p(a, Vp.Ai);
  a.b = 0;
  a.h = 2;
  if (0 < a.b) {
    throw Error("Can't combine significant digits and minimum fraction digits");
  }
  a.$ = 2;
}
Xp.prototype.parse = function(a, b) {
  var c = b || [0];
  if (this.J != Zp) {
    throw Error("Parsing of compact numbers is unimplemented");
  }
  var d = NaN;
  a = a.replace(/ /g, "\u00a0");
  var e = a.indexOf(this.l, c[0]) == c[0], f = a.indexOf(this.c, c[0]) == c[0];
  e && f && (this.l.length > this.c.length ? f = !1 : this.l.length < this.c.length && (e = !1));
  e ? c[0] += this.l.length : f && (c[0] += this.c.length);
  if (a.indexOf(Vp.xg, c[0]) == c[0]) {
    c[0] += Vp.xg.length, d = Infinity;
  } else {
    var d = a, g = !1, k = !1, l = !1, m = 1, n = Vp.Bi, p = Vp.wg, r = Vp.Ci;
    if (this.J != Zp) {
      throw Error("Parsing of compact style numbers is not implemented");
    }
    for (var v = "";c[0] < d.length;c[0]++) {
      var z = d.charAt(c[0]), F = dq(z);
      if (0 <= F && 9 >= F) {
        v += F, l = !0;
      } else {
        if (z == n.charAt(0)) {
          if (g || k) {
            break;
          }
          v += ".";
          g = !0;
        } else {
          if (z == p.charAt(0) && ("\u00a0" != p.charAt(0) || c[0] + 1 < d.length && 0 <= dq(d.charAt(c[0] + 1)))) {
            if (g || k) {
              break;
            }
          } else {
            if (z == r.charAt(0)) {
              if (k) {
                break;
              }
              v += "E";
              k = !0;
            } else {
              if ("+" == z || "-" == z) {
                v += z;
              } else {
                if (z == Vp.Ei.charAt(0)) {
                  if (1 != m) {
                    break;
                  }
                  m = 100;
                  if (l) {
                    c[0]++;
                    break;
                  }
                } else {
                  if (z == Vp.Fi.charAt(0)) {
                    if (1 != m) {
                      break;
                    }
                    m = 1E3;
                    if (l) {
                      c[0]++;
                      break;
                    }
                  } else {
                    break;
                  }
                }
              }
            }
          }
        }
      }
    }
    d = parseFloat(v) / m;
  }
  if (e) {
    if (a.indexOf(this.F, c[0]) != c[0]) {
      return NaN;
    }
    c[0] += this.F.length;
  } else {
    if (f) {
      if (a.indexOf(this.o, c[0]) != c[0]) {
        return NaN;
      }
      c[0] += this.o.length;
    }
  }
  return f ? -d : d;
};
function eq(a, b) {
  var c = Math.pow(10, a.h), d;
  if (0 >= a.$) {
    d = Math.round(b * c);
  } else {
    d = b * c;
    var e = a.h;
    if (d) {
      var f = a.$ - fq(d) - 1;
      f < -e ? (e = Math.pow(10, e), d = Math.round(d / e) * e) : (e = Math.pow(10, f), d = Math.round(d * e) / e);
    }
    d = Math.round(d);
  }
  e = d;
  isFinite(e) ? (d = Math.floor(e / c), c = Math.floor(e - d * c)) : (d = b, c = 0);
  return {Gj:d, ml:c};
}
function gq(a, b, c, d) {
  if (a.b > a.h) {
    throw Error("Min value must be less than max value");
  }
  d || (d = []);
  b = eq(a, b);
  var e = Math.pow(10, a.h), f = b.Gj, g = b.ml, k = 0 < a.b || 0 < g || !1;
  b = a.b;
  k && (b = a.b);
  for (var l = "", m = f;1E20 < m;) {
    l = "0" + l, m = Math.round(m / 10);
  }
  var l = m + l, n = Vp.Bi, m = Vp.yg.charCodeAt(0), p = l.length, r = 0;
  if (0 < f || 0 < c) {
    for (f = p;f < c;f++) {
      d.push(String.fromCharCode(m));
    }
    if (2 <= a.f.length) {
      for (c = 1;c < a.f.length;c++) {
        r += a.f[c];
      }
    }
    c = p - r;
    if (0 < c) {
      for (var f = a.f, v = r = p = 0, z = Vp.wg, F = l.length, P = 0;P < F;P++) {
        if (d.push(String.fromCharCode(m + 1 * l.charAt(P))), 1 < F - P) {
          if (v = f[r], P < c) {
            var U = c - P;
            (1 === v || 0 < v && 1 === U % v) && d.push(z);
          } else {
            r < f.length && (P === c ? r += 1 : v === P - c - p + 1 && (d.push(z), p += v, r += 1));
          }
        }
      }
    } else {
      c = l;
      l = a.f;
      f = Vp.wg;
      r = 0;
      v = c.length;
      z = [];
      for (p = l.length - 1;0 <= p && 0 < v;p--) {
        r = l[p];
        for (F = 0;F < r && 0 <= v - F - 1;F++) {
          z.push(String.fromCharCode(m + 1 * c.charAt(v - F - 1)));
        }
        v -= r;
        0 < v && z.push(f);
      }
      d.push.apply(d, z.reverse());
    }
  } else {
    k || d.push(String.fromCharCode(m));
  }
  (a.ea || k) && d.push(n);
  a = "" + (g + e);
  for (e = a.length;"0" == a.charAt(e - 1) && e > b + 1;) {
    e--;
  }
  for (f = 1;f < e;f++) {
    d.push(String.fromCharCode(m + 1 * a.charAt(f)));
  }
}
function hq(a, b, c) {
  c.push(Vp.Ci);
  0 > b ? (b = -b, c.push(Vp.Uk)) : a.ka && c.push(Vp.Zk);
  b = "" + b;
  for (var d = Vp.yg, e = b.length;e < a.V;e++) {
    c.push(d);
  }
  c.push(b);
}
function dq(a) {
  a = a.charCodeAt(0);
  if (48 <= a && 58 > a) {
    return a - 48;
  }
  var b = Vp.yg.charCodeAt(0);
  return b <= a && a < b + 10 ? a - b : -1;
}
var cq = ";";
function bq(a, b, c) {
  for (var d = "", e = !1, f = b.length;c[0] < f;c[0]++) {
    var g = b.charAt(c[0]);
    if ("'" == g) {
      c[0] + 1 < f && "'" == b.charAt(c[0] + 1) ? (c[0]++, d += "'") : e = !e;
    } else {
      if (e) {
        d += g;
      } else {
        switch(g) {
          case "#":
          ;
          case "0":
          ;
          case ",":
          ;
          case ".":
          ;
          case cq:
            return d;
          case "\u00a4":
            if (c[0] + 1 < f && "\u00a4" == b.charAt(c[0] + 1)) {
              c[0]++, d += a.s;
            } else {
              switch(a.oa) {
                case Yp:
                  d += Wp[a.s][1];
                  break;
                case 2:
                  var g = a.s, k = Wp[g], d = d + (g == k[1] ? g : g + " " + k[1]);
                  break;
                case 1:
                  d += Wp[a.s][2];
              }
            }
            break;
          case "%":
            if (1 != a.D) {
              throw Error("Too many percent/permill");
            }
            a.D = 100;
            d += Vp.Ei;
            break;
          case "\u2030":
            if (1 != a.D) {
              throw Error("Too many percent/permill");
            }
            a.D = 1E3;
            d += Vp.Fi;
            break;
          default:
            d += g;
        }
      }
    }
  }
  return d;
}
var iq = {prefix:"", tk:"", Qg:0};
function jq(a, b) {
  var c = 1 == a.J ? Tp.Pk : Tp.Ok;
  if (3 > b) {
    return iq;
  }
  b = Math.min(14, b);
  c = c[Math.pow(10, b)];
  if (!c) {
    return iq;
  }
  c = c.other;
  return c && "0" != c ? (c = /([^0]*)(0+)(.*)/.exec(c)) ? {prefix:c[1], tk:c[3], Qg:b - (c[2].length - 1)} : iq : iq;
}
function fq(a) {
  for (var b = 0;1 <= (a /= 10);) {
    b++;
  }
  return b;
}
;function kq(a) {
  return 1 == a % 10 && 11 != a % 100 ? "one" : 2 == a % 10 && 12 != a % 100 ? "two" : 3 == a % 10 && 13 != a % 100 ? "few" : "other";
}
var lq = kq, lq = kq;
function mq(a) {
  a += "";
  var b = a.indexOf(".");
  return -1 == b ? 0 : a.length - b - 1;
}
function nq(a, b) {
  var c, d = a | 0;
  c = void 0 === b ? Math.min(mq(a), 3) : b;
  return 1 == d && 0 == c ? "one" : "other";
}
var oq = nq, oq = nq;
function pq(a) {
  this.a = [];
  this.f = [];
  this.c = new Xp(1);
  a && (a = qq(this, a), this.f = rq(this, a));
}
var sq = /'([{}#].*?)'/g, tq = /''/g;
function uq(a, b, c, d, e) {
  for (var f = 0;f < b.length;f++) {
    switch(b[f].type) {
      case 4:
        e.push(b[f].value);
        break;
      case 3:
        var g = b[f].value, k = a, l = e, m = c[g];
        t(m) ? (k.a.push(m), l.push(k.b(k.a))) : l.push("Undefined parameter - " + g);
        break;
      case 2:
        g = b[f].value;
        k = e;
        l = g.Oe;
        t(c[l]) ? (l = g[c[l]], t(l) || (l = g.other), uq(a, l, c, d, k)) : k.push("Undefined parameter - " + l);
        break;
      case 0:
        g = b[f].value;
        vq(a, g, c, oq, d, e);
        break;
      case 1:
        g = b[f].value, vq(a, g, c, lq, d, e);
    }
  }
}
function vq(a, b, c, d, e, f) {
  var g = b.Oe, k = b.Li, l = +c[g];
  if (isNaN(l)) {
    f.push("Undefined or invalid parameter - " + g);
  } else {
    if (k = l - k, g = b[c[g]], t(g) || (d = a.c.Ba ? d(k, a.c.Ba()) : d(k), g = b[d], t(g) || (g = b.other)), b = [], uq(a, g, c, e, b), c = b.join(""), e) {
      f.push(c);
    } else {
      a = a.c;
      d = k;
      if (isNaN(d)) {
        a = Vp.Wk;
      } else {
        e = [];
        k = d;
        a.J == Zp ? k = iq : (k = Math.abs(k), b = jq(a, 1 >= k ? 0 : fq(k)).Qg, k = jq(a, b + fq(eq(a, k / Math.pow(10, b)).Gj)));
        d /= Math.pow(10, k.Qg);
        e.push(k.prefix);
        b = 0 > d || 0 == d && 0 > 1 / d;
        e.push(b ? a.c : a.l);
        if (isFinite(d)) {
          if (d = d * (b ? -1 : 1) * a.D, a.W) {
            if (0 == d) {
              gq(a, d, a.a, e), hq(a, 0, e);
            } else {
              g = Math.floor(Math.log(d) / Math.log(10) + 2E-15);
              d /= Math.pow(10, g);
              l = a.a;
              if (1 < a.ga && a.ga > a.a) {
                for (;0 != g % a.ga;) {
                  d *= 10, g--;
                }
                l = 1;
              } else {
                1 > a.a ? (g++, d /= 10) : (g -= a.a - 1, d *= Math.pow(10, a.a - 1));
              }
              gq(a, d, l, e);
              hq(a, g, e);
            }
          } else {
            gq(a, d, a.a, e);
          }
        } else {
          e.push(Vp.xg);
        }
        e.push(b ? a.o : a.F);
        e.push(k.tk);
        a = e.join("");
      }
      f.push(c.replace(/#/g, a));
    }
  }
}
function qq(a, b) {
  var c = a.a, d = pa(a.b, a);
  b = b.replace(tq, function() {
    c.push("'");
    return d(c);
  });
  return b = b.replace(sq, function(a, b) {
    c.push(b);
    return d(c);
  });
}
function wq(a) {
  var b = 0, c = [], d = [], e = /[{}]/g;
  e.lastIndex = 0;
  for (var f;f = e.exec(a);) {
    var g = f.index;
    "}" == f[0] ? (c.pop(), 0 == c.length && (f = {type:1}, f.value = a.substring(b, g), d.push(f), b = g + 1)) : (0 == c.length && (b = a.substring(b, g), "" != b && d.push({type:0, value:b}), b = g + 1), c.push("{"));
  }
  b = a.substring(b);
  "" != b && d.push({type:0, value:b});
  return d;
}
var xq = /^\s*(\w+)\s*,\s*plural\s*,(?:\s*offset:(\d+))?/, yq = /^\s*(\w+)\s*,\s*selectordinal\s*,/, zq = /^\s*(\w+)\s*,\s*select\s*,/;
function rq(a, b) {
  for (var c = [], d = wq(b), e = 0;e < d.length;e++) {
    var f = {};
    if (0 == d[e].type) {
      f.type = 4, f.value = d[e].value;
    } else {
      if (1 == d[e].type) {
        var g = d[e].value;
        switch(xq.test(g) ? 0 : yq.test(g) ? 1 : zq.test(g) ? 2 : /^\s*\w+\s*/.test(g) ? 3 : 5) {
          case 2:
            f.type = 2;
            f.value = Aq(a, d[e].value);
            break;
          case 0:
            f.type = 0;
            f.value = Bq(a, d[e].value);
            break;
          case 1:
            f.type = 1;
            f.value = Cq(a, d[e].value);
            break;
          case 3:
            f.type = 3, f.value = d[e].value;
        }
      }
    }
    c.push(f);
  }
  return c;
}
function Aq(a, b) {
  var c = "";
  b = b.replace(zq, function(a, b) {
    c = b;
    return "";
  });
  var d = {};
  d.Oe = c;
  for (var e = wq(b), f = 0;f < e.length;) {
    var g = e[f].value;
    f++;
    if (1 == e[f].type) {
      var k = rq(a, e[f].value)
    }
    d[g.replace(/\s/g, "")] = k;
    f++;
  }
  return d;
}
function Bq(a, b) {
  var c = "", d = 0;
  b = b.replace(xq, function(a, b, e) {
    c = b;
    e && (d = parseInt(e, 10));
    return "";
  });
  var e = {};
  e.Oe = c;
  e.Li = d;
  for (var f = wq(b), g = 0;g < f.length;) {
    var k = f[g].value;
    g++;
    if (1 == f[g].type) {
      var l = rq(a, f[g].value)
    }
    e[k.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = l;
    g++;
  }
  return e;
}
function Cq(a, b) {
  var c = "";
  b = b.replace(yq, function(a, b) {
    c = b;
    return "";
  });
  var d = {};
  d.Oe = c;
  d.Li = 0;
  for (var e = wq(b), f = 0;f < e.length;) {
    var g = e[f].value;
    f++;
    if (1 == e[f].type) {
      var k = rq(a, e[f].value)
    }
    d[g.replace(/\s*(?:=)?(\w+)\s*/, "$1")] = k;
    f++;
  }
  return d;
}
pq.prototype.b = function(a) {
  return "\ufddf_" + (a.length - 1).toString(10) + "_";
};
function Dq(a) {
  a = Math.abs(a);
  if (6E4 > a) {
    return "0 minutes";
  }
  var b = Math.floor(a / 864E5);
  a %= 864E5;
  var c = Math.floor(a / 36E5), d = Math.floor(a % 36E5 / 6E4), e = Rp(b), f = Rp(c), g = Rp(d);
  a = b * (c + d) ? " " : "";
  var k = c * d ? " " : "", b = Eq("{COUNT, plural, =0 {}=1 {{TEXT} day}other {{TEXT} days}}", b, e), c = Eq("{COUNT, plural, =0 {}=1 {{TEXT} hour}other {{TEXT} hours}}", c, f), d = Eq("{COUNT, plural, =0 {}=1 {{TEXT} minute}other {{TEXT} minutes}}", d, g);
  return b + (a + (c + (k + d)));
}
function Eq(a, b, c) {
  a = new pq(a);
  b = {COUNT:b, TEXT:c};
  if (0 == a.f.length) {
    a = "";
  } else {
    c = [];
    uq(a, a.f, b, !1, c);
    for (b = c.join("");0 < a.a.length;) {
      b = b.replace(a.b(a.a), a.a.pop());
    }
    a = b;
  }
  return a;
}
;var Fq;
function Gq(a) {
  var b = y(), c = Math.floor((b - a) / 6E4), b = !1;
  0 > c && (b = !0, c *= -1);
  if (60 > c) {
    return Fq(c, b, 0);
  }
  c = Math.floor(c / 60);
  if (24 > c) {
    return Fq(c, b, 1);
  }
  c = new Date(y());
  c.setHours(0);
  c.setMinutes(0);
  c.setSeconds(0);
  c.setMilliseconds(0);
  c = Math.ceil((c.getTime() - a) / 864E5);
  b && (c *= -1);
  return 14 > c ? Fq(c, b, 2) : "";
}
Fq = function(a, b, c) {
  var d = Rp(a);
  return b || 0 != c ? b && 0 == c ? 1 == a ? "in " + (d + " minute") : "in " + (d + " minutes") : b || 1 != c ? b && 1 == c ? 1 == a ? "in " + (d + " hour") : "in " + (d + " hours") : b || 2 != c ? b && 2 == c ? 1 == a ? "in " + (d + " day") : "in " + (d + " days") : "" : 1 == a ? d + " day ago" : d + " days ago" : 1 == a ? d + " hour ago" : d + " hours ago" : 1 == a ? d + " minute ago" : d + " minutes ago";
};
function Hq() {
  this.b = -1;
  this.b = 64;
  this.a = [];
  this.o = [];
  this.J = [];
  this.l = [];
  this.l[0] = 128;
  for (var a = 1;a < this.b;++a) {
    this.l[a] = 0;
  }
  this.h = this.f = 0;
  this.reset();
}
A(Hq, wp);
Hq.prototype.reset = function() {
  this.a[0] = 1732584193;
  this.a[1] = 4023233417;
  this.a[2] = 2562383102;
  this.a[3] = 271733878;
  this.a[4] = 3285377520;
  this.h = this.f = 0;
};
function Iq(a, b, c) {
  c || (c = 0);
  var d = a.J;
  if (w(b)) {
    for (var e = 0;16 > e;e++) {
      d[e] = b.charCodeAt(c) << 24 | b.charCodeAt(c + 1) << 16 | b.charCodeAt(c + 2) << 8 | b.charCodeAt(c + 3), c += 4;
    }
  } else {
    for (e = 0;16 > e;e++) {
      d[e] = b[c] << 24 | b[c + 1] << 16 | b[c + 2] << 8 | b[c + 3], c += 4;
    }
  }
  for (e = 16;80 > e;e++) {
    var f = d[e - 3] ^ d[e - 8] ^ d[e - 14] ^ d[e - 16];
    d[e] = (f << 1 | f >>> 31) & 4294967295;
  }
  b = a.a[0];
  c = a.a[1];
  for (var g = a.a[2], k = a.a[3], l = a.a[4], m, e = 0;80 > e;e++) {
    40 > e ? 20 > e ? (f = k ^ c & (g ^ k), m = 1518500249) : (f = c ^ g ^ k, m = 1859775393) : 60 > e ? (f = c & g | k & (c | g), m = 2400959708) : (f = c ^ g ^ k, m = 3395469782), f = (b << 5 | b >>> 27) + f + l + m + d[e] & 4294967295, l = k, k = g, g = (c << 30 | c >>> 2) & 4294967295, c = b, b = f;
  }
  a.a[0] = a.a[0] + b & 4294967295;
  a.a[1] = a.a[1] + c & 4294967295;
  a.a[2] = a.a[2] + g & 4294967295;
  a.a[3] = a.a[3] + k & 4294967295;
  a.a[4] = a.a[4] + l & 4294967295;
}
Hq.prototype.update = function(a, b) {
  if (null != a) {
    t(b) || (b = a.length);
    for (var c = b - this.b, d = 0, e = this.o, f = this.f;d < b;) {
      if (0 == f) {
        for (;d <= c;) {
          Iq(this, a, d), d += this.b;
        }
      }
      if (w(a)) {
        for (;d < b;) {
          if (e[f] = a.charCodeAt(d), ++f, ++d, f == this.b) {
            Iq(this, e);
            f = 0;
            break;
          }
        }
      } else {
        for (;d < b;) {
          if (e[f] = a[d], ++f, ++d, f == this.b) {
            Iq(this, e);
            f = 0;
            break;
          }
        }
      }
    }
    this.f = f;
    this.h += b;
  }
};
Hq.prototype.c = function() {
  var a = [], b = 8 * this.h;
  56 > this.f ? this.update(this.l, 56 - this.f) : this.update(this.l, this.b - (this.f - 56));
  for (var c = this.b - 1;56 <= c;c--) {
    this.o[c] = b & 255, b /= 256;
  }
  Iq(this, this.o);
  for (c = b = 0;5 > c;c++) {
    for (var d = 24;0 <= d;d -= 8) {
      a[b] = this.a[c] >> d & 255, ++b;
    }
  }
  return a;
};
var Jq = null, Kq = null;
function Lq(a) {
  this.a = a;
}
Lq.prototype.set = function(a, b) {
  t(b) ? this.a.set(a, lf(b)) : this.a.remove(a);
};
Lq.prototype.get = function(a) {
  var b;
  try {
    b = this.a.get(a);
  } catch (c) {
    return;
  }
  if (null !== b) {
    try {
      return kf(b);
    } catch (c) {
      throw "Storage: Invalid value was encountered";
    }
  }
};
Lq.prototype.remove = function(a) {
  this.a.remove(a);
};
function Mq(a) {
  this.a = a;
}
A(Mq, Lq);
function Nq(a) {
  this.data = a;
}
function Oq(a) {
  return !t(a) || a instanceof Nq ? a : new Nq(a);
}
function Pq(a) {
  a = a.data;
  if (!t(a)) {
    throw "Storage: Invalid value was encountered";
  }
  return a;
}
Mq.prototype.set = function(a, b) {
  Mq.j.set.call(this, a, Oq(b));
};
Mq.prototype.b = function(a) {
  a = Mq.j.get.call(this, a);
  if (!t(a) || a instanceof Object) {
    return a;
  }
  throw "Storage: Invalid value was encountered";
};
Mq.prototype.get = function(a) {
  return (a = this.b(a)) ? Pq(a) : void 0;
};
function Qq(a) {
  this.a = a;
}
A(Qq, Mq);
Qq.prototype.set = function(a, b, c) {
  if (b = Oq(b)) {
    if (c) {
      if (c < y()) {
        Qq.prototype.remove.call(this, a);
        return;
      }
      b.expiration = c;
    }
    b.creation = y();
  }
  Qq.j.set.call(this, a, b);
};
Qq.prototype.b = function(a, b) {
  var c = Qq.j.b.call(this, a);
  if (c) {
    var d;
    if (d = !b) {
      d = c.creation;
      var e = c.expiration;
      d = !!e && e < y() || !!d && d > y();
    }
    if (d) {
      Qq.prototype.remove.call(this, a);
    } else {
      return c;
    }
  }
};
function Rq(a) {
  this.a = a;
}
A(Rq, Qq);
function Sq(a, b) {
  this.a = a;
  this.c = tp(b);
  this.f = new mf;
}
A(Sq, Rq);
function Tq(a, b) {
  var c = new Hq;
  c.update(tp(b));
  c.update(a.c);
  c = c.c();
  if (!Jq) {
    Jq = {};
    Kq = {};
    for (var d = 0;65 > d;d++) {
      Jq[d] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d), Kq[d] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(d);
    }
  }
  for (var d = Kq, e = [], f = 0;f < c.length;f += 3) {
    var g = c[f], k = f + 1 < c.length, l = k ? c[f + 1] : 0, m = f + 2 < c.length, n = m ? c[f + 2] : 0, p = g >> 2, g = (g & 3) << 4 | l >> 4, l = (l & 15) << 2 | n >> 6, n = n & 63;
    m || (n = 64, k || (l = 64));
    e.push(d[p], d[g], d[l], d[n]);
  }
  return e.join("");
}
function Uq(a, b, c, d) {
  if (!(0 < b.length)) {
    throw Error("Non-empty salt must be provided");
  }
  var e = new Hq;
  e.update(tp(c));
  e.update(b);
  e.update(a.c);
  a = new vp;
  var e = e.c(), f;
  f || (f = e.length);
  b = a.c;
  for (c = 0;256 > c;++c) {
    b[c] = c;
  }
  var g = 0;
  for (c = 0;256 > c;++c) {
    var g = g + b[c] + e[c % f] & 255, k = b[c];
    b[c] = b[g];
    b[g] = k;
  }
  a.a = 0;
  a.b = 0;
  f = a.a;
  e = a.b;
  b = a.c;
  for (c = 0;1536 > c;++c) {
    f = f + 1 & 255, e = e + b[f] & 255, g = b[f], b[f] = b[e], b[e] = g;
  }
  a.a = f;
  a.b = e;
  d = tp(d);
  var l;
  l || (l = d.length);
  f = a.a;
  e = a.b;
  b = a.c;
  for (c = 0;c < l;++c) {
    f = f + 1 & 255, e = e + b[f] & 255, g = b[f], b[f] = b[e], b[e] = g, d[c] ^= b[b[f] + b[e] & 255];
  }
  a.a = f;
  a.b = e;
  if (8192 >= d.length) {
    l = String.fromCharCode.apply(null, d);
  } else {
    for (l = "", a = 0;a < d.length;a += 8192) {
      l += String.fromCharCode.apply(null, ub(d, a, a + 8192));
    }
  }
  return l;
}
Sq.prototype.set = function(a, b, c) {
  if (t(b)) {
    for (var d = [], e = 0;8 > e;++e) {
      d[e] = Math.floor(256 * Math.random());
    }
    e = [];
    nf(this.f, b, e);
    b = new Nq(Uq(this, d, a, e.join("")));
    b.salt = d;
    Sq.j.set.call(this, Tq(this, a), b, c);
  } else {
    Sq.prototype.remove.call(this, a);
  }
};
Sq.prototype.b = function(a, b) {
  var c = Sq.j.b.call(this, Tq(this, a), b);
  if (c) {
    var d = Pq(c), e = c.salt;
    if (!w(d) || !u(e) || !e.length) {
      throw "Storage: Invalid value was encountered";
    }
    d = Uq(this, e, a, d);
    try {
      c.data = kf(d);
    } catch (f) {
      throw "Storage: The value could not be decrypted";
    }
    return c;
  }
};
Sq.prototype.remove = function(a) {
  Sq.j.remove.call(this, Tq(this, a));
};
function Vq() {
}
;function Wq() {
}
A(Wq, Vq);
Wq.prototype.za = function() {
  var a = 0;
  ue(this.Fc(!0), function() {
    a++;
  });
  return a;
};
Wq.prototype.clear = function() {
  var a = ve(this.Fc(!0)), b = this;
  eb(a, function(a) {
    b.remove(a);
  });
};
function Xq(a) {
  this.a = a;
}
A(Xq, Wq);
h = Xq.prototype;
h.set = function(a, b) {
  try {
    this.a.setItem(a, b);
  } catch (c) {
    if (0 == this.a.length) {
      throw "Storage mechanism: Storage disabled";
    }
    throw "Storage mechanism: Quota exceeded";
  }
};
h.get = function(a) {
  a = this.a.getItem(a);
  if (!w(a) && null !== a) {
    throw "Storage mechanism: Invalid value was encountered";
  }
  return a;
};
h.remove = function(a) {
  this.a.removeItem(a);
};
h.za = function() {
  return this.a.length;
};
h.Fc = function(a) {
  var b = 0, c = this.a, d = new se;
  d.next = function() {
    if (b >= c.length) {
      throw re;
    }
    var d = c.key(b++);
    if (a) {
      return d;
    }
    d = c.getItem(d);
    if (!w(d)) {
      throw "Storage mechanism: Invalid value was encountered";
    }
    return d;
  };
  return d;
};
h.clear = function() {
  this.a.clear();
};
h.key = function(a) {
  return this.a.key(a);
};
function Yq() {
  var a = null;
  try {
    a = window.localStorage || null;
  } catch (b) {
  }
  this.a = a;
}
A(Yq, Xq);
function Zq() {
  this.b = "";
  this.a = this.c = null;
  this.h = location.href;
  this.f = ["profile", "email"];
  chrome.identity.onSignInChanged.addListener(this.l.bind(this));
}
da(Zq);
Zq.prototype.l = function() {
};
function $q(a, b) {
  for (var c = 0;c < b.length;c++) {
    -1 == a.indexOf(b[c]) && a.push(b[c]);
  }
}
Zq.prototype.getAuthToken = function(a, b) {
  var c = new B, d = {interactive:!!a, scopes:this.f};
  b && (d.scopes = b, $q(d.scopes, this.f));
  var e = this;
  chrome.identity.getAuthToken(d, function(d) {
    !a && chrome.runtime.lastError ? c.C(Error(chrome.runtime.lastError)) : (d && b && $q(e.f, b), d && (e.b = d || "", e.a && An(e.a, d ? "Bearer " + d : null)), c.callback(d));
  });
  return c;
};
function ar(a, b, c) {
  return a.getAuthToken(c, b).i(function(a) {
    return !!a;
  }, a);
}
function br(a) {
  var b = q.localStorage.getItem("ydn-crm-app-user-info");
  return b ? (b = JSON.parse(b), a.c = b) : null;
}
function cr(a) {
  return !!a.c && a.c.is_login;
}
function dr(a) {
  return a.c ? a.c.Id.$t : "";
}
function er(a, b) {
  if (!b) {
    var c = br(a);
    if (c && c.token == a.b) {
      return C(c);
    }
  }
  var d = new B;
  a.a.request(new T("/rpc_login", "GET", {url:a.h})).execute(function(a) {
    if (a = a ? a.User : null) {
      var b = a;
      (this.c = b) ? (b.updated = y(), b.token = this.b, q.localStorage.setItem("ydn-crm-app-user-info", JSON.stringify(b))) : q.localStorage.removeItem("ydn-crm-app-user-info");
    } else {
      a = br(this);
    }
    a ? d.callback(a) : d.C(Error("Fail to login backend."));
  }, a);
  return d;
}
function fr(a, b) {
  return a.getAuthToken(b, void 0).u(function(a) {
    return a ? this.a ? er(this, b) : {is_login:!!a} : {is_login:!1};
  }, function() {
    this.b = "";
    this.c = null;
    return {is_login:!1};
  }, a);
}
function gr(a) {
  if (!a.b) {
    return C();
  }
  var b = new B;
  chrome.identity.launchWebAuthFlow({url:"https://accounts.google.com/logout", interactive:!1}, function() {
    a.b = "";
    a.c = null;
    a.f = ["profile", "email"];
    q.localStorage.removeItem("ydn-crm-app-user-info");
    b.callback();
  });
  return b;
}
;var hr = "Accounts Calls Campaigns Cases Contacts Documents Meetings Emails EmailTemplates Employees Leads Notes Opportunities Prospects Tasks Teams TeamSets Users".split(" "), ir = "Users EmailTemplates Accounts Contacts Documents Employees Leads Notes Tasks Meetings Calls Cases Opportunities Emails".split(" "), jr = ["Users", "EmailTemplates", "Contacts"], kr = "Tasks Meetings Leads Calls Cases Opportunities Emails".split(" "), lr = ["Contacts", "Leads", "Accounts"], mr = "Accounts Calls Cases Contacts Leads Meetings Opportunities Notes Tasks".split(" "), 
nr = ["Meetings", "Calls", "Tasks", "Cases", "Opportunities"];
function or(a) {
  a = hr.indexOf(a);
  return hr[a];
}
function pr(a, b, c) {
  return a + ("/" == a.charAt(a.length - 1) ? "" : "/") + "index.php?module=" + b + "&action=DetailView&record=" + c;
}
function qr(a) {
  if (a) {
    if ("Employees" == a) {
      return "Ep";
    }
    if ("Cases" == a) {
      return "Cs";
    }
  } else {
    return "";
  }
  var b = a.match(/[A-Z]/g);
  return b && 1 < b.length ? b.join("") : a.substr(0, 2);
}
var rr = ["init", "login", "remove", "hag", "msc"];
function sr(a, b, c) {
  a.setAttribute("data-module", b.module);
  var d = document.createElement("span");
  d.setAttribute("name", "count");
  d.textContent = b.count;
  a.appendChild(d);
  a.appendChild(document.createTextNode(" " + b.module));
  if (d = (new Date(b.updated)).getTime()) {
    var e = document.createElement("span");
    e.textContent = ", " + (b["last-update-count"] || 0) + " records updated " + Gq(d);
    e.setAttribute("title", "Last synchronized time");
    a.appendChild(e);
  }
  b.last_record && (d = b.last_record, b = new Date(d.date_modified), a.appendChild(document.createTextNode(", ")), e = document.createElement("A"), e.textContent = "last record", e.href = d.$ydn_href || "", e.setAttribute("title", d.name), e.setAttribute("target", "_blank"), a.appendChild(e), d = document.createElement("span"), d.textContent = " modified on " + b.toLocaleString(), d.setAttribute("title", "Last modified timestamp in server"), a.appendChild(d));
  c && (a.appendChild(document.createTextNode(" [")), c = document.createElement("A"), c.textContent = "option", c.href = "#option", a.appendChild(c), a.appendChild(document.createTextNode("]")));
}
;function tr(a, b, c) {
  this.domain = a;
  this.module = b;
  this.a = c || {};
}
function ur(a) {
  return !a.a.id;
}
function vr(a) {
  return !a || "1" == a.deleted;
}
function wr(a) {
  var b = xr(a), c = [];
  if ("Cases" == a.module) {
    c = ["Closed", "Rejected", "Duplicate"];
  } else {
    if ("Opportunities" == a.module) {
      c = ["Closed Won", "Closed Lost"];
    } else {
      return !1;
    }
  }
  return !mb(c, yr(a, b));
}
function zr(a) {
  return 0 < Object.keys(a.a).length;
}
h = tr.prototype;
h.L = function() {
  return this.domain;
};
h.getData = function() {
  return this.a;
};
h.N = function() {
  return this.a.id;
};
function xr(a) {
  return "Opportunities" == a.module ? "sales_stage" : "status";
}
function Ar(a) {
  var b = Br(a.module);
  if (!b) {
    return null;
  }
  a = a.value(b);
  return w(a) ? Cr(a) : null;
}
function Dr(a) {
  return "assigned_user_id, " + Br(a);
}
function Br(a) {
  return "Tasks" == a ? "date_due" : "Opportunities" == a ? "date_closed" : "Calls" == a || "Meetings" == a ? "date_start" : "date_modified";
}
function Er(a) {
  var b = "";
  if (!a) {
    return "";
  }
  b = a.full_name || a.name;
  b || (a.first_name || a.last_name ? (b = (a.first_name || "").trim(), a = (a.last_name || "").trim(), b = b + " " + a) : b = a.id);
  return Ka(b);
}
function Fr(a) {
  var b = "";
  if (!a) {
    return "";
  }
  "Contacts" == a._module ? (b = a.title || "", a.account_name && (b && (b += " of "), b += a.account_name)) : w(a.name) ? b = a.name : w(a.description) ? b = a.description : w(a.title) && (b = a.title);
  return Ka(b);
}
h.names = function() {
  return Object.keys(this.a);
};
h.value = function(a) {
  return this.a[a];
};
function yr(a, b) {
  var c = a.a[b];
  return w(c) ? c : null;
}
function Gr(a, b, c) {
  if (!a || !a.gContact$externalId) {
    return null;
  }
  a = u(a.gContact$externalId) ? a.gContact$externalId : [a.gContact$externalId];
  for (var d = [], e = 0;e < a.length;e++) {
    var f = a[e];
    if (w(f.label) && w(f.value)) {
      var g = f.label.split(" "), k = f.value.split(" "), f = k[0], k = k[1], l = g[1];
      "Sugar" == g[0] && k && f && l && (b && b != f || c && c != k || d.push([f, l, k]));
    }
  }
  return d;
}
function Hr(a) {
  return {label:"Sugar " + a.module, value:a.domain + " " + a.N()};
}
h.toJSON = function() {
  return {domain:this.domain, module:this.module, obj:this.a};
};
function Ir(a) {
  var b = [];
  a.email1 && b.push(a.email1);
  a.email2 && a.email1 != a.email2 && b.push(a.email2);
  if (a.email_addresses_non_primary) {
    var c = a.email_addresses_non_primary;
    b.some(function(a) {
      return a == c;
    }) || b.push(c);
  }
  return b;
}
function Jr(a) {
  return a ? a.email1 ? a.email1 : a.email2 ? a.email2 : a.email_addresses_non_primary ? a.email_addresses_non_primary : "" : "";
}
function Kr(a, b) {
  var c = a.module_fields;
  if (u(c)) {
    for (var d = 0;d < c.length;d++) {
      if (c[d].name == b) {
        return c[d];
      }
    }
  }
  return c[b] || null;
}
;var Lr = {BeaconTrack:"/track/", AccessTokenRecord:"/track-access/", DoNotTrack:"/donottrack/"}, Mr = {BeaconTrack:"path", AccessTokenRecord:"ID", DoNotTrack:"Id"}, Nr = {BeaconTrack:"recorded", AccessTokenRecord:"Recorded", DoNotTrack:"Modified"};
function Or(a) {
  var b = [a[Mr.BeaconTrack]];
  (a = a[Nr.BeaconTrack]) && b.push(a);
  return b;
}
;J("ydn.gdata.base");
function Pr() {
  this.c = null;
  this.h = "";
  this.f = this.b = this.a = null;
}
Pr.prototype.logger = J("ydn.crm.AppSetting");
var Qr = {stores:[{name:"general"}, {name:"sugar"}, {name:"_ydn_sync_history", keyPath:"sequence", autoIncrement:!0, indexes:[{name:"key", keyPath:["entity", "id"]}]}, {name:"BeaconTrack", autoIncrement:!0, indexes:[{name:"path"}, {name:"recorded"}, {name:"recipients", multiEntry:!0}]}, {name:"AccessTokenRecord", autoIncrement:!0, indexes:[{name:"Path"}, {name:"Recorded"}]}, {name:"DoNotTrack", autoIncrement:!0, indexes:[{name:"Modified"}, {name:"Target"}]}, {name:"sync", autoIncrement:!0, indexes:[{name:"key"}, 
{name:"modified"}, {name:"gdataId", generator:function(a) {
  if (a = a.key) {
    return a = a.split("/"), a[3] + "/" + a[4] + "/" + a[5];
  }
}}]}]};
function Rr(a, b, c) {
  b = new T("/feedback/" + a.c + "/" + b, "PUT", null, {"content-type":c instanceof Blob ? "application/octet-stream" : "application/json"}, c);
  var d = new B;
  Pm().request(b).execute(function(a, b) {
    gn(b) ? d.callback(a) : d.C(hn(b));
  }, a);
  return d;
}
function Sr(a, b, c) {
  if (!a.a) {
    return D(Error("NotReadyError"));
  }
  var d = "/record/" + a.c + "/" + b;
  if (c) {
    return a.a.get("general", d).i(function(a) {
      if (!a) {
        return Sr(this, b);
      }
    }, a);
  }
  c = new T(d);
  var e = new B;
  Pm().request(c).execute(function(a, b) {
    if (200 == b.P()) {
      if (a && w(a.value)) {
        var c = JSON.parse(a.value);
        x(c) && this.a.put("general", c, d);
        e.callback(c);
      } else {
        e.callback(null);
      }
    } else {
      404 == b.P() ? (this.a.remove("general", d), e.callback(null)) : b.P() ? e.C(b) : this.a.get("general", d).b(e);
    }
  }, a);
  return e;
}
function Tr(a, b, c) {
  if (!a.a) {
    return D(Error("NotReadyError"));
  }
  b = a.c + "/" + b;
  var d = "/record/" + b;
  c = {id:b, value:JSON.stringify(c)};
  c = new T(d, "POST", null, {"content-type":"application/json"}, JSON.stringify(c));
  var e = new B;
  Pm().request(c).execute(function(a, b) {
    if (a && a.value) {
      var c = a && a.value ? JSON.parse(a.value) : null;
      x(c) ? this.a.put("general", c, d) : this.a.remove("general", d);
      e.callback(c);
    } else {
      e.C(b);
    }
  }, a);
  return e;
}
var Ur = {stores:[{name:"contact", keyPath:"id.$t", type:"TEXT", indexes:[{name:"name", keyPath:"gd$name.gd$fullName.$t"}, {name:"updated.$t", type:"TEXT"}, {name:"ydn$syncRefs", multiEntry:!0, generator:function(a) {
  return Gr(a);
}}, {name:"ydn$groups", multiEntry:!0, generator:function(a) {
  if (a.gContact$groupMembershipInfo) {
    a = u(a.gContact$groupMembershipInfo) ? a.gContact$groupMembershipInfo : [a.gContact$groupMembershipInfo];
    for (var b = [], c = 0;c < a.length;c++) {
      var d = a[c];
      "true" != d.deleted && b.push(d.href);
    }
    a = b;
  } else {
    a = [];
  }
  return a;
}}, {name:"ydn$emails", multiEntry:!0, generator:function(a) {
  var b = [];
  a = u(a.gd$email) ? a.gd$email : x(a.gd$email) ? [a.gd$email] : [];
  for (var c = 0;c < a.length;c++) {
    var d = Eo(a[c].address);
    d && b.push(d);
  }
  return b;
}}]}, {name:"people", keyPath:"id"}, {name:"calendar#event", keyPath:"id", indexes:[{name:"summary"}, {name:"updated"}, {name:"start.dateTime", keyPath:"start.dateTime"}, {name:"sugarcrm", keyPath:"extendedProperties.shared.sugarcrm"}, {name:"yathitsugar", keyPath:"extendedProperties.shared.yathitsugar"}]}, {name:"sync-info", keyPath:["record_id", "entry_id"], indexes:[{name:"pid"}, {name:"record_id"}, {name:"entry_id"}, {name:"pid, record_id", keyPath:["pid", "record_id"]}, {name:"pid, entry_id", 
keyPath:["pid", "entry_id"]}]}, {name:"cal-sync-info", keyPath:["record_id", "entry_id"], indexes:[{name:"pid"}, {name:"record_id"}, {name:"entry_id"}, {name:"pid, record_id", keyPath:["pid", "record_id"]}, {name:"pid, entry_id", keyPath:["pid", "entry_id"]}]}, {name:"sync-blacklist", keyPath:["record_id", "entry_id"], indexes:[{name:"level"}, {name:"pid"}]}, {name:"cal-blacklist", keyPath:["record_id", "entry_id"], indexes:[{name:"level"}, {name:"pid"}]}]};
function Vr(a, b, c) {
  return b ? -1 == Ig.indexOf(b) ? D("invalid key: " + b) : !x(c) || u(c) ? D("value must be an object") : Tr(a, "user-setting/" + b, c) : D("key required.");
}
function Wr(a) {
  return a.c ? a.c + "-sd" : q.sessionStorage.getItem("last-user-id") + "-sd";
}
function Xr(a) {
  var b = Wr(a), c = new B;
  chrome.storage.local.get(b, function(a) {
    chrome.runtime.lastError ? c.C(chrome.runtime.lastError) : c.callback(a[b]);
  });
  return c;
}
function Yr(a, b) {
  var c = Wr(a), d = new B;
  if (null != b) {
    var e = {};
    e[c] = b;
    chrome.storage.local.set(e, function() {
      d.callback(!0);
    });
  } else {
    chrome.storage.local.remove("sd", function() {
      d.callback(!0);
    });
  }
}
Pr.prototype.l = function(a, b) {
  var c = new B, d = rb(arguments);
  chrome.storage.sync.get("user-setting", function(a) {
    (a = a["user-setting"]) ? c.callback(Jb(a, d)) : c.callback();
  });
  return c;
};
function Zr(a) {
  if (!a.c) {
    return D(Error("Not login"));
  }
  a.f || (a.f = new B, Pm().request(new T("/user-license/" + a.c, "GET", {active:"1"})).execute(function(a, c) {
    200 == c.P() || 404 == c.P() ? (this.f.callback(a), a ? this.a.put("general", a, "user-license") : this.a.remove("general", "user-license")) : this.a.get("general", "user-license").b(this.f);
  }, a));
  a.f.G(function() {
    this.f = null;
  }, a);
  return a.f;
}
function $r(a, b, c) {
  if (-1 == ["lg-pref-qa", "lg-pref-bg"].indexOf(b)) {
    throw Error(b);
  }
  if (!ga(c)) {
    throw Error("invalid for " + b);
  }
  return a.a.get("general", "user-license").u(function(a) {
    if (fj(a)) {
      return a = {}, "lg-pref-qa" == b && (wg = a.disableAnalyticReport = c), "lg-pref-bg" == b && (vg = a.disableDebugReport = c), chrome.storage.sync.set(a), c;
    }
    if (a) {
      throw Error(a.edition + " license user cannot change logging setting.");
    }
    throw Error("Valid license required.");
  }, function(a) {
    window.console.error(a);
  }, a);
}
;var as = "";
function bs(a) {
  var b = Pm();
  a = new T("/gcm/$register", "POST", null, {"Content-Type":"application/json"}, JSON.stringify(a));
  var c = new B;
  b.request(a).execute(function(a, b) {
    gn(b) ? c.callback(!0) : (window.console.error(hn(b)), c.C(Error(b.P())));
  });
  return c;
}
function cs() {
  yg && as && chrome.storage.local.get(["gcm3-reg-id"], function(a) {
    if (a = a["gcm3-reg-id"]) {
      var b = {};
      b.uid = as;
      b.rid = a;
      b.iid = yg;
      ds(b);
    }
  });
}
function ds(a) {
  var b = "gcm3-" + a.iid + a.uid;
  chrome.storage.local.get(b, function(c) {
    c = c[b];
    (!c || c.rid != a.rid || c.submitted + 864E5 < y()) && bs(a).i(function() {
      a.submitted = y();
      var c = {};
      c[b] = a;
      chrome.storage.local.set(c);
    });
  });
}
function es(a) {
  if (chrome.runtime.lastError) {
    window.console.error(chrome.runtime.lastError);
  } else {
    var b = {};
    b["gcm3-reg-id"] = a;
    chrome.storage.local.set(b, function() {
      cs();
    });
  }
}
chrome.runtime.onInstalled.addListener(function() {
  chrome.storage.local.get("gcm3-reg-id", function(a) {
    a["gcm3-reg-id"] || chrome.gcm.register(["164649788853"], es);
  });
});
function fs(a, b, c) {
  Gc.call(this);
  this.f = null != c ? pa(a, c) : a;
  this.c = b;
  this.b = pa(this.ao, this);
  this.a = [];
}
A(fs, Gc);
h = fs.prototype;
h.Yf = !1;
h.na = null;
h.lj = function(a) {
  this.a = arguments;
  this.na ? this.Yf = !0 : gs(this);
};
h.stop = function() {
  this.na && (q.clearTimeout(this.na), this.na = null, this.Yf = !1, this.a = []);
};
h.I = function() {
  fs.j.I.call(this);
  this.stop();
};
h.ao = function() {
  this.na = null;
  this.Yf && (this.Yf = !1, gs(this));
};
function gs(a) {
  a.na = Df(a.b, a.c);
  a.f.apply(null, a.a);
}
;function hs() {
  H.call(this);
}
A(hs, H);
hs.prototype.logger = J("ydn.crm.Client");
function is(a) {
  this.a = a;
}
is.prototype.add = function(a) {
  this.a.add("history", a.toJSON());
};
function js(a, b) {
  if (a.link) {
    if (u(a.link)) {
      for (var c = 0;c < a.link.length;c++) {
        if (a.link[c].rel == b) {
          return a.link[c];
        }
      }
      return null;
    }
    return a.link.rel == b ? a.link : null;
  }
  return null;
}
;function ks(a, b) {
  this.entry = a;
  this.data = b;
  this.a = !1;
}
ks.prototype.data = null;
ks.prototype.preventDefault = function() {
  this.a = !0;
};
function ls(a, b, c, d) {
  G.call(this, a, b);
  this.status = c;
  this.entry = d;
}
A(ls, G);
ls.prototype.status = NaN;
ls.prototype.P = function() {
  return this.status;
};
ls.prototype.sc = function() {
  return this.entry.sc();
};
function ms(a, b, c) {
  ls.call(this, "conflict", a, b, c.entry);
}
A(ms, ls);
function ns(a, b) {
  this.a = a;
  if (b) {
    throw new cf("optional key paths");
  }
}
var os = {gq:"key", Yp:"date", hq:"modified", fq:"expires", eq:"etag", Aq:"updated", Bq:"uri", NEXT:"next"};
ns.prototype.Y = function(a, b) {
  return b && this.a[a] ? Aj(b, this.a[a]) : void 0;
};
function ps(a, b, c, d) {
  a.a[b] && Bj(c, a.a[b], d);
}
;function qs(a, b, c, d) {
  this.key = a;
  this.b = (this.b = d ? b[d] : b) || {};
  this.a = c;
}
function rs(a) {
  return null != a.key ? a.key : a.a.Y("key", a.b);
}
function ss(a) {
  return a.a.Y("updated", a.b);
}
function ts(a) {
  return a.a.Y("etag", a.b);
}
function us(a) {
  var b = {}, c = ts(a);
  c && 1 < c.length ? b["if-none-match"] = c : (a = ss(a)) && (b["if-modified-since"] = a);
  return b;
}
qs.prototype.toJSON = function() {
  var a = {};
  ps(this.a, "key", a, rs(this));
  var b = this.a.Y("date", this.b);
  b && ps(this.a, "date", a, b);
  (b = this.a.Y("expires", this.b)) && ps(this.a, "expires", a, b);
  (b = ss(this)) && ps(this.a, "updated", a, b);
  (b = ts(this)) && ps(this.a, "etag", a, b);
  return a;
};
function vs(a, b, c) {
  b.expires && ps(c, "expires", b, (new Date(b.expires)).getTime());
  b["last-updated"] && ps(c, "updated", b, (new Date(b["last-updated"])).getTime());
  b.etag && ps(c, "etag", b, (new Date(b.etag)).getTime());
  ps(c, "date", b, NaN);
  qs.call(this, a, b, c);
}
A(vs, qs);
function ws(a, b) {
  var c, d, e, f, g, k, l, m, n;
  c = {};
  for (e = 0;e < b.length;e++) {
    d = b[e], c[d] ? c[d].push(e) : c[d] = [e];
  }
  f = [{cj:-1, ef:-1, Pi:null}];
  for (k = 0;k < a.length;k++) {
    d = a[k];
    d = c[d] || [];
    m = 0;
    g = f[0];
    for (l = 0;l < d.length;l++) {
      e = d[l];
      for (n = m;n < f.length && !(f[n].ef < e && (n == f.length - 1 || f[n + 1].ef > e));n++) {
      }
      if (n < f.length && (e = {cj:k, ef:e, Pi:f[n]}, m == f.length ? f.push(g) : f[m] = g, m = n + 1, g = e, m == f.length)) {
        break;
      }
    }
    f[m] = g;
  }
  return f[f.length - 1];
}
function xs(a, b) {
  function c() {
    g.Ed.length && (g.Ed.reverse(), d.push(g), g = {Ed:[]});
  }
  for (var d = [], e = a.length, f = b.length, g = {Ed:[]}, k = ws(a, b);null !== k;k = k.Pi) {
    for (var l = {cf:[], df:[]};--e > k.cj;) {
      l.cf.push(a[e]);
    }
    for (;--f > k.ef;) {
      l.df.push(b[f]);
    }
    if (l.cf.length || l.df.length) {
      c(), l.cf.reverse(), l.df.reverse(), d.push(l);
    }
    0 <= e && g.Ed.push(a[e]);
  }
  c();
  d.reverse();
  return d;
}
;function ys(a, b, c) {
  this.a = a;
  this.l = c || null;
  this.f = this.b = null;
  this.key = b;
}
h = ys.prototype;
h.logger = J("ydn.db.sync.entry.Rest");
h.sc = function() {
  if (this.f && this.a.o && this.c) {
    var a = this.a.J;
    this.a.ga || delete this.f[a];
  }
  return this.f || null;
};
h.Y = function() {
  return this.l;
};
h.N = function() {
  return this.key;
};
h.qg = function() {
  return this.a.xh(this.N());
};
function zs(a, b) {
  var c = a.N();
  return new vs(c, b.Ld(), a.a.l);
}
h.Yg = function(a, b) {
  if (a) {
    return a;
  }
  if (gn(b)) {
    return kn(b);
  }
  try {
    return kn(b);
  } catch (d) {
    var c = hn(b);
    return x(c) ? c : {body:c};
  }
};
h.save = function(a) {
  var b = this.N();
  if (a && !this.a.o) {
    return this.c.date = y(), As(this.a, [this.c.toJSON()]);
  }
  var c = this.f;
  if (a && !c) {
    return C();
  }
  a = void 0;
  null != this.c && (this.c.date = y(), a = [this.c.toJSON()]);
  return Bs(this.a, [c], a, [b]);
};
h.td = function(a, b) {
  if (this.a.D && x(this.b)) {
    a.call(b, 304), a = null;
  } else {
    var c = this;
    Cs(this, function(d) {
      if (d) {
        var e = d.a.Y("expires", d.b);
        if (e && e > y()) {
          M(this.logger, this + " not expired");
          a.call(b, 304);
          a = null;
          return;
        }
      }
      e = c.qg();
      d = c.qd(e, "GET", d);
      this.a.Ma().request(d).execute(function(d, e) {
        c.c = zs(c, e);
        c.f = c.Yg(d, e);
        a.call(b, e.P());
        a = null;
      });
    }, this);
  }
};
h.qd = function(a, b, c, d) {
  a = new T(a, b);
  if (c) {
    var e;
    "POST" == a.method || "PUT" == a.method || "DELETE" == a.method ? (e = {}, (b = ss(c)) && (e["if-unmodified-since"] = b), (c = ts(c)) && 1 < c.length && (e["if-match"] = c), c = e) : c = us(c);
    e = c;
    a.headers ? Qb(a.headers, e) : a.headers = e;
  }
  a.body = x(d) ? JSON.stringify(d) : d;
  M(this.logger, this + " " + a.method + " " + a.path + " " + Ni(e));
  return a;
};
function Ds(a, b, c) {
  Cs(a, function(a) {
    var e = this.Y();
    a = this.qd(this.qg(), "PUT", a, e);
    this.a.Ma().request(a).execute(function(a, d) {
      this.c = zs(this, d);
      this.f = a;
      b && (b.call(c, d.P()), b = null);
    }, this);
  }, a);
}
function Cs(a, b, c) {
  a.h ? b.call(c, a.h) : Es(a.a, a.N(), function(d) {
    a.h = d;
    b.call(c, d);
  });
}
h.load = function(a, b) {
  if (this.b && this.h) {
    a && (a.call(b, this.b, this.h), a = void 0);
  } else {
    var c = this.N();
    this.a.load(c, function(c, e) {
      this.b = c;
      var f = this.a.J;
      this.b && f && this.b[f] && (this.h = new qs(this.key, this.b, this.a.l, f), this.a.ga || delete this.b[f]);
      this.b = c;
      this.h = e;
      a && (a.call(b, c), a = void 0);
    }, this);
  }
};
function Fs(a, b) {
  var c = a.qg(), d = a.a.Ma();
  Cs(a, function(a) {
    a = this.qd(c, "DELETE", a);
    d.request(a).execute(function(a, d) {
      M(this.logger, "deleted " + c + " " + d.P());
      b.call(this, d.P());
    }, this);
  }, a);
}
;function Gs(a, b, c) {
  this.storage = a;
  this.store = b;
  this.ia = b.getName();
  this.D = !!c.immutable;
  this.b = c.baseUri;
  this.Mc = c.metaStoreName || this.ia;
  this.J = c.metaDataName;
  this.o = this.Mc == this.ia;
  a = c.Options || {};
  this.$ = a.delimiter || "";
  this.f = a.prefix || "";
  this.ga = !!c.keepMeta;
  this.F = c.prefetch || ha(c.prefetchRefractoryPeriod) ? "full" : null;
  this.W = ha(c.prefetchRefractoryPeriod) ? c.prefetchRefractoryPeriod : 5E3;
  this.a = Hs(c.transport);
  this.l = new ns(this.mc(), c.metaData);
  this.h = null;
  this.s = NaN;
}
h = Gs.prototype;
h.mc = function() {
  var a = {}, b;
  for (b in os) {
    a[b] = b;
  }
  return a;
};
h.R = function() {
  return this.ia;
};
h.logger = J("ydn.db.sync.Rest");
h.Dc = function() {
  return this.b;
};
h.Ma = function() {
  this.a || (this.a = new qn);
  return this.a;
};
function As(a, b) {
  return nl(a.storage.a, a.Mc, b).Gc(function(a) {
    throw a;
  });
}
function Is(a, b, c) {
  a.store.keyPath && null == il(a.store, b) && null != c && Bj(b, a.store.keyPath, c);
}
function Bs(a, b, c, d) {
  d = a.store.keyPath ? void 0 : d;
  if (c) {
    if (a.o) {
      for (g = 0;g < b.length;g++) {
        null != c[g] && Qb(b[g], c[g]);
      }
      return nl(a.storage.a, a.ia, b, d);
    }
    if (b) {
      for (var e = [], f = b.concat(c), g = 0;g < b.length;g++) {
        var k = a.store.keyPath ? NaN : d[g];
        e.push(new Bk(a.ia, k));
      }
      for (g = 0;g < c.length;g++) {
        e.push(new Bk(a.Mc, NaN));
      }
      return nl(a.storage.a, e, f);
    }
    return nl(a.storage.a, a.Mc, c);
  }
  for (g = 0;g < b.length;g++) {
    k = d ? d[g] : void 0, Is(a, b[g], k);
  }
  return nl(a.storage.a, a.ia, b, d);
}
function Js(a, b) {
  var c = [new Bk(a.ia, b)];
  a.o || c.push(new Bk(a.Mc, b));
  return ol(a.storage.a, c);
}
h.xh = function(a) {
  return this.Dc() + a;
};
h.add = function(a, b, c) {
  null != c ? Is(this, b, c) : this.store.keyPath && (c = il(this.store, b));
  var d = this.Ra(c, b), e = this;
  Ds(d, function(a) {
    201 == a || 200 == a ? (M(e.logger, d + " created"), d.save(!0)) : K(e.logger, "Unexpected respond " + a + " for add " + d);
  });
};
function Es(a, b, c) {
  var d = new Bk(a.Mc, b);
  Ks(a, [d]).u(function(a) {
    c.call(void 0, new qs(b, a[0], this.l, this.J));
  }, function(a) {
    K(this.logger, this + " error loading meta data " + a);
    c.call(void 0, null);
  }, a);
}
h.Mf = function(a, b) {
  var c = a.map(function(a) {
    return new Bk(this.Mc, a);
  });
  Ks(this, c).u(function(c) {
    for (var e = [], f = 0;f < a.length;f++) {
      e[f] = new qs(a[f], c[f], this.l, this.J);
    }
    b(e);
  }, function(a) {
    K(this.logger, this + " error loading meta data " + a);
    b([]);
  }, this);
};
h.load = function(a, b, c) {
  var d = this.Mc, e = [new Bk(this.R(), a)];
  this.o || e.push(new Bk(d, a));
  Ks(this, e).u(function(d) {
    var e = d[0];
    b.call(c, e, new qs(a, this.o ? e : d[1], this.l, this.J));
  }, function(a) {
    K(this.logger, this + " error loading meta data " + a);
    b.call(c, null, null);
  }, this);
};
function Ks(a, b) {
  return rl(a.storage.a, b);
}
h.get = function(a, b) {
  this.s || this.ad();
  nk(a, function(c, d, e) {
    if (d) {
      e(c, d);
    } else {
      hf(a, c);
      var f = t(c);
      if (f && this.D) {
        e(c);
      } else {
        var g = this.Ra(b, c);
        g.td(function(a) {
          if (304 == a) {
            if (e(c), !f) {
              throw new ff(g + " not modified, but not exist in server");
            }
          } else {
            if (200 == a) {
              g.save().G(function() {
                e(g.sc());
              });
            } else {
              if (404 == a) {
                Js(g.a, g.N()).G(function() {
                  e(g.sc());
                });
              } else {
                throw e(g.sc()), new ef("Invalid HTTP respond " + a + " for GET " + b);
              }
            }
          }
        }, this);
      }
    }
  }, this);
};
function Ls(a, b, c, d, e, f) {
  var g = [], k = a.logger;
  N(a.logger, d.length + ", " + e.length + ", " + f.length + ", " + g.length + " records to fetch, update, delete, save");
  var l = d.length + e.length + f.length + g.length;
  if (0 == l) {
    b(c);
  } else {
    for (var m = !1, n = function() {
      l--;
      0 == l && (b(c, m), b = null);
    }, g = 0;g < d.length;g++) {
      var p = a.Ra(d[g]);
      p.index = g;
      p.td(function(a) {
        200 == a ? (Ve(k, "A new " + this + " received from server"), this.save().u(function() {
          c[this.index] = this.sc();
          n();
        }, function() {
          m = !0;
          n();
        }, this)) : 304 == a ? this.save(!0).u(function() {
          Ve(k, this + " expires date updated");
          n();
        }, function() {
          m = !0;
          n();
        }, this) : (k.log(Le, "Invalid status " + a + " for fetching " + this, void 0), n());
      }, p);
    }
    for (g = 0;g < e.length;g++) {
      p = a.Ra(e[g]), p.index = g, p.load(function() {
        this.td(function(a) {
          200 == a ? (Ve(k, this + " updated from server"), this.save().u(function() {
            c[this.index] = this.sc();
            n();
          }, function() {
            m = !0;
            n();
          }, this)) : (k.log(Le, "Invalid status " + a + " for fetching " + this, void 0), n());
        });
      });
    }
    for (g = 0;g < f.length;g++) {
      p = a.Ra(f[g]), p.index = g, Js(p.a, p.N()).u(function() {
        c[this.index] = new ks(p, null);
        n();
      }, function() {
        m = !0;
        n();
      }, p);
    }
  }
}
function Ms(a, b, c) {
  nk(b, function(a, e, f) {
    if (e) {
      f(a, e);
    } else {
      if (ib(a, function(a) {
        return t(a);
      }) && this.D) {
        f(a);
      } else {
        hf(b, a);
        var g = a.length;
        for (e = 0;e < c.length;e++) {
          if (this.D && t(a[e])) {
            g--, 0 == g && f(a);
          } else {
            var k = this.Ra(c[e], a[e]);
            k.index = e;
            k.td(function(b) {
              200 == b ? (a[this.index] = this.sc(), this.save()) : 404 == b && (a[this.index] = void 0);
              g--;
              0 == g && f(a);
            }, k);
          }
        }
      }
    }
  }, a);
}
h.Ra = function(a, b) {
  return new ys(this, a, b);
};
h.count = function(a) {
  return a;
};
h.Mh = function() {
  throw new cf;
};
h.values = function(a, b, c) {
  Ns(this) ? (M(this.logger, "prefetch queued"), nk(a, function(d, e, f) {
    hf(a, d);
    e ? f(d, e) : Os(this, function(a) {
      a ? ql(this.storage.a, this.ia, null, null, !1, b, c).u(function(a) {
        f(a);
      }, function(a) {
        f(a, !0);
      }, this) : f(d);
    }, function() {
      K(this.logger, this + " prefetch fail");
      f(d);
    }, this);
  }, this)) : this.Mh(a, b, c);
};
h.keys = function(a, b, c, d, e, f, g) {
  nk(a, function(k, l, m) {
    hf(a, k);
    l ? m(k, l) : Os(this, function(a) {
      a ? sl(this.storage.a, this.ia, b, c, d, e, f, g).u(function(a) {
        m(a);
      }, function(a) {
        m(a, !0);
      }, this) : m(k);
    }, function() {
      K(this.logger, this + " prefetch fail");
      m(k);
    }, this);
  }, this);
};
h.Wg = function() {
};
h.put = function(a, b, c) {
  c = t(c) ? c : this.store.keyPath ? il(this.store, b) : null;
  var d = this.Ra(c, b);
  ok(a, function() {
    d.load();
  }, this);
  nk(a, function(c, f, g) {
    hf(a, c);
    Ds(d, function(c) {
      409 == c ? d.td(function() {
        var c = new ks(d, b);
        hf(a, c);
        c.a ? g(null, f) : g(void 0, f);
      }) : 200 == c || 201 == c ? (d.save(!0), g(b, f)) : (K(this.logger, "Unexpected response for PUT: " + c), g(null, f));
    }, this);
  }, this);
};
h.remove = function(a, b) {
  var c = this, d = this.Ra(b);
  d.load(function() {
    nk(a, function(e, f, g) {
      Fs(d, function(f) {
        if (409 == f) {
          f = new ks(d, null);
          hf(a, f);
          var l = new ms(c.storage, 409, f);
          c.storage.bb(l);
        } else {
          200 == f ? M(c.logger, "Successfully deleted object " + b) : (K(c.logger, "Unexpected response for DELETE: " + f + " " + b), hf(a, l));
        }
        g(e);
      });
    });
  });
};
h.ad = function() {
  M(this.logger, this + " starting prefetch");
  var a = new B;
  ql(this.storage.a, this.ia, "updated.$t", null, !0, 1).u(function(b) {
    var c = {};
    if (b = b[0]) {
      b = Jb(b, "updated", "$t"), b = (new Date(1 + +new Date(b))).toISOString(), c["updated-min"] = b;
    }
    var d = this, c = new T(this.Dc(), "GET", c);
    d.Ma().request(c).execute(function(b, c) {
      if (200 == c.P()) {
        if (!b) {
          var g = hn(c);
          w(g) && (b = JSON.parse(g));
        }
        g = (g = (b.feed || b).entry) ? u(g) ? g : [g] : [];
        0 < g.length ? Bs(d, g).G(function() {
          a.callback(!0);
        }) : a.callback(!1);
      } else {
        302 == c.P() ? a.callback() : (g = d + ": Invalid response status " + c.P() + " on prefetching", K(d.logger, g), a.C(Error(g)));
      }
    });
  }, function(b) {
    a.C(b);
  }, this);
  return a;
};
function Ns(a) {
  return a.F ? a.s ? y() - a.s > a.W : !0 : !1;
}
function Os(a, b, c, d) {
  Ns(a) ? a.h ? a.h.u(b, c, d) : (a.h = a.ad(), a.s = y(), a.h.u(b, c, d), a.h.u(function(a) {
    M(this.logger, "prefetch " + (a ? "updated" : "no update"));
    this.h = null;
  }, function(a) {
    this.h = null;
    throw a;
  }, a)) : b.call(d, !1);
}
;function Ps(a, b, c) {
  Gs.call(this, a, b, c);
}
A(Ps, Gs);
Ps.prototype.logger = J("ydn.db.sync.Atom");
Ps.prototype.N = function(a) {
  return a.key;
};
function Qs(a) {
  this.data = a;
}
h = Qs.prototype;
h.N = function() {
  return this.data.id.$t;
};
h.getTitle = function() {
  return this.data.title ? this.data.title.$t : void 0;
};
h.mi = function(a) {
  return js(this.data, a);
};
h.ni = function() {
  var a = this.mi("self");
  return a ? a.href : void 0;
};
h.va = function() {
  return this.data.content || null;
};
function Rs(a, b, c) {
  ys.call(this, a, b, c);
}
A(Rs, ys);
Rs.prototype.logger = J("ydn.db.sync.entry.S3");
Rs.prototype.getName = function() {
  return this.a.f + this.key;
};
Rs.prototype.qd = function(a, b, c, d) {
  b = Rs.j.qd.call(this, a, b, c, d);
  if ("PUT" == b.method || "POST" == b.method) {
    c = (new ui(a)).f.substr(1);
    if (1 > c.length) {
      throw new ef("invalid url " + a);
    }
    b.headers.Key = c;
    a = b.headers["Content-Type"] || "application/json";
    d instanceof File ? a = d.type : w(d) && (a = /<*DOCTYPE html/i.test(d) ? "text/html" : "text/plain");
    b.headers.ContentType = a;
  }
  return b;
};
function Ss(a) {
  this.data = a;
}
A(Ss, Qs);
function Ts() {
  if (!E) {
    return !1;
  }
  try {
    return new ActiveXObject("MSXML2.DOMDocument"), !0;
  } catch (a) {
    return !1;
  }
}
var Us = E && Ts();
function Vs(a, b) {
  if (b && !a) {
    throw Error("Can't create document with namespace and no root tag");
  }
  if (document.implementation && document.implementation.createDocument) {
    return document.implementation.createDocument(b || "", a || "", null);
  }
  if (Us) {
    var c = Ws();
    if (c) {
      return a && c.appendChild(c.createNode(1, a, b || "")), c;
    }
  }
  throw Error("Your browser does not support creating new documents");
}
function Xs(a) {
  if ("undefined" != typeof DOMParser) {
    return (new DOMParser).parseFromString(a, "application/xml");
  }
  if (Us) {
    var b = Ws();
    b.loadXML(a);
    return b;
  }
  throw Error("Your browser does not support loading xml documents");
}
function Ys(a) {
  var b = a.xml;
  if (b) {
    return b;
  }
  if ("undefined" != typeof XMLSerializer) {
    return (new XMLSerializer).serializeToString(a);
  }
  throw Error("Your browser does not support serializing XML documents");
}
function Zs(a, b) {
  if ("undefined" != typeof a.selectSingleNode) {
    var c = fh(a);
    "undefined" != typeof c.setProperty && c.setProperty("SelectionLanguage", "XPath");
    return a.selectSingleNode(b);
  }
  if (document.implementation.hasFeature("XPath", "3.0")) {
    var c = fh(a), d = c.createNSResolver(c.documentElement);
    return c.evaluate(b, a, d, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;
  }
  return null;
}
function Ws() {
  var a = new ActiveXObject("MSXML2.DOMDocument");
  a.resolveExternals = !1;
  a.validateOnParse = !1;
  try {
    a.setProperty("ProhibitDTD", !0), a.setProperty("MaxXMLSize", 2048), a.setProperty("MaxElementDepth", 256);
  } catch (b) {
  }
  return a;
}
;J("ydn");
function $s(a) {
  if (!u(a)) {
    throw new im("Array required.");
  }
  if (t(void 0)) {
    return a = gb(a, function(a) {
      return a[void 0];
    }), $s(a);
  }
  for (var b = Number.NaN, c = -1, d = 0;d < a.length;d++) {
    !isNaN(a[d]) && (isNaN(b) || a[d] > b) && (b = a[d], c = d);
  }
  return {value:b, index:c};
}
;var at = {atom:"http://www.w3.org/2005/Atom", ydn:"http://www.yathit.com/2012/ydn", app:"http://www.w3.org/2007/app", openSearch:"http://a9.com/-/spec/opensearch/1.1/", gAcl:"http://schemas.google.com/acl/2007", sites:"http://schemas.google.com/sites/2008", gs:"http://schemas.google.com/spreadsheets/2006", dc:"http://purl.org/dc/terms", batch:"http://schemas.google.com/gdata/batch", gd:"http://schemas.google.com/g/2005", gContact:"http://schemas.google.com/contact/2008", thr:"http://purl.org/syndication/thread/1.0", 
xhtml:"http://www.w3.org/1999/xhtml"};
function bt(a, b) {
  for (var c = a.indexOf(" "), d = 0;d < b.length;d++) {
    var e = b[d], e = (0 == d ? "xmlns" : "xmlns:" + e) + '="' + at[e] + '"';
    -1 == a.indexOf(e) && (a = a.substring(0, c + 1) + e + " " + a.substr(c + 1));
  }
  return a;
}
J("ydn.xml");
function ct(a, b, c) {
  c = !!c;
  if (a.getName() != b.getName()) {
    return !1;
  }
  var d = dt(a), e = dt(b);
  if (!c && d.length != e.length || c && e.length > d.length) {
    return !1;
  }
  for (d = 0;d < e.length;d++) {
    if (a.getAttribute(e[d]) != b.getAttribute(e[d])) {
      return !1;
    }
  }
  d = et(a);
  e = et(b);
  if (!c && d.length != e.length || c && e.length > d.length) {
    return !1;
  }
  if (0 == d.length || 0 == d.length) {
    return a.data.$t === b.data.$t;
  }
  for (d = 0;d < e.length;d++) {
    var f = ft(a, e[d]), g = ft(b, e[d]);
    if (!c && f.length != g.length || c && g.length > f.length) {
      return !1;
    }
    for (var k = 0;k < g.length;k++) {
      if (-1 == lb(f, function(a) {
        return ct(a, g[k], c);
      })) {
        return !1;
      }
    }
  }
  return !0;
}
;function gt(a, b, c) {
  if (t(b)) {
    ht(this, b), t(c) || (c = a[b]);
  } else {
    for (var d in a) {
      if (a.hasOwnProperty(d) && x(a[d]) && w(a[d].xmlns)) {
        this.vg = a[d].xmlns;
        ht(this, d);
        c = a[d];
        break;
      }
    }
  }
  this.data = c;
  this.parent = a;
}
h = gt.prototype;
h.vg = "http://www.w3.org/2005/Atom";
function ht(a, b) {
  var c = b.split(":");
  1 < c.length && (a.vg = at[c[0]] || at.xhtml || gt.prototype.vg, b = c[1]);
  a.tagName = b;
}
h.g = function(a, b) {
  var c;
  c = a;
  var d = b, e = c;
  if (t(d)) {
    "atom" != d && (e = d + "$" + c);
  } else {
    var f = c.split(":"), e = c.replace(/:/, "$");
    2 == f.length && (d = f[0], c = f[1]);
  }
  d = t(d) ? at[d] || at.xhtml : void 0;
  c = t(this.data[c]) && t(d) && this.data[c].xmlns == d ? c : e;
  return u(this.data[c]) ? new gt(this.data, c, this.data[c][0]) : x(this.data[c]) ? new gt(this.data, c, this.data[c]) : null;
};
h.toString = function() {
  return "JsonElement:" + this.tagName;
};
h.getName = function() {
  return this.tagName;
};
function it(a, b) {
  for (var c in a.data) {
    a.data.hasOwnProperty(c) && x(a.data[c]) && delete a.data[c];
  }
  a.data.$t = b;
}
h.getAttribute = function(a) {
  a = a.replace(/:/, "$");
  return this.data[a];
};
function jt(a, b, c) {
  b = b.replace(/:/, "$");
  a.data[b] = c;
}
h.removeAttribute = function(a) {
  a = a.replace(/:/, "$");
  delete this.data[a];
};
function dt(a) {
  var b = [], c;
  for (c in a.data) {
    a.data.hasOwnProperty(c) && w(a.data[c]) && "$t" != c && b.push(c);
  }
  return b;
}
function ft(a, b) {
  t(void 0) ? b = "undefined$" + b : t(b) && (b = b.replace(/:/, "$"));
  var c = [];
  if (t(b)) {
    var d = a.data[b];
    if (u(d)) {
      for (var e = 0;e < d.length;e++) {
        c.push(new gt(a.data, b, d[e]));
      }
    } else {
      x(d) && c.push(new gt(a.data, b, d));
    }
  } else {
    for (d in a.data) {
      if (u(a.data[d])) {
        for (e = 0;e < a.data[d].length;e++) {
          c.push(new gt(a.data, d, a.data[d][e]));
        }
      } else {
        x(a.data[d]) && c.push(new gt(a.data, d, a.data[d]));
      }
    }
  }
  return c;
}
function et(a) {
  var b = [], c;
  for (c in a.data) {
    x(a.data[c]) && b.push(c.replace("$", ":"));
  }
  return b;
}
h.removeChild = function(a) {
  if (a.parent != this.data) {
    throw Error("NOT_FOUND_ERR: JSON:DOM Exception 8: " + a + " not in " + this);
  }
  var b = a.getName();
  u(this.data[b]) ? ob(this.data[b], a.data) : delete this.data[b];
};
h.update = function(a, b, c, d, e) {
  var f = !1;
  c = c || {};
  var g = t(b), k = !0 === b || !g, l = !1 === b, m = dt(this), n = dt(a);
  if (!g) {
    for (var p = 0;p < m.length;p++) {
      t(e) && !e[m[p].replace("$", ":")] || mb(n, m[p]) || (this.removeAttribute(m[p]), f = !0);
    }
  }
  for (p = 0;p < n.length;p++) {
    var r = a.getAttribute(n[p]);
    if (!t(e) || e[n[p].replace("$", ":")]) {
      mb(m, n[p]) ? l || r == this.getAttribute(n[p]) || (jt(this, n[p], r), f = !0) : (jt(this, n[p], r), f = !0);
    }
  }
  if (0 == kt(a) && k && (e = this.data.$t, l = a.data.$t, t(l) && e != l)) {
    return it(this, l), !0;
  }
  if (!g) {
    for (var v in this.data) {
      d && !d[v.replace("$", ":")] || !x(this.data[v]) || x(a.data[v]) || (delete this.data[v], f = !0);
    }
  }
  v = et(a);
  for (e = 0;e < v.length;e++) {
    if (l = v[e], !d || 1 == d[l]) {
      var z = ft(a, l), m = ft(this, l), F = l.replace(":", "$");
      if (1 == z.length) {
        0 == m.length ? (this.data[F] = mm(z[0].data), f = !0) : 1 == m.length ? c[l] ? k && !ct(m[0], z[0], !0) && (u(this.data[F]) || (this.data[F] = [this.data[F]]), this.data[F].push(mm(z[0].data)), f = !0) : f = m[0].update(z[0], b) || f : g ? (l = lb(m, function(a) {
          return ct(a, z[0], !0);
        }), -1 == l && k && (this.data[F].push(mm(z[0].data)), f = !0)) : (this.data[F] = mm(z[0].data), f = !0);
      } else {
        if (!u(this.data[F])) {
          if (k) {
            this.data[F] = mm(a.data[F]), f = !0;
          } else {
            if (g) {
              var m = mm(a.data[F]), P = this, l = lb(m, function(a) {
                return Rl(P.data[F], a);
              });
              -1 == l && (m.push(this.data[F]), this.data[F] = m, f = !0);
            }
          }
        } else {
          if (k) {
            for (m.length > z.length && (this.data[F].splice(z.length, m.length - z.length), f = !0), p = 0;p < z.length;p++) {
              t(m[p]) ? Rl(m[p].data, z[p].data) || (this.data[F][p] = mm(z[p].data), f = !0) : (this.data[F][p] = mm(z[p].data), f = !0);
            }
          } else {
            if (g) {
              for (p = 0;p < a.data[F].length;p++) {
                l = lb(this.data[F], function(b) {
                  return Rl(a.data[F][p], b);
                }), -1 == l && (this.data[F].push(mm(a.data[F][p])), f = !0);
              }
            }
          }
        }
      }
    }
  }
  return f;
};
h.Qh = function(a, b, c, d, e) {
  t(b) || (b = !1);
  return this.update(a, b, c, d, e);
};
h.toJSON = function() {
  return {data:this.data, tagName:this.tagName};
};
function lt(a) {
  function b(a, g) {
    d(g, a);
    var k, l;
    for (l in a) {
      if (a.hasOwnProperty(l) && !w(a[l])) {
        if (w(a[l].$t) && "xhtml" == a[l].type) {
          k = c(l);
          d(k, a[l]);
          var m = Xs(a[l].$t);
          e.importNode(m.documentElement, !0);
          k.appendChild(m.documentElement);
          g.appendChild(k);
        } else {
          if (w(a[l].$t)) {
            k = c(l), k.textContent = a[l].$t, d(k, a[l]), g.appendChild(k);
          } else {
            if (u(a[l]) && a[l][0] && w(a[l][0].$t)) {
              for (m = 0;m < a[l].length;m++) {
                k = c(l), k.textContent = a[l][m].$t, d(k, a[l][m]), g.appendChild(k);
              }
            } else {
              if (u(a[l])) {
                for (m = 0;m < a[l].length;m++) {
                  k = c(l), g.appendChild(k), b(a[l][m], k);
                }
              } else {
                x(a[l]) && (k = c(l), g.appendChild(k), b(a[l], k));
              }
            }
          }
        }
      }
    }
  }
  function c(a) {
    return e.createElement(a.replace("$", ":"));
  }
  function d(a, b) {
    for (var c in b) {
      b.hasOwnProperty(c) && "$t" != c && w(b[c]) && a.setAttribute(c.replace("$", ":"), b[c]);
    }
  }
  var e = Vs(a.getName(), a.vg);
  b(a.data, e.documentElement);
  return Ys(e.documentElement);
}
function kt(a) {
  function b(a) {
    var b = 0, c;
    for (c in a) {
      a.hasOwnProperty(c) && (u(a[c]) ? b += a[c].length : x(a[c]) && b++);
    }
    return b;
  }
  var c;
  t(void 0) ? c = "undefined$" + c : t(c) && (c = c.replace(/:/, "$"));
  return t(c) ? u(a.data[c]) ? a.data[c].length : x(a.data[c]) ? b(a.data[c]) : 0 : b(a.data);
}
h.clone = function(a) {
  var b = {};
  if (t(a)) {
    for (var c in this.data) {
      var d = c.replace("$", ":");
      w(this.data[c]) ? b[c] = this.data[c] : 1 == a[d] && (b[c] = mm(this.data[c]));
    }
  } else {
    b = mm(this.data);
  }
  return new gt(null, this.tagName, b);
};
function mt(a) {
  var b;
  if (t(a.id)) {
    b = a.id.$t;
  } else {
    if (t(a.batch$id)) {
      b = a.batch$id.$t;
    } else {
      if (t(a.a)) {
        b = a.a.$t;
      } else {
        throw new im("id or batch:id required.");
      }
    }
  }
  this.id = b;
  this.b = void 0;
  this.data = a;
}
A(mt, Ss);
h = mt.prototype;
h.logger = J("ydn.gdata.Entry");
h.getData = function() {
  return this.data;
};
h.getTitle = Qs.prototype.getTitle;
h.N = function() {
  return this.id;
};
h.Cd = ["link", "category"];
h.Cj = ["id", "batch$id", "link", "category"];
h.va = Qs.prototype.va;
function nt(a, b) {
  if (b) {
    a.getData().status = "" == b ? void 0 : b;
  } else {
    var c = a.getData();
    c.status && (c.status = b);
  }
}
function ot(a) {
  return t(a.gd$deleted) ? "gd:deleted" : (a = a.status) ? a : "";
}
function pt(a) {
  return !a || "true" == a.gd$deleted;
}
h.setTitle = function() {
  throw new km;
};
function qt(a) {
  if (!rt(a.getData())) {
    throw Error("nothing to commit");
  }
  var b = new B;
  st(un("gse"), a, function(a, d) {
    if (gn(d)) {
      b.callback(a);
    } else {
      var e = hn(d);
      if (w(e) && /html/.test(jn(d, "content-type"))) {
        try {
          var f = (new DOMParser).parseFromString(e, "text/html");
          f.body && (e = f.body.innerHTML);
        } catch (g) {
        }
      }
      e = Error(d.fb() + " " + e);
      e.name = d.fb();
      e.code = d.P();
      b.C(e);
    }
  }, a);
  return b;
}
function st(a, b, c, d) {
  if (rt(b.getData())) {
    var e = {"Content-Type":"application/atom+xml"};
    b.a && (e["GData-Version"] = b.a);
    var f = {}, g = "POST", k = tt(b), k = k.replace("%40", "@"), l;
    if (l = (l = b.mi("edit")) ? l.href : void 0) {
      g = "delete" == ot(b.getData()) ? "DELETE" : "PUT", k = l;
    }
    try {
      var m = ut(b);
    } catch (p) {
      si({"class":"ydn.gdata.Entry", method:"ydn.gdata.Entry.commit", "entry.data":b.getData(), context:"toXmlString", error:{name:p.name, message:p.message, stack:p.stack}});
    }
    l = b.type;
    var n = ["atom", "app", "gd", "batch", "ydn"];
    if ("sites" == l || "site" == l || "content" == l || "webpage" == l) {
      n = n.concat("xhtml", "sites");
    } else {
      if ("m8" == l || "contact" == l) {
        n = n.concat("gContact");
      }
    }
    m = bt(m, n);
    mt.a && (b.b = [k, f, g, e, m]);
    a.request(new T(k, g, f, e, m)).execute(c, d);
  } else {
    Ue(b.logger, b + " commit ignore since not modified."), c && c.call(d, null, null);
  }
}
function rt(a) {
  if (null == a.id) {
    return !0;
  }
  a = ot(a);
  return "modified" === a || "delete" === a;
}
h.Xg = function() {
  return this.data;
};
function ut(a) {
  var b = new gt(null, "entry", a.Xg()), c = !1;
  b.xmlns || (b.xmlns = "http://www.w3.org/2005/Atom", c = !0);
  var d = ["atom"], e;
  for (e in a.data) {
    if (a = e.match(/^(\w+)\$\w+/)) {
      a = a[1], a in at && (mb(d, a) || d.push(a));
    }
  }
  e = lt(b);
  c && delete b.xmlns;
  return bt(e, d);
}
h.update = function(a) {
  var b = ["batch$status", "batch$operation", "status"], c;
  for (c in a.data) {
    a.data.hasOwnProperty(c) && x(a.data[c]) && !mb(b, c) && !mb(this.Cj, c) && (this.data[c] = a.data[c]);
  }
};
h.Rh = function(a, b) {
  if (Rl(this.data[a], b)) {
    return !1;
  }
  this.data[a] = mm(b);
  return !0;
};
h.Qh = function(a) {
  if (a.data.updated.$t >= this.data.updated.$t && "gd:deleted" == ot(a.getData())) {
    if ("gd:deleted" == ot(this.getData()) || "delete" == ot(this.getData())) {
      return !1;
    }
    nt(this, "delete");
    return !0;
  }
  var b = !1, c;
  for (c in a.data) {
    a.data.hasOwnProperty(c) && x(a.data[c]) && !mb(this.Cj, c) && this.Rh(c, a.data[c]) && (b = !0);
  }
  b && (a = ot(this.getData()), "delete" == a ? this.logger.log(Le, this + " marked for deletion. Cannot mark modify flag.", void 0) : "committed" == a ? this.logger.log(Ke, this + " already committed. All changes must wait until updated from the server.", void 0) : nt(this, "modified"));
  return b;
};
function vt(a, b, c) {
  ys.call(this, a, b, c);
}
A(vt, ys);
vt.prototype.qg = function() {
  return this.key;
};
vt.prototype.qd = function(a, b, c, d) {
  a = vt.j.qd.call(this, a, b, c, d);
  this.a.zk(a.method) && q.gapi && q.gapi.auth && (b = gapi.auth.getToken()) && b.access_token && (a.headers.Authorization = b.token_type + " " + b.access_token);
  if ("GET" == a.method) {
    a.params.alt = "json";
  } else {
    if ("PUT" == a.method || "POST" == a.method) {
      d = new mt(d), a.body = ut(d), a.headers["Content-Type"] = "application/atom+xml";
    }
  }
  return a;
};
vt.prototype.Yg = function(a, b) {
  a = vt.j.Yg.call(this, a, b);
  a.feed && (a = a.feed);
  a.entry && (a = a.entry);
  return a;
};
function wt(a, b, c) {
  Gs.call(this, a, b, c);
  a = c.Options;
  this.kind = a.kind;
  this.version = a.version;
  this.projection = a.projection;
  this.c = a.maxResults;
}
A(wt, Ps);
h = wt.prototype;
h.projection = null;
h.version = null;
h.logger = J("ydn.db.sync.GData");
h.Ra = function(a, b) {
  return new vt(this, a, b);
};
h.mc = function() {
  var a = wt.j.mc.call(this);
  a.key = ["id", "$t"];
  a.etag = "gd$etag";
  a.updated = ["updated", "$t"];
  return a;
};
h.Dc = function() {
  return "https://www.googleapis.com/" + this.kind + "/";
};
h.zk = function() {
  return !1;
};
h.N = function(a) {
  return a ? a.id ? a.id.$t : "" : "";
};
function xt(a, b, c) {
  var d = c || a.Dc();
  c && M(a.logger, "continuing " + c);
  b = new T(d, "GET", b);
  var e = new B;
  a.Ma().request(b).execute(function(b, d) {
    if (200 == d.P()) {
      if (!b) {
        var k = hn(d);
        w(k) && (b = JSON.parse(k));
      }
      var k = b.feed || b, l = k.entry, l = l ? u(l) ? l : [l] : [];
      0 < l.length && Bs(a, l);
      for (var l = null, k = k.link, k = u(k) ? k : [k], m = 0;m < k.length;m++) {
        "next" == k[m].rel && (l = k[m].href);
      }
      l ? xt(a, {}, l).b(e) : (M(a.logger, "prefetch " + a.ia + " done"), e.callback(!!c));
    } else {
      302 == d.P() ? e.callback() : (k = a + ": Invalid response status " + d.P() + " on prefetching", K(a.logger, k), e.C(Error(k)));
    }
  });
  return e;
}
h.ad = function() {
  M(this.logger, "starting prefetch");
  var a = new B;
  ql(this.storage.a, this.ia, "updated.$t", null, !0, 1).i(function(b) {
    var c = {alt:"json", kind:this.kind};
    this.c && (c["max-results"] = this.c);
    (b = b[0]) ? (b = Jb(b, "updated", "$t"), b = (new Date(1 + +new Date(b))).toISOString(), c["updated-min"] = b, M(this.logger, this.ia + " fetching entries later then " + b)) : M(this.logger, this.ia + " fetching entries from beginning");
    xt(this, c).b(a);
  }, this);
  return a;
};
h.count = function(a) {
  var b = Sj(this.store, "updated.$t");
  if (!b) {
    return a;
  }
  var c = kk(a);
  a.u(function(a) {
    hf(c, a);
    ql(this.storage.a, this.ia, b.getName(), null, !1, 1).u(function(b) {
      var f = {alt:"json"};
      if (b = u(b) ? b[0] : b) {
        b = Jb(b, "updated", "$t"), b = (new Date(1 + +new Date(b))).toISOString(), f["updated-min"] = b;
      }
      var g = this, f = new T(this.Dc(), "GET", f);
      this.Ma().request(f).execute(function(b, e) {
        if (200 == e.P()) {
          if (!b) {
            var f = hn(e);
            w(f) && (b = JSON.parse(f));
          }
          f = Jb(b.feed, "openSearch$totalResults");
          c.callback(a + parseFloat(f || 0));
        } else {
          K(g.logger, g + ":Unexpected respond status " + e.P());
        }
      });
    }, function(a) {
      c.C(a);
    }, this);
  }, function(a) {
    c.C(a);
  }, this);
  return c;
};
function yt(a, b, c) {
  ys.call(this, a, b, c);
}
A(yt, vt);
function zt(a, b, c) {
  wt.call(this, a, b, c);
  this.b = this.b.substr(27);
  this.Qc = c.Options.prefix;
}
A(zt, wt);
zt.prototype.Ma = function() {
  this.a || (this.a = new At(gapi.client));
  return this.a;
};
zt.prototype.Ra = function(a, b) {
  return new yt(this, a, b);
};
zt.prototype.Dc = function() {
  return this.b + this.Qc;
};
zt.prototype.ad = function() {
  M(this.logger, "starting prefetch");
  var a = new B;
  ql(this.storage.a, this.ia, "updated", null, !0, 1).u(function(b) {
    var c = {alt:"json"};
    if (b = b[0]) {
      b = Jb(b, "updated"), b = (new Date(1 + +new Date(b))).toISOString(), c.updatedMin = b;
    }
    var d = this, c = new T(this.Dc(), "GET", c);
    d.Ma().request(c).execute(function(b, c) {
      if (b) {
        var g = b.items || [];
        0 < g.length ? Bs(d, g).G(function() {
          a.callback(!0);
        }) : a.callback(!1);
      } else {
        302 == c.P() ? a.callback() : (g = d + ": Invalid response status " + c.P() + " on prefetching", K(d.logger, g), a.C(Error(g)));
      }
    });
  }, function(b) {
    a.C(b);
  }, this);
  return a;
};
function Bt(a, b) {
  if (!t(q.AWS)) {
    throw new ef("AWS JS SDK not loaded");
  }
  this.b = a;
  this.region = b;
  this.a = null;
}
Bt.prototype.request = function(a) {
  return new Ct(this, a);
};
function Dt(a) {
  var b = {params:{Bucket:a.b, region:a.region}};
  if (!a.b) {
    throw new O("bucket name required");
  }
  a.a || (a.a = new AWS.S3(b));
  return a.a;
}
function Ct(a, b) {
  this.parent = a;
  this.a = b;
}
function Et(a, b, c, d, e) {
  var f = NaN, g = "", k = {};
  a = Dt(a.parent)[b](c);
  a.on("complete", function(a) {
    a.httpResponse && (f = a.httpResponse.statusCode, w(f) && (f = parseInt(f, 10)), k = a.httpResponse.headers);
    a.error && (g = a.error.message, f || (f = 400));
  });
  a.send(function(a, b) {
    var c = new en(f, b, k, g);
    a ? d.call(e, null, c) : d.call(e, b, c);
  });
}
Ct.prototype.execute = function(a, b) {
  var c = (new ui(this.a.path)).f, c = "/" == c.charAt(0) ? c.substr(1) : c, d = this.a.headers || {};
  c && (d.Key = c);
  if (c) {
    if ("GET" == this.a.method) {
      Et(this, "getObject", d, a, b);
    } else {
      if ("PUT" == this.a.method) {
        Et(this, "putObject", d, a, b);
      } else {
        throw new cf("HTTP method " + this.a.method);
      }
    }
  }
};
function Ft(a, b) {
  this.a = a;
  this.prefix = Gt(this, "Prefix")[0];
  this.b = b.type;
}
Ft.prototype.za = function() {
  return this.a.documentElement.getElementsByTagName("Contents").length;
};
Ft.prototype.keys = function() {
  var a = Gt(this, "Key");
  if (this.prefix) {
    var b = this.prefix.length, a = a.map(function(a) {
      return a.substr(b);
    });
    "INTEGER" == this.b ? a = a.map(function(a) {
      return parseInt(a, 10);
    }) : "NUMERIC" == this.b && (a = a.map(function(a) {
      return parseFloat(a);
    }));
  }
  return a;
};
function Gt(a, b) {
  for (var c = [], d = a.a.documentElement.getElementsByTagName(b), e = d.length, f = 0;f < e;f++) {
    c[f] = d[f].textContent;
  }
  return c;
}
function Ht(a) {
  return Gt(a, "LastModified").map(function(a) {
    return (new Date(Date.parse(a))).toGMTString();
  });
}
function It(a) {
  var b = a.a.documentElement.getElementsByTagName("NextMarker");
  return 1 == b.length ? b[0].textContent : "true" == a.a.documentElement.getElementsByTagName("IsTruncated")[0].textContent && (a = a.a.documentElement.firstElementChild.lastElementChild) && "Contents" == a.tagName ? a.getElementsByTagName("Key")[0] : null;
}
;function Jt(a, b) {
  function c(a) {
    d && xa(a, "atom:") && (a = a.substring(5, a.length));
    return a.replace("#text", "$t").replace(/:/g, "$");
  }
  var d = "atom" == b, e = !b;
  w(a) && (a = Xs(a));
  var f = {};
  if (1 == a.nodeType) {
    if (!e && 0 < a.attributes.length) {
      for (var g = 0, k = a.attributes.length;g < k;g++) {
        var l = a.attributes.item(g);
        f[c(l.nodeName)] = l.nodeValue;
      }
    }
  } else {
    3 == a.nodeType && (f = a.nodeValue);
  }
  if (a.hasChildNodes()) {
    for (g = 0, k = a.childNodes.length;g < k;g++) {
      var l = a.childNodes.item(g), m = c(l.nodeName);
      if (e && "$t" == m) {
        f = l.nodeValue;
      } else {
        if (t(f[m])) {
          if (!u(f[m])) {
            var n = f[m];
            f[m] = [];
            f[m].push(n);
          }
          f[m].push(Jt(l, b));
        } else {
          f[m] = Jt(l, b);
        }
      }
    }
  }
  return f;
}
;function Kt(a, b, c) {
  Gs.call(this, a, b, c);
  this.c = c.Options.bucket;
  if (!w(this.c) || za(this.c)) {
    throw new O("bucket name required.");
  }
  this.b || (this.b = "https://" + this.c + ".s3.amazonaws.com/");
  if (!0 === b.autoIncrement) {
    throw new O('S3 object store "' + b.getName() + '" must not set autoIncrement to true.');
  }
}
A(Kt, Gs);
h = Kt.prototype;
h.logger = J("ydn.db.sync.S3");
h.Ma = function() {
  this.a || (this.a = new Bt(this.c));
  return this.a;
};
h.xh = function(a) {
  return this.b + this.f + a;
};
h.Ra = function(a, b) {
  return new Rs(this, a, b);
};
h.Mh = function(a, b) {
  var c = this;
  nk(a, function(d, e, f) {
    hf(a, d);
    c.Mf(d, function(a) {
      var e = {}, l = a[0] ? rs(a[0]) : null;
      null != l && (e.marker = l);
      0 < c.f.length && (e.prefix = c.f);
      0 < b && (e["max-keys"] = b);
      M(c.logger, c + " querying for newer entries starting from " + l);
      e = new T(c.b, "GET", e);
      c.Ma().request(e).execute(function(b, e) {
        if (200 == e.P()) {
          for (var k = hn(e), k = k instanceof Document ? k : Xs(k), l = new Ft(k, c.store), k = l.keys(), l = Ht(l), v = [], z = [], F = [], P = 0, U = 0;P <= a.length && U < k.length;) {
            var W = a[P] ? rs(a[P]) : null, ua = k[U];
            if (P == a.length) {
              z.push(ua), U++;
            } else {
              var bb = W ? xj(W, ua) : -1;
              0 == bb ? ((ua = ss(a[P])) && l[U] && ua != l[U] && (l[U] > ua ? F.push(W) : K(c.logger, 'record "' + W + '" in database is more recent than server ' + ua + " vs " + l[U])), P++, U++) : 1 == bb ? (v.push(W), P++) : (z.push(ua), U++);
            }
          }
          Ls(c, f, d, z, F, v);
        } else {
          K(c.logger, "Invalid response status " + e.P());
        }
      });
    });
  }, this);
};
function Lt(a, b) {
  function c(f) {
    null != f && (d.marker = f);
    M(a.logger, a + " querying for newer entries starting from " + f);
    e.request(new T(a.b, "GET", d)).execute(function(d, e) {
      if (200 == e.P()) {
        var f = hn(e), f = f instanceof Document ? f : Xs(f), f = new Ft(f, a.store), m = It(f), f = f.keys(), n = f.length;
        if (0 == n) {
          b([]), b = null;
        } else {
          for (var p = 0, r = 0;r < n;r++) {
            a.Ra(f[r]).td(function() {
              p++;
              p == n && (m ? c(m) : b && (b([this.sc()]), b = null));
            });
          }
        }
      } else {
        K(a.logger, "Invalid response status " + e.P());
      }
    });
  }
  var d = {};
  0 < a.f.length && (d.prefix = a.f);
  var e = a.Ma();
  c();
  a.V = !0;
}
function Mt(a, b) {
  a.V || nk(b, function(a, b, e) {
    t(a[0]) ? e(a) : Lt(this, e);
  }, a);
}
;function Ot(a, b, c) {
  ys.call(this, a, b, c);
}
A(Ot, Rs);
Ot.prototype.logger = J("ydn.db.sync.entry.Gcs");
function Pt(a, b, c) {
  Kt.call(this, a, b, c);
  this.b = "https://" + this.c + ".storage.googleapis.com/";
}
A(Pt, Kt);
Pt.prototype.logger = J("ydn.db.sync.Gcs");
Pt.prototype.Ma = function() {
  this.a || (this.a = new qn);
  return this.a;
};
Pt.prototype.Ra = function(a, b) {
  return new Ot(this, a, b);
};
function At(a, b) {
  this.b = a;
  this.a = !!b;
}
At.prototype.request = function(a) {
  var b = {path:a.path, method:a.method, headers:a.headers, params:a.params, body:a.body};
  this.a && (b.callback = function(a, e) {
    c.callback(a, e);
    b.callback = null;
  });
  a = this.b.request(b);
  var c = new Qt(a);
  return c;
};
function Qt(a) {
  this.b = a || null;
}
Qt.prototype.callback = function(a, b) {
  this.c && (this.c(a, ln(b)), this.c = null);
  this.a = {json:a, raw:b};
};
Qt.prototype.execute = function(a) {
  this.b ? (this.b.execute(function(b, c) {
    a(b, ln(c));
  }), this.b = null) : this.a ? (a(this.a.json, ln(this.a.raw)), this.a = null) : this.c = a;
};
function Hs(a) {
  if (a) {
    if (a instanceof qn) {
      return a;
    }
    if (ia(a)) {
      return new At({request:function(b) {
        a(b);
      }}, !0);
    }
    if ("request" in a) {
      return new At(a);
    }
    throw new O(a + " is not a valid HTTP Client");
  }
  return null;
}
;function Rt(a, b, c) {
  ys.call(this, a, b, c);
}
A(Rt, Ot);
Rt.prototype.logger = J("ydn.db.sync.entry.GcsJson");
Rt.prototype.td = function(a) {
  var b = this.a, c = this;
  Cs(this, function(d) {
    var e = {method:"GET", path:"storage/v1/b/" + b.c + "/o/" + encodeURIComponent(c.getName())};
    d && (e.headers = us(d));
    gapi.client.request(e).execute(function(d, e) {
      var k = ln(e);
      c.c = new vs(c.N(), k.Ld(), b.l);
      d ? (M(c.logger, c + ": readServer updated"), c.f = d) : (M(c.logger, c + ": readServer request fail " + e), c.c = null, c.f = null);
      a.call(c, 200);
    }, e);
  });
};
function St(a, b, c) {
  Pt.call(this, a, b, c);
}
A(St, Pt);
h = St.prototype;
h.logger = J("ydn.db.sync.GcsJson");
h.mc = function() {
  var a = St.j.mc.call(this);
  a.key = "name";
  return a;
};
h.Ma = function() {
  if (!this.a) {
    if (t(q.gapi)) {
      this.a = new At(gapi.client);
    } else {
      throw new ef("gapi not loaded");
    }
  }
  return St.j.Ma.call(this);
};
h.Ra = function(a, b) {
  return new Rt(this, a, b);
};
h.ad = function() {
  N(this.logger, "starting prefetch");
  var a = new B;
  sl(this.storage.a, this.ia, null, null, 1, 0, !0, !1).u(function(b) {
    var c = {bucket:this.c};
    (b = b[0]) && (c.marker = b);
    var d = this;
    if (!q.gapi || q.gapi.client) {
      throw Error("gapi lib not loaded");
    }
    gapi.client.load("storage", "v1", function() {
      var b = gapi.client.storage.objects.list({bucket:d.c});
      this.Qc && (c.prefix = this.Qc);
      b.execute(function(b, c) {
        if (b && !b.error) {
          var e = b.items || [];
          0 < e.length ? Bs(d, null, e).G(function() {
            a.callback(!0);
          }) : a.callback(!1);
        } else {
          e = d + ": " + c, K(d.logger, e), a.C(Error(e));
        }
      });
    });
  }, function(b) {
    a.C(b);
  }, this);
  return a;
};
function Tt(a, b, c) {
  Pt.call(this, a, b, c);
  this.F = "full";
}
A(Tt, Pt);
h = Tt.prototype;
h.logger = J("ydn.db.sync.GcsMeta");
h.mc = function() {
  var a = Tt.j.mc.call(this);
  a.key = "name";
  return a;
};
h.Ma = function() {
  !this.a && gapi && (this.a = new At(gapi.client));
  return Tt.j.Ma.call(this);
};
h.Ra = function(a, b) {
  return new Rt(this, a, b);
};
h.ad = function() {
  N(this.logger, "starting prefetch");
  var a = new B;
  if (!q.gapi || !q.gapi.client) {
    throw Error("gapi lib not loaded");
  }
  var b = this;
  gapi.client.load("storage", "v1", function() {
    function c(e) {
      e && (d.pageToken = e);
      gapi.client.storage.objects.list(d).execute(function(e, g) {
        if (e && !e.error) {
          var k = e.items || [];
          if (e.nextPageToken) {
            M(b.logger, "receiving " + k.length + " meta records, continuing next"), Bs(b, k), c(e.nextPageToken);
          } else {
            if (0 < k.length) {
              Bs(b, k).G(function() {
                M(b.logger, "receiving " + k.length + " meta records, prefetching dane.");
                a.callback(!0);
              });
            } else {
              var l = !!d.pageToken;
              M(b.logger, "prefetching done");
              a.callback(l);
            }
          }
        } else {
          l = b + ": " + g, K(b.logger, l), a.C(Error(l));
        }
      });
    }
    var d = {bucket:b.c};
    this.Qc && (d.prefix = this.Qc);
    c();
  });
  return a;
};
h.Mf = function(a, b) {
  if (0 == a.length) {
    b([]);
  } else {
    var c = this.R(), d = gb(a, function(a) {
      return new Bk(c, a);
    });
    Ks(this, d).u(function(d) {
      for (var f = [], g = 0;g < a.length;g++) {
        f[g] = new qs(a[g], d[g], this.l, c);
      }
      b(f);
    }, function(a) {
      K(this.logger, this + " error loading meta data " + a);
      b([]);
    }, this);
  }
};
function Ut(a, b, c) {
  Gs.call(this, a, b, c);
}
A(Ut, Gs);
Ut.prototype.xh = function(a) {
  return this.b + this.f + this.ia + this.$ + a;
};
Ut.prototype.logger = J("ydn.db.sync.Json");
Ut.prototype.Mh = function(a) {
  function b(a, b) {
    var c = new T(e);
    d.Ma().request(c).execute(function(c) {
      if (200 == c.status) {
        var e = (c.response instanceof Object ? c.response : Mi(c.responseText)).items;
        c = gb(e, function(a) {
          return a.id;
        });
        for (var e = gb(e, function(a) {
          return a.updated;
        }), k = [], p = [], r = [], v = 0, z = 0;v <= a.length && z < c.length;) {
          var F = rs(a[v]), P = c[z];
          if (v == a.length) {
            p.push(P), z++;
          } else {
            var U = xj(F, P);
            0 == U ? ((P = ss(a[v])) && e[z] && P != e[z] && (new Date(e[z]) > P ? r.push(F) : K(d.logger, 'record "' + F + '" in database is more recent than server ' + P + " vs " + e[z])), v++, z++) : 1 == U ? (k.push(F), v++) : (p.push(P), z++);
          }
        }
        Ls(d, function() {
        }, b, p, r, k);
      } else {
        K(d.logger, "Invalid response status " + c.status);
      }
    });
  }
  var c = new gf, d = this, e = this.b + this.f + this.ia;
  a.i(function(a) {
    hf(c, a);
    this.Mf(a, function(c) {
      b(c, a);
    });
  }, this);
};
function Vt(a, b, c) {
  Gs.call(this, a, b, c);
}
A(Vt, Ps);
function Wt(a, b, c) {
  ys.call(this, a, b, c);
}
A(Wt, Rs);
Wt.prototype.logger = J("ydn.db.sync.entry.S3Meta");
function Xt(a, b, c) {
  Kt.call(this, a, b, c);
  this.Qc = c.Options.prefix;
  if ("Key" != b.keyPath) {
    throw new O('s3-meta store "' + b.getName() + '" must use inline key with keyPath "Key"');
  }
  this.F = "meta";
}
A(Xt, Kt);
h = Xt.prototype;
h.logger = J("ydn.db.sync.S3Meta");
h.mc = function() {
  var a = Xt.j.mc.call(this);
  a.key = "Key";
  a.modified = "LastModified";
  a.etag = "ETag";
  return a;
};
h.Ra = function(a, b) {
  return new Wt(this, a, b);
};
h.ad = function() {
  function a(f) {
    f && (e.marker = f);
    c.listObjects(e).send(function(c, f) {
      if (c) {
        var l = d + ": " + Ni(c);
        K(d.logger, l);
        b.C(c instanceof Error ? c : Error(l));
      } else {
        var m = f.Contents || [];
        f.IsTruncated ? (M(d.logger, "receiving " + m.length + " meta records, continuing next"), Bs(d, m), a(m[m.length - 1].Key + "\uffff")) : 0 < m.length ? Bs(d, m).G(function() {
          M(d.logger, "receiving " + m.length + " meta records, prefetching dane.");
          b.callback(!0);
        }) : (l = !!e.marker, M(d.logger, "prefetching done"), b.callback(l));
      }
    });
  }
  N(this.logger, "starting prefetch");
  var b = new B, c = Dt(this.Ma()), d = this, e = {};
  this.Qc && (e.prefix = this.Qc);
  a();
  return b;
};
h.Mf = function() {
  throw new ef("loading meta data should not be necessary");
};
function Yt(a, b, c) {
  ys.call(this, a, b, c);
}
A(Yt, vt);
function Zt(a, b, c) {
  wt.call(this, a, b, c);
  a = c.Options;
  this.domain = a.domain;
  this.V = a.siteName;
  if (a = Tj(b, "sites$parent")) {
    Sl(a, function(a) {
      for (var b = a.link || [], c = 0;c < b.length;c++) {
        if ("http://schemas.google.com/sites/2008#parent" == b[c].rel) {
          return b[c].href;
        }
      }
      return a.id.$t.replace(/\w+$/, "0");
    }), L(this.logger, "index sites$parent in " + b.getName() + " has set a generator.");
  }
  if (a = Tj(b, "alternate")) {
    Sl(a, function(a) {
      a = a.link || [];
      for (var b = 0;b < a.length;b++) {
        if ("alternate" == a[b].rel) {
          return a[b].href;
        }
      }
    }), L(this.logger, "index alternate in " + b.getName() + " has set a generator.");
  }
}
A(Zt, wt);
Zt.prototype.Ra = function(a, b) {
  return new Yt(this, a, b);
};
Zt.prototype.Dc = function() {
  return "https://sites.google.com/feeds/content/" + this.domain + "/" + this.V + "/";
};
Zt.prototype.zk = function(a) {
  return "GET" != a;
};
function $t(a, b, c, d) {
  var e = {alt:"json", kind:a.kind};
  "sites$parent" == c ? (c = d.match(/\w+$/)[0], e.parent = c) : "alternate" == c && (c = d.replace(/https:\/\/sites.google.com\/a\/[^\/]+\/[^\/]+/, ""), e.path = c);
  var f = {}, g = a.Dc();
  nk(b, function(c, l, m) {
    hf(b, c);
    if (l = c[0]) {
      l = Jb(l, "updated", "$t"), l = (new Date(1 + +new Date(l))).toISOString(), e["updated-min"] = l;
    }
    l = new T(g, "GET", e, f);
    a.Ma().request(l).execute(function(b, e) {
      if (200 == e.P()) {
        if (!b) {
          var f = hn(e);
          w(f) && (b = JSON.parse(f));
        }
        var g = (f = (b.feed || b).entry) ? u(f) ? f : [f] : [];
        0 < g.length ? Bs(a, g).G(function() {
          m(g);
        }) : m(c);
      } else {
        302 == e.P() ? m(c) : (f = a + ": Invalid response status " + e.P() + " for querying pageName: " + d, K(a.logger, f), m(Error(f), !0));
      }
    });
  }, a);
}
Zt.prototype.Wg = function(a, b, c) {
  if (Ns(this)) {
    nk(a, function(d, e, f) {
      hf(a, d);
      Os(this, function(a) {
        !0 === a ? ql(this.storage.a, this.ia, b, nj(c), !1, 0).u(function(a) {
          f(a);
        }, function(a) {
          f(a, !0);
        }, this) : f(d);
      }, function(a) {
        f(a, !0);
      }, this);
    }, this);
  } else {
    return "alternate" == b || "alternate" == b ? $t(this, a, b, c) : Zt.j.Wg.call(this, a, b, c);
  }
};
Wk.prototype.a = null;
Em.prototype.Ji = function(a, b) {
  var c = b.format;
  if ("gdata-sites" == c) {
    a.a = new Zt(this, a, b);
  } else {
    if ("gdata" == c) {
      a.a = new wt(this, a, b);
    } else {
      if ("gdata-json" == c) {
        a.a = new zt(this, a, b);
      } else {
        if ("odata" == c) {
          a.a = new Vt(this, a, b);
        } else {
          if ("s3" == c) {
            a.a = new Kt(this, a, b);
          } else {
            if ("s3-meta" == c) {
              a.a = new Xt(this, a, b);
            } else {
              if ("gcs" == c) {
                a.a = new Pt(this, a, b);
              } else {
                if ("gcs-json" == c) {
                  a.a = new St(this, a, b);
                } else {
                  if ("gcs-meta" == c) {
                    a.a = new Tt(this, a, b);
                  } else {
                    if ("atom" == c) {
                      a.a = new Ps(this, a, b);
                    } else {
                      if ("json" == c) {
                        a.a = new Ut(this, a, b);
                      } else {
                        if ("rest" == c) {
                          a.a = new Gs(this, a, b);
                        } else {
                          throw new cf("Sync format: " + c);
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  $l(a, function(b, c) {
    var f = b.lf();
    if (!(this instanceof Rk) || this.mb) {
      if (!window.navigator || !t(window.navigator.onLine) || window.navigator.onLine) {
        if ("a" == f) {
          f = c[1], a.a.add(b, f);
        } else {
          if ("d" == f) {
            c[1] || c[2] || a.a.count(b);
          } else {
            if ("j" == f) {
              var f = c[1], g = c[2];
              a.a.put(b, f, g);
            } else {
              if ("n" == f) {
                g = c[1], a.a.remove(b, g);
              } else {
                if ("u" == f) {
                  var f = c[1], g = c[2], k = c[3], l = c[4], m = c[5];
                  !k && !m && g && null != g.lower && null != g.upper && 0 == xj(g.lower, g.upper) && a.a.Wg(b, f, g.lower);
                } else {
                  if ("g" == f) {
                    g = c[1], l = c[2], k = c[3], m = c[4], a.a.keys(b, null, g, l, k, m, !1);
                  } else {
                    if ("i" == f) {
                      f = c[1], g = c[2], l = c[3], k = c[4], m = c[5], a.a.keys(b, f, g, l, k, m, c[6]);
                    } else {
                      if ("s" == f) {
                        g = c[1], l = c[2], k = c[3], m = c[4], g || m ? g && g.lower && w(g.lower) && g.lower == g.upper || !g && m && 1 == l && k && Mt(a.a, b) : a.a.values(b, l, k);
                      } else {
                        if ("" != f) {
                          if ("e" == f) {
                            g = c[1], a.a.get(b, g);
                          } else {
                            if ("v" == f) {
                              Ms(a.a, b, c[1]);
                            } else {
                              throw Error(f);
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  });
};
function au() {
  this.b = -1;
  this.b = 64;
  this.a = Array(4);
  this.l = Array(this.b);
  this.h = this.f = 0;
  this.reset();
}
A(au, wp);
au.prototype.reset = function() {
  this.a[0] = 1732584193;
  this.a[1] = 4023233417;
  this.a[2] = 2562383102;
  this.a[3] = 271733878;
  this.h = this.f = 0;
};
function bu(a, b, c) {
  c || (c = 0);
  var d = Array(16);
  if (w(b)) {
    for (var e = 0;16 > e;++e) {
      d[e] = b.charCodeAt(c++) | b.charCodeAt(c++) << 8 | b.charCodeAt(c++) << 16 | b.charCodeAt(c++) << 24;
    }
  } else {
    for (e = 0;16 > e;++e) {
      d[e] = b[c++] | b[c++] << 8 | b[c++] << 16 | b[c++] << 24;
    }
  }
  b = a.a[0];
  c = a.a[1];
  var e = a.a[2], f = a.a[3], g = 0, g = b + (f ^ c & (e ^ f)) + d[0] + 3614090360 & 4294967295;
  b = c + (g << 7 & 4294967295 | g >>> 25);
  g = f + (e ^ b & (c ^ e)) + d[1] + 3905402710 & 4294967295;
  f = b + (g << 12 & 4294967295 | g >>> 20);
  g = e + (c ^ f & (b ^ c)) + d[2] + 606105819 & 4294967295;
  e = f + (g << 17 & 4294967295 | g >>> 15);
  g = c + (b ^ e & (f ^ b)) + d[3] + 3250441966 & 4294967295;
  c = e + (g << 22 & 4294967295 | g >>> 10);
  g = b + (f ^ c & (e ^ f)) + d[4] + 4118548399 & 4294967295;
  b = c + (g << 7 & 4294967295 | g >>> 25);
  g = f + (e ^ b & (c ^ e)) + d[5] + 1200080426 & 4294967295;
  f = b + (g << 12 & 4294967295 | g >>> 20);
  g = e + (c ^ f & (b ^ c)) + d[6] + 2821735955 & 4294967295;
  e = f + (g << 17 & 4294967295 | g >>> 15);
  g = c + (b ^ e & (f ^ b)) + d[7] + 4249261313 & 4294967295;
  c = e + (g << 22 & 4294967295 | g >>> 10);
  g = b + (f ^ c & (e ^ f)) + d[8] + 1770035416 & 4294967295;
  b = c + (g << 7 & 4294967295 | g >>> 25);
  g = f + (e ^ b & (c ^ e)) + d[9] + 2336552879 & 4294967295;
  f = b + (g << 12 & 4294967295 | g >>> 20);
  g = e + (c ^ f & (b ^ c)) + d[10] + 4294925233 & 4294967295;
  e = f + (g << 17 & 4294967295 | g >>> 15);
  g = c + (b ^ e & (f ^ b)) + d[11] + 2304563134 & 4294967295;
  c = e + (g << 22 & 4294967295 | g >>> 10);
  g = b + (f ^ c & (e ^ f)) + d[12] + 1804603682 & 4294967295;
  b = c + (g << 7 & 4294967295 | g >>> 25);
  g = f + (e ^ b & (c ^ e)) + d[13] + 4254626195 & 4294967295;
  f = b + (g << 12 & 4294967295 | g >>> 20);
  g = e + (c ^ f & (b ^ c)) + d[14] + 2792965006 & 4294967295;
  e = f + (g << 17 & 4294967295 | g >>> 15);
  g = c + (b ^ e & (f ^ b)) + d[15] + 1236535329 & 4294967295;
  c = e + (g << 22 & 4294967295 | g >>> 10);
  g = b + (e ^ f & (c ^ e)) + d[1] + 4129170786 & 4294967295;
  b = c + (g << 5 & 4294967295 | g >>> 27);
  g = f + (c ^ e & (b ^ c)) + d[6] + 3225465664 & 4294967295;
  f = b + (g << 9 & 4294967295 | g >>> 23);
  g = e + (b ^ c & (f ^ b)) + d[11] + 643717713 & 4294967295;
  e = f + (g << 14 & 4294967295 | g >>> 18);
  g = c + (f ^ b & (e ^ f)) + d[0] + 3921069994 & 4294967295;
  c = e + (g << 20 & 4294967295 | g >>> 12);
  g = b + (e ^ f & (c ^ e)) + d[5] + 3593408605 & 4294967295;
  b = c + (g << 5 & 4294967295 | g >>> 27);
  g = f + (c ^ e & (b ^ c)) + d[10] + 38016083 & 4294967295;
  f = b + (g << 9 & 4294967295 | g >>> 23);
  g = e + (b ^ c & (f ^ b)) + d[15] + 3634488961 & 4294967295;
  e = f + (g << 14 & 4294967295 | g >>> 18);
  g = c + (f ^ b & (e ^ f)) + d[4] + 3889429448 & 4294967295;
  c = e + (g << 20 & 4294967295 | g >>> 12);
  g = b + (e ^ f & (c ^ e)) + d[9] + 568446438 & 4294967295;
  b = c + (g << 5 & 4294967295 | g >>> 27);
  g = f + (c ^ e & (b ^ c)) + d[14] + 3275163606 & 4294967295;
  f = b + (g << 9 & 4294967295 | g >>> 23);
  g = e + (b ^ c & (f ^ b)) + d[3] + 4107603335 & 4294967295;
  e = f + (g << 14 & 4294967295 | g >>> 18);
  g = c + (f ^ b & (e ^ f)) + d[8] + 1163531501 & 4294967295;
  c = e + (g << 20 & 4294967295 | g >>> 12);
  g = b + (e ^ f & (c ^ e)) + d[13] + 2850285829 & 4294967295;
  b = c + (g << 5 & 4294967295 | g >>> 27);
  g = f + (c ^ e & (b ^ c)) + d[2] + 4243563512 & 4294967295;
  f = b + (g << 9 & 4294967295 | g >>> 23);
  g = e + (b ^ c & (f ^ b)) + d[7] + 1735328473 & 4294967295;
  e = f + (g << 14 & 4294967295 | g >>> 18);
  g = c + (f ^ b & (e ^ f)) + d[12] + 2368359562 & 4294967295;
  c = e + (g << 20 & 4294967295 | g >>> 12);
  g = b + (c ^ e ^ f) + d[5] + 4294588738 & 4294967295;
  b = c + (g << 4 & 4294967295 | g >>> 28);
  g = f + (b ^ c ^ e) + d[8] + 2272392833 & 4294967295;
  f = b + (g << 11 & 4294967295 | g >>> 21);
  g = e + (f ^ b ^ c) + d[11] + 1839030562 & 4294967295;
  e = f + (g << 16 & 4294967295 | g >>> 16);
  g = c + (e ^ f ^ b) + d[14] + 4259657740 & 4294967295;
  c = e + (g << 23 & 4294967295 | g >>> 9);
  g = b + (c ^ e ^ f) + d[1] + 2763975236 & 4294967295;
  b = c + (g << 4 & 4294967295 | g >>> 28);
  g = f + (b ^ c ^ e) + d[4] + 1272893353 & 4294967295;
  f = b + (g << 11 & 4294967295 | g >>> 21);
  g = e + (f ^ b ^ c) + d[7] + 4139469664 & 4294967295;
  e = f + (g << 16 & 4294967295 | g >>> 16);
  g = c + (e ^ f ^ b) + d[10] + 3200236656 & 4294967295;
  c = e + (g << 23 & 4294967295 | g >>> 9);
  g = b + (c ^ e ^ f) + d[13] + 681279174 & 4294967295;
  b = c + (g << 4 & 4294967295 | g >>> 28);
  g = f + (b ^ c ^ e) + d[0] + 3936430074 & 4294967295;
  f = b + (g << 11 & 4294967295 | g >>> 21);
  g = e + (f ^ b ^ c) + d[3] + 3572445317 & 4294967295;
  e = f + (g << 16 & 4294967295 | g >>> 16);
  g = c + (e ^ f ^ b) + d[6] + 76029189 & 4294967295;
  c = e + (g << 23 & 4294967295 | g >>> 9);
  g = b + (c ^ e ^ f) + d[9] + 3654602809 & 4294967295;
  b = c + (g << 4 & 4294967295 | g >>> 28);
  g = f + (b ^ c ^ e) + d[12] + 3873151461 & 4294967295;
  f = b + (g << 11 & 4294967295 | g >>> 21);
  g = e + (f ^ b ^ c) + d[15] + 530742520 & 4294967295;
  e = f + (g << 16 & 4294967295 | g >>> 16);
  g = c + (e ^ f ^ b) + d[2] + 3299628645 & 4294967295;
  c = e + (g << 23 & 4294967295 | g >>> 9);
  g = b + (e ^ (c | ~f)) + d[0] + 4096336452 & 4294967295;
  b = c + (g << 6 & 4294967295 | g >>> 26);
  g = f + (c ^ (b | ~e)) + d[7] + 1126891415 & 4294967295;
  f = b + (g << 10 & 4294967295 | g >>> 22);
  g = e + (b ^ (f | ~c)) + d[14] + 2878612391 & 4294967295;
  e = f + (g << 15 & 4294967295 | g >>> 17);
  g = c + (f ^ (e | ~b)) + d[5] + 4237533241 & 4294967295;
  c = e + (g << 21 & 4294967295 | g >>> 11);
  g = b + (e ^ (c | ~f)) + d[12] + 1700485571 & 4294967295;
  b = c + (g << 6 & 4294967295 | g >>> 26);
  g = f + (c ^ (b | ~e)) + d[3] + 2399980690 & 4294967295;
  f = b + (g << 10 & 4294967295 | g >>> 22);
  g = e + (b ^ (f | ~c)) + d[10] + 4293915773 & 4294967295;
  e = f + (g << 15 & 4294967295 | g >>> 17);
  g = c + (f ^ (e | ~b)) + d[1] + 2240044497 & 4294967295;
  c = e + (g << 21 & 4294967295 | g >>> 11);
  g = b + (e ^ (c | ~f)) + d[8] + 1873313359 & 4294967295;
  b = c + (g << 6 & 4294967295 | g >>> 26);
  g = f + (c ^ (b | ~e)) + d[15] + 4264355552 & 4294967295;
  f = b + (g << 10 & 4294967295 | g >>> 22);
  g = e + (b ^ (f | ~c)) + d[6] + 2734768916 & 4294967295;
  e = f + (g << 15 & 4294967295 | g >>> 17);
  g = c + (f ^ (e | ~b)) + d[13] + 1309151649 & 4294967295;
  c = e + (g << 21 & 4294967295 | g >>> 11);
  g = b + (e ^ (c | ~f)) + d[4] + 4149444226 & 4294967295;
  b = c + (g << 6 & 4294967295 | g >>> 26);
  g = f + (c ^ (b | ~e)) + d[11] + 3174756917 & 4294967295;
  f = b + (g << 10 & 4294967295 | g >>> 22);
  g = e + (b ^ (f | ~c)) + d[2] + 718787259 & 4294967295;
  e = f + (g << 15 & 4294967295 | g >>> 17);
  g = c + (f ^ (e | ~b)) + d[9] + 3951481745 & 4294967295;
  a.a[0] = a.a[0] + b & 4294967295;
  a.a[1] = a.a[1] + (e + (g << 21 & 4294967295 | g >>> 11)) & 4294967295;
  a.a[2] = a.a[2] + e & 4294967295;
  a.a[3] = a.a[3] + f & 4294967295;
}
au.prototype.update = function(a, b) {
  t(b) || (b = a.length);
  for (var c = b - this.b, d = this.l, e = this.f, f = 0;f < b;) {
    if (0 == e) {
      for (;f <= c;) {
        bu(this, a, f), f += this.b;
      }
    }
    if (w(a)) {
      for (;f < b;) {
        if (d[e++] = a.charCodeAt(f++), e == this.b) {
          bu(this, d);
          e = 0;
          break;
        }
      }
    } else {
      for (;f < b;) {
        if (d[e++] = a[f++], e == this.b) {
          bu(this, d);
          e = 0;
          break;
        }
      }
    }
  }
  this.f = e;
  this.h += b;
};
au.prototype.c = function() {
  var a = Array((56 > this.f ? this.b : 2 * this.b) - this.f);
  a[0] = 128;
  for (var b = 1;b < a.length - 8;++b) {
    a[b] = 0;
  }
  for (var c = 8 * this.h, b = a.length - 8;b < a.length;++b) {
    a[b] = c & 255, c /= 256;
  }
  this.update(a);
  a = Array(16);
  for (b = c = 0;4 > b;++b) {
    for (var d = 0;32 > d;d += 8) {
      a[c++] = this.a[b] >>> d & 255;
    }
  }
  return a;
};
function cu(a, b, c, d, e) {
  this.l = a;
  this.o = c || null;
  this.J = b || "/";
  this.f = ha(d) ? String(d) : d || "";
  this.b = this.a = this.c = null;
  this.h = e || du;
  this.version = "";
}
var du = "", eu = [du, "ldap"];
cu.prototype.clone = function() {
  var a = new cu(this.l, this.J, this.o, this.h);
  a.a = this.a;
  a.f = this.f;
  a.c = this.c;
  a.b = this.b;
  a.version = this.version;
  return a;
};
function fu(a) {
  var b, c, d, e;
  if (!a || !w(a)) {
    return null;
  }
  xa(a, "http") ? (a = new ui(a), a.h = "", yi(a, null), b = a.L(), d = a.b, e = a.l, c = a.f || "/") : (a = a.replace(/^:/, "").replace(/^\/*/, ""), c = a.indexOf("/"), 0 < c ? (b = a.substr(0, c), c = a.substring(c)) : (c = "/", b = a));
  c = c.replace(/\/[^\/]*$/, "/");
  return new cu(b, c, d, e);
}
cu.prototype.L = function() {
  return this.l;
};
function gu(a) {
  return (a.o || "http") + "://" + a.l + (a.f ? ":" + a.f : "") + a.J;
}
cu.prototype.toJSON = function() {
  return {userName:this.b, raw_password:this.c, password:this.a, baseUrl:gu(this), provider:this.h, port:this.f, version:this.version};
};
function hu(a) {
  var b = fu(a.baseUrl);
  b && (b.b = a.userName, b.c = a.raw_password, b.a = a.password, b.h = a.provider || du, b.version = a.version || "");
  return b;
}
;function iu() {
  var a = [], b;
  for (b in ju) {
    a.push("xmlns:" + b + '="' + ju[b] + '"');
  }
  this.a = Xs('<?xml version="1.0" encoding="utf-8"?><SOAP-ENV:Envelope ' + a.join(" ") + '><SOAP-ENV:Body soap:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"></SOAP-ENV:Body></SOAP-ENV:Envelope>');
  this.b = 0;
}
var ju = {"SOAP-ENV":"http://schemas.xmlsoap.org/soap/envelope/", xsd:"http://www.w3.org/2001/XMLSchema", xsi:"http://www.w3.org/2001/XMLSchema-instance", "SOAP-ENC":"http://schemas.xmlsoap.org/soap/encoding/", tns:"http://www.sugarcrm.com/sugarcrm", soap:"http://schemas.xmlsoap.org/wsdl/soap/", types:"http://www.sugarcrm.com/sugarcrm/encodedTypes", wsdl:"http://schemas.xmlsoap.org/wsdl/"};
function ku(a, b, c, d) {
  b = a.a.createElementNS("http://www.sugarcrm.com/sugarcrm", b);
  a.a.documentElement.firstElementChild.appendChild(b);
  for (var e = 0;e < c.length;e++) {
    var f = a, g = b, k = c[e], l = d[e];
    "name_value_list" == k ? (k = f.a.createElement(k), l = lu(f, l), k.setAttribute("href", "#" + l.id), g.appendChild(k)) : ha(l) || w(l) ? mu(f, g, k, l) : u(l) ? ha(l) || w(l) ? (k = f.a.createElement(k), l = lu(f, l), k.setAttribute("href", "#" + l.id), g.appendChild(k)) : nu(f, g, k, l) : nu(f, g, k, l);
  }
}
var ou = {document_revision:"note", auth:"auth", set_relationship_value:"set_relationship_list"};
function nu(a, b, c, d) {
  var e, f;
  if (ou[c]) {
    e = ou[c], f = c;
  } else {
    for (var g in ou) {
      if (ou[g] == c) {
        e = g;
        f = c;
        break;
      }
    }
  }
  e && f || (f = e = c);
  c = a.a.createElement(e);
  b.appendChild(c);
  a = u(d) ? lu(a, d, f) : pu(a, d, f);
  c.setAttribute("href", "#" + a.id);
}
function mu(a, b, c, d) {
  c = a.a.createElement(c);
  ha(d) ? (c.setAttributeNS(ju.xsi, "xsi:type", "xsd:int"), c.appendChild(a.a.createTextNode(d))) : (c.setAttributeNS(ju.xsi, "xsi:type", "xsd:string"), c.appendChild(a.a.createTextNode(d)));
  b.appendChild(c);
}
function pu(a, b, c) {
  c = "tns:" + c;
  var d = a.a.createElementNS(ju.tns, c);
  d.setAttributeNS(ju.tns, "xsi:type", c);
  qu(a, d, b, c);
  a.a.documentElement.firstElementChild.appendChild(d);
  d.id = "id" + ++a.b;
  return d;
}
function lu(a, b, c) {
  var d = a.a.createElementNS(ju["SOAP-ENC"], "SOAP-ENC:Array");
  c = qu(a, d, b, c);
  d.setAttributeNS(ju["SOAP-ENC"], "SOAP-ENC:arrayType", "" + ("string" == c ? "xsd:" + c : "tns:" + c) + "[" + b.length + "]");
  a.a.documentElement.firstElementChild.appendChild(d);
  d.id = "id" + ++a.b;
  return d;
}
function qu(a, b, c, d) {
  var e = "string";
  if (u(c)) {
    for (var f = 0;f < c.length;f++) {
      var g = c[f], k = a.a.createElement("Item");
      b.appendChild(k);
      x(g) ? (e = d || "name_value", g = pu(a, c[f], e), k.setAttribute("href", "#" + g.id)) : k.appendChild(a.a.createTextNode(g));
    }
  } else {
    if (x(c)) {
      for (f in c) {
        mu(a, b, f, c[f]);
      }
    }
  }
  return e;
}
;function ru(a) {
  return a.map(function(a) {
    return su(a);
  });
}
function su(a) {
  if (u(a)) {
    return a.map(function(a) {
      return su(a);
    });
  }
  if (x(a)) {
    var b = {}, c;
    for (c in a.name_value_list) {
      b[a.name_value_list[c].name] = a.name_value_list[c].value;
    }
    return b;
  }
  throw Error("Invalid name_value_entries");
}
function Cr(a) {
  return new Date(a + " GMT");
}
function tu(a) {
  return !!a && a instanceof Date && !isNaN(a.getTime());
}
function uu(a) {
  return a && a.getTime() ? a.toISOString().replace("T", " ").replace(/\..+/, "") : "";
}
function vu(a) {
  var b = Cr(a);
  if (!b || !b.getTime()) {
    return "";
  }
  a = b.getFullYear();
  var c = Va(b.getMonth() + 1), d = Va(b.getDate()), e = Va(b.getHours()), b = Va(b.getMinutes());
  return a + "-" + c + "-" + d + "T" + e + ":" + b;
}
function wu(a) {
  return "EmailTemplates" == a ? "email_templates" : a.toLowerCase();
}
;function xu(a, b) {
  this.h = a;
  this.a = b.clone();
  this.b = null;
  this.F = a instanceof xn ? 100 : -1;
  this.l = NaN;
  this.c = this.o = this.J = this.s = this.D = this.ga = this.f = null;
}
function yu(a) {
  return a.b.user_id;
}
function zu(a) {
  return !!Au(a) && !!a.a.c;
}
function Bu(a) {
  return Cu(a) ? gu(a.a) + "service/v2/soap.php" : gu(a.a) + "soap.php";
}
function Du(a, b, c, d, e, f) {
  return Eu(a).i(function(a) {
    if (!f && a.expires_at < y()) {
      return this.c = null, Du(this, b, c, e, d, !0);
    }
    var k = gu(this.a) + "rest/v10/" + c, l = d || null;
    a = {"content-type":"text/plain", "OAuth-Token":a.access_token};
    var m = x(e) ? JSON.stringify(e) : null, n = new B;
    this.h.request(new T(k, b, l, a, m)).execute(function(a, g) {
      if (a) {
        if (a.error) {
          if ("invalid_grant" == a.error && !f) {
            return this.c = null, Du(this, b, c, e, d, !0);
          }
          n.C(Error(a.error + ": " + a.error_message));
        } else {
          n.callback(a);
        }
      } else {
        var k = g.P() + " " + g.fb() + " " + hn(g);
        n.C(Error(k));
      }
    }, this);
    return n;
  }, a);
}
function Eu(a) {
  if (!a.c) {
    var b = a.a.c;
    if (!b) {
      return D("No raw password");
    }
    a.c = new B;
    b = new T(gu(a.a) + "rest/v10/oauth2/token", "POST", null, {"content-type":"text/plain"}, JSON.stringify({grant_type:"password", client_id:"sugar", client_secret:"", username:a.a.b, password:b, platform:"yathit"}));
    a.h.request(b).execute(function(a, b) {
      if (gn(b) && x(a)) {
        if (a && a.access_token && a.expires_in) {
          a.expires_at = y() + 1E3 * a.expires_in, a.refresh_expires_at = y() + 1E3 * a.refresh_expires_in, this.c.callback(a);
        } else {
          var e = "Invalid token";
          a.error && (e = a.error + ": " + a.error_message);
          e = Error(e);
          window.console.error(e);
          this.c.C(e);
          this.c = null;
        }
      } else {
        e = Error("Fail HTTP request"), window.console.error(e), this.c.C(e), this.c = null;
      }
    }, a);
  }
  return Bc(a.c);
}
xu.prototype.L = function() {
  return this.a.L();
};
function Fu(a) {
  return a.h instanceof xn;
}
function Gu(a) {
  return Hu(a) ? gu(a.a) + "service/v4_1/rest.php" : Iu(a) ? gu(a.a) + "service/v4/rest.php" : Ju(a) ? gu(a.a) + "service/v3/rest.php" : gu(a.a) + "service/v2/rest.php";
}
function Ku() {
  if (q.chrome && q.chrome.i18n) {
    var a = chrome.i18n.getUILanguage();
    return "en-US" == a ? "en_us" : a.replace("-", "_");
  }
  return "";
}
function Lu(a) {
  return a.a.version ? C() : Mu(gu(a.a)).i(function(a) {
    this.a.version = a ? a.version || "" : "";
  }, a);
}
function Nu(a, b) {
  if (b && a.b) {
    return C(a.b);
  }
  if (!a.a.b) {
    var c = Error("username required.");
    c.name = "InputArgumentError";
    return D(c);
  }
  if (!a.a.a) {
    return c = Error("password required."), c.name = "InputArgumentError", D(c);
  }
  if (a.f) {
    return Bc(a.f);
  }
  a.f = Lu(a).G(function() {
    return Ou(this) ? Pu(this).i(function(a) {
      this.b = a;
    }, this) : Qu(this).i(function(a) {
      this.b = a;
      return Ru(this).i(function(a) {
        this.b.user_id = a;
        return this.b;
      }, this);
    }, this);
  }, a);
  a.f.G(function() {
    var a = this;
    setTimeout(function() {
      a.f = null;
    }, 1E3);
  }, a);
  return a.f;
}
function Su(a, b) {
  var c = a.a.version;
  return c ? 0 <= Wa(c, b) : null;
}
function Au(a) {
  null == a.ga && (a.ga = Su(a, "7"));
  return a.ga;
}
function Iu(a) {
  ga(a.s) || (a.s = Su(a, "6.2"));
  return a.s;
}
function Ou(a) {
  return Cu(a) || Ju(a) || Iu(a);
}
function Ju(a) {
  ga(a.J) || (a.J = Su(a, "6.0.1"));
  return a.J;
}
function Cu(a) {
  ga(a.o) || (a.o = Su(a, "5.5.1"));
  return a.o;
}
function Hu(a) {
  ga(a.D) || (a.D = Su(a, "6.4"));
  return a.D;
}
function Ru(a) {
  var b = new B;
  Tu(a, "get_user_id", [], [], function(a, d) {
    var e = hn(d);
    w(e) ? (e = e.match(/>([^<]+)<\/return/), b.callback(e ? e[1] : "")) : b.C(hn(d));
  }, a);
  return b;
}
function Qu(a) {
  var b = Bu(a), c = a.a.b, d = a.a.a, e = new iu;
  ku(e, "login", ["auth", "application_name"], [{user_name:c, password:d, version:"1"}, "Yathit CRM"]);
  var f = new B, b = new T(b, "POST", null, {"Content-Type":"text/xml"}, Ys(e.a));
  a.h.request(b).execute(function(a, b) {
    if (200 == b.P()) {
      var c = hn(b), d = Xs(c), c = Zs(d, "//return/error");
      if (0 == (c ? Zs(c, "number").textContent : 0)) {
        c = {}, c.id = Zs(d, "//return/id").textContent, f.callback(c);
      } else {
        var d = "", e = Zs(c, "description");
        e && (d = e.textContent);
        d = Error(d);
        if (c = Zs(c, "name")) {
          d.name = c.textContent;
        }
        f.C(d);
      }
    } else {
      f.C(hn(b));
    }
  }, a);
  return f;
}
function Pu(a) {
  var b = new B, c = [{user_name:a.a.b, password:a.a.a}, "Yathit CRM", {language:Ku(), notifyonsave:"false"}];
  Uu(a, "login", ["user_auth", "application_name", "name_value_list"], c, function(a, c) {
    if (a && a.id) {
      var f = su(a);
      f.id = a.id;
      b.callback(f);
    } else {
      if (a) {
        f = new Vu, f.message = a.description + " (" + a.name + ")", 10 == a.number && (f.name = "InvalidLoginError"), f.result = a, b.C(f);
      } else {
        var f = c.P() + " " + c.fb() + " " + hn(c), f = f.substr(0, 200), g = new Vu;
        g.message = "Login fail: " + f;
        g.status = c.P();
        g.status ? 403 == g.status && (g.name = "NotAuthorizeError") : g.name = "NetworkError";
        b.C(g);
      }
    }
  }, a, !0);
  return b;
}
function Wu(a) {
  var b = new B;
  a.f = null;
  a.request("logout", [], [], function(a, d) {
    this.b = null;
    gn(d) ? b.callback(gn(d)) : b.C(d.P() + " " + d.fb());
  }, a);
  return b;
}
xu.prototype.request = function(a, b, c, d, e) {
  Ou(this) ? Uu(this, a, b, c, d, e) : Tu(this, a, b, c, d, e);
};
function Xu(a) {
  if (x(a)) {
    if (u(a.item)) {
      a = a.item;
      for (var b = 0;b < a.length;b++) {
        a[b] = Xu(a[b]);
      }
    } else {
      for (b in a) {
        "item" == b ? a = a.item : a[b] = Xu(a[b]);
      }
    }
  }
  return a;
}
function Tu(a, b, c, d, e, f, g) {
  for (var k = c.length - 1;0 <= k;k--) {
    "link_name_to_fields_array" == c[k] && (pb(c, k), pb(d, k));
  }
  "session" != c[0] && (c.unshift("session"), d.unshift(a.b.id));
  k = new iu;
  ku(k, b, c, d);
  var l = Bu(a);
  new B;
  k = new T(l, "POST", null, {"Content-Type":"text/xml"}, Ys(k.a));
  a.h.request(k).execute(function(a, k) {
    if (200 == k.P()) {
      var l = hn(k), r = Xs(l), l = Zs(r, "//return/error"), r = Zs(r, "//return"), v = 0;
      if (l) {
        var z = Zs(l, "number");
        z && (v = z.textContent);
      }
      if (0 == v && r) {
        l = Jt(r);
        l = Xu(l);
        (z = l.entry_list) && !u(z) && x(z) && (l.entry_list = Lb(z) ? [] : [Xu(z)]);
        r = r = (z = l.entry_list) ? z.length : 0;
        for (v = 0;v < r;v++) {
          var F = z[v];
          if (F.name_value_list) {
            for (var P in F.name_value_list) {
              var U = F.name_value_list[P].value;
              U && x(U) && Lb(U) && (F.name_value_list[P].value = "");
            }
          }
        }
        e.call(f, l, k);
      } else {
        if (g || 11 != z && 10 != z) {
          P = "";
          if (z = Zs(l, "description")) {
            P = z.textContent;
          }
          P = Error(P);
          if (l = Zs(l, "name")) {
            P.name = l.textContent;
          }
          e.call(f, P, k);
        } else {
          Nu(this).u(function() {
            Tu(this, b, c, d, e, f, !0);
          }, function() {
            e.call(f, null, new en(0, null, {}, "Login fail"));
          }, this);
        }
      }
    } else {
      e.call(f, a, k);
    }
  }, a);
}
function Uu(a, b, c, d, e, f, g) {
  function k() {
    r.execute(function(a, k) {
      this.l = y();
      var l = a;
      if (w(l)) {
        var m = l;
        ya(m, "}null") && (m = m.substr(0, m.length - 4));
        try {
          a = JSON.parse(m);
        } catch (r) {
          a = {number:-1, message:l}, k = new en(400, hn(k), k.Ld(), l);
        }
      }
      g || !a || 11 != a.number && 10 != a.number ? (e.call(f, a, k), a && t(a.number) && (l = hn(k), l = {category:"sugarcrm", action:"http.request", label:b + ":" + a.number, detail:l || "", state:n + " " + p}, Qm(l), si(l))) : Nu(this).u(function() {
        Uu(this, b, c, d, e, f, !0);
      }, function() {
        e.call(f, null, new en(0, null, {}, "Login fail"));
      }, this);
    }, this);
  }
  var l = "";
  if (c) {
    for (var l = "{", m = 0;m < c.length;m++) {
      "deleted" == c[m] && !Au(a) && "get_entry_list" == b && 0 <= ["Emails", "Employees"].indexOf(d[1]) || (l += (0 == m ? "" : ",") + '"' + c[m] + '":' + JSON.stringify(d[m]));
    }
    l += "}";
  } else {
    d[0] != a.b.id && d.unshift(a.b.id), l = JSON.stringify(d);
  }
  m = new Ai;
  m.add("method", b);
  m.add("input_type", "JSON");
  m.add("response_type", "JSON");
  m.add("rest_data", l);
  var n = Gu(a);
  if ("get_entry_list" == b || "get_relationships" == b) {
    l = "", c ? (l = c.indexOf("order_by"), l = d[l]) : "get_entry_list" == b && d ? l = d[3] : "get_relationships" == b && d && (l = d[8]), l && (n = n.replace("/v4/", "/v3/"), n = n.replace("/v4_1/", "/v3/"));
  }
  "search_by_module" == b && (n = n.replace("/vd/", "/v2/"), n = n.replace("/v4_1/", "/v2/"));
  var p = m.toString(), r = a.h.request(new T(n, "POST", {}, {"Content-Type":"application/x-www-form-urlencoded"}, p)), m = y() - a.l;
  0 < a.F && 0 < m && m < a.F ? (a.l = a.F + a.l, Df(k, m, a)) : k.call(a);
}
function Yu(a, b, c, d, e, f) {
  Ou(a) ? Uu(a, b, null, d, e, f, void 0) : Tu(a, b, c, d, e, f, void 0);
}
function Zu(a, b, c) {
  var d = ["session"], e = [a.b.id];
  if ("get_entry_list" == b) {
    d = d.concat("module_name", "query", "order_by", "offset", "select_fields", "link_name_to_fields_array", "max_results"), e = e.concat(["", "", "", 0, [], [], Ou(a) ? 50 : 10]), t(c.deleted) && (d.push("deleted"), e.push(c.deleted)), t(c.favorites) && (d.push("favorites"), e.push(c.favorites));
  } else {
    if ("get_available_modules" == b) {
      d = d.concat("filter"), e = e.concat("all");
    } else {
      if ("get_module_fields" == b) {
        d = d.concat("module_name", "fields"), e = e.concat("", "");
      } else {
        if ("get_entries" == b) {
          d = d.concat("module_name", "ids", "select_fields", "link_name_to_fields_array"), e = e.concat(["", "", [], []]);
        } else {
          for (var f in c) {
            "module_name" == f ? (tb(d, 1, 0, f), tb(e, 1, 0, c[f])) : (d.push(f), e.push(c[f]));
          }
        }
      }
    }
  }
  a = [];
  for (b = 0;b < d.length;b++) {
    f = c[d[b]], a[b] = null != f ? f : e[b];
  }
  return {keys:d, values:a};
}
function $u(a, b, c, d) {
  var e = d || 0, f = new B;
  if (!a.b || !a.b.user_id) {
    return 2 > e ? Nu(a).i(function() {
      e++;
      $u(a, b, c, e).b(f);
    }) : f.C(), f;
  }
  d = Zu(a, b, c);
  a.request(b, d.keys, d.values, function(d, k) {
    gn(k) && x(d) ? 11 == d.number && /invalid/i.test(d.name) ? (this.b = null, $u(a, b, c, e).b(f)) : f.callback(d) : f.C(k.P() + " " + k.fb() + " " + hn(k));
  }, a);
  return f;
}
function av(a, b, c, d, e) {
  var f = e || 0, g = new B;
  if (!a.b || !a.b.user_id) {
    return 2 > f ? Nu(a).u(function() {
      f++;
      av(this, b, c, d, f).b(g);
    }, function() {
      g.C(Error("Login error"));
    }, a) : g.C(), g;
  }
  Yu(a, b, c, d, function(a, b) {
    gn(b) && x(a) ? g.callback(a) : g.C(hn(b));
  }, a);
  return g;
}
function bv(a, b) {
  var c = new B;
  b.request(new T(a)).execute(function(a, b) {
    var f = new Vu;
    /sugarcrm/i.test(hn(b)) ? (f.status = 400, f.message = "Look like SugarCRM web site, but REST or SOAP API is not available.", c.C(f)) : 200 == b.P() ? (f.message = "Not a SugarCRM web site", f.status = 404, c.C()) : (f.status = b.P(), f.message = "Invalid respond, " + b.P(), c.C(f));
  });
  return c;
}
function cv(a, b) {
  var c = a + "soap.php", d = new iu;
  ku(d, "get_server_version", ["s"], ["hello"]);
  var e = new B, c = new T(c, "POST", null, {"Content-Type":"text/xml"}, Ys(d.a));
  b.request(c).execute(function(a, b) {
    if (200 == b.P()) {
      var c = hn(b).match(/>([^<]+)<\/return/);
      if (c) {
        var d = {};
        d.version = c[1];
        d.flavor = "";
        e.callback(d);
      } else {
        c = new Vu, c.message = "SOAP get_server_version request fail.", c.name = "BackendError", e.C(c);
      }
    } else {
      c = new Vu, c.status = b.P() || 0, c.status ? 403 == c.status ? (c.message = "Forbidden", c.name = "NotAuthorizeError") : c.message = String(hn(b)) : (c.message = "No network connection", c.name = "NetworkError"), e.C(c);
    }
  });
  return e;
}
function dv(a, b) {
  var c = new B, d = a + "service/v4/rest.php", e = new Ai;
  e.add("method", "get_server_info");
  e.add("input_type", "JSON");
  e.add("response_type", "JSON");
  e.add("rest_data", "{}");
  b.request(new T(d, "POST", {}, {"Content-Type":"application/x-www-form-urlencoded"}, e.toString())).execute(function(d, e) {
    if (200 == e.P()) {
      if (!d || !d.version) {
        var k = hn(e);
        if (w(k)) {
          try {
            d = JSON.parse(k);
          } catch (l) {
            cv(a, b).b(c);
            return;
          }
        } else {
          d = k;
        }
      }
      d && d.version ? (k = d, k.baseUrl = a, c.callback(k)) : cv(a, b).b(c);
    } else {
      e.P() ? 403 == e.P() ? (k = new Vu, k.status = 403, k.message = "Forbidden", k.name = "NotAuthorizeError", c.C(k)) : cv(a, b).b(c) : (k = new Vu, k.status = 0, k.message = "No network connection", k.name = "NetworkError", c.C(k));
    }
  });
  return c;
}
function ev(a) {
  var b = new B;
  jj(a, function(a) {
    a ? b.callback(un("default")) : b.callback(un("proxy"));
  });
  return b;
}
function Mu(a) {
  a = a.trim();
  xa(a, "http") || (a = a.replace(/^:/, ""), a = a.replace(/^\/+/, ""), a = "http://" + a);
  var b = new ui(a);
  b.h = "";
  yi(b, null);
  var c = b.f;
  0 < c.indexOf(".") && (c = c.replace(/\/[^\/]*?$/, "/"), xi(b, c));
  var d = b.toString();
  ya(d, "/") || (d += "/");
  return ev(d).i(function(b) {
    return dv(d, b).Gc(function(c) {
      return !c || c.status && 403 != c.status ? bv(a, b).G(function(a) {
        var b = new Vu;
        b.message = a;
        throw b;
      }) : null;
    });
  });
}
function Vu() {
  this.status = -1;
  this.result = null;
}
A(Vu, Error);
Vu.prototype.toJSON = function() {
  return {status:this.status, message:this.message, name:this.name, result:this.result};
};
function fv(a, b, c) {
  var d = {module_name:b}, e = "su/" + a.L() + "/module/" + Ku() + "/" + b;
  return $m.get(Dg, e).i(function(a) {
    return !c && a ? a : $u(this, "get_module_fields", d).i(function(a) {
      a && a.module_name && a.module_fields ? $m.put(Dg, a, e) : a && 20 == a.number ? (a.module_name = b, a.module_fields = {}, a.link_fields = {}, $m.put(Dg, a, e)) : window.console.warn("Invalid module for " + b + " " + Ni(a));
      return a;
    }, this);
  }, a);
}
function gv(a, b) {
  b("loading server info...");
  return hv(a).i(function(a) {
    b("reading available modules...");
    return iv(this).i(function(d) {
      function e(k) {
        g[k] ? (b("loading meta data for " + g[k]), fv(p, g[k]).G(function(a) {
          a && n.push(a);
          e(k + 1);
        })) : m.callback(new jv(f, a, d, n));
      }
      var f = this.L(), g = [], k;
      for (k in d) {
        var l = kv(d[k]);
        l && g.push(l);
      }
      var m = new B, n = [], p = this;
      e(0);
      return m;
    }, this);
  }, a);
}
function iv(a, b) {
  var c = "su/" + a.L() + "/available_modules", d = $m.get(Dg, c), d = d.i(function(a) {
    return !b && a ? a : av(this, "get_available_modules", ["filter"], ["default"]).i(function(a) {
      if (a && a.modules) {
        var b = a.modules;
        $m.put(Dg, [b], [c]);
      } else {
        window.console.warn("AvailableModules failed.");
      }
      return b || null;
    }, this);
  }, a);
  return d.i(function(a) {
    if (u(a) && w(a[0])) {
      return a = a.map(function(a) {
        return {module_key:a, module_label:a, acls:[{action:"edit", access:!0}, {action:"delete", access:!0}, {action:"list", access:!0}, {action:"view", access:!0}]};
      });
    }
  });
}
function hv(a, b) {
  var c = "su/" + a.L() + "/info/server";
  return $m.get(Dg, c).i(function(a) {
    return !b && a && a.version ? a : Mu(gu(this.a)).i(function(a) {
      if (a && a.version) {
        return $m.put(Dg, a, c), a;
      }
      throw Error("Invalid Info");
    }, this);
  }, a);
}
;function lv(a) {
  this.b = a || null;
}
function mv(a) {
  return !!a.b && Fu(a.b);
}
lv.prototype.logger = J("ydn.crm.su.DataSource");
lv.prototype.list = function(a, b) {
  var c = a.limit || (Ou(this.b) ? 50 : 10), d = b || a.offset || 0, e = {module_name:a.module_name, offset:d, limit:c, order_by:a.uo || "date_modified", select_fields:a.yo || []};
  a.Ef ? e.deleted = a.deleted ? 1 : 0 : delete e.deleted;
  a.query && (e.query = a.query);
  return $u(this.b, "get_entry_list", e).i(function(b) {
    if (!u(b.entry_list)) {
      throw Error("Invalid REST respond on entry list query on " + a.module_name + ": " + JSON.stringify(b));
    }
    var e = b.next_offset;
    b = {Lq:b.result_count || 0, offset:b.offset || 0, Gd:b.entry_list || [], Pf:w(e) && 0 < e.length ? parseInt(e, 10) : e || 0, Bj:!1};
    b.Bj = b.Gd.length >= c && b.Pf > d;
    return b;
  }, this);
};
lv.prototype.a = function(a, b, c, d) {
  d = {module_name:a, offset:d || 0, limit:Ou(this.b) ? 50 : 10, deleted:!1, uo:"date_modified " + b};
  c && (d.query = wu(a) + ".date_modified" + ("DESC" == b ? "<" : ">") + "'" + c + "'", d.deleted = "ASC" == b ? !0 : !1);
  return d;
};
function nv(a) {
  this.a = "mcko-" + a;
}
function ov(a, b) {
  var c = q.localStorage.getItem(a.a + "-" + b);
  return w(c) ? JSON.parse(c) || {} : {};
}
function pv(a, b) {
  q.localStorage.removeItem(a.a + "-" + b);
}
function qv(a, b, c, d) {
  var e = {};
  c && d || (e = ov(a, b));
  e.lower = c || e.lower;
  e.upper = d || e.upper;
  e.lower && e.upper && e.lower > e.upper ? (window.console.warn(e.lower + " <= " + e.upper), pv(a, b)) : (c = e) && (/^\d{4}/.test(c.lower) || /^\d{4}/.test(c.upper)) && (a = a.a + "-" + b, c.updated = y(), q.localStorage.setItem(a, JSON.stringify(c)));
}
;function rv(a) {
  var b = new B;
  chrome.storage.sync.get("su-ch-pro", function(c) {
    c = c["su-ch-pro"] && "object" == typeof c["su-ch-pro"] ? c["su-ch-pro"] : {};
    0 <= ["full", "partial", "opportunistic", "none"].indexOf(c[a]) ? b.callback(c[a]) : 0 <= jr.indexOf(a) ? b.callback("full") : 0 <= kr.indexOf(a) ? b.callback("partial") : b.callback("opportunistic");
  });
  return b;
}
function sv(a, b) {
  if (-1 == ["full", "partial", "opportunistic", "none"].indexOf(b)) {
    throw Error("invalid option " + b);
  }
  var c = new B;
  chrome.storage.sync.get("su-ch-pro", function(d) {
    var e = d["su-ch-pro"] && "object" == typeof d["su-ch-pro"] ? d["su-ch-pro"] : {}, f = !1;
    "full" == b && 0 <= jr.indexOf(a) ? f = !0 : "partial" == b && 0 <= kr.indexOf(a) ? f = !0 : "opportunistic" == b && (f = !0);
    e[a] != b ? (f ? delete e[a] : e[a] = b, d["su-ch-pro"] = e, chrome.storage.sync.set(d, function() {
      c.callback(!0);
    })) : c.callback(!1);
  });
  return c;
}
function tv() {
  var a = new B;
  chrome.storage.sync.get("su-ch-pro", function(b) {
    b = b["su-ch-pro"] && "object" == typeof b["su-ch-pro"] ? b["su-ch-pro"] : {};
    var c = jr.concat(kr), d;
    for (d in b) {
      var e = c.indexOf(d);
      "full" == b[d] || "partial" == b[d] ? -1 == e && c.push(d) : 0 <= e && pb(c, e);
    }
    a.callback(c);
  });
  return a;
}
;function uv(a) {
  return a ? '"' + a.name + " (" + a.id + ") [modified on: " + a.date_modified + ']"' : '""';
}
function vv(a, b) {
  return '<div class="record-item ' + a + '">\n    <div class="record-header flex-bar">\n      <span class="icon">' + b + '</span>\n      <span class="ydn-center ydn-title"></span>\n    </div>\n    <div class="ydn-content">\n      <span class="ydn-center summary"></span>\n    </div>\n  </div>';
}
function wv(a) {
  return '<div name="ydn-setting-panel-option">\n  <div class="ydn-panel">\n         <label><input name="update-from-sugar" type="checkbox" title="Update Google contacts from Sugar records"/> Update from Sugar</label>\n         <div class="ydn-sub-panel" name="update-from-sugar-subpanel">\n         <div name="sync-contact-only-panel" style="display: none;" >\n          <label ><input name="sync-contact-only" type="checkbox"/> Only records with "Sync to Outlook&reg;"</label><br/></div>\n          <label><input name="update-gdata" type="checkbox"/> Update ' + 
  a + '</label><br/>\n          <label><input name="create-gdata" type="checkbox"/> Create ' + a + '</label><br/>\n          <label><input name="delete-gdata" type="checkbox"/> Delete ' + a + '</label>\n     \n</div>\n</div><div class="ydn-panel">\n         <label><input name="update-from-gdata" type="checkbox" title="Update Sugar records from Google contacts"/> Update from Google</label>\n           <div class="ydn-sub-panel" name="update-from-gdata-subpanel">\n         <label><input name="update-sugar" type="checkbox"/> Update Sugar records</label><br/>\n         <label><input name="create-sugar" type="checkbox"/> Create Sugar records</label><br/>\n         <label><input name="delete-sugar" type="checkbox"/> Delete Sugar records</label>\n        \n         </div>\n  </div>\n</div>';
}
function xv() {
  return '<p><div class="message-progress error"></div> <div class="message-progress normal"></div></p>\n      <details name="ydn-prepared">\n      <summary>Preview</summary>\n          <div class="ydn-prepared-result"></div>\n        <div class="ydn-prepared-detail"></div>\n</details>\n      <details name="history">\n      <summary>History</summary>\n      <OL class="ydn-history-content"></OL>\n      <div class="ydn-history-detail"></div>\n</details>\n<details name="backlog">\n      <summary>Backlog</summary>\n      <OL class="ydn-backlog-content"></OL>\n      <div class="ydn-backlog-detail"></div>\n      <div><p>Backlogs are failed update, quarantine from synchronization. To participate in synchronization again, click release after manually inspecting each records.</p></div>\n</details>';
}
;function yv(a, b) {
  this.l = a;
  this.ba = Cm(a, Ik);
  this.a = b || null;
  this.b = new nv(a.getName());
  this.s = NaN;
  this.h = {};
  this.f = {};
  this.J = {};
  this.o = !1;
  this.c = null;
}
yv.prototype.logger = J("ydn.crm.su.RecordUpdater");
function zv(a, b, c, d) {
  t(b.includeDel) && delete b.includeDel;
  var e = d || 0;
  e++;
  var f = b.module_name;
  a.s = y();
  Fp({req:"sugarcrm-ca-ft", data:{module:b.module_name, state:"start"}});
  return a.a.list(b).i(function(a) {
    Fp({req:"sugarcrm-ca-ft", data:{module:b.module_name, state:"end", count:a.Gd.length}});
    if (0 < a.Gd.length) {
      var d = ru(a.Gd), l = qm(this.l, f), m = f;
      l || (m = "ydn-crm-su-record", d.map(function(a) {
        a._module = f;
      }));
      return this.ba.put(m, d).u(function() {
        var f = d[0], l = d[d.length - 1];
        return e < c && !this.o && a.Bj ? (b.offset = a.Pf, zv(this, b, c, e).i(function(a) {
          return {count:a.count, me:f.date_modified, Tg:f.id, wc:a.wc || l.date_modified, Jh:a.Jh || l.id};
        }, this)) : {count:a.Pf, me:f.date_modified, Tg:f.id, wc:l.date_modified, Jh:l.id};
      }, function(a) {
        K(this.logger, "Fail to store into the database for module " + f + ": " + (x(a) ? a.name + " " + a.message : a));
      }, this);
    }
    return {count:a.Pf, me:"", wc:""};
  }, a);
}
yv.prototype.update = function() {
  return this.c && !this.o ? D("Already updating") : tv().i(function(a) {
    return Av(this, a);
  }, this);
};
function Av(a, b) {
  function c() {
    var e = b[d];
    !e || a.o ? a.c && (L(a.logger, "Updating module done"), a.c.callback(null), a.c = null) : (N(a.logger, "Syncing module " + e), d++, Bv(a, e).G(function() {
      a.s = y();
      q.setTimeout(function() {
        c();
      }, 500);
    }));
  }
  if (mv(a.a)) {
    return bf(a.logger, a + " updating skipped since no direct connection is not available."), D(Error("No direct connection"));
  }
  if (a.c) {
    return L(a.logger, "Modules are already updating."), Bc(a.c);
  }
  L(a.logger, "Updating all modules.");
  a.c = new B;
  a.o = !1;
  a.s = y();
  var d = 0;
  c();
  q.setTimeout(function() {
    2 < b.length - d && c();
  }, 2E3);
  return a.c;
}
function Cv(a, b) {
  pv(a.b, b);
  return qm(a.l, b) ? a.ba.clear(b) : a.ba.remove("ydn-crm-su-record", "_module", nj(b));
}
function Dv(a, b, c, d) {
  return av(a.a.b, "get_entries_count", ["module_name", "query", "deleted"], [b, d || "", c]).i(function(a) {
    return a ? parseInt(a.result_count, 10) : 0;
  });
}
function Ev(a, b, c) {
  b = new ek(b, "date_modified", null, c);
  return a.ba.get(b);
}
function Fv(a, b, c) {
  return $u(a.a.b, "get_entry_list", {module_name:b, order_by:"date_modified " + (c ? "DESC" : "ASC"), max_results:1, deleted:0}).i(function(a) {
    return u(a.entry_list) ? su(a.entry_list)[0] : null;
  }, a);
}
function Gv(a, b) {
  if (-1 == ir.indexOf(b)) {
    return D("Module " + b + " not cached.");
  }
  var c = [a.ba.get("Meta", "sync/" + b), Ev(a, b, !1), Ev(a, b, !0), a.ba.count(b)], d = ov(a.b, b), e = d.lower;
  if (e) {
    var f = fk(b, e);
    c.push(a.ba.get(f));
  } else {
    c.push(C(null));
  }
  var g = d.upper;
  g ? (f = fk(b, g), c.push(a.ba.get(f))) : c.push(C(null));
  e && g ? (d = oj(e, g, !1, !1), c.push(a.ba.count(b, "date_modified", d))) : g ? (d = zj(">=", g), c.push(a.ba.count(b, "date_modified", d))) : c.push(C(null));
  c.push(Dv(a, b, 0));
  c.push(Dv(a, b, 1));
  c.push(Fv(a, b, !1));
  c.push(Fv(a, b, !0));
  return Bl(c).i(function(a) {
    var c = a[0] || {};
    return "\n  <p>" + a[7] + " (" + a[8] + " with deleted) " + b + " records on server.\n  First modified record: " + uv(a[9]) + ", Last modified record " + uv(a[10]) + "</p>\n  <p>" + a[3] + " " + b + " records cached in browser. First modified record: " + uv(a[1]) + ", Last modified record " + uv(a[2]) + "</p>\n  <p>" + a[6] + " records cached in browser are in synced from " + uv(a[4]) + " to " + uv(a[5]) + "</p>\n  <p>" + (c["last-update-count"] || 0) + " records updated from last sync on " + 
    (new Date(c.updated)).toLocaleString() + ".\n  Modified checkpoint lower: " + e + ", upper: " + g + "</p>";
  }, a);
}
function Hv(a, b) {
  if (mv(a.a)) {
    return bf(a.logger, a + " updating " + b + " skipped since no direct connection is not available."), D(Error("No direct connection"));
  }
  if (a.J[b]) {
    return Bc(a.J[b]);
  }
  var c = a.a.a(b, "DESC"), c = zv(a, c, 0);
  Bc(c).G(function() {
    setTimeout(function() {
      delete this.J[b];
    }.bind(this), 15E3);
  }, a);
  return c;
}
function Bv(a, b, c) {
  if (mv(a.a)) {
    return bf(a.logger, a + " updating " + b + " skipped since no direct connection is not available."), D(Error("No direct connection"));
  }
  if (a.f[b]) {
    return Bc(a.f[b]);
  }
  if (a.h[b] && !c && 5E3 > y() - a.h[b].end) {
    return a.h[b].ok ? C(a.h[b].count) : D(a.h[b].count);
  }
  N(a.logger, b + ": Updating module");
  a.h[b] = {start:y(), end:NaN, ok:!1, count:0};
  Fp({req:"sugarcrm-ca-up", data:{module:b, total:0, end:NaN, start:a.h[b].start}});
  a.f[b] = Iv(a, b, !!c);
  a.f[b].u(function(a) {
    var c = this.h[b];
    c.end = y();
    c.ok = !0;
    c.count = a;
    delete this.f[b];
    var f = qm(this.l, b), g = f ? b : "ydn-crm-su-record", k = f ? null : nj(b);
    (f ? this.ba.count(b) : this.ba.count(g, "_module", k)).i(function(f) {
      this.ba.put("Meta", {module:b, started:c.start, updated:c.end, "last-update-count":a}, "sync/" + b);
      bf(this.logger, " module " + b + " synced, " + a + " records updated.");
      Fp({req:"sugarcrm-ca-up", data:{module:b, total:f, count:a, end:c.end, ok:c.ok, start:c.start}});
    }, this);
  }, function(a) {
    var c = this.h[b];
    c.end = y();
    c.ok = !1;
    c.count = 0;
    delete this.f[b];
    var f = ".";
    a && (f = a.name ? a.name + ": " + a.message : String(a), f = " with " + f);
    K(this.logger, " module " + b + " failed" + f);
    Fp({req:"sugarcrm-ca-up", data:{module:b, end:c.end, ok:c.ok, start:c.start}});
  }, a);
  return a.f[b];
}
function Iv(a, b, c) {
  return c ? Jv(a, b, !0) : rv(b).i(function(a) {
    return "full" == a ? Jv(this, b) : "partial" == a ? Kv(this, b) : 0;
  }, a);
}
function Lv(a, b) {
  var c = a.a.a(b, "DESC");
  c.deleted = !0;
  c.Ef = !0;
  c.yo = ["id"];
  c.limit = 10;
  c.query = wu(b) + ".deleted = 1";
  return a.a.list(c).i(function(a) {
    if (!a.Gd.length) {
      return 0;
    }
    a = a.Gd.map(function(a) {
      return new Bk(b, a.id);
    });
    return this.l.remove(a);
  }, a);
}
function Jv(a, b, c) {
  c && Cv(a, b);
  var d = ov(a.b, b).upper;
  return d ? Mv(a, b).i(function(a) {
    var c = this.a.a(b, "ASC");
    a && (c = this.a.a(b, "ASC", d < a ? d : a), c.Ef = !0);
    return zv(this, c, 40).i(function(a) {
      qv(this.b, b, void 0, a.wc);
      var c = this.a.a(b, "DESC"), d = a.count, e = a.Tg, f = ov(this.b, b).lower;
      return Nv(this, b).i(function(a) {
        a && (c = this.a.a(b, "DESC", f > a ? f : a), c.Ef = !0);
        return zv(this, c, 40).i(function(a) {
          qv(this.b, b, a.wc, void 0);
          Ov(this, b, a.Jh, e);
          return d + a.count;
        }, this);
      }, this);
    }, this);
  }, a).i(function() {
    return Lv(this, b).i(function() {
    }, this);
  }, a) : (c = a.a.a(b, "DESC"), zv(a, c, 40).i(function(a) {
    0 < a.count && qv(this.b, b, a.wc, a.me);
    return a.count || 0;
  }, a));
}
function Mv(a, b) {
  var c = qm(a.l, b), d = c ? new bk(b, "date_modified", null, !0) : new bk("ydn-crm-su-record", "_module, date_modified", qj([b]), !0);
  return a.ba.keys(d, 1).i(function(a) {
    return a[0] ? c ? a[0] : a[0][1] : null;
  }, a);
}
function Nv(a, b) {
  var c = qm(a.l, b), d = c ? new bk(b, "date_modified", null, !1) : new bk("ydn-crm-su-record", "_module, date_modified", qj([b]), !1);
  return a.ba.keys(d, 1).i(function(a) {
    return a[0] ? c ? a[0] : a[0][1] : null;
  }, a);
}
function Ov(a, b, c, d) {
  if (c || d) {
    var e = qm(a.l, b);
    b = e ? new ek(b, "deleted", nj("1")) : new ek("ydn-crm-su-record", "_module, deleted", nj([b, "1"]));
    a.ba.open(function(a) {
      var b = a.ta();
      e || (b = b[1]);
      b != c && b != d && a.clear();
    }, b, Oj, a);
  }
}
function Pv(a, b) {
  return a.start && a.end ? b.start && b.end ? a.start > a.end ? (window.console.warn("org " + a.start + "(start) > " + a.end + " (end)"), b) : b.start > b.end ? (window.console.warn("ext " + b.start + " (start) > " + b.end + " (end)"), b) : b.start <= a.end && a.end < b.end ? {start:a.start, end:b.end} : a.start <= b.end && b.end < a.end ? {start:b.start, end:a.end} : b : a : b;
}
function Kv(a, b) {
  var c = a.a.a(b, "DESC"), d = ov(a.b, b), e = d.upper, f = d.lower;
  return e ? 6E4 < y() - d.updated ? Mv(a, b).i(function(a) {
    a && (c = this.a.a(b, "ASC", e), c.Ef = !0);
    return zv(this, c, 10).i(function(a) {
      var c = Pv({start:f, end:e}, {start:a.wc, end:a.me});
      qv(this.b, b, c.start, c.end);
      Ov(this, b, a.Tg);
      return a.count;
    }, this);
  }, a) : Nv(a, b).i(function(a) {
    a && (c = this.a.a(b, "DESC", f));
    return zv(this, c, 1).i(function(a) {
      qv(this.b, b, a.wc, void 0);
      return a.count;
    }, this);
  }, a) : zv(a, c, 1).i(function(a) {
    qv(this.b, b, a.wc, a.me);
    return a.count;
  }, a);
}
;function Qv(a) {
  this.b = a || [];
}
Qv.prototype.a = function(a) {
  return -1 == this.b.indexOf(a) ? a : null;
};
function Rv() {
}
Rv.prototype.a = function(a) {
  var b = {ational:"ate", tional:"tion", enci:"ence", anci:"ance", izer:"ize", bli:"ble", alli:"al", entli:"ent", eli:"e", ousli:"ous", ization:"ize", ation:"ate", ator:"ate", alism:"al", iveness:"ive", fulness:"ful", ousness:"ous", aliti:"al", iviti:"ive", biliti:"ble", logi:"log"}, c = {icate:"ic", ative:"", alize:"al", iciti:"ic", ical:"ic", ful:"", ness:""};
  a = a.toLowerCase();
  var d, e, f = a;
  if (3 > a.length) {
    return a;
  }
  var g, k;
  a = a.substr(0, 1);
  "y" == a && (f = a.toUpperCase() + f.substr(1));
  g = /^(.+?)(ss|i)es$/;
  e = /^(.+?)([^s])s$/;
  g.test(f) ? f = f.replace(g, "$1$2") : e.test(f) && (f = f.replace(e, "$1$2"));
  g = /^(.+?)eed$/;
  e = /^(.+?)(ed|ing)$/;
  g.test(f) ? (e = g.exec(f), g = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, g.test(e[1]) && (g = /.$/, f = f.replace(g, ""))) : e.test(f) && (e = e.exec(f), d = e[1], e = /^([^aeiou][^aeiouy]*)?[aeiouy]/, e.test(d) && (f = d, e = /(at|bl|iz)$/, k = /([^aeiouylsz])\1$/, d = /^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/, e.test(f) ? f += "e" : k.test(f) ? (g = /.$/, f = f.replace(g, "")) : d.test(f) && (f += "e")));
  g = /^(.+?)y$/;
  g.test(f) && (e = g.exec(f), d = e[1], g = /^([^aeiou][^aeiouy]*)?[aeiouy]/, g.test(d) && (f = d + "i"));
  g = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;
  g.test(f) && (e = g.exec(f), d = e[1], e = e[2], g = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, g.test(d) && (f = d + b[e]));
  g = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;
  g.test(f) && (e = g.exec(f), d = e[1], e = e[2], g = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, g.test(d) && (f = d + c[e]));
  g = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;
  e = /^(.+?)(s|t)(ion)$/;
  g.test(f) ? (e = g.exec(f), d = e[1], g = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, g.test(d) && (f = d)) : e.test(f) && (e = e.exec(f), d = e[1] + e[2], e = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, e.test(d) && (f = d));
  g = /^(.+?)e$/;
  g.test(f) && (e = g.exec(f), d = e[1], g = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/, e = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/, k = /^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/, g.test(d) || e.test(d) && !k.test(d)) && (f = d);
  g = /ll$/;
  e = /^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/;
  g.test(f) && e.test(f) && (g = /.$/, f = f.replace(g, ""));
  "y" == a && (f = a.toLowerCase() + f.substr(1));
  return f;
};
function Sv(a) {
  this.b = a;
}
Sv.prototype.a = function(a) {
  a = a.toLowerCase();
  a = a.replace(/([^c])\1/g, "$1");
  a = function(a) {
    return a.match(/^(kn|gn|pn|ae|wr)/) ? a.substr(1, a.length - 1) : a;
  }(a);
  a = a.replace(/mb$/, "m");
  a = a.replace(/ck/g, "k");
  a = function(a) {
    a = a.replace(/([^s]|^)(c)(h)/g, "$1x$3").trim();
    a = a.replace(/cia/g, "xia");
    a = a.replace(/c(i|e|y)/g, "s$1");
    return a = a.replace(/c/g, "k");
  }(a);
  a = function(a) {
    a = a.replace(/d(ge|gy|gi)/g, "j$1");
    return a = a.replace(/d/g, "t");
  }(a);
  a = function(a) {
    a = a.replace(/gh(^$|[^aeiou])/g, "h$1");
    return a = a.replace(/g(n|ned)$/g, "$1");
  }(a);
  a = function(a) {
    a = a.replace(/([^g]|^)(g)(i|e|y)/g, "$1j$3");
    a = a.replace(/gg/g, "g");
    return a = a.replace(/g/g, "k");
  }(a);
  a = a.replace(/([aeiou])h([^aeiou])/g, "$1$2");
  a = a.replace(/ph/g, "f");
  a = a.replace(/q/g, "k");
  a = a.replace(/s(h|io|ia)/g, "x$1");
  a = function(a) {
    a = a.replace(/^x/, "s");
    return a = a.replace(/x/g, "ks");
  }(a);
  a = function(a) {
    a = a.replace(/t(ia|io)/g, "x$1");
    return a = a.replace(/th/, "0");
  }(a);
  a = a.replace(/tch/g, "ch");
  a = a.replace(/v/g, "f");
  a = a.replace(/^wh/, "w");
  a = a.replace(/w([^aeiou]|$)/g, "$1");
  a = a.replace(/y([^aeiou]|$)/g, "$1");
  a = a.replace(/z/, "s");
  a = a.charAt(0) + a.substr(1, a.length).replace(/[aeiou]/g, "");
  a.length >= this.b && (a = a.substring(0, this.b));
  return a = a.toUpperCase();
};
var Tv = new Sv(32), Uv = new Rv, Vv = new Qv("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));
function Wv(a) {
  this.data = a;
  this.a = 0;
}
Wv.prototype.next = function(a) {
  for (var b = this.a, c = this.data[b], c = 1, d = 0;0 <= b && b < this.data.length;) {
    c = this.data[b];
    if (c instanceof Array) {
      if (a < c[0]) {
        c = -1;
      } else {
        if (a > c[1]) {
          c = 1;
        } else {
          return this.a = b, !0;
        }
      }
    } else {
      if (c == a) {
        return this.a = b, !0;
      }
      c = a < c ? -1 : 1;
    }
    if (0 == d) {
      d = c;
    } else {
      if (d != c) {
        break;
      }
    }
    b += c;
    if (b > this.data.length || 0 > b) {
      break;
    }
  }
  return !1;
};
function Xv(a, b) {
  for (var c = 0, d = 0, e = a.length, f = 0;f < e;++f) {
    a: {
      var d = a.charCodeAt(f), g = new Wv(categ_letters_numbers_data);
      if (ha(d)) {
        d = g.next(d);
      } else {
        for (var k = 0, l = d.length;k < l;++k) {
          if (!1 === g.next(d[k])) {
            d = !1;
            break a;
          }
        }
        d = !0;
      }
    }
    d || ((d = f - c) && b(c, d), c = f + 1);
  }
  (d = e - c) && b(c, d);
}
;function Yv(a, b) {
  this.c = b;
  this.value = a;
}
Yv.prototype.Y = function() {
  return this.value;
};
Yv.prototype.qc = function() {
  return 1;
};
Yv.prototype.N = function() {
  return this.value;
};
function Zv(a, b, c, d, e, f) {
  Yv.call(this, d, e);
  this.ia = a;
  this.b = b;
  this.f = c;
  this.Nf = f || [];
}
A(Zv, Yv);
Zv.prototype.Fe = function() {
  return {k:this.c, v:this.value.toLowerCase(), id:this.N(), loc:this.Nf};
};
Zv.prototype.N = function() {
  return [this.ia, this.f, this.b, this.value];
};
Zv.prototype.R = function() {
  return this.ia;
};
Zv.prototype.ta = function() {
  return this.f;
};
function $v(a, b, c, d, e) {
  Yv.call(this, b, c);
  this.h = d;
  this.a = e;
  this.type = a;
  this.Ni = 1;
}
A($v, Yv);
$v.prototype.qc = function() {
  return this.a * this.type * this.Ni;
};
$v.prototype.N = function() {
  return this.value + "|" + this.h;
};
function aw(a, b) {
  Zv.call(this, b.R(), b.b, b.ta(), b.Y(), b.c, []);
  this.l = a;
  this.a = [b];
}
A(aw, Zv);
h = aw.prototype;
h.count = function() {
  return this.a.length;
};
h.entry = function(a) {
  return this.a[a];
};
h.Qh = function(a) {
  a = a.a[0];
  for (var b = 0;b < this.a.length;b++) {
    if (this.a[b].b == a.b && this.a[b].value == a.value) {
      return;
    }
  }
  this.a.push(a);
};
h.qc = function() {
  for (var a = 0, b = 0;b < this.a.length;b++) {
    var c = this.a[b], d = dm(this.l, c.R(), c.b), c = c.qc(), a = a + c * d.b
  }
  return a;
};
function bw(a, b) {
  var c = a.qc(), d = b.qc();
  return c <= d ? 1 : -1;
}
h.Fe = function() {
  for (var a = {value:this.value, primaryKey:this.f, storeName:this.ia, score:this.qc(), tokens:[]}, b = 0;b < this.a.length;b++) {
    a.tokens[b] = this.a[b].Fe();
  }
  return a;
};
function cw(a) {
  var b = [], c;
  a = a.split(/\s+/);
  for (var d = 0;d < a.length;d++) {
    c = a[d];
    for (var e = c.length - 1, f = Array(e), g = 0;g < e;g++) {
      f[g] = c.substring(g, g + 2);
    }
    c = f;
    b.push.apply(b, c);
  }
  return b;
}
;function dw(a, b, c, d, e, f, g) {
  Zv.call(this, b, c, d, e, f, g);
  this.query = a;
}
A(dw, Zv);
dw.prototype.qc = function() {
  var a, b = this.value;
  a = cw(this.query.value.toLowerCase().replace(/^\s+|\s+$/g, ""));
  var b = cw(b.toLowerCase().replace(/^\s+|\s+$/g, "")), c = 0, d = a.length + b.length, e, f, g, k;
  for (e = 0;e < a.length;e++) {
    for (g = a[e], f = 0;f < b.length;f++) {
      if (k = b[f], g == k) {
        c++;
        delete b[f];
        break;
      }
    }
  }
  a = 2 * c / d;
  b = Math.log(this.Nf.length + 1);
  c = this.query.qc();
  return b * a * c;
};
dw.prototype.Fe = function() {
  return {keyPath:this.b, value:this.value, loc:this.Nf.slice()};
};
function ew(a, b, c, d) {
  this.a = a;
  this.b = b;
  this.f = [];
  this.limit = c || 1E3;
  this.threshold = d || NaN;
  this.c = 0;
}
function fw(a, b) {
  for (var c, d, e = a.a.getName(), f = 0;f < a.b.length;f++) {
    var g = a.b[f], k = g.type;
    .4 == k || .6 == k ? (d = "v", c = g.Y().toLowerCase(), c = qj(c)) : (d = "v", c = g.Y().toLowerCase(), c = nj(c));
    b(e, d, c, g);
    a.c++;
    .6 == k && (d = "k", c = g.c, c = nj(c), b(e, d, c, g), a.c++);
  }
}
function gw(a) {
  for (var b = [a.a.getName()], c = 0;c < a.a.count();c++) {
    var d = a.a.index(c).R();
    -1 == b.indexOf(d) && b.push(d);
  }
  return b;
}
function hw(a) {
  for (var b = [], c = [], d = 0;d < a.f.length;d++) {
    var e = a.f[d];
    if (0 == e.query.type) {
      -1 == lb(c, function(a) {
        return a.ta() == e.ta() && a.R() == e.R();
      }) && c.push(e);
    } else {
      var f = new aw(a.a, e), g = lb(b, function(a) {
        return a.ta() == f.ta() && a.R() == f.R();
      });
      if (0 <= g) {
        var k = b[g];
        pb(b, g);
        k.Qh(f);
        f = k;
      }
      Ab(b, f, bw);
    }
  }
  for (a = 0;a < c.length;a++) {
    for (g = c[a], d = b.length - 1;0 <= d;--d) {
      if (k = b[d], g.ta() == k.ta() && g.R() == k.R()) {
        b.splice(a, 1);
        break;
      }
    }
  }
  return b.map(function(a) {
    return a.Fe();
  });
}
;function iw(a) {
  this.a = a;
  if ("en" == a.lang) {
    a = a.b || ["stop", "stemmer", "metaphone"];
    for (var b = [], c = 0;c < a.length;c++) {
      "metaphone" == a[c] ? b.push(Tv) : "stemmer" == a[c] ? b.push(Uv) : "stop" == a[c] && b.push(Vv);
    }
    a = b;
  } else {
    a = [];
  }
  this.b = a;
}
function jw(a, b) {
  for (var c = 0;c < a.b.length;c++) {
    var d = a.b[c].a(b);
    if (d) {
      b = d;
    } else {
      return null;
    }
  }
  return b;
}
iw.prototype.parse = function(a) {
  var b = [];
  Xv(a, function(c, d) {
    b.push(a.substr(c, d));
  });
  return b;
};
iw.prototype.query = function(a, b, c, d) {
  a = kw(this, b);
  return 0 == a.length ? null : new ew(this.a, a, c || 10, d || 1);
};
function kw(a, b) {
  var c = [], d = [];
  Xv(b, function(a, e) {
    c.push(b.substr(a, e));
    d.push(a);
  });
  for (var e = [], f = 0;f < c.length;f++) {
    e[f] = jw(a, c[f]);
  }
  for (var g = [], k = 0, f = 0;f < c.length;f++) {
    var l = c[f], m = e[f], n = "*" == b.charAt(d[f] + l.length), p = n ? d[f] + l.length + 1 : d[f] + l.length, p = '"' == b.charAt(d[f] - 1) && '"' == b.charAt(p), r = "-" == b.charAt(p ? d[f] - 2 : d[f] - 1), v = .8;
    n ? v = .4 : p ? v = 1 : r ? v = 0 : null != m && (v = .6);
    l = new $v(v, l, m, d[f], 1 / (f + 2));
    g.push(l);
    k += l.qc();
  }
  for (f = 0;f < g.length;++f) {
    g[f].Ni = 1 / k;
  }
  return g;
}
iw.prototype.score = function(a, b, c) {
  var d = [], e = [];
  Xv(a, function(b, c) {
    d.push(a.substr(b, c));
    e.push(b);
  });
  for (var f = [], g = 0;g < d.length;g++) {
    f[g] = jw(this, d[g]);
  }
  var k = b.R();
  b = b.a;
  for (var l = [], g = 0;g < d.length;g++) {
    var m = d[g], n = f[g];
    if (null != n) {
      var p = kb(l, function(a) {
        return a.Y() == m;
      });
      p || (p = new Zv(k, b, c, m, n), l.push(p));
      p.Nf.push(e[g]);
    }
  }
  return l;
};
function lw(a, b, c, d) {
  for (var e = [], f = 0;f < a.a.count();f++) {
    var g = a.a.index(f);
    if (g.R() == b) {
      var k = Aj(d, g.a);
      w(k) && (e = e.concat(a.score(k, g, c)));
    }
  }
  return e;
}
;bl.prototype.search = function(a) {
  var b = gw(a);
  M(this.logger, "query " + a);
  var c = this.a.request("qb", b, Nj);
  ok(c, function() {
    var b = Sk(this);
    fw(a, function(e, f, g, k) {
      var l = kk(c);
      b.list(l, 4, e, f, sj(g), 100, 0, !1, !1);
      l.G(function(b) {
        var d = null;
        b instanceof Array || (d = b, b = []);
        for (var e = 0;e < b.length;e++) {
          var f;
          f = b[e];
          var g = f.id, g = w(g) ? Gj(g) : g, k = g[3];
          (f = 1 == this.type && k != this.value ? null : new dw(this, g[0], g[2], g[1], k, f.k, f.loc)) && a.f.push(f);
        }
        a.c--;
        b = 0 == a.c ? !1 : a.b[a.b.length - 1].h === this.h ? !0 : null;
        !0 === b ? hf(c, a) : !1 === b && c.callback(hw(a));
        if (d) {
          throw d;
        }
      }, k);
    });
  }, this);
  return c;
};
Em.prototype.Ii = function(a, b) {
  var c = this;
  b.a = new iw(b);
  $l(a, function(d, e) {
    function f(e) {
      var f = a.getName();
      Dk(e) && nk(d, function(a, g, k) {
        if (g) {
          k(a, g);
        } else {
          hf(d, a);
          var l = sj(oj([f, e], [f, e, "\uffff"])), F = b.getName();
          pl(c.a, F, l).G(function() {
            k(a, g);
          });
        }
      });
    }
    function g(b) {
      var e = a.getName();
      nk(d, function(a, f, g) {
        f ? g(a, f) : (hf(d, a), b && (b = sj(oj([e, b.lower], [e, b.upper, "\uffff"]))), pl(c.a, e, b).G(function() {
          g(a, f);
        }));
      });
    }
    function k(e, f) {
      var g = "k" == f || "j" == f, k = "j" == f || "a" == f, l = a.getName();
      nk(d, function(a, f, n) {
        hf(d, a);
        if (f) {
          n(a, f);
        } else {
          for (var U = b.getName(), W = k ? [a] : a, ua = k ? [e] : e, bb = 0;bb < W.length;bb++) {
            var Qa = W[bb];
            if (Dk(Qa)) {
              if (g) {
                var Wc = sj(oj([l, Qa], [l, Qa, "\uffff"]));
                pl(c.a, U, Wc);
              }
              Qa = lw(b.a, l, Qa, ua[bb]).map(function(a) {
                return a.Fe();
              });
              Qa = nl(c.a, U, Qa);
              bb == W.length - 1 && Qa.G(function() {
                n(a, f);
              });
            }
          }
        }
      });
    }
    var l = d.lf();
    "j" == l || "k" == l || "a" == l || "b" == l ? k(e[1], l) : "n" == l || "c" == l ? g(e[1]) : "m" == l && f(e[1]);
  });
};
Em.prototype.search = function(a, b, c, d) {
  var e = hm(this.b, a);
  if (!e) {
    throw new O('full text index catalog "' + a + '" not found.');
  }
  a = e.a.query(a, b, c, d);
  return a ? this.a.search(a) : (N(this.logger, 'query "' + b + '" contains only noise and search is ignored'), qk("qb", []));
};
function jv(a, b, c, d) {
  this.name = a;
  this.info = b || null;
  this.availableModules = c || null;
  this.modulesInfo = {};
  if (d) {
    for (a = 0;a < d.length;a++) {
      b = d[a];
      var e = "", f = "";
      c = void 0;
      for (c in b.module_fields) {
        var g = b.module_fields[c];
        if (g) {
          c = g.name || c;
          0 <= "created_by created_by_name date_entered date_modified deleted modified_user_id modified_by_name id".split(" ").indexOf(c) && (g.calculated = !0);
          0 <= ["date_start", "date_end", "date_due", "duration_hours", "duration_minutes"].indexOf(c) && (g.group = "appointment");
          0 <= ["Contacts", "Leads"].indexOf(b.module_name) && 0 <= ["salutation", "name", "last_name", "first_name", "full_name"].indexOf(c) && (g.group = "name");
          0 <= ["Contacts", "Leads"].indexOf(b.module_name) && 0 <= ["assistant", "assistant_phone"].indexOf(c) && (g.group = "assistant");
          if (0 <= ["amount", "amount_usdollar", "best_case", "worst_case"].indexOf(c)) {
            g.group = "amount";
          } else {
            if (0 <= ["assigned_user_name"].indexOf(c)) {
              g.group = "assigned_user_name";
            } else {
              if (0 <= ["contact_name", "contact_phone", "contact_email", "contact_id"].indexOf(c)) {
                g.group = "contact";
              } else {
                if (0 <= ["account_name", "account_name1", "account_id"].indexOf(c)) {
                  g.group = "account";
                } else {
                  if (0 <= ["parent_name", "parent_type", "parent_id"].indexOf(c)) {
                    g.group = "parent";
                  } else {
                    if (/^email\d?$/.test(c)) {
                      g.group = "email";
                    } else {
                      if (/^phone?/.test(c)) {
                        g.group = "phone";
                      } else {
                        if (!g.group && xa(c, "billing_address")) {
                          g.group = "billing_address";
                        } else {
                          if (!g.group && xa(c, "shipping_address")) {
                            g.group = "shipping_address";
                          } else {
                            if (!g.group && xa(c, e)) {
                              g.group = f;
                              continue;
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
          g.group || (g.group = "");
          e = c;
          f = g.group;
        }
      }
      b.module_fields && b.module_fields.parent_type && b.module_fields.parent_name && u(b.module_fields.parent_type.options) && x(b.module_fields.parent_name.options) && 0 == b.module_fields.parent_type.options.length && (b.module_fields.parent_type.options = Ob(b.module_fields.parent_name.options));
      if (b.link_fields) {
        for (c in b.link_fields) {
          e = b.link_fields[c], "contact" != c || e.module || (e.module = "Contacts");
        }
      }
      this.modulesInfo[d[a].module_name] = d[a];
    }
  }
  this.b = {};
  this.a = null;
}
var mw = {Accounts:{FullTextIndex:{name:["name"]}, GeneratorIndex:{ydn$emails:["email", "email1", "email_addresses_non_primary"], ydn$phones:["phone_office", "phone_alternate", "phone_fax"]}}, Cases:{FullTextIndex:{name:["name"], content:["description", "case_number", "account_name"]}, indexes:[{name:"account_id"}, {name:"assigned_user_id, date_modified", keyPath:["assigned_user_id", "date_modified"]}, {name:"case_number"}]}, Calls:{FullTextIndex:{name:["name"], content:["description"]}, indexes:[{name:"parent", 
keyPath:["parent_type", "parent_id", "date_modified"]}, {name:"assigned_user_id, date_start", keyPath:["assigned_user_id", "date_start"]}]}, Contacts:{FullTextIndex:{name:["name", "first_name", "last_name", "full_name"]}, GeneratorIndex:{ydn$emails:["email", "email1", "email2"], ydn$phones:["phone_home", "phone_mobile", "phone_work", "phone_other", "phone_fax"]}, indexes:[{name:"sync_contact"}, {name:"ydn$sync_contact", generator:function(a) {
  return !0 === a.sync_contact || "1" === a.sync_contact ? "1" : "0";
}}]}, Documents:{FullTextIndex:{name:["name", "document_name", "filename"], content:["description"]}, indexes:[{name:"parent", keyPath:["doc_type", "doc_id"]}, {name:"filename"}]}, Emails:{FullTextIndex:{name:["name"], content:["content", "description"]}, GeneratorIndex:{ydn$emails:["bcc_addrs", "cc_addrs", "from_addr", "to_addrs", "reply_to_addr"]}, indexes:[{name:"parent", keyPath:["parent_type", "parent_id", "date_modified"]}, {name:"message_id"}]}, Employees:{FullTextIndex:{name:["name"]}, indexes:[{name:"email", 
keyPath:"email1"}]}, Leads:{FullTextIndex:{name:["name", "first_name", "last_name", "full_name"]}, GeneratorIndex:{ydn$emails:["email", "email1", "email2"], ydn$phones:["phone_home", "phone_mobile", "phone_work", "phone_other", "phone_fax"]}}, Meetings:{FullTextIndex:{name:["name"], content:["description"]}, indexes:[{name:"date_start"}, {name:"parent", keyPath:["parent_type", "parent_id", "date_modified"]}, {name:"assigned_user_id, date_start", keyPath:["assigned_user_id", "date_start"]}]}, Notes:{FullTextIndex:{name:["name"], 
content:["description"]}, indexes:[{name:"parent", keyPath:["parent_type", "parent_id", "date_modified"]}, {name:"filename"}]}, Opportunities:{FullTextIndex:{name:["name"], content:["description"]}, indexes:{name:"assigned_user_id, date_closed", keyPath:["assigned_user_id", "date_closed"]}}, Tasks:{FullTextIndex:{name:["name"], content:["description"]}, indexes:[{name:"parent", keyPath:["parent_type", "parent_id", "date_modified"]}, {name:"assigned_user_id, date_due", keyPath:["assigned_user_id", 
"date_due"]}]}, Users:{GeneratorIndex:{ydn$emails:["email", "email1", "email2"]}}};
function nw(a, b) {
  var c = [], d = a.modulesInfo[b];
  if (!d) {
    return c;
  }
  for (var e in d.link_fields) {
    var f = d.link_fields[e];
    if (f.module && !mb(c, f.module)) {
      c.push(f.module);
    } else {
      a: {
        var g = void 0;
        for (g in a.modulesInfo) {
          var k = a.modulesInfo[g];
          if (k.table_name == f.name) {
            f = k.module_name || g;
            break a;
          }
        }
        f = null;
      }
      f && !mb(c, f) && c.push(f);
    }
  }
  return c;
}
function kv(a) {
  if ("Home" == a.module_key) {
    return null;
  }
  if (a.acls) {
    for (var b = 0;b < a.acls.length;b++) {
      if ("view" == a.acls[b].action && !a.acls[b].access) {
        return null;
      }
    }
  }
  return a.module_key;
}
function ow(a, b) {
  return "ydn$emails" == b ? {name:b, multiEntry:!0, generator:function(b) {
    var d = [], e;
    for (e in b) {
      if (0 <= a.indexOf(e)) {
        if (w(b[e])) {
          if (/addrs$/.test(e)) {
            for (var f = b[e].split(","), g = 0;g < f.length;g++) {
              var k = Eo(f[g]);
              k && d.push(k);
            }
          } else {
            (k = Eo(b[e])) && d.push(k);
          }
        } else {
          if (fa(b[e]) && b[e][0] && b[e][0].email_address) {
            for (f = b[e], g = 0;g < f.length;g++) {
              f[g] && w(f[g].email_address) && (k = Eo(f[g].email_address)) && d.push(k);
            }
          }
        }
      }
    }
    return d;
  }} : "ydn$phones" == b ? {name:b, multiEntry:!0, generator:function(b) {
    var d = [], e;
    for (e in b) {
      if (0 <= a.indexOf(e)) {
        var f = Do(b[e]);
        f && d.push(f);
      }
    }
    return d;
  }} : null;
}
function pw(a, b) {
  if (a.a) {
    for (var c = 0;c < a.a.stores.length;c++) {
      if (a.a.stores[c].name == b) {
        return a.a.stores[c];
      }
    }
  }
  var c = a.b[b] || mw[b] || {}, d = {name:b, keyPath:c.keyPath || "id", indexes:[{name:"name"}, {name:"date_modified"}, {name:"deleted"}, {name:"assigned_user_id, name", keyPath:["assigned_user_id", "name"]}]}, e = ["ydn$emails", "ydn$phones", "ydn$names"];
  c.indexes && (d.indexes = d.indexes.concat(c.indexes));
  for (var f = c.GeneratorIndex || {}, c = 0;c < e.length;c++) {
    var g = e[c], k = f[g];
    !k || u(k) && 0 == k.length || d.indexes.push(ow(k, g));
  }
  return d;
}
function qw(a, b) {
  for (var c = [], d = 0;d < a.a.stores.length;d++) {
    var e = a.a.stores[d];
    if ("Emails" != e.name && (!b || "ydn-crm-su-record" != e.name) && e.indexes) {
      for (var f = 0;f < e.indexes.length;f++) {
        "ydn$emails" != e.indexes[f].name && "ydn$emails" != e.indexes[f].keyPath || c.push(e.name);
      }
    }
  }
  return c;
}
function rw(a) {
  if (a.a) {
    return a.a;
  }
  var b = [{name:"name"}, {name:"_module, name", keyPath:["_module", "name"]}, {name:"_module"}, {name:"date_modified"}, {name:"_module, date_modified", keyPath:["_module", "date_modified"]}, {name:"deleted"}, {name:"_module, deleted", keyPath:["_module", "deleted"]}, {name:"assigned_user_id, name", keyPath:["assigned_user_id", "name"]}];
  b.push(ow(["email", "email1", "email2"], "ydn$emails"));
  b = {fullTextCatalogs:[], stores:[{name:"history", autoIncrement:!0, indexes:[{keyPath:"type"}, {keyPath:"timestamp"}]}, {name:"Meta"}, {name:"relationships", keyPath:["from.module_name", "from.id", "to.module_name", "to.id"]}, {name:"ydn-crm-su-record", keyPath:["_module", "id"], indexes:b}]};
  b.fullTextCatalogs.push({name:"ft-ydn-crm-su-record-name", lang:"en", sources:[{storeName:"ydn-crm-su-record", keyPath:"name"}]});
  b.fullTextCatalogs.push({name:"ft-ydn-crm-su-record-content", lang:"en", sources:[{storeName:"ydn-crm-su-record", keyPath:"description"}]});
  for (var c = 0;c < ir.length;c++) {
    var d = ir[c];
    b.stores.push(pw(a, d));
    var e = a.b[d] || mw[d] || {};
    if (e.FullTextIndex) {
      for (var f in e.FullTextIndex) {
        var g = e.FullTextIndex[f];
        if (0 < g.length) {
          for (var k = {name:"ft-" + d + "-" + f, lang:"en", sources:[]}, l = 0;l < g.length;l++) {
            k.sources.push({storeName:d, keyPath:g[l]});
          }
          b.fullTextCatalogs.push(k);
        }
      }
    }
  }
  a.a = b;
  return a.a;
}
;function sw(a, b) {
  G.call(this, "le", a);
  this.domain = b;
}
A(sw, G);
function tw(a, b) {
  G.call(this, "pr", a);
  this.module = b;
}
A(tw, G);
function uw(a, b, c) {
  function d(d, f) {
    b[d] && (a[c + f] || b[d].$t) && a[c + f] != b[d].$t && (a[c + f] = b[d].$t, e++);
  }
  var e = 0;
  if (!b) {
    return e;
  }
  d("gd$city", "_address_city");
  d("gd$country", "_address_country");
  d("gd$postcode", "_address_postalcode");
  d("gd$region", "_address_state");
  d("gd$street", "_address_street");
  if (b.gd$formattedAddress && b.gd$formattedAddress.$t) {
    var f = b.gd$formattedAddress.$t.split(/\n+/);
    a[c + "_address_street"] = f[0];
    a[c + "_address_street_2"] = f[1] || "";
    a[c + "_address_street_3"] = f[2] || "";
  }
  return e;
}
function vw(a, b, c) {
  function d(d, f) {
    !a[c + f] || b[d] && b[d].$t == a[c + f] || (e++, b[d] = {$t:a[c + f]});
  }
  var e = 0;
  if (!a) {
    return 0;
  }
  b || (b = {});
  d("gd$city", "_address_city");
  d("gd$country", "_address_country");
  d("gd$postcode", "_address_postalcode");
  d("gd$region", "_address_state");
  d("gd$street", "_address_street");
  var f = [];
  a[c + "_address_street"] && f.push(a[c + "_address_street"]);
  a[c + "_address_street_2"] && f.push(a[c + "_address_street_2"]);
  a[c + "_address_street_3"] && f.push(a[c + "_address_street_3"]);
  f = f.join("\n");
  za(f) || (b.gd$formattedAddress = {$t:f});
  e && !b.rel && ("primary" == c ? (b.rel = "http://schemas.google.com/g/2005#work", b.primary = "true") : b.rel = "http://schemas.google.com/g/2005#other");
  return e;
}
function ww(a, b) {
  return a || b ? a && b ? a.replace(/\D+/g, "") == b.replace(/\D+/g, "") : !1 : !0;
}
function xw(a, b) {
  function c(a, c) {
    for (var e = 0;e < l.length;e++) {
      var f = l[e];
      if (f.rel == c && f.$t) {
        ww(b[a], f.$t) || (b[a] = f.$t, d++);
        break;
      }
    }
  }
  var d = 0;
  a.title && a.title.$t && !b.name && (b.name = a.title.$t);
  for (var e = [], f = a.gd$email ? u(a.gd$email) ? a.gd$email : [a.gd$email] : [], g = 0;g < f.length;g++) {
    var k = f[g];
    k.primary ? e.unshift(k.address) : e.push(k.address);
  }
  (e[0] || b.email1) && e[0] != b.email1 && (d++, b.email1 = e[0]);
  (e[1] || b.email2) && e[1] != b.email2 && (d++, b.email2 = e[1]);
  (e[2] || b.email_addresses_non_primary) && e[2] != b.email_addresses_non_primary && (b.email_addresses_non_primary = e[2]);
  a.gd$name && (a.gd$name.gd$namePrefix && b.salutation != a.gd$name.gd$namePrefix.$t && (b.salutation = a.gd$name.gd$namePrefix.$t), a.gd$name.gd$givenName && b.first_name != a.gd$name.gd$givenName.$t && (b.first_name = a.gd$name.gd$givenName.$t, d++), a.gd$name.gd$familyName && b.last_name != a.gd$name.gd$familyName.$t && (b.last_name = a.gd$name.gd$familyName.$t, d++), a.gd$name.gd$fullName && b.full_name != a.gd$name.gd$fullName.$t && (b.full_name = a.gd$name.gd$fullName.$t));
  a.gd$organization && a.gd$organization[0] && (g = a.gd$organization[0], g.gd$orgTitle && g.gd$orgTitle.$t != b.title && (b.title = g.gd$orgTitle.$t, d++), g.gd$orgDepartment && g.gd$orgDepartment.$t != b.department && (b.department = g.gd$orgDepartment.$t, d++), g.gd$orgJobDescription && g.gd$orgJobDescription.$t != b.description && (b.description = g.gd$orgJobDescription.$t, d++));
  if (a.gd$im) {
    for (g = 0;g < a.gd$im.length;g++) {
      "Twitter" == a.gd$im[g].label && b.twitter != a.gd$im[g].address ? (b.twitter = a.gd$im[g].address, d++) : "Facebook" == a.gd$im[g].label && b.facebook != a.gd$im[g].address ? (b.facebook = a.gd$im[g].address, d++) : "Google Plus" == a.gd$im[g].label && b.googleplus != a.gd$im[g].address ? (b.googleplus = a.gd$im[g].address, d++) : "Linkedin" == a.gd$im[g].label && b.linkedin != a.gd$im[g].address && (b.linkedin = a.gd$im[g].address, d++);
    }
  }
  a.gContact$birthday && b.birthdate != a.gContact$birthday.when && (b.birthdate = a.gContact$birthday.when, d++);
  var l = a.gd$phoneNumber ? u(a.gd$phoneNumber) ? a.gd$phoneNumber : [a.gd$phoneNumber] : [];
  c("phone_work", "http://schemas.google.com/g/2005#work");
  c("phone_mobile", "http://schemas.google.com/g/2005#mobile");
  c("phone_home", "http://schemas.google.com/g/2005#home");
  c("phone_fax", "http://schemas.google.com/g/2005#fax");
  c("phone_other", "http://schemas.google.com/g/2005#other");
  if (a.gd$structuredPostalAddress) {
    f = e = -1;
    for (g = 0;g < a.gd$structuredPostalAddress.length;g++) {
      a.gd$structuredPostalAddress[g].primary ? e = g : f = g;
    }
    d += uw(b, a.gd$structuredPostalAddress[e], "primary");
    d += uw(b, a.gd$structuredPostalAddress[f], "alt");
  }
  return d;
}
function yw(a, b) {
  return {label:a, address:b};
}
function zw(a, b) {
  function c(a, c) {
    if (g[a]) {
      b.gd$phoneNumber || (b.gd$phoneNumber = []);
      var d;
      a: {
        d = g[a];
        for (var e = null, f = 0;b.gd$phoneNumber && f < b.gd$phoneNumber.length;f++) {
          if (b.gd$phoneNumber[f].rel == c) {
            if (!d || ww(b.gd$phoneNumber[f].$t, d)) {
              d = b.gd$phoneNumber[f];
              break a;
            }
            e = b.gd$phoneNumber[f];
          }
        }
        d = e;
      }
      d ? ww(d.$t, g[a]) || (d.$t = g[a], k++) : (u(b.gd$phoneNumber) || (b.gd$phoneNumber = [b.gd$phoneNumber]), b.gd$phoneNumber.push({rel:c, $t:g[a]}), k++);
    }
  }
  function d(a) {
    b.gd$im || (b.gd$im = []);
    for (var c = 0;c < b.gd$im.length;c++) {
      if (b.gd$im[c].label == a) {
        return b.gd$im[c];
      }
    }
    return null;
  }
  function e() {
    b.gd$name || (b.gd$name = {});
  }
  function f(a, c) {
    if (g[a]) {
      b.gd$email ? fa(b.gd$email) || (b.gd$email = [b.gd$email]) : b.gd$email = [];
      var d;
      a: {
        d = g[a];
        for (var e = 0;b.gd$email && e < b.gd$email.length;e++) {
          if (!(0 <= l.indexOf(e)) && b.gd$email[e].address == d) {
            d = e;
            break a;
          }
        }
        d = -1;
      }
      0 <= d ? (e = b.gd$email[d], e.rel != c && (k++, e.rel = c), l.push(d)) : (b.gd$email.push({rel:c, address:g[a]}), l.push(b.gd$email.length - 1), k++);
    }
  }
  var g = a.getData(), k = 0;
  g.name && !b.title && (b.title = {$t:g.name});
  var l = [];
  f("email1", "http://schemas.google.com/g/2005#work");
  f("email2", "http://schemas.google.com/g/2005#home");
  g.salutation && (e(), b.gd$name.gd$namePrefix && b.gd$name.gd$namePrefix.$t == g.salutation || (b.gd$name.gd$namePrefix = {$t:g.salutation}));
  g.first_name && (e(), b.gd$name.gd$givenName && b.gd$name.gd$givenName.$t == g.first_name || (b.gd$name.gd$givenName = {$t:g.first_name}, k++));
  g.last_name && (e(), b.gd$name.gd$familyName && b.gd$name.gd$familyName.$t == g.last_name || (b.gd$name.gd$familyName = {$t:g.last_name}, k++));
  g.full_name && (e(), b.gd$name.gd$fullName && b.gd$name.gd$fullName.$t == g.full_name || (b.gd$name.gd$fullName = {$t:g.full_name}));
  if (g.twitter) {
    var m = d("Twitter");
    m ? m.address != g.twitter && (m.address = g.twitter, k++) : (b.gd$im.push(yw("Twitter", g.twitter)), k++);
  }
  g.facebook && ((m = d("Facebook"), m) ? m.address != g.facebook && (m.address = g.facebook, k++) : (b.gd$im.push(yw("Facebook", g.facebook)), k++));
  g.googleplus && ((m = d("Google Plus"), m) ? m.address != g.googleplus && (m.address = g.googleplus, k++) : (b.gd$im.push(yw("Google Plus", g.googleplus)), k++));
  g.linkedin && ((m = d("Linkedin"), m) ? m.address != g.linkedin && (m.address = g.linkedin, k++) : (b.gd$im.push(yw("Linkedin", g.linkedin)), k++));
  !g.birthdate || b.gContact$birthday && b.gContact$birthday.when == g.birthdate || (b.gContact$birthday = {when:g.birthdate}, k++);
  c("phone_work", "http://schemas.google.com/g/2005#work");
  c("phone_mobile", "http://schemas.google.com/g/2005#mobile");
  c("phone_home", "http://schemas.google.com/g/2005#home");
  c("phone_fax", "http://schemas.google.com/g/2005#fax");
  c("phone_other", "http://schemas.google.com/g/2005#other");
  var n = -1, m = -1;
  if (b.gd$structuredPostalAddress) {
    u(b.gd$structuredPostalAddress) || (b.gd$structuredPostalAddress = [b.gd$structuredPostalAddress]);
    for (var p = 0;p < b.gd$structuredPostalAddress.length;p++) {
      -1 == n && "true" == b.gd$structuredPostalAddress[p].primary ? n = p : -1 == m && (m = p);
    }
  }
  if (0 <= n) {
    k += vw(g, b.gd$structuredPostalAddress[n], "primary");
  } else {
    if (p = {primary:"true", rel:"http://schemas.google.com/g/2005#work"}, n = vw(g, p, "primary"), 0 < n) {
      b.gd$structuredPostalAddress ? u(b.gd$structuredPostalAddress) || (b.gd$structuredPostalAddress = [b.gd$structuredPostalAddress]) : b.gd$structuredPostalAddress = [], b.gd$structuredPostalAddress.push(p), k += n;
    }
  }
  0 <= m ? k += vw(g, b.gd$structuredPostalAddress[m], "alt") : (p = {}, n = vw(g, p, "alt"), 0 < n && (b.gd$structuredPostalAddress || (b.gd$structuredPostalAddress = []), b.gd$structuredPostalAddress.push(p), k += n));
  if (b.gd$structuredPostalAddress && 1 <= b.gd$structuredPostalAddress.length) {
    m = !1;
    for (p = 0;p < b.gd$structuredPostalAddress.length;p++) {
      "true" == b.gd$structuredPostalAddress[p].primary && (m ? delete b.gd$structuredPostalAddress[p].primary : m = !0);
    }
    m || (b.gd$structuredPostalAddress[0].primary = "true");
  }
  return k;
}
;function Aw(a) {
  for (var b = Bw, c = 0;c < b.b.length;c++) {
    var d = b.b[c], e = b.a[a];
    e && d.f(a, e);
  }
}
var Bw = new function() {
  this.a = [];
  this.b = [];
};
function Cw(a, b, c) {
  Bw.a.push({title:a, update:b, type:c || ""});
  a = Bw.a.length - 20;
  0 <= a && (Bw.a[a] = void 0);
  a = Bw.a.length - 1;
  Aw(a);
  return a;
}
function Dw(a, b, c) {
  var d = Bw.a[a];
  d && (d.title = b, c && (d.update = c), Aw(a));
}
function Ew(a, b, c) {
  var d = Bw.a[a];
  d && (d.update = b, c && (d.type = c), Aw(a));
}
function Fw(a, b, c, d) {
  var e = Bw.a[a];
  e && (b ? (e.Lc = b, e.Kf = c || b, e.ye = d || "") : (e.Lc = void 0, e.Kf = void 0, e.ye = void 0), Aw(a));
}
;function Gw(a, b) {
  this.c = a || "id";
  this.b = !!b;
  this.a = [];
}
Gw.prototype.add = function(a) {
  if (!a) {
    return !1;
  }
  var b = this.c, c = this.b;
  return Ab(this.a, a, function(a, e) {
    return a.id == e.id ? 0 : a[b] > e[b] ? c ? -1 : 1 : c ? 1 : -1;
  });
};
var Hw = {}, Iw = {};
function Jw() {
  throw Error("Do not instantiate directly");
}
Jw.prototype.c = null;
Jw.prototype.va = function() {
  return this.b;
};
Jw.prototype.toString = function() {
  return this.b;
};
function Kw(a, b) {
  var c;
  a: {
    var d = a(b || Lw, void 0, void 0);
    c = dh().createElement("DIV");
    d = Mw(d);
    c.innerHTML = d;
    if (1 == c.childNodes.length && (d = c.firstChild, 1 == d.nodeType)) {
      c = d;
      break a;
    }
  }
  return c;
}
function Mw(a) {
  if (!x(a)) {
    return String(a);
  }
  if (a instanceof Jw) {
    if (a.a === Hw) {
      return a.va();
    }
    if (a.a === Iw) {
      return Ca(a.va());
    }
  }
  return "zSoyz";
}
var Lw = {};
var Nw = null;
function Ow(a, b) {
  var c = new XMLHttpRequest;
  c.open("GET", a, !!b);
  c.onload = function() {
    Nw = c.responseXML;
    c = null;
    b && b();
  };
  c.send();
}
function Pw(a, b) {
  var c = document.createElementNS("http://www.w3.org/2000/svg", "svg");
  if (!Nw) {
    var d = chrome.extension.getURL("image/all-icons.svg");
    Ow(d, void 0);
  }
  if (d = Nw.getElementById(a)) {
    c.setAttribute("viewBox", d.getAttribute("viewBox")), c.innerHTML = d.innerHTML;
  }
  2 > arguments.length ? c.classList.add("icons") : w(b) && c.classList.add(b);
  return c;
}
function Qw(a) {
  a = a || 0;
  var b = document.querySelector(".popup-content");
  return b && (b = b.style.maxHeight.match(/100vh - (\d+)px/)) ? "calc(100vh - " + (parseInt(b[1], 10) + 130 + a) + "px)" : "";
}
function Rw(a) {
  var b = Qw(void 0);
  b && (a.style.overflowY = "auto", a.style.maxHeight = b);
}
var Sw = "About;Context;SugarCRM Modules;DesktopHome;SettingPage;DesktopSearch;RecordPage;TrackingPage;SugarSearch;ModuleHome".split(";");
function Tw() {
  return "#page/SettingPage/Sugar Setting";
}
function Uw(a) {
  a = a || "";
  if (xa(a, "#page/")) {
    var b = a.indexOf("/", 7);
    if (0 <= b) {
      return {name:a.substring(6, b), ll:a.substr(b + 1)};
    }
  }
  return null;
}
;function Vw(a, b) {
  this.Rb = null;
  this.a = a || {};
  this.Dh = mm(b || []);
}
Vw.prototype.render = function(a) {
  this.Rb = document.createElement("div");
  this.Rb.className = "more-menu";
  var b = Pw(this.a.Iq || "menu"), c = document.createElement("div");
  c.className = "svg-button";
  c.appendChild(b);
  b = Ww(this.Dh);
  b.classList.add("flyout-menu");
  b.classList.add("left-menu");
  this.Rb.appendChild(c);
  this.Rb.appendChild(b);
  a.appendChild(this.Rb);
};
function Xw(a, b) {
  if (a && a instanceof Element) {
    if (a.classList.contains("goog-menuitem")) {
      var c = a.getAttribute("name");
      return Xw(a.parentElement, b ? c + "," + b : c);
    }
    if (a.classList.contains("goog-menu")) {
      return Xw(a.parentElement, b);
    }
  }
  return b;
}
function Yw(a) {
  var b = null;
  a.target instanceof Element && (a.target.classList.contains("goog-menuitem") ? b = a.target : a.target.parentElement && a.target.parentElement.classList.contains("goog-menuitem") && (b = a.target.parentElement));
  if (b) {
    a.preventDefault();
    a.stopPropagation();
    a = b.classList.contains("goog-menuitem-disabled");
    var c = Jh(b, "flyout-menu");
    R(c, !1);
    setTimeout(function() {
      R(c, !0);
    }, 1E3);
    return a ? null : Xw(b, "");
  }
  return null;
}
Vw.prototype.g = function() {
  return this.Rb;
};
function Ww(a) {
  for (var b = dh(), c = [], d = 0;d < a.length;d++) {
    var e = a[d];
    if (e) {
      var f = [b.w("div", {"class":"goog-menuitem-content"}, e.label)];
      if ("bool" == e.type) {
        var g = b.w("div", {"class":"goog-menuitem-checkbox", role:"menuitem"});
        f.unshift(g);
      }
      e.children && (g = Pw("arrow-drop-right"), g.classList.add("left-arrow"), f.unshift(g));
      g = {"class":"goog-menuitem", role:"bool" == e.type ? "goog-menuitem-checkbox" : "menuitem"};
      e.title && (g.title = e.title);
      f = b.w("div", g, f);
      f.setAttribute("name", e.name);
      e.value && f.classList.add("goog-option-selected");
      e.children && (g = Ww(e.children), f.appendChild(g));
      e.disabled && f.classList.add("goog-menuitem-disabled");
      c.push(f);
    } else {
      e = b.w("div", {"class":"goog-menuseparator", role:"separator"}), c.push(e);
    }
  }
  return b.w("div", {"class":"goog-menu goog-menu-vertical", role:"menu"}, c);
}
function Zw(a, b) {
  var c = document.createElement("span");
  c.className = "flyout-button";
  var d = Pw("menu"), e = Ww(b);
  e.classList.add("flyout-menu");
  e.classList.add("left-menu");
  c.appendChild(d);
  c.appendChild(e);
  a.classList.add("more-menu");
  a.appendChild(c);
}
function $w(a, b, c, d) {
  if (a = a.querySelector('div.goog-menuitem[name="' + b + '"]')) {
    a = a.querySelector(".goog-menuitem-content"), a.textContent = c, a.setAttribute("title", d || "");
  }
}
function ax(a, b, c) {
  (a = a.g().querySelector('div.goog-menuitem[name="' + b + '"]')) && (c ? a.classList.remove("goog-menuitem-disabled") : a.classList.add("goog-menuitem-disabled"));
}
;function bx(a, b) {
  this.module = a;
  this.a = b || "";
}
h = bx.prototype;
h.Ib = function(a) {
  return (a = cx(this.module, a)) ? a.group == this.a : !1;
};
h.Lh = function() {
  var a = dx(this.module), b = [], c;
  for (c in a.module_fields) {
    var d = a.module_fields[c], e = d.name;
    this.a && d.group == this.a ? b.push(e) : this.a || d.group || b.push(e);
  }
  return b;
};
h.$g = function(a) {
  return this.module.value(a);
};
h.cg = function(a) {
  if (!this.a) {
    if ("status" == a) {
      return "Planned";
    }
    if ("priority" == a) {
      return "Medium";
    }
    if ("sales_stage" == a) {
      return "Prospecting";
    }
  }
  return null;
};
h.ri = function(a) {
  return null != this.module.a.a[a];
};
h.tb = function() {
  var a = this.a.replace("_", " ");
  return a = a.charAt(0).toUpperCase() + a.substr(1);
};
h.Hb = function() {
  return null;
};
h.Hj = function() {
  return !1;
};
h.Ek = function() {
  return null;
};
h.Vg = function() {
  return null;
};
h.Xd = function(a) {
  if (!x(a)) {
    return null;
  }
  var b = !1, c = {}, d;
  for (d in a) {
    if (this.Ib(d)) {
      var e = this.module.value(d);
      a[d] !== e && (b = !0, c[d] = a[d]);
    }
  }
  return b ? c : null;
};
function ex(a, b) {
  bx.call(this, a, b);
}
A(ex, bx);
ex.prototype.Hb = function() {
  return fx(this.module, this.c());
};
function gx(a) {
  bx.call(this, a, "account");
}
A(gx, ex);
gx.prototype.tb = function() {
  return "Account";
};
gx.prototype.b = function() {
  return "account_id";
};
gx.prototype.c = function() {
  return "account_name";
};
gx.prototype.f = function() {
  return "Accounts";
};
function hx(a, b) {
  bx.call(this, a, b);
}
A(hx, bx);
function ix(a, b) {
  return jx(a.module, a.a + "_" + b);
}
function kx(a, b, c, d, e, f) {
  var g = "";
  a && (g += a);
  c ? g = d ? c + " " + d + ", " + g : g + (" " + c) : d && (g += " " + d);
  g || (g = e || "");
  g || (g = f || "");
  b && (g = b + " " + g);
  return g;
}
hx.prototype.Hb = function() {
  var a = ix(this, "country"), b = ix(this, "city"), c = ix(this, "state"), d = ix(this, "postalcode"), e = ix(this, "street") || "", f = ix(this, "street_2") || "";
  return kx(a, b, c, d, e, f);
};
hx.prototype.Vg = function() {
  return {label:"Edit", name:lx, type:"text"};
};
function mx(a, b) {
  this.parent = a;
  this.a = b;
}
h = mx.prototype;
h.Pa = function() {
  return this.a;
};
h.Ac = function() {
  return cx(this.parent.module, this.a);
};
function nx(a) {
  return (a = a.Ac()) ? a.group : "";
}
h.Uc = function() {
  return fx(this.parent.module, this.a);
};
function ox(a) {
  a = a.parent.cg(a.a);
  return w(a) ? a : null;
}
h.nc = function() {
  return this.parent.module.value(this.a);
};
h.dg = function() {
  return null != this.parent.module.a.a[this.a];
};
function px(a) {
  a = a.Ac();
  return w(a.label) ? a.label.replace(/:$/, "") : a.label;
}
function qx(a) {
  return (a = a.Ac()) ? a.type || "varchar" : "varchar";
}
function rx(a) {
  return (a = a.Ac()) ? !!a.calculated : !1;
}
var lx = "edit", sx = {Wp:"add", aq:lx, lq:"optout", mq:"primary", oq:"remove"};
mx.prototype.mf = function() {
  return [];
};
mx.prototype.Fk = function(a) {
  if (rx(this) || a === this.Uc()) {
    return null;
  }
  var b = {};
  b[this.a] = a;
  return b;
};
function tx(a, b) {
  bx.call(this, a, b);
  this.eb = [];
}
A(tx, bx);
tx.prototype.Hc = function(a) {
  var b = ux(this, a);
  if (b) {
    return b;
  }
  cx(this.module, a);
  b = new mx(this, a);
  this.eb.push(b);
  return b;
};
function ux(a, b) {
  for (var c = 0;c < a.eb.length;c++) {
    if (a.eb[c].Pa() == b) {
      return a.eb[c];
    }
  }
  return null;
}
;function vx(a) {
  tx.call(this, a, "appointment");
  a = new Date;
  var b = a.getFullYear(), c = a.getMonth(), d = a.getDate(), e = a.getHours(), e = 30 < a.getMinutes() ? e + 1 : e + 2;
  this.b = new Date(b, c, d, e);
}
A(vx, tx);
vx.prototype.cg = function(a) {
  if ("date_end" == a || "date_due" == a) {
    return uu(new Date(18E5 + this.b.getTime()));
  }
  if ("duration_hours" == a) {
    return "0";
  }
  if ("duration_minutes" == a) {
    return "30";
  }
  if ("date_start" == a) {
    return uu(this.b);
  }
};
function wx(a) {
  bx.call(this, a, "assigned_user_name");
}
A(wx, bx);
wx.prototype.tb = function() {
  return "Assign user";
};
wx.prototype.Xd = function(a) {
  return x(a) && a.assigned_user_id && a.assigned_user_id != this.$g("assigned_user_id") ? a : null;
};
wx.prototype.Hb = function() {
  var a = fx(this.module, "assigned_user_name");
  return a ? a : yr(this.module.parent.b, "name") || "";
};
function xx(a) {
  bx.call(this, a, "contact");
}
A(xx, ex);
xx.prototype.tb = function() {
  return "Contact";
};
xx.prototype.b = function() {
  return "contact_id";
};
xx.prototype.c = function() {
  return "contact_name";
};
xx.prototype.f = function() {
  return "Contacts";
};
function yx(a, b) {
  mx.call(this, a, b);
}
A(yx, mx);
h = yx.prototype;
h.Uc = function() {
  return zx(this.parent, this.a);
};
h.dg = function() {
  return this.parent.ri(this.a);
};
h.nc = function() {
  return this.parent.$g(this.a);
};
h.Ac = function() {
  return cx(this.parent.module, this.a) || cx(this.parent.module, "email");
};
h.Fk = function(a) {
  if (!a) {
    return null;
  }
  var b = this.parent;
  if (Ax(b)) {
    for (var b = Bx(b), c = 0;c < b.length;c++) {
      var d = b[c];
      if (b[c].email_address_id == this.a) {
        if (d.email_address == a) {
          return null;
        }
        b[c].email_address = a;
        b[c].email_address_caps = a.toUpperCase();
        return {email:b};
      }
    }
    b = {};
    b[this.a] = a;
    return b;
  }
  if (b.module.value(this.a) == a) {
    return null;
  }
  b = {};
  b[this.a] = a;
  return b;
};
function Cx(a) {
  var b = a.parent;
  if (Ax(b)) {
    for (var c = Bx(b), b = 0;b < c.length;b++) {
      if (c[b].email_address_id == a.a) {
        return a = mm(c), a.splice(b, 1), {email:a};
      }
    }
    return null;
  }
  return b.module.value(a.a) ? (b = {}, b[a.a] = void 0, b) : null;
}
h.mf = function() {
  var a;
  a: {
    var b = this.parent;
    a = this.a;
    var c = b.module.value("email");
    if (u(c)) {
      for (b = 0;b < c.length;b++) {
        var d = c[b];
        if (d.email_address_id == a) {
          a = "1" == d.opt_out;
          break a;
        }
      }
      a = null;
    } else {
      a = "email" == a ? "1" == b.module.value("email_opt_out") : null;
    }
  }
  return [{name:"remove", label:"Remove"}, {name:"optout", label:"Opt out", type:"bool", value:a}];
};
function Dx(a) {
  tx.call(this, a, "email");
}
A(Dx, tx);
h = Dx.prototype;
h.Lh = function() {
  var a = dx(this.module), b = [], c;
  for (c in a.module_fields) {
    "email" == a.module_fields[c].group && "email" != c && b.push(c);
  }
  a = this.module.value("email");
  if (u(a)) {
    for (c = 0;c < a.length;c++) {
      b[c] = a[c].email_address_id;
    }
  }
  return b;
};
h.Hc = function(a) {
  var b = ux(this, a);
  if (b) {
    return b;
  }
  b = new yx(this, a);
  this.eb.push(b);
  return b;
};
function Ax(a) {
  var b = a.module.value("email");
  return t(b) ? u(b) : !!Ex(a.module.parent);
}
h.Ib = function(a) {
  var b = Dx.j.Ib.call(this, a);
  if (b) {
    return b;
  }
  b = this.module.value("email");
  return u(b) ? b.some(function(b) {
    return b.email_address_id == a;
  }) : Dx.j.Ib.call(this, a);
};
h.ri = function(a) {
  var b = Dx.j.ri.call(this, a);
  if (b) {
    return b;
  }
  b = this.module.value("email");
  if (u(b)) {
    for (var c = 0;c < b.length;c++) {
      var d = b[c];
      if (d.email_address_id == a) {
        return null != d.email_address;
      }
    }
  }
  return !1;
};
function zx(a, b) {
  var c = a.module.value("email");
  if (u(c)) {
    for (var d = 0;d < c.length;d++) {
      var e = c[d];
      if (e.email_address_id == b) {
        return e.email_address;
      }
    }
  }
  return fx(a.module, b);
}
h.$g = function(a) {
  return zx(this, a) || void 0;
};
function Bx(a) {
  var b = a.module.value("email");
  if (u(b)) {
    return b;
  }
  a = dx(a.module);
  var c = [], d;
  for (d in a.module_fields) {
    "email" == a.module_fields[d].group && c.push({email_address_id:d, email_address:b, primary_address:"0"});
  }
  return c;
}
h.Xd = function(a) {
  if (!x(a)) {
    return null;
  }
  var b = this.module.value("email");
  if (x(a) && u(b)) {
    var c = !1, d = {}, b = mm(b), e;
    for (e in a) {
      var f;
      a: {
        f = b;
        for (var g = e, k = a[e], l = 0;l < f.length;l++) {
          var m = f[l];
          if (m.email_address_id == g) {
            m.email_address = k;
            f = l;
            break a;
          }
        }
        window.console.warn("email bean_id: " + g + " not found");
        f = -1;
      }
      0 <= f ? (c = !0, 0 <= f && 1 >= f && (d["email" + (f + 1)] = a[e])) : d[e] = a[e];
    }
    c && (d.email = b);
    return Lb(d) ? null : d;
  }
  return Dx.j.Xd.call(this, a);
};
function Fx(a) {
  tx.call(this, a, "name");
}
A(Fx, tx);
function Gx(a, b) {
  b = b.trim();
  if (!a.Ib("last_name")) {
    return {name:b ? b : void 0};
  }
  var c = {salutation:void 0, full_name:void 0, first_name:void 0, last_name:void 0};
  if (!b) {
    return c;
  }
  var d = b.split(/\s+/);
  if (!a.Ib("last_name")) {
    return {name:b};
  }
  var e = fx(a.module, "salutation"), f = fx(a.module, "first_name"), g = fx(a.module, "last_name");
  d[0] == e && (c.salutation = d.shift(), b = b.substr(e.length + 1).trim());
  if ((e = a.Ib("salutation")) && !(e = f && d[1] == f) && (e = 2 <= d.length)) {
    if (e = d[0]) {
      "." != e.charAt(e.length - 1) && (e += ".");
      var k = cx(a.module, "salutation"), e = 0 <= (k.options ? Object.keys(k.options) : ["Mrs.", "Mr."]).indexOf(e);
    } else {
      e = !1;
    }
  }
  e && (c.salutation = d.shift(), b = b.substr(c.salutation.length + 1).trim());
  e = b.indexOf(g);
  g && 0 <= e ? (c.first_name = b.substr(0, e - 1).trim(), c.last_name = b.substr(e).trim()) : (g = b.indexOf(f), f && 0 <= g ? (c.first_name = f, c.last_name = b.substr(g + f.length + 1, b.length).trim()) : (c.first_name = d.shift(), c.last_name = d.join(" ")));
  c.first_name && (c.full_name = c.first_name);
  c.last_name && (c.full_name = c.full_name ? c.full_name + (" " + c.last_name) : c.last_name);
  return c;
}
h = Fx.prototype;
h.tb = function() {
  return "Name";
};
h.Hb = function() {
  return jx(this.module, "full_name");
};
h.Vg = function() {
  return {label:"Edit", name:lx, type:"text"};
};
h.Hj = function() {
  return !0;
};
h.Ek = function(a) {
  return this.Hb() == a ? null : Gx(this, a);
};
function Hx(a) {
  bx.call(this, a, "parent");
}
A(Hx, ex);
Hx.prototype.tb = function() {
  return "Related to";
};
Hx.prototype.b = function() {
  return "parent_id";
};
Hx.prototype.c = function() {
  return "parent_name";
};
Hx.prototype.f = function() {
  var a = jx(this.module, "parent_type");
  a || (a = "Accounts");
  return a;
};
function Ix(a) {
  a = cx(a.module, "parent_type");
  var b = [];
  if (a && a.options) {
    for (var c in a.options) {
      b.push(a.options[c].value);
    }
  }
  return b;
}
function Jx(a) {
  if ((a = cx(a.module, "parent_type")) && a.options) {
    for (var b in a.options) {
      return a.options[b].value;
    }
  }
  return "";
}
;function Kx(a, b) {
  mx.call(this, a, b);
}
A(Kx, mx);
Kx.prototype.mf = function() {
  return [{name:"remove", label:"Remove"}];
};
function Lx(a) {
  tx.call(this, a, "phone");
}
A(Lx, tx);
Lx.prototype.Hc = function(a) {
  for (var b = 0;b < this.eb.length;b++) {
    if (this.eb[b].Pa() == a) {
      return this.eb[b];
    }
  }
  a = new Kx(this, a);
  this.eb.push(a);
  return a;
};
function Mx(a, b, c, d) {
  this.scheme = a;
  this.domain = b;
  this.module = c;
  this.record_id = d;
}
Mx.prototype.Y = function() {
  return this.scheme + "://" + this.domain + "/" + this.module + "/" + this.record_id;
};
function Nx(a, b) {
  H.call(this);
  this.parent = a;
  this.a = b;
  this.c = {};
  this.b = null;
}
A(Nx, H);
Nx.prototype.logger = J("ydn.crm.su.model.Record");
Nx.prototype.L = function() {
  return this.parent.L();
};
Nx.prototype.N = function() {
  return this.a.N();
};
var Ox = ["name", "full_name", "first_name", "last_name"];
Nx.prototype.value = function(a) {
  var b = this.a.value(a);
  0 <= Ox.indexOf(a) && w(b) && (b = Ka(b));
  return b;
};
function Px(a) {
  if (Qx(a) || "Contacts" != Rx(a)) {
    return D(!1);
  }
  var b = {domain:a.L(), module:Rx(a), id:a.N()};
  return Q().send("sync-q", b).i(function(a) {
    return a[0] || null;
  }, a);
}
function Sx(a) {
  if (ur(a.a)) {
    C(!1);
  } else {
    if (a.b) {
      Bc(a.b);
    } else {
      var b = {module:Rx(a), id:a.N()};
      a.b = Tx(a.parent).send("fetch", b).i(function(a) {
        if (!this.b) {
          return null;
        }
        if (a && a.id == this.N()) {
          if (a.date_modified == this.value("date_modified")) {
            return !1;
          }
          Ux(this, new tr(this.L(), Rx(this), a));
          return !0;
        }
        return this.b = null;
      }, a);
    }
  }
}
function fx(a, b) {
  var c = a.value(b);
  return w(c) ? c : null;
}
function jx(a, b) {
  var c = a.value(b);
  return w(c) ? c : null != c ? String(c) : "";
}
function Vx(a) {
  return ur(a.a) ? "" : Er(a.a.a);
}
function Rx(a) {
  return a.a.module;
}
function dx(a) {
  return Wx(a.parent, Rx(a));
}
function cx(a, b) {
  var c = dx(a);
  return Kr(c, b);
}
Nx.prototype.save = function(a) {
  return Xx(this.parent, new tr(this.L(), Rx(this), a)).i(function(a) {
    Yx(this, a);
  }, this);
};
function Zx(a) {
  if (Qx(a)) {
    return C(null);
  }
  a = {domain:a.L(), module:Rx(a), id:a.N()};
  return vf().c().send("sync-q", a).i(function(a) {
    return a[0] || null;
  });
}
function Yx(a, b) {
  ur(a.a) || a.a.N();
  var c = a.a;
  if (b) {
    c.a || (c.a = {});
    for (var d in b) {
      c.a[d] = b[d];
    }
  }
  ur(a.a) ? I(a, new $x) : I(a, new ay);
}
function by(a, b) {
  if (!b || 0 == Object.keys(b)) {
    return C(!1);
  }
  var c = b, c = mm(a.a.getData()), d;
  for (d in b) {
    c[d] = b[d];
  }
  return Xx(a.parent, new tr(a.L(), Rx(a), c)).i(function(a) {
    Yx(this, a);
  }, a);
}
function cy(a) {
  if (Qx(a)) {
    return D(Error("record not defined."));
  }
  var b = {module:Rx(a), id:a.N()};
  return Tx(a.parent).send("delete-record", b);
}
Nx.prototype.I = function() {
  Nx.j.I.call(this);
  this.c = null;
};
function dy(a) {
  return ur(a.a) ? null : ey(a.parent, Rx(a), a.N());
}
function Ux(a, b) {
  if (b != a.a) {
    if (b) {
      if (a.b = null, a.c = {}, b.module != a.a.module) {
        var c = a.a.module;
        a.a = b;
        I(a, new fy(c, a));
      } else {
        ur(b) ? (ur(a.a) || a.a.N(), a.a = b, I(a, new $x(0, a))) : ur(a.a) ? ur(b) || (a.a = b, I(a, new $x(0, a))) : b.N() != a.a.N() ? (a.a.N(), a.a = b, I(a, new $x(0, a))) : (a.a = b, I(a, new ay(a)));
      }
    } else {
      a.b = null, ur(a.a) || (a.a.a = {}, a.c = {}, I(a, new $x(0, a)));
    }
  }
}
function Qx(a) {
  return ur(a.a);
}
function gy(a, b) {
  a.c[b] || (a.c[b] = "name" == b ? new Fx(a) : "account" == b ? new gx(a) : "appointment" == b ? new vx(a) : "assigned_user_name" == b ? new wx(a) : "contact" == b ? new xx(a) : "email" == b ? new Dx(a) : "parent" == b ? new Hx(a) : "phone" == b ? new Lx(a) : /\w+_address/.test(String(b)) ? new hx(a, b) : new tx(a, b));
  return a.c[b];
}
function hy(a) {
  return zr(a.a) ? mm(a.a.getData()) : null;
}
function iy(a) {
  return Qx(a) ? D(Error("no Record to export.")) : a.parent.si(a.a);
}
function jy(a) {
  return Qx(a) ? (a = new gf, a.callback([]), a) : ky(a.parent, Rx(a), a.N(), void 0);
}
function ly(a) {
  return Qx(a) ? C([]) : Tx(a.parent).send("query-embedded", a.a.getData());
}
;function my(a, b) {
  G.call(this, ny, b);
  this.f = a;
}
A(my, G);
function oy(a, b, c) {
  G.call(this, a, c);
  this.domain = b;
}
A(oy, G);
var ny = "vr";
function py(a, b) {
  this.b = a;
  this.a = b;
}
py.prototype.getName = function() {
  return this.a;
};
function qy(a, b) {
  var c = ry(a.b, a.a);
  if (c && c.acls) {
    for (var d = 0;d < c.acls.length;d++) {
      if (c.acls[d].action == b) {
        return c.acls[d].access;
      }
    }
  }
  return null;
}
function sy(a) {
  var b = ry(a.b, a.a);
  return b ? b.module_label || a.a : a.a;
}
function ty(a, b) {
  var c = Wx(a.b, a.a);
  return c ? Kr(c, b) : null;
}
;function uy(a, b) {
  G.call(this, a, b);
}
A(uy, G);
function $x(a, b) {
  G.call(this, "record-change", b);
}
A($x, uy);
function fy(a, b) {
  G.call(this, "module-change", b);
  this.module = a;
}
A(fy, uy);
function ay(a) {
  G.call(this, "record-update", a);
}
A(ay, uy);
function vy(a, b, c, d) {
  G.call(this, a, d);
}
A(vy, uy);
function wy(a, b, c) {
  G.call(this, "gdata-updated", c);
}
A(wy, vy);
function xy(a, b) {
  G.call(this, a, b);
}
A(xy, G);
function yy(a, b) {
  G.call(this, "rs", b);
  this.q = a;
}
A(yy, xy);
function zy(a, b) {
  G.call(this, "pg", b);
  this.level = a;
}
A(zy, xy);
function Ay(a, b) {
  G.call(this, "ad", b);
  this.index = a;
}
A(Ay, xy);
function By(a, b, c, d, e) {
  H.call(this);
  this.about = a;
  a = {};
  if (u(b)) {
    for (var f = 0;f < b.length;f++) {
      a[b[f].module_name] = b[f];
    }
  } else {
    a = b;
  }
  this.a = a;
  this.info = c || {};
  this.M = new zf(this);
  this.b = new tr(this.about ? this.about.domain : "", "Users");
  Cy(this);
  this.l = d || null;
  d || Dy(this);
  this.s = e || null;
  b = vf();
  this.M.listen(b, ["sugarcrm", "host-permission"], this.fp);
  this.o = null;
  this.c = {};
  this.f = null;
  this.D = "";
  this.h = null;
}
A(By, H);
h = By.prototype;
h.fp = function(a) {
  if ("sugarcrm" == a.type) {
    if (a = a.getData(), "login" == a.type && (a = a.about) && a.domain == this.L() && a) {
      var b = this.about.isLogin, c = !!a && a.isLogin;
      this.about = a;
      !b && c && I(this, new G("login", this));
    }
  } else {
    "host-permission" == a.type && this.about && (a = a.getData(), a.grant && a.grant == this.L() && (this.about.hostPermission = !0, I(this, new G("hag"))));
  }
};
function Ex(a) {
  if (null == a.o && a.info) {
    var b;
    b = 0 <= Wa(a.info ? a.info.version || "" : "", "7");
    a.o = b;
  }
  return a.o;
}
function Ey(a) {
  return !!a.about && !!a.about.isLogin;
}
function Cy(a) {
  a.about && a.about.userName && a.send("login-user").i(function(a) {
    a && a.id && (this.b = new tr(this.L(), "Users", a));
  }, a);
}
function Dy(a) {
  a.about && a.about.userName && a.send("login-info").i(function(a) {
    a && a.id && (this.l = a);
  }, a);
}
function Tx(a) {
  return Q("sugarcrm", a.L());
}
function Wx(a, b) {
  var c = a.a[b];
  if (c) {
    return c;
  }
  for (var d in a.a) {
    if (a.a[d].module_name == b) {
      return a.a[d];
    }
  }
  "Users" == b && (a.f || (Ex(a) ? a.f = JSON.parse('{"module_name":"Users","table_name":"users","module_fields":{"id":{"name":"id","type":"id","group":"","id_name":"","label":"ID","required":1,"options":[],"related_module":"","calculated":false,"len":""},"user_name":{"name":"user_name","type":"user_name","group":"","id_name":"","label":"User Name","required":1,"options":[],"related_module":"","calculated":false,"len":"60"},"user_hash":{"name":"user_hash","type":"password","group":"","id_name":"","label":"Password","required":0,"options":[],"related_module":"","calculated":false,"len":"255"},"system_generated_password":{"name":"system_generated_password","type":"bool","group":"","id_name":"","label":"System Generated Password","required":1,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"pwd_last_changed":{"name":"pwd_last_changed","type":"datetime","group":"","id_name":"","label":"Password Last Changed","required":0,"options":[],"related_module":"","calculated":false,"len":""},"authenticate_id":{"name":"authenticate_id","type":"varchar","group":"","id_name":"","label":"Authentication Id","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"sugar_login":{"name":"sugar_login","type":"bool","group":"","id_name":"","label":"Is Sugar User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"1"},"picture":{"name":"picture","type":"image","group":"","id_name":"","label":"Avatar","required":0,"options":[],"related_module":"","calculated":false,"len":"255"},"first_name":{"name":"first_name","type":"name","group":"","id_name":"","label":"First Name","required":0,"options":[],"related_module":"","calculated":false,"len":"30"},"last_name":{"name":"last_name","type":"name","group":"","id_name":"","label":"Last Name","required":1,"options":[],"related_module":"","calculated":false,"len":"30"},"full_name":{"name":"full_name","type":"fullname","group":"","id_name":"","label":"Full Name","required":0,"options":[],"related_module":"","calculated":false,"len":"510"},"name":{"name":"name","type":"fullname","group":"","id_name":"","label":"Full Name","required":0,"options":[],"related_module":"","calculated":false,"len":"510"},"is_admin":{"name":"is_admin","type":"bool","group":"","id_name":"","label":"Is Administrator","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"external_auth_only":{"name":"external_auth_only","type":"bool","group":"","id_name":"","label":"External Authentication","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"receive_notifications":{"name":"receive_notifications","type":"bool","group":"","id_name":"","label":"Notify on Assignment","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"1"},"description":{"name":"description","type":"text","group":"","id_name":"","label":"Description","required":0,"options":[],"related_module":"","calculated":false,"len":""},"date_entered":{"name":"date_entered","type":"datetime","group":"","id_name":"","label":"Date Entered","required":1,"options":[],"related_module":"","calculated":false,"len":""},"date_modified":{"name":"date_modified","type":"datetime","group":"","id_name":"","label":"Date Modified","required":1,"options":[],"related_module":"","calculated":false,"len":""},"last_login":{"name":"last_login","type":"datetime","group":"","id_name":"","label":"last login","required":0,"options":[],"related_module":"","calculated":false,"len":""},"modified_user_id":{"name":"modified_user_id","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Modified By ID","required":0,"options":[],"related_module":"","calculated":false,"len":""},"modified_by_name":{"name":"modified_by_name","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Modified By ID","required":0,"options":[],"related_module":"","calculated":false,"len":""},"created_by":{"name":"created_by","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Assigned to:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"created_by_name":{"name":"created_by_name","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Assigned to:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"title":{"name":"title","type":"varchar","group":"","id_name":"","label":"Title","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"department":{"name":"department","type":"varchar","group":"","id_name":"","label":"Department","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_home":{"name":"phone_home","type":"phone","group":"","id_name":"","label":"Home Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_mobile":{"name":"phone_mobile","type":"phone","group":"","id_name":"","label":"Mobile","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_work":{"name":"phone_work","type":"phone","group":"","id_name":"","label":"Work Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_other":{"name":"phone_other","type":"phone","group":"","id_name":"","label":"Other Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_fax":{"name":"phone_fax","type":"phone","group":"","id_name":"","label":"Fax","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"status":{"name":"status","type":"enum","group":"","id_name":"","label":"Status","required":1,"options":{"Active":{"name":"Active","value":"Active"},"Inactive":{"name":"Inactive","value":"Inactive"}},"related_module":"","calculated":false,"len":100},"address_street":{"name":"address_street","type":"text","group":"address","id_name":"","label":"Address Street","required":0,"options":[],"related_module":"","calculated":false,"len":"150"},"address_city":{"name":"address_city","type":"varchar","group":"address","id_name":"","label":"Address City","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"address_state":{"name":"address_state","type":"varchar","group":"address","id_name":"","label":"Address State","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"address_country":{"name":"address_country","type":"varchar","group":"address","id_name":"","label":"Address Country","required":0,"options":[],"related_module":"","calculated":false,"len":100},"address_postalcode":{"name":"address_postalcode","type":"varchar","group":"address","id_name":"","label":"Address Postal Code","required":0,"options":[],"related_module":"","calculated":false,"len":"20"},"UserType":{"name":"UserType","type":"enum","group":"","id_name":"","label":"User Type","required":0,"options":{"RegularUser":{"name":"RegularUser","value":"Regular User"},"Administrator":{"name":"Administrator","value":"Administrator"}},"related_module":"","calculated":false,"len":50},"default_team":{"name":"default_team","type":"id","group":"","id_name":"","label":"Default Teams","required":0,"options":[],"related_module":"","calculated":false,"len":"36"},"team_id":{"name":"team_id","type":"id","group":"","id_name":"","label":"Default Teams","required":0,"options":[],"related_module":"","calculated":false,"len":"36"},"team_set_id":{"name":"team_set_id","type":"id","group":"","id_name":"team_set_id","label":"Team Set ID","required":0,"options":[],"related_module":"","calculated":false,"len":""},"team_count":{"name":"team_count","type":"relate","group":"","id_name":"team_id","label":"Teams","required":1,"options":[],"related_module":"Teams","calculated":false,"len":""},"team_name":{"name":"team_name","type":"relate","group":"","id_name":"team_id","label":"Teams","required":1,"options":[],"related_module":"Teams","calculated":false,"len":36},"deleted":{"name":"deleted","type":"bool","group":"","id_name":"","label":"Deleted","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"portal_only":{"name":"portal_only","type":"bool","group":"","id_name":"","label":"Portal API User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"show_on_employees":{"name":"show_on_employees","type":"bool","group":"","id_name":"","label":"Display Employee Record","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":true},"employee_status":{"name":"employee_status","type":"enum","group":"","id_name":"","label":"Employee Status","required":0,"options":{"Active":{"name":"Active","value":"Active"},"Terminated":{"name":"Terminated","value":"Terminated"},"Leave of Absence":{"name":"Leave of Absence","value":"Leave of Absence"}},"related_module":"","calculated":false,"len":100},"messenger_id":{"name":"messenger_id","type":"varchar","group":"","id_name":"","label":"IM Name","required":0,"options":[],"related_module":"","calculated":false,"len":100},"messenger_type":{"name":"messenger_type","type":"enum","group":"","id_name":"","label":"IM Type","required":0,"options":{"":{"name":"","value":""},"MSN":{"name":"MSN","value":"MSN"},"Yahoo!":{"name":"Yahoo!","value":"Yahoo!"},"AOL":{"name":"AOL","value":"AOL"}},"related_module":"","calculated":false,"len":100},"reports_to_id":{"name":"reports_to_id","type":"id","group":"","id_name":"","label":"Reports to ID:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"reports_to_name":{"name":"reports_to_name","type":"relate","group":"","id_name":"reports_to_id","label":"Reports to","required":0,"options":[],"related_module":"Users","calculated":false,"len":""},"email1":{"name":"email1","type":"varchar","group":"email1","id_name":"","label":"Email Address","required":1,"options":[],"related_module":"","calculated":false,"len":""},"email":{"name":"email","type":"email","group":"","id_name":"","label":"Email","required":0,"options":[],"related_module":"","calculated":false,"len":""},"email_link_type":{"name":"email_link_type","type":"enum","group":"","id_name":"","label":"Email Client","required":0,"options":{"sugar":{"name":"sugar","value":"Sugar Email Client"},"mailto":{"name":"mailto","value":"External Email Client"}},"related_module":"","calculated":false,"len":""},"is_group":{"name":"is_group","type":"bool","group":"","id_name":"","label":"Group User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"c_accept_status_fields":{"name":"c_accept_status_fields","type":"relate","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"m_accept_status_fields":{"name":"m_accept_status_fields","type":"relate","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"accept_status_id":{"name":"accept_status_id","type":"varchar","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"accept_status_name":{"name":"accept_status_name","type":"enum","group":"","id_name":"","label":"Accept Status","required":0,"options":{"accept":{"name":"accept","value":"Accepted"},"decline":{"name":"decline","value":"Declined"},"tentative":{"name":"tentative","value":"Tentative"},"none":{"name":"none","value":"None"}},"related_module":"","calculated":false,"len":""},"accept_status_calls":{"name":"accept_status_calls","type":"enum","group":"","id_name":"","label":"Accept Status","required":0,"options":{"accept":{"name":"accept","value":"Accepted"},"decline":{"name":"decline","value":"Declined"},"tentative":{"name":"tentative","value":"Tentative"},"none":{"name":"none","value":"None"}},"related_module":"","calculated":false,"len":""},"accept_status_meetings":{"name":"accept_status_meetings","type":"enum","group":"","id_name":"","label":"Accept Status","required":0,"options":{"accept":{"name":"accept","value":"Accepted"},"decline":{"name":"decline","value":"Declined"},"tentative":{"name":"tentative","value":"Tentative"},"none":{"name":"none","value":"None"}},"related_module":"","calculated":false,"len":""},"preferred_language":{"name":"preferred_language","type":"enum","group":"","id_name":"","label":"Language Preference:","required":0,"options":{"en_us":{"name":"en_us","value":"English (US)"},"bg_BG":{"name":"bg_BG","value":"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},"cs_CZ":{"name":"cs_CZ","value":"\u010cesky"},"da_DK":{"name":"da_DK","value":"Dansk"},"de_DE":{"name":"de_DE","value":"Deutsch"},"el_EL":{"name":"el_EL","value":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},"es_ES":{"name":"es_ES","value":"Espa\u00f1ol"},"fr_FR":{"name":"fr_FR","value":"Fran\u00e7ais"},"he_IL":{"name":"he_IL","value":"\u05e2\u05d1\u05e8\u05d9\u05ea"},"hu_HU":{"name":"hu_HU","value":"Magyar"},"it_it":{"name":"it_it","value":"Italiano"},"lt_LT":{"name":"lt_LT","value":"Lietuvi\u0173"},"ja_JP":{"name":"ja_JP","value":"\u65e5\u672c\u8a9e"},"ko_KR":{"name":"ko_KR","value":"\ud55c\uad6d\uc5b4"},"lv_LV":{"name":"lv_LV","value":"Latvie\u0161u"},"nb_NO":{"name":"nb_NO","value":"Bokm\u00e5l"},"nl_NL":{"name":"nl_NL","value":"Nederlands"},"pl_PL":{"name":"pl_PL","value":"Polski"},"pt_PT":{"name":"pt_PT","value":"Portugu\u00eas"},"ro_RO":{"name":"ro_RO","value":"Rom\u00e2n\u0103"},"ru_RU":{"name":"ru_RU","value":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},"sv_SE":{"name":"sv_SE","value":"Svenska"},"tr_TR":{"name":"tr_TR","value":"T\u00fcrk\u00e7e"},"zh_CN":{"name":"zh_CN","value":"\u7b80\u4f53\u4e2d\u6587"},"pt_BR":{"name":"pt_BR","value":"Portugu\u00eas Brasileiro"},"ca_ES":{"name":"ca_ES","value":"Catal\u00e0"},"en_UK":{"name":"en_UK","value":"English (UK)"},"sr_RS":{"name":"sr_RS","value":"\u0421\u0440\u043f\u0441\u043a\u0438"},"sk_SK":{"name":"sk_SK","value":"Sloven\u010dina"},"sq_AL":{"name":"sq_AL","value":"Shqip"},"et_EE":{"name":"et_EE","value":"Eesti"},"es_LA":{"name":"es_LA","value":"Espa\u00f1ol (Latinoam\u00e9rica)"},"fi_FI":{"name":"fi_FI","value":"Finnish"}},"related_module":"","calculated":false,"len":""}},"link_fields":{"team_link":{"name":"team_link","type":"link","group":"","id_name":"","relationship":"users_team","module":"Teams","bean_name":"Team"},"default_primary_team":{"name":"default_primary_team","type":"link","group":"","id_name":"","relationship":"users_team","module":"Teams","bean_name":"Team"},"team_count_link":{"name":"team_count_link","type":"link","group":"","id_name":"","relationship":"users_team_count_relationship","module":"Teams","bean_name":"TeamSet"},"teams":{"name":"teams","type":"link","group":"","id_name":"","relationship":"users_teams","module":"","bean_name":""},"team_memberships":{"name":"team_memberships","type":"link","group":"","id_name":"","relationship":"team_memberships","module":"","bean_name":""},"team_sets":{"name":"team_sets","type":"link","group":"","id_name":"","relationship":"users_team_sets","module":"","bean_name":""},"users_signatures":{"name":"users_signatures","type":"link","group":"","id_name":"","relationship":"users_users_signatures","module":"","bean_name":""},"calls":{"name":"calls","type":"link","group":"","id_name":"","relationship":"calls_users","module":"","bean_name":""},"meetings":{"name":"meetings","type":"link","group":"","id_name":"","relationship":"meetings_users","module":"","bean_name":""},"contacts_sync":{"name":"contacts_sync","type":"link","group":"","id_name":"","relationship":"contacts_users","module":"","bean_name":""},"reports_to_link":{"name":"reports_to_link","type":"link","group":"","id_name":"","relationship":"user_direct_reports","module":"","bean_name":""},"reportees":{"name":"reportees","type":"link","group":"","id_name":"","relationship":"user_direct_reports","module":"","bean_name":""},"email_addresses":{"name":"email_addresses","type":"link","group":"","id_name":"","relationship":"users_email_addresses","module":"EmailAddress","bean_name":"EmailAddress"},"email_addresses_primary":{"name":"email_addresses_primary","type":"link","group":"","id_name":"","relationship":"users_email_addresses_primary","module":"","bean_name":""},"aclroles":{"name":"aclroles","type":"link","group":"","id_name":"","relationship":"acl_roles_users","module":"","bean_name":""},"prospect_lists":{"name":"prospect_lists","type":"link","group":"","id_name":"","relationship":"prospect_list_users","module":"ProspectLists","bean_name":""},"emails_users":{"name":"emails_users","type":"link","group":"","id_name":"","relationship":"emails_users_rel","module":"Emails","bean_name":""},"holidays":{"name":"holidays","type":"link","group":"","id_name":"","relationship":"users_holidays","module":"","bean_name":""},"eapm":{"name":"eapm","type":"link","group":"","id_name":"","relationship":"eapm_assigned_user","module":"","bean_name":""},"oauth_tokens":{"name":"oauth_tokens","type":"link","group":"","id_name":"","relationship":"oauthtokens_assigned_user","module":"OAuthTokens","bean_name":"OAuthToken"},"project_resource":{"name":"project_resource","type":"link","group":"","id_name":"","relationship":"projects_users_resources","module":"","bean_name":""},"quotas":{"name":"quotas","type":"link","group":"","id_name":"","relationship":"users_quotas","module":"","bean_name":""},"forecasts":{"name":"forecasts","type":"link","group":"","id_name":"","relationship":"users_forecasts","module":"","bean_name":""},"activities":{"name":"activities","type":"link","group":"","id_name":"","relationship":"activities_users","module":"Activities","bean_name":"Activity"}}}') : 
  a.f = JSON.parse('{"module_name":"Users","table_name":"users","module_fields":{"id":{"name":"id","type":"id","group":"","id_name":"","label":"ID","required":1,"options":[],"related_module":"","calculated":false,"len":""},"user_name":{"name":"user_name","type":"user_name","group":"","id_name":"","label":"User Name","required":1,"options":[],"related_module":"","calculated":false,"len":"60"},"user_hash":{"name":"user_hash","type":"varchar","group":"","id_name":"","label":"Password","required":0,"options":[],"related_module":"","calculated":false,"len":"255"},"system_generated_password":{"name":"system_generated_password","type":"bool","group":"","id_name":"","label":"System Generated Password","required":1,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"pwd_last_changed":{"name":"pwd_last_changed","type":"datetime","group":"","id_name":"","label":"Password Last Changed","required":0,"options":[],"related_module":"","calculated":false,"len":""},"authenticate_id":{"name":"authenticate_id","type":"varchar","group":"","id_name":"","label":"Authentication Id","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"sugar_login":{"name":"sugar_login","type":"bool","group":"","id_name":"","label":"Is Sugar User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"1"},"first_name":{"name":"first_name","type":"name","group":"","id_name":"","label":"First Name","required":0,"options":[],"related_module":"","calculated":false,"len":"30"},"last_name":{"name":"last_name","type":"name","group":"","id_name":"","label":"Last Name","required":1,"options":[],"related_module":"","calculated":false,"len":"30"},"full_name":{"name":"full_name","type":"name","group":"","id_name":"","label":"Full Name","required":0,"options":[],"related_module":"","calculated":false,"len":"510"},"name":{"name":"name","type":"varchar","group":"","id_name":"","label":"Full Name","required":0,"options":[],"related_module":"","calculated":false,"len":"510"},"is_admin":{"name":"is_admin","type":"bool","group":"","id_name":"","label":"Is Administrator","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"external_auth_only":{"name":"external_auth_only","type":"bool","group":"","id_name":"","label":"External Authentication","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"receive_notifications":{"name":"receive_notifications","type":"bool","group":"","id_name":"","label":"Notify on Assignment","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"1"},"description":{"name":"description","type":"text","group":"","id_name":"","label":"Description","required":0,"options":[],"related_module":"","calculated":false,"len":""},"date_entered":{"name":"date_entered","type":"datetime","group":"","id_name":"","label":"Date Entered","required":1,"options":[],"related_module":"","calculated":false,"len":""},"date_modified":{"name":"date_modified","type":"datetime","group":"","id_name":"","label":"Date Modified","required":1,"options":[],"related_module":"","calculated":false,"len":""},"modified_user_id":{"name":"modified_user_id","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Modified By ID","required":0,"options":[],"related_module":"","calculated":false,"len":""},"modified_by_name":{"name":"modified_by_name","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Modified By ID","required":0,"options":[],"related_module":"","calculated":false,"len":""},"created_by":{"name":"created_by","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Assigned to:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"created_by_name":{"name":"created_by_name","type":"assigned_user_name","group":"","id_name":"modified_user_id","label":"Assigned to:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"title":{"name":"title","type":"varchar","group":"","id_name":"","label":"Title","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"department":{"name":"department","type":"varchar","group":"","id_name":"","label":"Department","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_home":{"name":"phone_home","type":"phone","group":"","id_name":"","label":"Home Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_mobile":{"name":"phone_mobile","type":"phone","group":"","id_name":"","label":"Mobile","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_work":{"name":"phone_work","type":"phone","group":"","id_name":"","label":"Work Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_other":{"name":"phone_other","type":"phone","group":"","id_name":"","label":"Other Phone","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"phone_fax":{"name":"phone_fax","type":"phone","group":"","id_name":"","label":"Fax","required":0,"options":[],"related_module":"","calculated":false,"len":"50"},"status":{"name":"status","type":"enum","group":"","id_name":"","label":"Status","required":1,"options":{"Active":{"name":"Active","value":"Active"},"Inactive":{"name":"Inactive","value":"Inactive"}},"related_module":"","calculated":false,"len":100},"address_street":{"name":"address_street","type":"varchar","group":"","id_name":"","label":"Address Street","required":0,"options":[],"related_module":"","calculated":false,"len":"150"},"address_city":{"name":"address_city","type":"varchar","group":"","id_name":"","label":"Address City","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"address_state":{"name":"address_state","type":"varchar","group":"","id_name":"","label":"Address State","required":0,"options":[],"related_module":"","calculated":false,"len":"100"},"address_country":{"name":"address_country","type":"varchar","group":"","id_name":"","label":"Address Country","required":0,"options":[],"related_module":"","calculated":false,"len":100},"address_postalcode":{"name":"address_postalcode","type":"varchar","group":"","id_name":"","label":"Address Postal Code","required":0,"options":[],"related_module":"","calculated":false,"len":"20"},"UserType":{"name":"UserType","type":"enum","group":"","id_name":"","label":"User Type","required":0,"options":{"RegularUser":{"name":"RegularUser","value":"Regular User"},"Administrator":{"name":"Administrator","value":"Administrator"}},"related_module":"","calculated":false,"len":50},"deleted":{"name":"deleted","type":"bool","group":"","id_name":"","label":"Deleted","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"portal_only":{"name":"portal_only","type":"bool","group":"","id_name":"","label":"Portal API User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":"0"},"show_on_employees":{"name":"show_on_employees","type":"bool","group":"","id_name":"","label":"Display Employee Record","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":"","default_value":true},"employee_status":{"name":"employee_status","type":"varchar","group":"","id_name":"","label":"Employee Status","required":0,"options":[],"related_module":"","calculated":false,"len":100},"messenger_id":{"name":"messenger_id","type":"varchar","group":"","id_name":"","label":"IM Name","required":0,"options":[],"related_module":"","calculated":false,"len":100},"messenger_type":{"name":"messenger_type","type":"enum","group":"","id_name":"","label":"IM Type","required":0,"options":{"":{"name":"","value":""},"MSN":{"name":"MSN","value":"MSN"},"Yahoo!":{"name":"Yahoo!","value":"Yahoo!"},"AOL":{"name":"AOL","value":"AOL"}},"related_module":"","calculated":false,"len":100},"reports_to_id":{"name":"reports_to_id","type":"id","group":"","id_name":"","label":"Reports to ID:","required":0,"options":[],"related_module":"","calculated":false,"len":""},"reports_to_name":{"name":"reports_to_name","type":"relate","group":"","id_name":"reports_to_id","label":"Reports to","required":0,"options":[],"related_module":"Users","calculated":false,"len":""},"email1":{"name":"email1","type":"varchar","group":"email1","id_name":"","label":"Email Address","required":1,"options":[],"related_module":"","calculated":false,"len":""},"email_link_type":{"name":"email_link_type","type":"enum","group":"","id_name":"","label":"Email Client","required":0,"options":{"sugar":{"name":"sugar","value":"Sugar Email Client"},"mailto":{"name":"mailto","value":"External Email Client"}},"related_module":"","calculated":false,"len":""},"is_group":{"name":"is_group","type":"bool","group":"","id_name":"","label":"Group User","required":0,"options":{"1":{"name":1,"value":"Yes"},"2":{"name":2,"value":"No"},"":{"name":"","value":""}},"related_module":"","calculated":false,"len":""},"c_accept_status_fields":{"name":"c_accept_status_fields","type":"relate","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"m_accept_status_fields":{"name":"m_accept_status_fields","type":"relate","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"accept_status_id":{"name":"accept_status_id","type":"varchar","group":"","id_name":"","label":"Accept Status","required":0,"options":[],"related_module":"","calculated":false,"len":""},"accept_status_name":{"name":"accept_status_name","type":"enum","group":"","id_name":"","label":"Accept Status","required":0,"options":{"accept":{"name":"accept","value":"Accepted"},"decline":{"name":"decline","value":"Declined"},"tentative":{"name":"tentative","value":"Tentative"},"none":{"name":"none","value":"None"}},"related_module":"","calculated":false,"len":""}},"link_fields":{"calls":{"name":"calls","type":"link","group":"","id_name":"","relationship":"calls_users","module":"","bean_name":""},"meetings":{"name":"meetings","type":"link","group":"","id_name":"","relationship":"meetings_users","module":"","bean_name":""},"contacts_sync":{"name":"contacts_sync","type":"link","group":"","id_name":"","relationship":"contacts_users","module":"","bean_name":""},"reports_to_link":{"name":"reports_to_link","type":"link","group":"","id_name":"","relationship":"user_direct_reports","module":"","bean_name":""},"reportees":{"name":"reportees","type":"link","group":"","id_name":"","relationship":"user_direct_reports","module":"","bean_name":""},"email_addresses":{"name":"email_addresses","type":"link","group":"","id_name":"","relationship":"users_email_addresses","module":"EmailAddress","bean_name":"EmailAddress"},"email_addresses_primary":{"name":"email_addresses_primary","type":"link","group":"","id_name":"","relationship":"users_email_addresses_primary","module":"","bean_name":""},"aclroles":{"name":"aclroles","type":"link","group":"","id_name":"","relationship":"acl_roles_users","module":"","bean_name":""},"prospect_lists":{"name":"prospect_lists","type":"link","group":"","id_name":"","relationship":"prospect_list_users","module":"ProspectLists","bean_name":""},"emails_users":{"name":"emails_users","type":"link","group":"","id_name":"","relationship":"emails_users_rel","module":"Emails","bean_name":""},"holidays":{"name":"holidays","type":"link","group":"","id_name":"","relationship":"users_holidays","module":"","bean_name":""},"eapm":{"name":"eapm","type":"link","group":"","id_name":"","relationship":"eapm_assigned_user","module":"","bean_name":""},"oauth_tokens":{"name":"oauth_tokens","type":"link","group":"","id_name":"","relationship":"oauthtokens_assigned_user","module":"OAuthTokens","bean_name":"OAuthToken"},"project_resource":{"name":"project_resource","type":"link","group":"","id_name":"","relationship":"projects_users_resources","module":"","bean_name":""}}}')), 
  c = a.f);
  return c;
}
function ry(a, b) {
  return a.s ? kb(a.s, function(a) {
    return a.module_key == b;
  }) : null;
}
h.L = function() {
  return this.about ? this.about.domain : "";
};
function Fy(a) {
  return a.about.baseUrl ? a.about.baseUrl : "https://" + a.about.domain;
}
function Gy(a) {
  return Fy(a) + "/index.php?module=EmailTemplates&action=EditView&return_module=EmailTemplates&return_action=DetailView";
}
h.getInfo = function() {
  return Ob(this.info);
};
function ey(a, b, c) {
  return Ex(a) ? Fy(a) + "#" + b + "/" + c : pr(Fy(a), b, c);
}
function Hy(a, b) {
  var c;
  Ex(a) ? (c = b.match(/.+?#(\w+)\/(.+)/), c = {Nj:c[1], id:c[2]}) : (c = b.match(/.+?module=(\w+)&.+?record=(.+)/), c = {Nj:c[1], id:c[2]});
  return c;
}
function Iy(a, b) {
  var c = ry(a, b);
  return c ? c.module_label || b : b;
}
h.send = function(a, b) {
  return Tx(this).send(a, b);
};
function Jy(a, b, c, d) {
  b = {store:b};
  c && (b.index = c);
  d && (d instanceof mj ? b.range = d.toJSON() : b.key = d);
  b.prefix = !0;
  return Tx(a).send("query", [b]).i(function(a) {
    return a[0].result || [];
  }, a);
}
function Ky(a, b, c) {
  c = {store:b, index:"name", q:c, fetchFull:!0};
  "Notes" == b && (c.index = "content");
  return Tx(a).send("search", [c]).i(function(a) {
    a = a[0];
    for (var c = [], f = 0;f < a.fullTextResult.length;f++) {
      var g = a.fullTextResult[f].record;
      g && (g._score = a.fullTextResult[f].score, g._module = b, c.push(g));
    }
    return c;
  });
}
function Ly(a, b, c, d, e) {
  if (!w(b) || -1 == b.indexOf("@")) {
    return C([]);
  }
  var f = {email:b, full:!d};
  c && (f.modules = c);
  b = Tx(a).send("query-by-email-on-client", f).i(function(a) {
    if (0 == a.length && !e) {
      return Tx(this).send("query-by-email-on-server", f);
    }
  }, a);
  return b = b.i(function(a) {
    a.sort(function(a, b) {
      return "Contacts" == a._module || "Leads" == a._module ? a._module == b._module ? a.date_modified > b.date_modified ? -1 : 1 : -1 : "Users" == a._module ? 1 : a.date_modified > b.date_modified ? -1 : 1;
    });
    return a;
  }, a);
}
function My(a) {
  return a.l ? a.l.user_id : "";
}
function Ny(a, b, c) {
  var d, e, f;
  c && (d = c._module, e = c.id, f = c.name);
  c = b.text;
  c || (c = document.createElement("div"), c.innerHTML = b.wh, c = c.innerText);
  var g = tu(b.Ob) ? uu(b.Ob) : "";
  b = {assigned_user_id:My(a), assigned_user_name:a.b ? yr(a.b, "name") || "" : "", date_sent:g, description:c, description_html:b.wh, from_addr:b.Ya, mailbox_id:b.xc || "", message_id:b.wa || "", name:b.subject, parent_id:e || "", parent_name:f || "", parent_type:d || "", status:"read", to_addrs:b.Gb, type:"archived"};
  Ex(a) || (d = b.date_sent.split(" "), b.date_start = d[0] || "", b.time_start = d[1] || "");
  return a.send("new-record", {module:"Emails", record:b});
}
function Oy(a, b) {
  if (!a.c[b]) {
    a.c[b] = new B;
    var c = a.send("list-upcoming-async", {module:b}), d = new Gw(Br(b), !0);
    c.c(function(a) {
      for (var b = 0, c = a ? a.length : 0, k = 0;k < c;k++) {
        d.add(a[k]) && b++;
      }
    }, a);
    c.G(function() {
      setTimeout(function() {
        this.c[b] = null;
      }.bind(this), 6E4);
      return d.a;
    }, a);
    return a.c[b] = c;
  }
  return Bc(a.c[b]);
}
function Xx(a, b) {
  var c = {module:b.module, record:b.getData()};
  return a.send("put-record", c);
}
h.clone = function() {
  return new By(this.about, this.a, this.info, this.l);
};
h.I = function() {
  By.j.I.call(this);
  this.info = null;
  this.M.O();
  this.M = null;
};
h.si = function(a) {
  return Q().send("export-record", a.toJSON()).i(function(a) {
    return new Py(a);
  }, this);
};
function Qy(a, b, c, d) {
  if (0 == d.length) {
    return a = new gf, a.callback({}), a;
  }
  for (var e = [], f = 0;f < d.length;f++) {
    e[f] = {module_name:d[f]._module, id:d[f].id};
  }
  b = {module_name:b, id:c, related_ids:e};
  return Tx(a).send("set-rel", b);
}
function Ry(a, b) {
  if (a.D == b && a.h) {
    return Bc(a.h);
  }
  a.D = b;
  a.h = a.send("query", [{store:"Emails", index:"message_id", key:b}]).i(function(a) {
    return a[0].result && a[0].result[0] ? a[0].result[0] : this.send("fetch", {module:"Emails", id:b, field:"message_id"});
  }, a);
  return Bc(a.h);
}
function ky(a, b, c, d) {
  function e(a) {
    var d = k[a];
    d && (a = this.send("query-related-async", {from:b, id:c, to:d, limit:g}), a.c(function(a) {
      for (var b = 0;b < a.length;b++) {
        a[b] ? a[b]._module = d : pb(a, b);
      }
      hf(f, a);
    }, this), a.u(function(a) {
      if (a) {
        for (var b = a.length = 1;0 <= b;b--) {
          a[b] ? a[b]._module = d : pb(a, b);
        }
      }
      hf(f, a);
      m++;
      m >= k.length && f.callback();
    }, function(a) {
      window.console.error(a);
      m++;
      m >= k.length && f.callback();
    }, this));
  }
  var f = new gf, g = d || 5, k = [];
  if (0 == k.length) {
    if (d = Wx(a, b), d.link_fields) {
      for (var l = 0;l < hr.length;l++) {
        hr[l].toLowerCase() in d.link_fields && k.push(hr[l]);
      }
    } else {
      k = "Contacts" == b || "Leads" == b ? ["Calls"] : ["Contacts"];
    }
  }
  for (var m = 0, l = 0;l < k.length;l++) {
    e.call(a, l);
  }
  return f;
}
;function Sy(a, b) {
  var c = new B;
  if ("local" == a) {
    chrome.storage.local.get(b, function(a) {
      c.callback(a[b]);
    });
  } else {
    if ("sync" == a) {
      chrome.storage.sync.get(b, function(a) {
        c.callback(a[b]);
      });
    } else {
      throw Error("area");
    }
  }
  return c;
}
function Ty(a, b, c) {
  var d = new B, e = {};
  e[b] = c;
  if ("local" == a) {
    chrome.storage.local.set(e, function() {
      d.callback();
    });
  } else {
    if ("sync" == a) {
      chrome.storage.sync.set(e, function() {
        d.callback();
      });
    } else {
      throw Error("area");
    }
  }
  return d;
}
function Uy() {
  var a = new B;
  chrome.storage.local.remove("gapps-cal-events-sync-token", function() {
    a.callback();
  });
}
;function Vy(a, b) {
  this.a = b;
  this.b = a;
}
var Wy = "#a4bdfc #7ae7bf #dbadff #ff887c #fbd75b #ffb878 #46d6db #e1e1e1 #5484ed #51b749 #dc2127".split(" ");
function Xy(a, b) {
  if (!b || !a.a) {
    return "";
  }
  if (w(a.a)) {
    return a.a;
  }
  var c = a.a.name, d = a.a.colors;
  if (!c || !u(d) || !a.b) {
    return "";
  }
  var e = Kr(a.b, c);
  if (x(e.options)) {
    var f = -1, g = 0, k;
    for (k in e.options) {
      if (b[c] == k) {
        f = g;
        break;
      }
      g++;
    }
    if (0 <= f) {
      return d[f];
    }
  }
  return "";
}
function Yy(a) {
  var b = "transparent";
  a && (b = Wy[parseInt(a, 10) - 1] || b);
  return b;
}
;function Zy(a) {
  return !a || "cancelled" == a.status;
}
;function $y(a, b, c) {
  var d = b.match(/(\$[\w_]+)/g);
  if (!d) {
    return b;
  }
  for (var e = 0;e < d.length;e++) {
    var f = d[e].substr(1), g = a[f] || "";
    c && c.module_fields && (f = Kr(c, f)) && x(f.options) && f.options[g] && (g = f.options[g].value || g);
    b = b.replace(d[e], g);
  }
  return b;
}
function az(a, b, c, d, e) {
  var f = d || {};
  d = 0;
  var g = a.name;
  f.summary && (g = $y(a, f.summary, e));
  bz(g, c.summary) && (c.summary = g, d++);
  g = a.description;
  f.description && (g = $y(a, f.description, e));
  bz(g, c.description) && (c.description = g, d++);
  if (b && b.length) {
    for (var k = c.attendees || [], l = k.length - 1;0 <= l;l--) {
      g = b.some(function(a) {
        return k[l].email == a.email;
      }), g || (pb(k, l), d++);
    }
    for (l = 0;l < b.length;l++) {
      g = k.some(function(a) {
        return b[l].email == a.email;
      }), g || (k.push(b[l]), d++);
    }
    c.attendees = k;
  }
  x(f.colorId) && e && (e = Xy(new Vy(e, f.colorId), a), 0 < e ? c.colorId = String(e) : delete c.colorId);
  bz(a.location, c.location) && (c.location = a.location, d++);
  vr(a) && !Zy(c) && (c.status = "cancelled", d++);
  f = Cr(a.date_start);
  e = Cr(a.date_end);
  tu(f) && (c.start = c.start || {}, "24" == a.duration_hours ? (g = Qp(new Np(f), !0), c.start.date != g && (c.start.date = g, delete c.start.dateTime, delete c.start.timeZone, d++)) : f.getTime() != (new Date(c.start.dateTime)).getTime() && (c.start.dateTime = f.toISOString(), delete c.start.date, delete c.start.timeZone, d++));
  g = parseInt(a.duration_hours, 10);
  a = parseInt(a.duration_minutes, 10);
  c.end = c.end || {};
  if (24 == g) {
    if (a = Qp(new Np(e), !0), c.end.date = a) {
      c.end.date = a, delete c.end.dateTime, delete c.end.timeZone;
    }
  } else {
    g || a ? (e = new Date(f.getTime() + 6E4 * a + 36E5 * g), e.getTime() != (new Date(c.end.dateTime)).getTime() && (c.end.dateTime = e.toISOString(), delete c.end.date, delete c.end.timeZone)) : tu(e) && (a = e.getTime(), a != (new Date(c.end.dateTime)).getTime() && a > (new Date(c.end.dateTime)).getTime() && (c.end.dateTime = e.toISOString(), delete c.end.date, delete c.end.timeZone));
  }
  return d;
}
function bz(a, b) {
  return a || b ? w(a) ? a != b : !1 : !1;
}
;function cz(a, b) {
  H.call(this);
  this.a = a;
  this.o = null;
  this.h = b;
  var c = this.a.a, d = "su-" + c.l;
  this.db = new sp(c.f ? d + ":" + c.f : d, rw(this.h), {isSerial:!0, policy:"single", mechanisms:["indexeddb"]});
  this.c = new yv(this.db, new lv(this.a));
  this.ba = Cm(this.db, Ik, !0);
  this.b = Cm(this.db, Ik, !1);
  this.D = null;
  this.history = new is(this.db);
  this.s = this.l = this.f = null;
}
A(cz, hs);
h = cz.prototype;
h.L = function() {
  return this.a.L();
};
function dz(a, b) {
  var c = "record-count-" + b;
  return 0 <= ir.indexOf(b) ? Bl([a.b.get("Meta", c), a.b.ra(b, "date_modified", null, 1, 0, !0)]).i(function(a) {
    return a[0] && a[1][0] && a[0].cached > Cr(a[1][0].date_modified).getTime() ? a[0].count : Dv(this.c, b, 0, void 0).i(function(a) {
      a = {cached:y(), count:a};
      this.b.put("Meta", a, c);
    }, this);
  }, a) : Dv(a.c, b, 0, void 0);
}
function ez(a, b) {
  if (!b || !b.module) {
    throw Error("module required.");
  }
  var c = {store:b.module, index:"date_modified", reverse:!0, limit:5}, d = new gf;
  a.values(c).i(function(a) {
    hf(d, a);
  }, a);
  return d;
}
h.query = function(a) {
  if (!u(a)) {
    return D("invalid query");
  }
  if (0 == a.length) {
    return C([]);
  }
  for (var b = [], c = 0;c < a.length;c++) {
    var d = a[c], e = d.limit || 5, f = d.offset || 0, g = !!d.reverse, k = !!d.keyOnly;
    if (!x(d)) {
      return D("invalid query at " + c + "");
    }
    var l = d.store, m = d.index || "id", n = null;
    if (null != d.key) {
      n = d.key;
      "ydn$phones" == m ? n = Do(n) : "ydn$emails" == m && (n = Eo(n));
      if (!n) {
        b.push(C([]));
        continue;
      }
      n = d.prefix ? qj(n) : nj(n);
    } else {
      null != d.keyRange && (n = rj(d.keyRange));
    }
    qm(this.db, l) || ("id" == m || "date_modified" == m || "name" == m ? (null != d.key ? n = d.prefix ? new mj([d.store, d.key], ["_module", d.key + "\uffff"], !1, !0) : nj([d.store, d.key]) : null != d.keyRange && (n = new mj([d.store, n.lower], [d.store, n.upper || "\uffff"], n.lowerOpen, n.upperOpen)), "date_modified" == m ? m = "_module, date_modified" : "name" == m && (m = "_module, name")) : e = k ? 1E3 : 100, l = "ydn-crm-su-record");
    "id" == m ? k ? b.push(this.ba.keys(l, n, e, f, g)) : b.push(this.ba.xd(l, n, e, f, g)) : rm(this.db, l, m) ? k ? b.push(this.ba.keys(l, m, n, e, f, g)) : b.push(this.ba.ra(l, m, n, e, f, g)) : b.push(C([]));
  }
  return (new Al(b)).u(function(b) {
    for (var c = 0;c < b.length;c++) {
      var d = a[c];
      if (b[c][0]) {
        var e = !!d.keyOnly;
        d.result = b[c][1];
        if (!qm(this.db, d.store)) {
          for (var f = [], g = 0;g < d.result.length;g++) {
            if (e) {
              var k = d.result[g];
              k[0] == d.store && f.push(k[1]);
            } else {
              d.result[g]._module == d.store && f.push(d.result[g]);
            }
            if (f.length >= d.limit) {
              break;
            }
          }
          d.result = f;
        }
        if (!e) {
          for (g = 0;g < d.result.length;g++) {
            x(d.result[g]) && !d.result[g]._module && (d.result[g]._module = d.store);
          }
        }
      } else {
        K(this.logger, "query " + c + " failed."), d.result = [];
      }
    }
    return a;
  }, function(b) {
    K(this.logger, "list failed " + b);
    return a;
  }, this);
};
function fz(a, b) {
  var c = new bk(b, "name"), d = [];
  return a.ba.open(function(a) {
    var b = {id:a.ta()};
    b.name = a.a;
    d.push(b);
  }, c).i(function() {
    return d;
  });
}
function gz(a, b) {
  var c = new ck(b), d = [];
  return a.ba.open(function(a) {
    var b = a.Y();
    d.push({name:Er(b), id:a.ta()});
  }, c).i(function() {
    return d;
  });
}
function hz(a, b) {
  if (!b || !b.module) {
    throw Error("Invalid query for list-name");
  }
  return fz(a, b.module).i(function(a) {
    if (0 == a.length) {
      return gz(this, b.module);
    }
  }, a);
}
function iz(a, b, c) {
  return c ? qm(a.db, b) ? a.ba.get(b, c).i(function(a) {
    if (a) {
      a._module = b;
    } else {
      return jz(this, b, c);
    }
    return a;
  }, a) : jz(a, b, c) : C(null);
}
h.count = function(a, b, c) {
  return c ? this.b.count(a, c, b) : this.b.count(a, b);
};
h.values = function(a, b) {
  if (u(a) || !x(a)) {
    return D("invalid query");
  }
  var c = a.limit || 5, d = a.offset || 0, e = !!a.reverse, f = a.store, g = f, k = qm(this.db, g);
  k || (g = "ydn-crm-su-record");
  var l = a.index || "id";
  if (!w(l) || 0 == l.length) {
    return D("index name missing in " + g);
  }
  var m = null;
  null != a.key ? (m = a.key, "ydn$phones" == l && w(m) ? m = Do(m) : "ydn$emails" == l && w(m) && (m = m.toLowerCase()), k || (m = [f, m]), m = a.prefix ? qj(m) : nj(m)) : null != a.keyRange && (m = rj(a.keyRange));
  return "id" == l ? b ? this.ba.Ij(g, m, c, d, e) : this.ba.xd(g, m, c, d, e) : rm(this.db, g, l) ? b ? this.ba.Vd(g, l, m, c, d, e) : this.ba.ra(g, l, m, c, d, e) : D("invalid index name: " + l + " for " + g);
};
function kz(a, b) {
  if (!x(b) || !w(b.q)) {
    return D("Invalid query for se-bms");
  }
  var c = b.modules || lr.concat(nr), d = lz(a, c, b.q, !!b.quick, b.limit, b.assigned_user_id, b.select_fields);
  if (zu(a.a) && !b.assigned_user_id) {
    for (var d = [d], e = 0;e < c.length;e++) {
      d.push(mz(a, c[e], b.q, b.limit));
    }
    return Bl(d).i(function(a) {
      return Bb(a);
    });
  }
  return d;
}
function nz(a, b) {
  return $u(a.a, "get_entry_list", {module_name:b, max_results:100, select_fields:["id"], favorites:!0}).i(function(a) {
    a = a.entry_list || [];
    for (var b = [], e = 0;e < a.length;e++) {
      b[e] = a[e].id;
    }
    return b;
  }, a);
}
function oz(a, b) {
  var c = "record-favorites-" + b, d = new gf;
  a.b.get("Meta", c).i(function(a) {
    if (a && (hf(d, a.ids), a.cached + 5E3 > y())) {
      d.callback(null);
      return;
    }
    return nz(this, b).i(function(b) {
      var g = {cached:y(), ids:b};
      this.b.put("Meta", g, c);
      a && yb(b, a.ids) ? d.callback(null) : d.callback(b);
    }, this);
  }, a);
  return d;
}
function pz(a, b) {
  function c(c) {
    c ? qz(a, b, c).u(function(a) {
      d.callback(a);
    }, function(a) {
      d.C(a);
    }, this) : d.callback(null);
  }
  var d = new gf, e = oz(a, b), f = null;
  e.c(function(a) {
    f = qz(this, b, a).i(function(a) {
      hf(d, a);
    }, this);
  }, a);
  e.u(function(a) {
    f && !f.f ? f.G(function() {
      c(a);
    }) : c(a);
  }, function(a) {
    d.C(a);
  }, a);
  return d;
}
function mz(a, b, c, d) {
  if (zu(a.a)) {
    var e = {};
    0 <= ["Contacts", "Users", "Leads"].indexOf(b) ? (e.first_name = c, e.last_name = c) : e.name = c;
    return rz(a, b, e, d);
  }
  return lz(a, [b], c, !1, d);
}
function rz(a, b, c, d) {
  if (zu(a.a)) {
    d = {max_num:d || 5};
    var e = 1 < Object.keys(c).length, f = 0, g;
    for (g in c) {
      var k = String(c[g]).trim(), l = "";
      e && (l = "[$or][" + f + "]", f++);
      d["filter[0]" + l + "[" + g + "][$starts]"] = k;
    }
    return Du(a.a, "GET", b, d).i(function(a) {
      if (a && a.records) {
        a = a.records;
        for (var b = 0;b < a.length;b++) {
          sz(this, a[b]._module, a[b]);
        }
      } else {
        a = [];
      }
      return a;
    }, a);
  }
  e = "";
  for (g in c) {
    -1 == e.indexOf(c[g]) && (e && (e += " "), e += c[g]);
  }
  return lz(a, [b], e, !1, d);
}
function lz(a, b, c, d, e, f, g) {
  if (!c) {
    return C([]);
  }
  f = f || "";
  var k = ["search_string", "modules", "offset", "max_results"];
  b = [c, b, 0, e || 10, !1];
  g = g || [];
  Ju(a.a) && (k.push("assigned_user_id"), k.push("select_fields"), k.push("unified_search_only"), b.push(f), b.push(g), b.push(!1));
  Hu(a.a) && (k.push("favorites"), b.push(!1));
  return av(a.a, "search_by_module", k, b).i(function(a) {
    if (!a || !a.entry_list) {
      return [];
    }
    var b = a.entry_list;
    if (!u(b)) {
      throw window.console.error(a), Error("Invalid search_by_module result");
    }
    a = [];
    for (var c = 0;c < b.length;c++) {
      for (var e = b[c].records, f = 0;f < e.length;f++) {
        var g = {_module:b[c].name}, k = e[f], F = !1, P;
        for (P in k) {
          F = k[P], g[F.name] = F.value, F = !0;
        }
        F && a.push(g);
      }
    }
    if (d) {
      return a;
    }
    b = [];
    for (c = 0;c < a.length;c++) {
      b.push(iz(this, a[c]._module, a[c].id));
    }
    return Bl(b);
  }, a);
}
h.search = function(a) {
  if (!u(a) || 0 == a.length) {
    return D("invalid query");
  }
  for (var b = [], c = rw(this.h), d = 0;d < a.length;d++) {
    var e = a[d];
    if (!x(e)) {
      return D("invalid query at " + d + "");
    }
    var f = e.q;
    if (!w(f) || 0 == f.length) {
      return D("q missing at " + d + "");
    }
    var g = "ft-" + e.store + "-" + (e.index || "name");
    0 <= lb(c.fullTextCatalogs, function(a) {
      return a.name == g;
    }) ? (f = this.db.search(g, e.q, e.limit, e.threshold), e.fetchFull && (f = f.i(function(a) {
      if (0 < a.length) {
        for (var b = [], c = 0;c < a.length;c++) {
          b.push(new Bk(a[c].storeName, a[c].primaryKey));
        }
        return this.ba.values(b).i(function(b) {
          for (var c = 0;c < b.length;c++) {
            a[c].record = b[c], a[c].record && !a[c].record._module && (a[c].record._module = a[c].storeName);
          }
          return a;
        });
      }
    }, this)), b.push(f)) : b.push(C([]));
  }
  return (new Al(b)).u(function(b) {
    for (var c = 0;c < b.length;c++) {
      b[c][0] ? a[c].fullTextResult = b[c][1] : (K(this.logger, "query " + c + " failed."), a[c].fullTextResult = []);
    }
    return a;
  }, function(b) {
    K(this.logger, "list failed " + b);
    return a;
  }, this);
};
function tz(a, b, c) {
  var d = {module_name:b};
  d.query = "ydn$emails = '" + c + "'";
  d.order_by = "id ASC";
  return $u(a.a, "get_entry_list", d).i(function(a) {
    if (a && a.entry_list && x(a.entry_list[0])) {
      a = su(a.entry_list[0]);
      if (a.id == c) {
        return a;
      }
      N(this.logger, "record " + b + ":" + c + " not found, " + a.warning);
      return null;
    }
    N(this.logger, "record " + b + ":" + c + " not found.");
    return null;
  }, a);
}
function jz(a, b, c, d) {
  return a.f && a.f.id == c && 200 > y() - a.f._timestamp ? C(a.f) : Iu(a.a) ? $u(a.a, "get_entry_list", {module_name:b, query:wu(b) + "." + (d || "id") + " = '" + c + "'", max_results:1, deleted:1}).i(function(a) {
    if (a && a.entry_list && x(a.entry_list[0])) {
      return a = su(a.entry_list[0]), sz(this, b, a), this.f = a, this.f._timestamp = y(), a._module = b, a;
    }
    N(this.logger, "record " + b + ":" + c + " not found.");
    return null;
  }, a) : uz(a, b, c);
}
function uz(a, b, c) {
  return a.f && a.f.id == c && 3E4 > y() - a.f._timestamp ? C(a.f) : av(a.a, "get_entry", ["module_name", "id"], [b, c]).i(function(a) {
    if (a && a.entry_list && x(a.entry_list[0])) {
      a = su(a.entry_list[0]);
      if (a.id == c) {
        return sz(this, b, a), this.f = a, this.f._timestamp = y(), a;
      }
      N(this.logger, "record " + b + ":" + c + " not found, " + a.warning);
      return null;
    }
    N(this.logger, "record " + b + ":" + c + " not found.");
    return null;
  }, a);
}
function vz(a, b, c) {
  return av(a.a, "get_entries", ["module_name", "ids"], [b, c]).i(function(a) {
    if (a && a.entry_list) {
      a = a.entry_list;
      for (var e = [], f = 0;f < a.length;f++) {
        var g = su(a[f]);
        !g.id || c && g.id != c[f] ? e[f] = null : (e[f] = g, sz(this, b, g));
      }
      a = e;
    } else {
      a = [];
    }
    return a;
  }, a);
}
function wz(a, b, c) {
  var d = c.map(function(a) {
    return a.id;
  });
  return qm(a.db, b) ? a.ba.values(b, d).i(function(a) {
    for (var d = [], g = [], k = 0;k < a.length;k++) {
      if (!a[k] || a[k].date_modified < c[k].date_modified) {
        d.push(c[k].id), g.push(k);
      }
    }
    return 0 == g.length ? a : vz(this, b, d).i(function(b) {
      for (var c = 0;c < g.length;c++) {
        a[g[c]] = b[c];
      }
      return a;
    });
  }, a) : vz(a, b, d);
}
function xz(a, b) {
  for (var c = [], d = [], e = 0;e < b.length;e++) {
    var f = b[e]._module, g = b[e].id;
    if (f && g) {
      var k = cb(d, f);
      -1 == k && (k = d.length, d.push(f), c.push([]));
      c[k].push(g);
    } else {
      K(a.logger, "Invalid record identifier at " + e);
    }
  }
  if (0 == d.length) {
    return C([]);
  }
  f = [];
  for (e = 0;e < d.length;e++) {
    f.push(vz(a, d[e], c[e]));
  }
  return Bl(f).i(function(a) {
    return Bb(a);
  }, a);
}
function yz(a, b, c) {
  if (!w(c) || 0 == c.length) {
    return D("record id required.");
  }
  var d = zz(b);
  return rm(a.db, d, "ydn$emails") ? a.ba.values(d, "ydn$emails", nj(c)).i(function(a) {
    return a[0] || null;
  }, a).i(function(a) {
    if (!a && !xa(c, "ydn$")) {
      return tz(this, b, c);
    }
  }, a) : tz(a, b, c);
}
function zz(a) {
  "Employees" == a && (a = "Users");
  return a;
}
function Az(a, b, c, d) {
  if (!w(c) || 0 == c.length) {
    return D("record id required.");
  }
  var e = zz(b);
  return qm(a.db, e) ? a.ba.get(e, c).i(function(a) {
    if (!d && null == a) {
      return jz(this, b, c);
    }
    a._module = b;
    return a;
  }, a) : a.ba.get("ydn-crm-su-record", c).i(function(a) {
    if (!d && null == a) {
      return jz(this, b, c);
    }
    a._module = b;
    return a;
  }, a);
}
function qz(a, b, c) {
  if (0 == c.length) {
    return C([]);
  }
  var d = zz(b);
  if (qm(a.db, d)) {
    var e = c.map(function(a) {
      return new Bk(d, a);
    });
    return a.ba.values(e).i(function(a) {
      for (var d = [], e = [], l = 0;l < a.length;l++) {
        a[l] ? a[l]._module = b : (e.push(l), d.push(c[l]));
      }
      if (0 < e.length) {
        return vz(this, b, d).i(function(c) {
          for (var d = 0;d < e.length;d++) {
            c[d] && (c[d]._module = b, a[e[d]] = c[d]);
          }
          return a;
        }, this);
      }
    }, a);
  }
  return vz(a, b, c);
}
function Bz(a, b) {
  return Bl([a.ba.count(b), a.b.values(b, "date_modified", null, 1, 0, !0)]).i(function(a) {
    var d = {module:b};
    d.last_record = a[1][0];
    d.count = a[0];
    return d;
  }, a);
}
function Cz(a, b) {
  if (w(b)) {
    return Bz(a, b);
  }
  for (var c = [], d = 0;d < ir.length;d++) {
    c.push(Bz(a, ir[d]));
  }
  Dz(a);
  return Bl(c);
}
function Ez(a) {
  if (a.D) {
    return C(a.D);
  }
  new B;
  return a.ba.get("Meta", "info/server").i(function(a) {
    if (a && a.version) {
      this.D = a;
    } else {
      return Mu(gu(this.a.a)).i(function(a) {
        if (a && a.version) {
          this.D = a, this.ba.put("Meta", a, "info/server");
        } else {
          throw Error("Invalid Info");
        }
      }, this);
    }
  }, a);
}
h.about = function() {
  return {baseUrl:gu(this.a.a), domain:this.L(), userName:this.a.a.b, isLogin:Fz(this), hostPermission:!Fu(this.a)};
};
function Gz(a) {
  return Hz(a).i(function(a) {
    return {loginInfo:this.o, serverInfo:this.h.info, availableModules:this.h.availableModules, modulesInfo:this.h.modulesInfo, about:a};
  }, a);
}
function Iz(a, b) {
  var c = !1, d;
  x(b) ? (d = b.module, c = !!b.force) : d = b;
  return Bv(a.c, d, c);
}
function Jz(a, b, c) {
  return c ? Az(a, b, c, !0).i(function(a) {
    a = a || {id:c};
    a.deleted = "1";
    return Kz(this, b, a);
  }, a) : D("deleting in-exist record.");
}
function Lz(a) {
  var b = new Mf;
  b.c = "arraybuffer";
  var c = new B;
  Bd(b, "complete", function(a) {
    a = a.target;
    if (200 == a.P()) {
      var b = $f(a), f;
      f = "";
      for (var b = new Uint8Array(b), g = b.byteLength, k = g % 3, g = g - k, l, m, n, p, r = 0;r < g;r += 3) {
        p = b[r] << 16 | b[r + 1] << 8 | b[r + 2], l = (p & 16515072) >> 18, m = (p & 258048) >> 12, n = (p & 4032) >> 6, p &= 63, f += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[l] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[p];
      }
      1 == k ? (p = b[g], f += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p & 252) >> 2] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p & 3) << 4] + "==") : 2 == k && (p = b[g] << 8 | b[g + 1], f += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p & 64512) >> 10] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p & 1008) >> 4] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(p & 15) << 
      2] + "=");
      a.O();
      c.callback(f);
    } else {
      b = Error;
      k = a.P() + ":";
      try {
        f = a.ha ? a.ha.responseText : "";
      } catch (v) {
        L(a.a, "Can not get responseText: " + v.message), f = "";
      }
      f = b(k + f);
      a.O();
      c.C(f);
    }
  });
  b.send(a);
  return c;
}
function Mz(a, b) {
  var c = new gf;
  if (b && b.url && b.fileName) {
    if (Fu(a.a)) {
      c.C("Host permission to " + a.L() + "require to upload the document");
    } else {
      var d = b.url, e = {origins:[d, "https://mail-attachment.googleusercontent.com/*"]};
      !0 === b.isUserRequest ? kj(e, function(e) {
        e ? Nz(a, c, b) : (e = Error("No permission to download " + d), e.name = "HostPermissionError", c.C(e));
      }) : ij(e, function(e) {
        e ? Nz(a, c, b) : (e = Error("No permission to download " + d), e.name = "HostPermissionError", c.C(e));
      });
    }
  } else {
    c.C("invalid arg for upload");
  }
  return c;
}
h.update = function() {
  return this.c.update();
};
function Nz(a, b, c) {
  var d = c.fileName, e = c.name || c.documentName, f = c.description || "", g = c.mime, k = c.messageId, l = c.emailId, m = c.module;
  Lz(c.url).u(function(a) {
    hf(b, "downloaded.");
    "Notes" == m ? Oz(this, a, d, g, k, e, f, l).b(b) : Pz(this, a, d, k, e, c).b(b);
  }, function(a) {
    b.C(a);
  }, a);
}
function Oz(a, b, c, d, e, f, g, k) {
  return Kz(a, "Notes", {description:g, file_mime_type:d, filename:e + "/" + c, name:f, parent_id:k, parent_name:"attach from email", parent_type:"Emails"}).i(function(a) {
    return $u(this.a, "set_note_attachment", {note:{id:a.id, filename:e + "/" + c, file:b, related_module_id:k, related_module_name:"Emails"}}).i(function(b) {
      if (!b || !b.id || "-1" == b.id) {
        throw b = Error("Server or encoding error"), b.name = "BackendError", b;
      }
      Bv(this.c, "Notes");
      return a;
    }, this);
  }, a);
}
function Pz(a, b, c, d, e, f) {
  f = f || {};
  f.document_name = e;
  f.filename = d + "/" + c;
  return Kz(a, "Documents", f).i(function(a) {
    return $u(this.a, "set_document_revision", {document_revision:{id:a.id, document_name:e, revision:"1", filename:d + "/" + c, file:b}}).i(function(b) {
      if (!b || !b.id || "-1" == b.id) {
        throw b = Error("Server or encoding error"), b.name = "BackendError", b;
      }
      a.name = c;
      a.document_name = e;
      a.filename = d + "/" + c;
      a.document_revision_id = b.id;
      Bv(this.c, "Documents");
      return a;
    }, this);
  }, a);
}
function sz(a, b, c) {
  c._module || (c._module = b);
  c && c.id ? c._module ? qm(a.db, b) ? a.ba.put(b, c) : a.ba.put("ydn-crm-su-record", c) : D("_module required.") : D("record id required.");
}
function Qz(a, b) {
  setTimeout(function() {
    I(this, b);
  }.bind(a), 10);
}
function Kz(a, b, c) {
  var d = [], e;
  for (e in c) {
    xa(e, "ydn$") || d.push({name:e, value:c[e]});
  }
  return $u(a.a, "set_entry", {module_name:b, name_value_list:d}).i(function(a) {
    if (a && a.id) {
      var d = {id:a.id}, e;
      for (e in c) {
        d[e] = c[e];
      }
      a = a.entry_list || {};
      for (var l in a) {
        d[l] = a[l].value;
      }
      sz(this, b, d);
      Qz(this, new tw(this, b));
      return d;
    }
    window.console.error(a);
    throw Error("creating " + b + " entry fail");
  }, a);
}
function Rz(a, b, c) {
  var d = {};
  xw(c, d);
  return Kz(a, b, d);
}
function Fz(a) {
  return !!a.o && !!a.o.user_id;
}
function Sz(a) {
  return "login_info/" + a.a.a.b + "/" + a.L();
}
function Tz(a, b) {
  if (a.l) {
    return Bc(a.l);
  }
  var c = Nu(a.a, b).u(function(a) {
    this.o = a;
    this.ba.put("Meta", this.o, Sz(this));
    Qz(this, new sw(this, this.L()));
    var b = this;
    setTimeout(function() {
      b.update();
    }, 2E3);
  }, function(a) {
    if (a instanceof Vu) {
      if ("NetworkError" == a.name) {
        return this.ba.get("Meta", Sz(this)).i(function(b) {
          if (b) {
            return bf(this.logger, this.L() + " load previous login during network error"), this.o = b;
          }
          throw a;
        }, this);
      }
      Rm("sugarcrm", "login-fail", this.a.L(), a.result);
    }
  }, a);
  a.l = c;
  a.l.G(function() {
    this.l = null;
  }, a);
  return c;
}
function Hz(a) {
  if (Fz(a)) {
    return C(a.about());
  }
  if (a.l) {
    return a.l.f ? C(a.about()) : Bc(a.l).G(function() {
      return this.about();
    }, a);
  }
  var b = a.about();
  return jj(b.baseUrl).i(function(a) {
    b.hostPermission = !!a;
    return b;
  });
}
function Uz(a) {
  a.ba.remove("Meta", Sz(a));
  return Wu(a.a);
}
h.toString = function() {
  return "SugarClient:" + this.L();
};
function Vz(a, b) {
  b = b || {};
  var c = yu(a.a), d = ["Meetings", "Calls", "Tasks", "Opportunities"];
  if (b.use_server) {
    if (!Ju(a.a)) {
      return c = d.map(function(a) {
        return Hv(this.c, a);
      }.bind(a)), Bl(c).G(function() {
        return Vz(this, {});
      }, a);
    }
    c = Wz(a);
    return b.partial ? c : c.i(function(a) {
      a = a.map(function(a) {
        a._module = a.module;
        return a;
      });
      return xz(this, a).i(function(a) {
        return fb(a, function(a) {
          return !!a;
        });
      });
    }, a);
  }
  var e = y() - 604800, e = uu(new Date(e)), f = oj([c, e], [c, "\uffff"]), c = d.map(function(a) {
    return new ek(a, Dr(a), f);
  }), g = [];
  return xl(a.ba, function(a, b) {
    for (var c = [], e = 0;e < b.length;e++) {
      b[e] && (b[e]._module = d[e], g.push(b[e]), c[e] = !0);
    }
    return c;
  }, c).i(function() {
    return g;
  });
}
function Xz(a, b) {
  return a.length != b.length ? !1 : a.every(function(a) {
    return b.some(function(b) {
      return a.from.id == b.from.id && a.to.id == b.to.id || a.to.id == b.from.id && a.from.id == b.to.id ? !0 : !1;
    });
  });
}
function Yz(a, b, c, d, e, f) {
  var g = wu(d), k = "";
  e && (k = " " + g + "." + e + " ");
  e = av(a.a, "get_relationships", "module_name module_id link_field_name related_module_query related_fields related_module_link_name_to_fields_array deleted order_by".split(" "), [b, c, g, f || "", ["id", "date_modified"], "", !1, k]).i(function(a) {
    return a && a.entry_list ? ru(a.entry_list) : [];
  }, a);
  e.i(function(a) {
    if (a && u(a)) {
      var e = y(), f = a.map(function(a) {
        return {modified:e, date_modified:a.date_modified, from:{module_name:b, id:c}, to:{module_name:d, id:a.id}};
      }), g = qj([b, c, d]);
      this.b.values("relationships", g).i(function(a) {
        Xz(a, f) || this.b.clear("relationships", g).i(function() {
          this.b.put("relationships", f);
        }, this);
      }, this);
    }
  }, a);
  return e;
}
function Zz(a, b, c, d, e) {
  var f = qj([b, c, d]), g = new gf;
  a.b.xd("relationships", f).u(function(a) {
    "date_modified ASC" == e ? a.sort(function(a, b) {
      return a.date_modified > b.date_modified ? -1 : 1;
    }) : "date_modified DESC" == e && a.sort(function(a, b) {
      return a.date_modified > b.date_modified ? 1 : -1;
    });
    0 < a.length && !g.f && (a = a.map(function(a) {
      return a.to.id;
    }), hf(g, a));
  }, function(a) {
    window.console.error(a);
  }, a);
  Yz(a, b, c, d, e).i(function(a) {
    return a.map(function(a) {
      return a.id;
    });
  }).b(g);
  return g;
}
function $z(a, b, c, d, e) {
  var f = new gf, g = [];
  b = Zz(a, b, c, d, e || "date_modified DESC");
  b.c(function(a) {
    g = a;
    if (0 <= ir.indexOf(d)) {
      return a = a.map(function(a) {
        return new Bk(d, a);
      }), this.ba.values(a).i(function(a) {
        if (!f.f) {
          for (var b = a.length - 1;0 <= b;b--) {
            a[b] || (pb(a, b), pb(g, b));
          }
          for (b = 0;b < a.length;b++) {
            a[b]._module || (a[b]._module = d);
          }
          hf(f, a);
        }
      }, this);
    }
  }, a);
  b.u(function(a) {
    var b = g.length == a.length;
    if (b) {
      for (var c = 0;c < g.length;c++) {
        if (-1 == a.indexOf(g[c])) {
          b = !1;
          break;
        }
      }
    }
    b ? f.callback(null) : qz(this, d, a).b(f);
  }, function(a) {
    window.console.error(a);
    f.C(a);
  }, a);
  return f;
}
function aA(a, b, c, d) {
  function e(a, b) {
    if (b) {
      for (var c = 0;c < b.length;c++) {
        b[c]._module = a, f.push(b[c]);
      }
    }
  }
  var f = [], g = [];
  d = d || nw(a.h, b);
  for (var k = 0;k < d.length;k++) {
    var l = $z(a, b, c, d[k], void 0);
    l.c(pa(e, null, d[k]));
    l.i(pa(e, null, d[k]));
    g.push(l);
  }
  return Bl(g).i(function() {
    f.sort(function(a, b) {
      return -1 * wb(a.modified, b.modified);
    });
    return f;
  });
}
function bA(a, b, c, d, e) {
  if (Ou(a.a)) {
    return av(a.a, "set_relationship", "module_name module_id link_field_name related_ids name_value_list delete".split(" "), [b, c, d.toLowerCase(), e, [], 0]);
  }
  e = e.map(function(a) {
    return {module2:b, module2_id:c, module1:d, module1_id:a};
  });
  return 1 == e.length ? $u(a.a, "set_relationship", {set_relationship_value:e[0]}) : $u(a.a, "set_relationships", {set_relationship_value:e});
}
function cA(a, b) {
  var c = [], d = null, e = b || {}, f = e.limit || 10;
  (e = e.since) && e instanceof Date && (d = uu(e), d = pj(d));
  for (e = 0;e < ir.length;e++) {
    c[e] = new ek(ir[e], "date_modified", d, !0, !0);
  }
  var g = [];
  return xl(a.b, function(a, b) {
    for (var c = [], d = -1, e = null, r = 0;r < b.length;r++) {
      b[r] && (e ? e < b[r].date_modified && (e = b[r].date_modified, d = r, c = [], c[r] = !0) : (e = b[r].date_modified, d = r, c[r] = !0));
    }
    0 <= d && (b[d]._module = ir[d], g.push(b[d]));
    return g.length >= f ? [] : c;
  }, c).i(function() {
    return g;
  });
}
function dA(a, b, c) {
  var d;
  if ("about" == b) {
    d = C(a.about());
  } else {
    if ("activity-stream" == b) {
      d = cA(a, c);
    } else {
      if ("activity-upcoming" == b) {
        d = Vz(a, c);
      } else {
        if ("clear-cache" == b) {
          if (c = a.c, c.c && !c.o) {
            a = a.c;
            c = 0;
            for (var e in a.f) {
              a.f[e] && c++;
            }
            a.o = 0 < c;
            d = D("Try again, stopping module updating process.");
          } else {
            c = a.c;
            for (d = 0;d < ir.length;d++) {
              pv(c.b, ir[d]);
            }
            c = qj("su/" + a.L());
            $m.clear(Dg, c);
            d = a.db.clear();
          }
        } else {
          if ("count" == b) {
            d = c || {}, c = d.module, d = "server" == d.source, d = c ? d ? dz(a, c) : qm(a.db, c) ? a.b.count(c) : a.b.count("ydn-crm-su-record", "_module", nj(c)) : D("module name require");
          } else {
            if ("delete-record" == b) {
              (e = c.module) && -1 != hr.indexOf(e) ? (c = c.id) ? d = Jz(a, e, c) : d = D("record id required") : d = D("invalid module name: " + e);
            } else {
              if ("details" == b) {
                d = Gz(a);
              } else {
                if ("fetch" == b) {
                  d = jz(a, c.module, c.id, c.field);
                } else {
                  if ("fetch-up-act" == b) {
                    d = Wz(a);
                  } else {
                    if ("fetch-module" == b) {
                      d = Iz(a, c);
                    } else {
                      if ("se-fis" == b) {
                        d = rz(a, c.module, c.filter, c.limit);
                      } else {
                        if ("get" == b) {
                          d = Az(a, c.module || c.module_name, c.id);
                        } else {
                          if ("get-favorite-async" == b) {
                            d = pz(a, c.module);
                          } else {
                            if ("info-module" == b) {
                              d = c, x(c) && w(c.module) && (d = c.module), d = C(a.h.modulesInfo[d]);
                            } else {
                              if ("keys" == b) {
                                d = a.values(c, !0);
                              } else {
                                if ("list-recent-async" == b) {
                                  d = ez(a, c);
                                } else {
                                  if ("list-module" == b) {
                                    d = iv(a.a);
                                  } else {
                                    if ("list-name" == b) {
                                      d = hz(a, c);
                                    } else {
                                      if ("list-upcoming-async" == b) {
                                        c = c.module, d = "Meetings" == c ? eA(a) : fA(a, c);
                                      } else {
                                        if ("login" == b) {
                                          d = Tz(a);
                                        } else {
                                          if ("login-user" == b) {
                                            d = Fz(a) ? Az(a, "Users", yu(a.a)) : D("Not login");
                                          } else {
                                            if ("login-info" == b) {
                                              d = C(a.o);
                                            } else {
                                              if ("put-record" == b || "new-record" == b) {
                                                e = c.module;
                                                var f;
                                                a: {
                                                  b = a.h;
                                                  if (e && b.modulesInfo) {
                                                    for (f in b.modulesInfo) {
                                                      if (b.modulesInfo[f].module_name == e) {
                                                        f = !0;
                                                        break a;
                                                      }
                                                    }
                                                  }
                                                  f = !1;
                                                }
                                                f ? (c = c.record, x(c) ? d = Kz(a, e, c) : d = D("record object required")) : d = D("invalid module name: " + e);
                                              } else {
                                                if ("search" == b) {
                                                  u(c) ? d = a.search(c) : d = D("query must be an array");
                                                } else {
                                                  if ("se-bms" == b) {
                                                    d = kz(a, c);
                                                  } else {
                                                    if ("se-nms" == b) {
                                                      d = mz(a, c.module, c.q, c.limit);
                                                    } else {
                                                      if ("set-rel" == b) {
                                                        if (x(c) && c.module_name && c.id && c.related_ids) {
                                                          if (f = c.related_ids, u(f) && f[0].module_name && f[0].id) {
                                                            d = [];
                                                            e = [];
                                                            for (b = 0;b < f.length;b++) {
                                                              var g = f[b], k = d.indexOf(g.module_name);
                                                              -1 == k && (d.push(g.module_name), e.push([]), k = d.length - 1);
                                                              e[k].push(g.id);
                                                            }
                                                            f = [];
                                                            b = c.module_name;
                                                            c = c.id;
                                                            for (g = 0;g < d.length;g++) {
                                                              f.push(bA(a, b, c, d[g], e[g]));
                                                            }
                                                            d = Bl(f);
                                                          } else {
                                                            d = D("invalid related_ids");
                                                          }
                                                        } else {
                                                          d = D("invalid data for set-rel");
                                                        }
                                                      } else {
                                                        "query" == b ? d = a.query(c) : "query-by-email-on-client" == b ? d = gA(a, c.email, c.modules) : "query-by-email-on-server" == b ? x(c) ? (d = c.email, d = w(d) ? c.full ? hA(a, d, c.modules) : iA(a, d, c.modules) : D("email required for SReq: query-by-email-on-server")) : d = D("query must be object SReq: query-by-email-on-server") : "query-entry" == b ? d = iz(a, c.module, c.id) : "query-embedded" == b ? d = jA(a, c) : "query-related-async" == 
                                                        b ? c && c.from && c.id && c.to ? d = $z(a, c.from, c.id, c.to, "date_modified DESC") : (a = new gf, a.C("invalid query query-related-async"), d = a) : "query-related" == b ? d = c.email ? kA(a, c.email, c.modules) : c.id ? c.module ? aA(a, c.module, c.id, c.modules || ["Opportunities", "Cases"]) : D("module required for id query in query-related") : D("Invalid SReq: query-related") : "query-similar" == b ? d = lA(a, c) : "server-info" == b ? 
                                                        d = Ez(a) : "stats" == b ? d = Cz(a, c) : "update-audio" == b ? d = Gv(a.c, c.module) : "update-clear" == b ? d = Cv(a.c, c.module) : "update-reset" == b ? (pv(a.c.b, c.module), d = C(c.module)) : "update-now" == b ? d = (c = c ? c.module : "") ? Iz(a, c) : a.c.update() : "rest" == b ? x(c) ? (d = c.method, c = c.params, d = w(d) && 0 != d.length ? x(c) ? $u(a.a, d, c) : D("REST parameter must be an object") : D("method must be valid string")) : 
                                                        d = D("REST parameter must be an object") : "upload" == b ? d = Mz(a, c) : "values" == b ? d = a.values(c) : d = D("invalid req " + b);
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return d;
}
function mA(a) {
  return hv(a.a, !0).i(function() {
    return iv(this.a, !0).i(function(a) {
      var c = [], d;
      for (d in a) {
        c.push(fv(this.a, a[d].module_key, !0));
      }
      return Bl(c).i(function() {
        return !0;
      }, this);
    }, this);
  }, a);
}
function Dz(a) {
  var b = "su/" + a.L() + "/invalidate-schema";
  $m.get(Dg, b).i(function(a) {
    if (a && 864E5 > y() - a.timestamp) {
      return !1;
    }
    a = {timestamp:y()};
    $m.put(Dg, a, b);
    return mA(this);
  }, a);
}
function nA(a, b, c) {
  var d = new Py(b), e = oA(d);
  b = [];
  for (var f = 0;f < e.length;f++) {
    var g = Eo(e[f]);
    g && b.push(a.b.ra(c, "ydn$emails", nj(g)).i(function(a) {
      return 0 == a.length ? null : {module:c, index:"ydn$emails", result:a, key:this};
    }, g));
  }
  d = pA(d);
  for (f = 0;f < d.length;f++) {
    (e = Do(d[f])) && b.push(a.b.ra(c, "ydn$phones", nj(e)).i(function(a) {
      return 0 == a.length ? null : {module:c, index:"ydn$phones", result:a, key:this};
    }, e));
  }
  return Bl(b).i(function(a) {
    return a.filter(function(a) {
      return a ? !0 : !1;
    });
  });
}
function lA(a, b) {
  return Bl([nA(a, b, "Accounts"), nA(a, b, "Contacts"), nA(a, b, "Leads")]).i(function(a) {
    return Bb(a);
  });
}
function gA(a, b, c) {
  b = Eo(b);
  if (!b) {
    return C([]);
  }
  var d = c || qw(a.h);
  c = [];
  for (var e = 0;e < d.length;e++) {
    c.push(a.ba.ra(d[e], "ydn$emails", nj(b), 5));
  }
  return Bl(c).i(function(a) {
    for (var b = [], c = 0;c < a.length;c++) {
      for (var e = 0;e < a[c].length;e++) {
        a[c][e]._module || (a[c][e]._module = d[c]);
      }
      b = b.concat(a[c]);
    }
    for (c = b.length - 1;0 <= c;c--) {
      vr(b[c]) && pb(b, c);
    }
    return b;
  }, a);
}
function iA(a, b, c) {
  c = c || qw(a.h, !0);
  return lz(a, c, b);
}
function hA(a, b, c) {
  c = c || qw(a.h, !0);
  return lz(a, c, b).i(function(a) {
    for (var b = [], c = 0;c < a.length;c++) {
      var g = a[c]._module;
      g ? b.push(jz(this, g, a[c].id)) : b.push(C(a[c]));
    }
    return Bl(b).i(function(a) {
      return Bb(a);
    });
  }, a);
}
function kA(a, b, c) {
  return Bl([gA(a, b, ["Contacts", "Accounts", "Leads"]), iA(a, b)]).i(function(a) {
    for (var b = a[0], c = a[1], g = 0;g < c.length;g++) {
      -1 == lb(b, function(a) {
        return a.id == c[g].id;
      }) && b.push(c[g]);
    }
    return b;
  }).i(function(a) {
    for (var b = [], f = 0;f < a.length;f++) {
      b.push(aA(this, a[f]._module, a[f].id, c));
    }
    return Bl(b).i(function(a) {
      return Bb(a);
    }, this);
  }, a);
}
function qA(a) {
  var b = yu(a.a), c = uu(new Date(+new Date - 432E5));
  return Yz(a, "Users", b, "Meetings", "date_start ASC", wu("Meetings") + ".date_start>'" + c + "'").i(function(a) {
    return wz(this, "Meetings", a);
  }, a);
}
function Wz(a) {
  if (!Ju(a.a)) {
    return D("get_upcoming_activities not supported");
  }
  if (a.s) {
    return Bc(a.s);
  }
  a.s = av(a.a, "get_upcoming_activities", [], []);
  a.s.G(function() {
    var a = this;
    setTimeout(function() {
      a.s = null;
    }, 3E4);
  }, a);
  return Bc(a.s);
}
function eA(a) {
  function b(a, b) {
    if (u(a)) {
      for (var d = a.length - 1;0 <= d;d--) {
        a[d].date_start < e && pb(a, d);
      }
      void 0 < a.length && a.splice(void 0);
    }
    c(a, b);
  }
  function c(a, b) {
    u(a) && hf(k, a);
    b || (l--, 0 == l && k.callback(null));
  }
  var d = yu(a.a), e = uu(new Date), f = Dr("Meetings"), g = oj([d, e], [d, "\uffff"]), k = new gf, l = 3;
  a.b.ra("Meetings", f, g, void 0).G(function(a) {
    c(a);
  }, a);
  Wz(a).G(function(a) {
    for (var b = a ? a.length : 0, d = [], e = 0;e < b;e++) {
      var f = a[e];
      "Meetings" == f.module && (f._module = "Meetings", d.push(f));
    }
    c(d);
  }, a);
  d = $z(a, "Employees", d, "Meetings", "date_modified DESC");
  d.c(function(a) {
    b(a, !0);
  });
  d.G(function(a) {
    b(a);
  }, a);
  return k;
}
function fA(a, b) {
  function c(a) {
    u(a) && hf(g, a);
    k--;
    0 == k && g.callback(null);
  }
  var d = yu(a.a), e = uu(new Date), f = Dr(b), d = oj([d, e], [d, "\uffff"]), g = new gf, k = 2;
  a.b.ra(b, f, d, void 0).G(function(a) {
    c(a);
  }, a);
  Wz(a).G(function(a) {
    for (var d = a ? a.length : 0, e = [], f = 0;f < d;f++) {
      var g = a[f];
      g.module == b && (g._module = b, e.push(g));
    }
    c(e);
  }, a);
  return g;
}
function jA(a, b) {
  if (!b || !b.id) {
    return D("Invalid query");
  }
  var c = [];
  b.account_id && c.push(iz(a, "Accounts", b.account_id));
  b.contact_id && c.push(iz(a, "Contacts", b.contact_id));
  b.opportunity_id && 0 <= ir.indexOf("Opportunities") && c.push(iz(a, "Opportunities", b.opportunity_id));
  b.campaign_id && 0 <= ir.indexOf("Campaigns") && c.push(iz(a, "Campaigns", b.campaign_id));
  var d = ir.indexOf(b.parent_type);
  b.parent_id && 0 <= d && c.push(iz(a, ir[d], b.parent_id));
  return Bl(c).i(function(a) {
    for (var b = a.length - 1;0 <= b;b--) {
      a[b] || pb(a, b);
    }
    return a;
  });
}
;function rA(a, b, c) {
  this.a = c || {};
  this.app = a;
  this.f = b;
}
rA.prototype.c = function() {
  return "ws-us-contact-save";
};
rA.prototype.load = function() {
  return Sr(this.app, "user-setting/" + this.c(), !0).i(function(a) {
    this.a = a || {};
    return mm(this.a);
  }, this);
};
rA.prototype.b = function(a) {
  var b = !1;
  ga(a.updateFromGData) && this.a.updateFromGData != a.updateFromGData && (this.a.updateFromGData = a.updateFromGData, b = !0);
  ga(a.notUpdateSugar) && this.a.notUpdateSugar != a.notUpdateSugar && (this.a.notUpdateSugar = a.notUpdateSugar, b = !0);
  ga(a.createSugar) && this.a.createSugar != a.createSugar && (this.a.createSugar = a.createSugar, b = !0);
  ga(a.deleteSugar) && this.a.deleteSugar != a.deleteSugar && (this.a.deleteSugar = a.deleteSugar, b = !0);
  ga(a.notUpdateFromSugar) && this.a.notUpdateFromSugar != a.notUpdateFromSugar && (this.a.notUpdateFromSugar = a.notUpdateFromSugar, b = !0);
  ga(a.notUpdateGData) && this.a.notUpdateGData != a.notUpdateGData && (this.a.notUpdateGData = a.notUpdateGData, b = !0);
  ga(a.notCreateGData) && this.a.notCreateGData != a.notCreateGData && (this.a.notCreateGData = a.notCreateGData, b = !0);
  ga(a.deleteGData) && this.a.deleteGData != a.deleteGData && (this.a.deleteGData = a.deleteGData, b = !0);
  w(a.syncGroupId) && this.a.syncGroupId != a.syncGroupId && (this.a.syncGroupId = a.syncGroupId, b = !0);
  return b;
};
function sA(a, b) {
  if (!b) {
    return a.a = {}, Vr(a.app, a.c(), a.a).i(function() {
      return mm(this.a);
    }, a);
  }
  var c = !1;
  ga(b.enabled) && a.a.enabled != b.enabled && (a.a.enabled = b.enabled, c = !0);
  ha(b.syncInterval) && a.a.syncInterval != b.syncInterval && (a.a.syncInterval = b.syncInterval, c = !0);
  return (c |= a.b(b)) ? Vr(a.app, a.c(), a.a).i(function() {
    return mm(this.a);
  }, a) : C(mm(a.a));
}
;function tA(a, b, c) {
  H.call(this);
  this.c = b;
  this.b = c || new rA(null, null);
  this.kind = a;
  this.F = this.a = this.h = this.db = null;
  this.ka = this.f = 0;
  this.s = uA;
  this.Ba = y();
  this.$ = this.W = this.D = this.V = this.o = this.ea = this.oa = 0;
}
A(tA, H);
h = tA.prototype;
h.logger = J("ydn.crm.sync.BaseSync");
h.Aa = function() {
  return "sync-info";
};
function vA(a) {
  return a.db.ra(a.Aa(), "pid", null, 5E3, 0, !0);
}
function wA(a) {
  return !!a.db && !!a.a;
}
h.bd = function() {
  return "sync-blacklist";
};
function xA(a, b) {
  var c = qj([b.record_id, b.entry_id]);
  return a.h.clear(a.bd(), c);
}
function yA(a) {
  var b = zj(">=", 3);
  return a.h.ra(a.bd(), "level", b).i(function(a) {
    return {about:this.a.about(), backlog:a};
  }, a);
}
function zA(a) {
  return a ? x(a.id) ? a.id.$t || "" : a.id || "" : "";
}
function AA(a, b, c) {
  var d = a.ka, e = b.Intent.recordOriginal ? b.Intent.recordOriginal.id : "", f = zA(b.Intent.entryOriginal), g = qj([e, f]);
  return a.h.values(a.bd(), g).i(function(a) {
    var g = (a = a[0]) ? a.level : 0, m = g + 1;
    g && 3 > g && d != a.pid && (m = 0);
    1E6 < g && (g = 1E6);
    return this.db.put(this.bd(), {pid:this.f, record_id:e, entry_id:f, level:m}).G(function() {
      return 3 < m ? (c("blacklist item."), null) : BA(this, b, c);
    }, this);
  }, a);
}
function BA(a, b, c) {
  if (b.History && b.History.timestamp > b.Intent.timestamp) {
    return C(!1);
  }
  b.History || (b.History = {});
  var d = [];
  b.Intent.deleteRecord ? d.push(Jz(a.a, a.c, b.record_id).u(function(a) {
    this.D++;
    b.History.record = a;
    b.History.deleteRecord = !0;
  }, function(a) {
    a = a.message || String(a);
    c("Error: Sugar server delete failed: " + a);
    b.History.errorRecord = {message:a};
    b.History.timestamp = y();
  }, a)) : b.Intent.record && (b.Intent.record._module || (b.Intent.record._module = a.c), d.push(Kz(a.a, a.c, b.Intent.record).u(function(a) {
    this.D++;
    b.History.record = a;
  }, function(a) {
    a = a.message || String(a);
    c("Error: Sugar server Update failed: " + a);
    b.History.errorRecord = {message:a};
    b.History.timestamp = y();
  }, a)));
  b.Intent.deleteEntry && b.Intent.entry ? d.push(a.lg(b.Intent.entry).u(function() {
    this.o++;
    b.History.entry = b.Intent.entry;
    b.History.deleteEntry = !0;
  }, function(a) {
    var d = a.message || String(a);
    c("Error: Google server delete failed: " + d);
    b.History.errorEntry = {code:a.code, message:d};
    b.History.timestamp = y();
  }, a)) : b.Intent.entry && d.push(a.vi(b.Intent.entry).u(function(a) {
    this.o++;
    b.History.entry = a;
  }, function(a) {
    var d = a.message || String(a);
    c("Error: Google server update failed: " + d);
    b.History.errorEntry = {code:a.code, message:d};
    b.History.timestamp = y();
  }, a));
  return 0 == d.length ? C(b) : Bl(d).i(function() {
    if (b.History.record) {
      var a = this.a.L();
      if (b.Intent.entry) {
        var c = Gr(b.Intent.entry, a, this.c);
        if (c && c[0]) {
          return;
        }
      }
      if (b.History.entry && (c = Gr(b.History.entry, a, this.c), !c || !c[0])) {
        return b.History.entry.gContact$externalId = [Hr(new tr(a, this.c, b.History.record))], this.vi(b.History.entry);
      }
    }
  }, a).i(function() {
    b.History.pid = b.pid;
    b.History.timestamp = y();
    b.History.recordOriginal = b.Intent.recordOriginal;
    b.History.entryOriginal = b.Intent.entryOriginal;
    b.Intent = null;
    return this.db.put(this.Aa(), b).i(function() {
      return b;
    }, this);
  }, a);
}
function CA(a, b, c) {
  function d(k) {
    c("committing " + (k + 1) + "...");
    a.db.ra(a.Aa(), "pid, record_id", qj([b]), 1, k).u(function(b) {
      g++;
      100 <= g ? e.callback(k) : b[0] ? (b = b[0], f && b.record_id == f ? (a.$++, d(k + 1)) : (f = b.record_id, AA(a, b, c).G(function() {
        d(k + 1);
      }))) : (b = k + " processed, " + a.D + " sugar and " + a.o + " committed.", 100 <= g && (b += " remaining to sync in next cycle."), c(b), N(a.logger, a.f + " " + b), a.ea++, a.V += a.o, a.W += a.D, e.callback(k));
    }, function(a) {
      window.console.warn(a);
      d(k + 1);
    });
  }
  M(a.logger, a.f + " committing started.");
  var e = new B, f = "";
  a.$ = 0;
  a.o = 0;
  var g = a.D = 0;
  d(0);
  e.i(function() {
    this.o && this.ii(ca);
  }, a);
  return e;
}
function DA(a, b) {
  return a.b.f ? ar(a.b.f, a.bh(), b) : C(!0);
}
function EA(a) {
  return DA(a).i(function(a) {
    return {grant:a, scopes:this.bh()};
  }, a);
}
h.rk = function() {
  if (this.db) {
    var a = [], b = qj([this.a ? this.a.L() : "", this.c]);
    a.push(this.db.count(this.kind));
    a.push(this.db.Jg(this.kind, "ydn$syncRefs", b));
    a.push(this.db.values(this.kind, "updated.$t", null, 1, 0, !0));
    a.push(this.Kg());
    a.push(EA(this));
    return Bl(a).i(function(a) {
      return {contacts_count:a[0], contacts_sync_ref:a[1], contacts_last:a[2][0], contacts_in_sync_group:a[3], permission:a[4]};
    }, this);
  }
  return C({});
};
h.sk = function() {
  if (this.a) {
    var a = [];
    a.push(Cz(this.a, this.c));
    a.push(this.a.count(this.c, nj("1"), "ydn$sync_contact"));
    return Bl(a).i(function(a) {
      return {sugar_stat:a[0], sync_contact_count:a[1]};
    });
  }
  return C({});
};
function FA(a) {
  if (a.db) {
    var b = [];
    b.push(a.db.count(a.Aa()));
    return Bl(b).i(function(a) {
      return {sync_info_count:a[0]};
    });
  }
  return C({});
}
h.status = function() {
  var a = [FA(this), this.sk(), this.rk()];
  return Bl(a).i(function(a) {
    var c = {start_at:this.Ba, options:mm(this.b.a), commit_gdata_count:this.o, commit_gdata_total:this.V, commit_sugar_count:this.D, commit_sugar_total:this.W, commit_cycle_count:this.ea, sync_cycle_count:this.oa, skip_duplidate_record_count:this.$, module:this.c, sugar:this.a ? this.a.about() : {}, process_id:this.f};
    Qb(c, a[0]);
    Qb(c, a[1]);
    Qb(c, a[2]);
    return c;
  }, this);
};
function GA(a) {
  if (a.s == HA) {
    var b = new ek(a.Aa(), "pid", nj(a.f)), c = 0, d = 0, e = 0, f = 0, g = 0, k = 0, l = 0;
    return a.db.open(function(a) {
      a = a.Y();
      a.Intent && (a.Intent.entry && a.Intent.record ? l++ : a.Intent.deleteEntry ? e++ : a.Intent.deleteRecord ? k++ : a.Intent.entry ? a.Intent.entryOriginal ? d++ : c++ : a.Intent.record && (a.Intent.recordOriginal ? g++ : f++));
    }, b).i(function() {
      return {merged:l, entry_created:c, entry_updated:d, entry_deleted:e, record_created:f, record_updated:g, record_deleted:k, timestamp:this.f};
    }, a);
  }
  return C(null);
}
function IA(a, b, c, d) {
  return c ? (b = nj([b, c]), a.db.ra(a.Aa(), "pid, record_id", b).i(function(a) {
    return a[0] || null;
  })) : d ? (b = nj([b, d]), a.db.ra(a.Aa(), "pid, entry_id", b).i(function(a) {
    return a[0] || null;
  })) : C(null);
}
function JA(a, b) {
  var c = Jb(b, "record", "id") || "", d = Jb(b, "entry", "id") || "";
  return IA(a, b.pid, c, d);
}
function KA(a, b) {
  if (a.s == HA) {
    var c = new ek(a.Aa(), "pid", nj(a.f)), d = [], e = function(a) {
      return a ? a.id ? {id:zA(a), name:LA(a)} : {id:"", name:""} : null;
    }, f = function(a) {
      return a ? a.id ? {id:a.id, name:Er(a)} : {id:"", name:""} : null;
    }, g = function(a) {
      var b = {};
      a.Intent && (b.entry = e(a.Intent.entryOriginal), b.record = f(a.Intent.recordOriginal), b.intent_entry = e(a.Intent.entry), b.intent_record = f(a.Intent.record));
      b.pid = a.pid;
      return b;
    };
    if (-1 == ["merged", "entry_created", "entry_updated", "record_created", "record_updated"].indexOf(b)) {
      throw Error(b);
    }
    return a.db.open(function(a) {
      a = a.Y();
      a.Intent && (a.Intent.entry && a.Intent.record ? "merged" == b && d.push(g(a)) : a.Intent.entry ? a.Intent.entryOriginal ? "entry_updated" == b && d.push(g(a)) : "entry_created" == b && d.push(g(a)) : a.Intent.record && (a.Intent.recordOriginal || "record_created" != b || d.push(g(a)), a.Intent.recordOriginal && "record_updated" == b && d.push(g(a))));
    }, c).i(function() {
      return d;
    }, a);
  }
  return C(null);
}
function MA(a, b) {
  function c(a) {
    var b = {};
    b.entry = e(a.History.entry);
    b.record = d(a.History.record);
    b.entryOriginal = e(a.History.entryOriginal);
    b.recordOriginal = d(a.History.recordOriginal);
    b.record_id = a.record_id;
    b.entry_id = a.entry_id;
    b.deleteRecord = a.History.deleteRecord;
    b.deleteEntry = a.History.deleteEntry;
    b.pid = a.pid;
    b.timestamp = a.History.timestamp;
    return b;
  }
  function d(a) {
    return a ? a.id ? {id:a.id, name:Er(a)} : {id:"", name:""} : void 0;
  }
  function e(a) {
    if (a) {
      if (a.id) {
        var b = {id:zA(a), name:LA(a)};
        a.htmlLink && (b.link = a.htmlLink);
        return b;
      }
      return {id:"", name:""};
    }
  }
  b = b || {};
  var f = b.limit || 1E3, g = new ek(a.Aa(), "pid", b.pid ? nj(b.pid) : null, !0), k = [];
  return a.db.open(function(a) {
    if (k.length > f) {
      return !0;
    }
    a = a.Y();
    a.History && a.History.pid == a.pid && (a.History.entry || a.History.record) && k.push(c(a));
  }, g).i(function() {
    return {history:k, about:this.a.about(), module:this.c};
  }, a);
}
function NA(a) {
  return {pid:a.f, entry_id:"", record_id:""};
}
h.yk = function(a) {
  a("updating module " + this.c);
  return Iz(this.a, this.c).i(function(b) {
    b = "updating sugar done, " + b + " updated.";
    a(b);
    N(this.logger, b);
  }, this);
};
function OA(a) {
  var b = a.Aa();
  return a.a.count(a.c).i(function(a) {
    a *= 2;
    return this.db.count(this.Aa()).i(function(d) {
      if (d > a) {
        return this.db.Vd(b, "pid", null, 1E4, a + 1, !0).i(function(a) {
          if (0 == a.length) {
            return 0;
          }
          a = a.map(function(a) {
            return new Bk(b, a);
          });
          return this.db.remove(a);
        }, this);
      }
    }, this);
  }, a);
}
function PA(a) {
  var b = new ck(a.Aa());
  return a.db.open(function(a) {
    var b = a.Y();
    b.pid ? b.Intent && (b.Intent = null, a.update(b)) : a.clear();
  }, b, Oj, a);
}
function QA(a, b) {
  var c = new ek(a.Aa(), "pid", nj(b));
  return a.db.open(function(a) {
    var b = a.Y(), c = !1, g = !1;
    b.Intent && (b.Intent = null, c = !0);
    !b.record_id && b.History && b.History.record && (b.record_id = b.History.record.id, g = !0);
    !b.entry_id && b.History && b.History.entry && b.History.entry.id && (b.entry_id = zA(b.History.entry), g = !0);
    g ? (a.ta(), a.clear(), this.h.put(this.Aa(), b)) : c && a.update(b);
  }, c, Oj, a);
}
function RA(a) {
  a.h.ra(a.bd(), "pid", null, 1, 5E3, !0).i(function(a) {
    if (a[0]) {
      return a = zj("<", a[0]), this.h.clear(this.bd(), "pid", a);
    }
  }, a);
}
function SA(a) {
  M(a.logger, "cleanup started.");
  return PA(a).i(function() {
    RA(this);
    return OA(this);
  }, a);
}
var uA = "idle", HA = "prepared";
function TA(a) {
  a = [a.db.clear(a.Aa()), a.Qi(), Cv(a.a.c, a.c)];
  return Bl(a);
}
function UA(a, b) {
  if (!a.db || !a.a) {
    return D("Not ready");
  }
  if (a.F) {
    return Bc(a.F);
  }
  a.F = VA(a, b);
  Bc(a.F).G(function() {
    setTimeout(function() {
      this.F = null;
    }.bind(this), 1E3);
  }, a);
  return a.F;
}
function VA(a, b) {
  function c(a) {
    hf(d, a);
  }
  a.ka = a.f;
  a.f = y();
  a.s = "updating";
  M(a.logger, "Contact sync " + a.f + " started.");
  var d = new gf;
  hf(d, c.bind(a));
  var e = [SA(a), C(0), a.ii(c), a.yk(c)];
  hf(d, "preparing to sync...");
  Bl(e).i(function() {
    this.s = "resolving";
    return this.Si(c);
  }, a).i(function() {
    return this.Ri(c);
  }, a).i(function() {
    if (b) {
      return this.s = HA, this.f;
    }
    this.s = "committing";
    return CA(this, this.f, c).G(function() {
      return QA(this, this.f);
    }, this).G(function() {
      this.s = uA;
    }, this);
  }, a).G(function() {
    this.oa++;
    return this.f;
  }, a).b(d);
  return d;
}
;function WA(a, b, c) {
  rA.call(this, a, b, c);
}
A(WA, rA);
WA.prototype.c = function() {
  return "ws-us-gdata-cal";
};
WA.prototype.b = function(a) {
  var b = WA.j.b.call(this, a), c = this.a;
  x(a.template) && JSON.stringify(c.template) != JSON.stringify(a.template) && (c.template = Ob(a.template), b = !0);
  return b;
};
function XA(a, b, c) {
  this.domain = a;
  this.module = b;
  this.record_id = c;
}
function YA(a) {
  a = Jb(a, "extendedProperties", "shared");
  x(a) && w(a.yathitsugar) ? (a = a.yathitsugar.split("/"), a = new XA(a[0], a[1], a[2])) : a = null;
  return a;
}
XA.prototype.Y = function() {
  return this.domain + "/" + this.module + "/" + this.record_id;
};
function ZA(a, b, c, d, e, f) {
  this.scheme = a;
  this.domain = b;
  this.module = c;
  this.record_id = d;
  this.a = ha(e) ? e : NaN;
  this.b = ha(f) ? f : NaN;
}
function $A(a) {
  return a.domain + "/" + a.module + "/" + a.record_id;
}
ZA.prototype.Y = function() {
  return $A(this) + "#" + this.a + "-" + this.b;
};
function aB(a) {
  return (a = a.match(/https?:\/\/www.google.com\/m8\/feeds\/(group|contact|batch)s?\/([^\/]+)\/?(\w+)\/?(\w*)?/)) ? {Gq:"m8", kind:a[1], user_id:a[2] ? a[2].replace("%40", "@") : "", projection:a[3], id:a[4]} : null;
}
function bB(a, b, c, d) {
  var e;
  b = b || "base";
  t(e) || (e = "base" != b);
  d = d ? "/" + d : "";
  return (e ? "https" : "http") + "://www.google.com/m8/feeds/" + (c || "contact") + "s/" + a.replace("@", "%40") + "/" + b + d;
}
function cB(a) {
  var b, c = a.match(/^\D*0*(\d{1,2}\D)?\D*0*(.+)/);
  c ? (b = c[1].replace(/\D/g, ""), a = c[2].replace(/\D/g, "")) : a = a.replace(/\D/g, "");
  return {cc:b, Bb:a};
}
function dB(a, b) {
  var c = cB(a), d = cB(b);
  if (t(c.cc) && t(d.cc) && 0 != c.cc.length && 0 != d.cc.length && c.cc !== d.cc) {
    return 0;
  }
  if (t(c.Ab) && 0 != c.Ab.length) {
    if (t(d.Ab) && 0 != d.Ab.length) {
      if (c.Ab.length >= d.Ab.length) {
        for (var e = 0;e < d.Ab.length;e++) {
          if (c.Ab[e] != d.Ab[e]) {
            return 0;
          }
        }
        return 1;
      }
      for (e = 0;e < c.Ab.length;e++) {
        if (c.Ab[e] != d.Ab[e]) {
          return 0;
        }
      }
    }
    return -1;
  }
  return 1;
}
function eB(a, b) {
  if (!a || !b || 0 == a.length || 0 == b.length) {
    return 0;
  }
  a = a.trim();
  b = b.trim();
  var c = cB(a), d = cB(b);
  return c.cc && c.Bb && c.cc == d.cc && c.Bb == d.Bb ? 6 <= c.Bb.length ? 1 : 4 <= c.Bb.length ? .8 : .4 : c.Bb && 4 <= c.Bb.length && c.Bb == d.Bb ? 8 <= c.Bb.length ? .8 : 4 <= c.Bb.length ? .6 : .4 : 0;
}
;function fB(a) {
  mt.call(this, a);
  this.user_id = aB(this.id).user_id;
}
A(fB, mt);
fB.prototype.logger = J("ydn.gdata.m8.Entry");
fB.prototype.a = "3.0";
fB.prototype.type = "m8";
function tt(a) {
  return bB(a.user_id, "full", a.kind);
}
fB.prototype.Xg = function() {
  var a = fB.j.Xg.call(this), b = !0, c;
  for (c in a) {
    xa(c, "ydn$") && (b && (a = mm(this.data), b = !1), delete a[c]);
  }
  return a;
};
function Py(a) {
  fB.call(this, a);
}
A(Py, fB);
h = Py.prototype;
h.kind = "contact";
h.logger = J("ydn.gdata.m8.ContactEntry");
function gB(a) {
  u(a.data.gContact$groupMembershipInfo) || (a.data.gContact$groupMembershipInfo = t(a.data.gContact$groupMembershipInfo) ? [a.data.gContact$groupMembershipInfo] : []);
  return a.data.gContact$groupMembershipInfo;
}
h.getName = function(a) {
  var b = a ? "" : this.getTitle();
  if (a || 0 == b.length) {
    a = this.getData().gd$name, x(a) && (b = a.gd$fullName.$t || "", 0 == b.length && (b = (a.gd$givenName.$t || "") + " " + (a.gd$familyName.$t || "")));
  }
  return Ba(b);
};
function oA(a) {
  var b = a.data.gd$email;
  a = [];
  for (var b = u(b) ? b : b ? [b] : [], c = 0;c < b.length;c++) {
    a.push(b[c].address);
  }
  return a;
}
function pA(a) {
  a = a.data.gd$phoneNumber;
  a = u(a) ? a : x(a) ? [a] : [];
  for (var b = [], c = 0;c < a.length;c++) {
    a[c].$t && !za(a[c].$t) && b.push(a[c].$t);
  }
  return b;
}
function hB(a, b) {
  return "https://mail.google.com/mail/u/" + (b || 0) + "/#contact/" + a;
}
function iB(a, b) {
  var c = b || 0;
  return hB(a.id.match(/\w+$/)[0], c);
}
h.Cd = "link category gd$email gd$im gd$organization gd$phoneNumber gd$structuredPostalAddress gd$formattedAddress".split(" ");
function jB(a, b) {
  function c(a) {
    var b = kb(e, function(b) {
      return b.address === a.address;
    });
    b ? b.rel = t(a.rel) ? a.rel : b.rel : d(a);
  }
  function d(a) {
    a = mm(a);
    f && delete a.primary;
    t(void 0) && (a.rel = void 0);
    e.push(a);
  }
  for (var e = [mm(a.data.gd$email[0])], f = !!a.data.gd$email[0].primary, g = 1;g < a.data.gd$email.length;g++) {
    c(a.data.gd$email[g]);
  }
  for (g = 0;g < b.length;g++) {
    c(b[g]);
  }
  g = Rl(e, a.data.gd$email);
  g || (a.data.gd$email = e);
  return !g;
}
function kB(a, b) {
  function c(a) {
    var b = gb(e, function(b) {
      return eB(b.$t, a.$t);
    }), c = $s(b);
    if (.4 < c.value) {
      var b = e[c.index], f = t(a.rel) ? a.rel : b.rel;
      1 == c.value ? (b.rel = f, b.$t = a.$t) : t(a.rel) && t(b.rel) && b.rel !== a.rel ? d(a, f) : (b.rel = f, c = dB(b, a), -1 == c ? b.$t = a.$t : 0 == c && (b.$t = a.$t));
    } else {
      d(a);
    }
  }
  function d(a, b) {
    a = mm(a);
    f && delete a.primary;
    t(b) && (a.rel = b);
    e.push(a);
  }
  for (var e = [mm(a.data.gd$phoneNumber[0])], f = !!a.data.gd$phoneNumber[0].primary, g = 1;g < a.data.gd$phoneNumber.length;g++) {
    c(a.data.gd$phoneNumber[g]);
  }
  for (g = 0;g < b.length;g++) {
    c(b[g]);
  }
  g = Rl(e, a.data.gd$phoneNumber);
  g || (a.data.gd$phoneNumber = e);
  return !g;
}
h.Rh = function(a, b) {
  if ("gd$phoneNumber" == a) {
    if (null != this.data.gd$phoneNumber) {
      return kB(this, b);
    }
    this.data.gd$phoneNumber = mm(b);
    return !0;
  }
  if ("gd$email" == a) {
    if (null != this.data.gd$email) {
      return jB(this, b);
    }
    this.data.gd$email = mm(b);
    return !0;
  }
  return Py.j.Rh.call(this, a, b);
};
function lB(a, b, c) {
  Gc.call(this);
  this.a = a;
  this.f = b || 0;
  this.b = c;
  this.c = pa(this.kj, this);
}
A(lB, Gc);
h = lB.prototype;
h.Nd = 0;
h.I = function() {
  lB.j.I.call(this);
  this.stop();
  delete this.a;
  delete this.b;
};
h.start = function(a) {
  this.stop();
  this.Nd = Df(this.c, t(a) ? a : this.f);
};
h.stop = function() {
  0 != this.Nd && q.clearTimeout(this.Nd);
  this.Nd = 0;
};
function mB(a) {
  a.stop();
  a.kj();
}
h.kj = function() {
  this.Nd = 0;
  this.a && this.a.call(this.b);
};
var nB = Math.pow(2, 3);
function oB() {
  H.call(this);
  this.key = this.a = void 0;
}
A(oB, H);
function pB(a, b) {
  if ("boolean" != typeof b) {
    throw Error("Invalid value");
  }
  if ("number" != typeof nB || 0 > nB) {
    throw Error("Invalid state");
  }
  "undefined" == typeof a.a && (a.a = 0);
  a.a = b ? a.a | nB : a.a & ~nB;
}
function qB(a) {
  pB(a, !0);
  Df(function() {
    I(this, rB);
  }, 0, a);
}
var rB = "a";
function sB(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, sB) : this.stack = Error().stack || "";
  a && (this.message = String(a));
}
A(sB, Error);
sB.prototype.name = "ydn.gdata.error.InvalidAtomFormatError";
function tB(a) {
  Error.captureStackTrace ? Error.captureStackTrace(this, tB) : this.stack = Error().stack || "";
  a && (this.message = String(a));
}
A(tB, Error);
tB.prototype.name = "ydn.gdata.error.IncompatibleError";
function uB(a) {
  if (!t(this.type)) {
    throw new zl("Abstract class cannot be instantiated.");
  }
  if (w(a)) {
    a = {id:{$t:a}};
  } else {
    if (!t(a.id) || !w(a.id.$t)) {
      throw new im("Invalid GDataFeed");
    }
  }
  this.id = a.id.$t;
  this.data = a;
  t(this.data.entry) ? u(this.data.entry) || (this.data.entry = [this.data.entry]) : this.data.entry = [];
  this.f = {};
  this.l = {};
  a = u(this.data.entry) ? this.data.entry.length : 0;
  for (var b = 0;b < a;b++) {
    var c = this.data.entry[b], c = c.id ? c.id.$t : c.cl ? c.cl.$t : "";
    if (0 == c.length) {
      throw new sB("entry " + b);
    }
    if (0 == c.match(/\w+$/)[0].length) {
      throw new sB("entry " + b + " of " + c);
    }
    var d = c.match(/\w+$/)[0];
    this.f[c] = this.data.entry[b];
    this.l[d] = this.data.entry[b];
  }
  this.c = !0;
  this.D = [];
  this.s = new lB(this.xm, 300, this);
  this.xk = null;
  this.b = NaN;
  this.o = void 0;
}
A(uB, oB);
h = uB.prototype;
h.xm = function() {
  I(this, "i");
};
h.Nk = function() {
  return this.kind;
};
h.getTitle = Qs.prototype.getTitle;
h.logger = J("ydn.gdata.Feed");
function vB(a, b) {
  var c = new B;
  Ve(a.logger, a + " receiving a task, ready: " + a.c);
  a.c ? (a.c = !1, c.G(function() {
    M(a.logger, a + " finish the task.");
    a.c = !0;
    var b = a.D.shift();
    b && b.call(this);
  }), b.call(a, c)) : a.D.push(qa(pa(b, a), c));
  return c;
}
h.xk = null;
h.zi = function() {
  I(this, "e");
};
h.tg = function(a) {
  return new mt(a);
};
h.ne = function(a) {
  return 0 <= a && a < this.data.entry.length ? this.tg(this.data.entry[a]) : null;
};
h.yi = function(a) {
  return (a = this.f[a]) ? this.tg(a) : null;
};
h.save = function(a) {
  if (this.store) {
    var b = this;
    this.h || (this.h = new lB(function() {
      vB(this, function(a) {
        var d = b.toJSON(), e = b.data.entry, f, g, k;
        Dm(b.store, function(a) {
          a.put("ydn.gdata.feed", d).Gc(function(a) {
            throw a;
          }).i(function() {
            f = !0;
          });
          a.put("ydn.gdata.entry", e).Gc(function(a) {
            throw a;
          }).i(function(a) {
            k = a.length;
            g = !0;
          });
        }, ["ydn.gdata.feed", "ydn.gdata.entry"]).u(function() {
          f && g ? Ve(this.logger, b + ": saved " + k + " entries.") : Ve(this.logger, b + ": saved failed" + e.length + " entries.");
          a.callback(!0);
        }, function(a) {
          throw a;
        }, this);
      });
    }, 1E3, this));
    a ? mB(this.h) : this.h.start();
  }
};
function wB(a, b, c) {
  c = c || new B;
  var d = a.xk || Si(a.ug());
  if (!d) {
    return a.logger.log(Le, a + ": No transport available.", void 0), c.C(Error("No transport available.")), c;
  }
  d.send(b, function(b) {
    if (200 == b.status) {
      a.b = y();
      b = b.ha ? kf(b.ha.responseText) : void 0;
      if (!b.feed) {
        throw new sB("feed missing.");
      }
      var d = b.feed;
      if (!t(d)) {
        throw b = Oi(d), new sB(b.substr(0, 50));
      }
      if (d.id.$t != a.N()) {
        throw new tB(d.id.$t + " is not " + a.N());
      }
      var g = b = 0, k = u(d.entry) ? d.entry : d.entry ? [d.entry] : [];
      b = k.length;
      0 == b && M(a.logger, a + ": fetch return no result.");
      for (var l = 0;l < b;l++) {
        for (var m = a, n = k[l], p = n = n instanceof mt ? n : m.tg(n), r = 0;r < p.Cd.length;r++) {
          null != p.data[p.Cd[r]] && !u(p.data[p.Cd[r]]) && (p.data[p.Cd[r]] = [p.data[p.Cd[r]]]);
        }
        nt(p, null);
        p = p.getData();
        p.batch$status && (p.batch$status = void 0);
        p.batch$operation && (p.batch$operation = void 0);
        var p = n.N(), v = m.yi(p);
        (r = !!v) ? v.update(n) : (v = n.id.match(/\w+$/)[0], m.data.entry.push(n.getData()), m.f[p] = n.getData(), m.l[v] = n.getData());
        !r && g++;
      }
      a.logger.log(Oe, a + " " + b + " (" + g + " new) entries received", void 0);
      a.zi();
      (d = js(d, "next")) ? (a.save(), a.s.start(), a.o = d.$t, wB(a, d.href, c)) : (0 < b && (a.save(), a.s.start()), c.callback(!0));
    } else {
      a.logger.log(Le, "Fetching " + b.uri + " failed: " + b.status, void 0), c.C(!1);
    }
  });
  return c;
}
h.toString = function() {
  return this.type + ":" + this.id;
};
function xB(a, b) {
  a.Lk && b.a.set("v", a.Lk);
  b.a.set("alt", "json");
  b.a.set("showdeleted", !0);
}
function yB(a, b) {
  var c = "lu", d = !1;
  if ("lf" == c) {
    if (a.b) {
      var d = !0, e = new Date(a.b), e = e.toISOString();
      b.a.set("updated-min", e);
    }
  } else {
    if ("lu" == c) {
      for (var e = 0, f = -1, g, k = 0;g = a.ne(k);k++) {
        g = g.data.updated.$t, e < g && (e = g, f = k);
      }
      if (e = a.ne(f)) {
        e = new Date(e.data.updated.$t), e = new Date(1 + +e), e = e.toISOString(), b.a.set("updated-min", e);
      }
    } else {
      "lo" == c ? (b.a.set("orderby", "lastmodified"), a.b && b.a.set("max-results", "1")) : c = "no";
    }
  }
  Ve(a.logger, a + " updating " + (d ? "continue" : "begin") + " by " + c);
}
h.Tp = Qs.prototype.mi;
h.N = Qs.prototype.N;
h.Vp = Qs.prototype.ni;
h.ug = function() {
  return this.Vp() || "";
};
h.Mk = function() {
  return this.id;
};
function zB(a) {
  return vB(a, function(a) {
    var c = new ui(this.ug());
    xB(this, c);
    yB(this, c);
    pB(this, !1);
    wB(this, c.toString()).G(function(c) {
      qB(this);
      c ? a.callback(!0) : a.C(void 0);
    }, this);
  });
}
h.update = function(a) {
  return a || !0 !== ("undefined" == typeof this.a ? null : (this.a & nB) == nB) ? zB(this) : (Ve(this.logger, this + " already loaded."), C(!1));
};
h.count = function(a) {
  if (a) {
    a = 0;
    for (var b, c = 0;b = this.ne(c);c++) {
      "gd:deleted" == ot(b.getData()) || "deleted" == ot(b.getData()) || a++;
    }
    return a;
  }
  return this.data.entry.length;
};
h.toJSON = function() {
  return {id:this.id, key:this.Mk(), last_fetch_next_uri:this.o, last_fetch:this.b};
};
function AB(a) {
  if (!t(this.kind)) {
    throw new zl("Abstract class cannot be instantiated.");
  }
  uB.call(this, a);
  this.user_id = this.N();
}
A(AB, uB);
h = AB.prototype;
h.Nk = function() {
  return this.kind;
};
h.Lk = "3.0";
h.type = "m8";
h.toString = function() {
  return "Feed:" + this.kind + ":" + this.user_id;
};
h.ug = function() {
  return "https://www.google.com/m8/feeds/" + this.Nk() + "s/" + this.user_id.replace("@", "%40") + "/full?v=3.0";
};
function BB(a) {
  AB.call(this, a);
  this.cache = {};
}
A(BB, AB);
h = BB.prototype;
h.logger = J("ydn.gdata.m8.ContactFeed");
h.kind = "contact";
h.zi = function() {
  this.cache = {};
  BB.j.zi.call(this);
};
h.yi = function(a) {
  return BB.j.yi.call(this, a);
};
h.tg = function(a) {
  return new Py(a);
};
h.ne = function(a) {
  return BB.j.ne.call(this, a);
};
h.ug = function() {
  return "https://www.google.com/m8/feeds/contacts/" + this.N() + "/full";
};
h.Mk = function() {
  return "http://www.google.com/m8/feeds/contacts/" + this.N().replace("@", "%40");
};
function CB(a) {
  function b(a) {
    xa(a, "atom:") && (a = a.substring(5, a.length));
    return a.replace("#text", "$t").replace(/:/g, "$");
  }
  w(a) && (a = Xs(a));
  var c = {};
  if (1 == a.nodeType) {
    if (0 < a.attributes.length) {
      for (var d = 0;d < a.attributes.length;d++) {
        var e = a.attributes.item(d);
        c[b(e.nodeName)] = e.value;
      }
    }
  } else {
    3 == a.nodeType && (c = a.nodeValue);
  }
  if (a.hasChildNodes()) {
    for (d = 0;d < a.childNodes.length;d++) {
      var e = a.childNodes.item(d), f = b(e.nodeName);
      if ("undefined" == typeof c[f]) {
        "content" == f ? (c[f] = {$t:Ys(e)}, e.namespaceURI && (c[f].xmlns = e.namespaceURI)) : c[f] = CB(e);
      } else {
        if ("undefined" == typeof c[f].length) {
          var g = c[f];
          c[f] = [];
          c[f].push(g);
        }
        c[f].push(CB(e));
      }
    }
  }
  return c;
}
;function DB(a, b) {
  this.id = b.replace("@", "%40");
  this.client = this.a = null;
  this.b = new fs(function() {
    this.logger.log(Oe, "updating gdata " + this, void 0);
    EB(this).u(function(a) {
      bf(this.logger, this + " synced, " + a + " new entries updated.");
    }, function() {
      this.logger.log(Le, this + " update failed.", void 0);
    }, this);
  }, 6E4, this);
  this.c = a;
}
h = DB.prototype;
h.logger = J("ydn.ds.gdata.GData");
function FB(a) {
  return a.client ? a.client : un("gse");
}
h.update = function() {
  this.b.lj();
};
h.S = function() {
  return this.c;
};
function GB(a) {
  var b = new B;
  a.execute(function(a, d) {
    a ? b.callback(a) : b.C(d);
  });
  return b;
}
function HB(a, b) {
  var c = FB(a).request(b);
  return GB(c).u(function(a) {
    a = a.feed;
    if (!a.entry) {
      return 0;
    }
    for (var b = (new BB(a)).Tp("next"), c = a.entry.length, g = 0, k = [], g = c - 1;0 <= g;g--) {
      pt(a.entry[g]) && (k = new Bk(this.R(), a.entry[g].id.$t), pb(a.entry, g));
    }
    k.length && this.S().remove(k);
    return this.S().put(this.R(), a.entry).i(function() {
      return b ? HB(this, new T(b.href)).i(function(a) {
        return c + a;
      }, this) : c;
    }, this);
  }, function(a) {
    K(this.logger, "fetching fail " + (a ? a.P() + " " + a.fb() : ""));
  }, a);
}
h.getParams = function() {
  return {alt:"json"};
};
h.get = function(a) {
  return w(a) && 0 != a.length ? this.S().get(this.R(), a) : D("invalid key");
};
h.list = function(a, b, c, d, e) {
  d = d || 50;
  e = e || 0;
  c = !!c;
  return a ? this.S().ra(this.R(), a, b, d, e, c) : this.S().values(this.R(), b, d, e, c);
};
function IB(a, b) {
  var c = void 0, d = !!b.reverse;
  b.key ? c = nj(b.key) : b.after ? c = zj(d ? "<" : ">", b.after) : b.from && (c = zj(d ? "<=" : ">=", b.from));
  return a.list(b.index, c, d, b.limit, b.offset || 0);
}
function JB(a) {
  return a.a ? a.a.G(function() {
    return this.S().clear(this.R());
  }, a) : a.S().clear(a.R());
}
h.count = function(a, b) {
  return a ? this.S().count(this.R(), a, b) : this.S().count(this.R());
};
h.put = function(a) {
  return this.S().put(this.R(), a);
};
h.sg = function(a) {
  return new mt(a);
};
h.ce = function(a) {
  var b = this.sg(a);
  nt(b, "modified");
  return qt(b).u(function(a) {
    var b = CB(a);
    a = b.entry;
    if (!a || !a.id) {
      throw Error("Invalid respond on saving gdata " + Ni(b));
    }
    b = Ob(a);
    delete a.updated;
    this.S().put(this.R(), a);
    return b;
  }, function(b) {
    if (429 == b.code) {
      var d = new B;
      setTimeout(function() {
        d.C(b);
      }, 1E4);
      return d;
    }
    404 == b.code && KB(this, a);
    412 == b.code && LB(this, a);
    throw b;
  }, this);
};
function LB(a, b) {
  var c = a.sg(b), d = c.N(), c = c.ni() || tt(c);
  MB(a, c, d);
}
function MB(a, b, c) {
  b = b.replace(/\?.+/, "");
  b = FB(a).request(new T(b, "GET", {alt:"json", v:"3.0"}, {}));
  var d = new B;
  b.execute(function(a, b) {
    var g = b.P();
    404 == g ? this.S().remove(this.R(), c || "").G(function() {
      d.callback(!1);
    }, this) : 200 == g && a && x(a.entry) ? (delete a.entry.updated, this.S().put(this.R(), a.entry).G(function() {
      d.callback(!0);
    })) : d.callback(!1);
  }, a);
}
function KB(a, b) {
  var c = a.sg(b), d = c.N(), e = c.ni() || tt(c), f = FB(a), g = {"Content-Type":"application/atom+xml"}, c = c.getData().gd$etag;
  g["If-Match"] = c ? c : "*";
  var e = f.request(new T(e, "DELETE", null, g)), k = new B;
  e.execute(function(a, b) {
    var c = b.P();
    gn(b) || 404 == c ? this.S().remove(this.R(), d).G(function(a) {
      k.callback(!!a);
    }, this) : k.callback(!1);
  }, a);
  return k;
}
function EB(a) {
  if (!a.S().getName()) {
    return D(Error("database not ready"));
  }
  if (!a.a) {
    var b = new bk(a.R(), "updated.$t", null, !0);
    a.a = a.S().keys(b, 1).i(function(a) {
      var b = this.getParams();
      b.orderby = "lastmodified";
      a[0] ? (b.sortorder = "descending", a = (new Date(1 + +new Date(a[0]))).toISOString(), b["updated-min"] = a, b.showdeleted = "true") : b.sortorder = "ascending";
      return HB(this, new T(NB(this) + "/full", "GET", b)).G(function() {
        this.a = null;
      }, this);
    }, a);
  }
  return Bc(a.a);
}
h.toString = function() {
  return "GData:contact:" + this.id.replace("%40", "@");
};
function OB(a) {
  fB.call(this, a);
}
A(OB, fB);
OB.prototype.kind = "group";
OB.prototype.getTitle = function() {
  var a = OB.j.getTitle.call(this);
  "System Group: " === a.substring(0, 14) && (a = a.substring(14, a.length));
  return a;
};
function PB(a, b) {
  DB.call(this, a, b);
  this.Pb = null;
}
A(PB, DB);
PB.prototype.R = function() {
  return "contact";
};
PB.prototype.getParams = function() {
  var a = PB.j.getParams.call(this);
  a.v = "3.0";
  return a;
};
function NB(a) {
  return "https://www.google.com/m8/feeds/contacts/" + a.id;
}
function LA(a) {
  var b = Jb(a, "gd$name", "gd$fullName", "$t") || Jb(a, "gd$name", "gd$givenName", "$t") || Jb(a, "gd$name", "gd$familyName", "$t");
  if (b) {
    return b;
  }
  b = Jb(a, "id", "$t") || "";
  return (a = b.match(/\w+$/)) ? a[1] : "";
}
PB.prototype.sg = function(a) {
  var b = !!a.id;
  b || (a.id = {$t:NB(this) + "/base/0"});
  var c = new Py(a);
  b || delete a.id;
  return c;
};
function QB(a, b, c) {
  return a.S().get(a.R(), b).i(function(a) {
    if (a) {
      a.gContact$externalId = u(a.gContact$externalId) ? a.gContact$externalId : a.gContact$externalId ? [a.gContact$externalId] : [];
      for (var e = !1, f = 0;f < a.gContact$externalId.length;f++) {
        if (a.gContact$externalId[f].value == c) {
          a.gContact$externalId.splice(f, 1);
          e = !0;
          break;
        }
      }
      if (!e) {
        throw Error("ExternalId value " + c + " not found.");
      }
      return this.ce(a);
    }
    throw Error("gdata entry " + b + " not found");
  }, a);
}
function RB(a, b) {
  var c = b ? new ek("contact", "ydn$groups", nj(b)) : new ck("contact"), d = 0;
  return a.S().open(function(a) {
    a = a.Y();
    pt(a) || d++;
  }, c).i(function() {
    return d;
  }, a);
}
function SB(a, b) {
  var c = {batch$id:{$t:bB(a.id, "base", "group", "new_" + String(Math.random()).substring(2))}, category:[{scheme:"http://schemas.google.com/g/2005#kind", term:"http://schemas.google.com/contact/2008#group"}], title:{$t:b, type:"text"}, gd$extendedProperty:{name:"Yathit", value:"Sugar sync group"}}, c = new OB(c);
  nt(c, "modified");
  a.Pb = null;
  return qt(c).i(function(a) {
    a = CB(a);
    var b = a.entry;
    if (!b || !b.id) {
      throw Error("Invalid respond on saving gdata " + Ni(a));
    }
    return b;
  }, a);
}
PB.prototype.ce = function(a) {
  if (a.gContact$groupMembershipInfo) {
    if (u(a.gContact$groupMembershipInfo)) {
      for (var b = a.gContact$groupMembershipInfo.length - 1;0 <= b;b--) {
        "true" == a.gContact$groupMembershipInfo[b].deleted && pb(a.gContact$groupMembershipInfo, b);
      }
    } else {
      "true" == a.gContact$groupMembershipInfo.deleted && delete a.gContact$groupMembershipInfo;
    }
  }
  return PB.j.ce.call(this, a);
};
function TB(a) {
  if (a.Pb) {
    return Bc(a.Pb);
  }
  var b = NB(a).replace("/contacts/", "/groups/") + "/full", c = a.getParams();
  c["max-results"] = 100;
  b = new T(b, "GET", c);
  a.Pb = new B;
  FB(a).request(b).execute(function(a, b) {
    if (gn(b) && x(a)) {
      var c = Jb(a, "feed", "entry");
      this.Pb.callback(c);
    } else {
      this.Pb.C(b), this.Pb = null;
    }
  }, a);
  a.Pb.G(function() {
    var a = this;
    setTimeout(function() {
      a.Pb = null;
    }, 6E4);
  });
  return a.Pb;
}
;function UB(a, b, c, d) {
  tA.call(this, "calendar#event", "Meetings", a || new WA(null, null));
  this.l = c || null;
  c && b && VB(this, c, b);
  d && (this.a = d);
}
A(UB, tA);
h = UB.prototype;
h.Aa = function() {
  return "cal-sync-info";
};
h.bd = function() {
  return "cal-blacklist";
};
function WB(a, b) {
  return sA(a.b, b).i(function(a) {
    XB(this.l, a.syncGroupId);
  }, a);
}
function VB(a, b, c) {
  a.l = b;
  (a.db = c) ? a.h = Cm(c) : a.h = null;
  a.l && a.b.load().i(function(a) {
    XB(this.l, a.syncGroupId);
  }, a);
}
h.ii = function(a) {
  a("updating calendar...");
  return this.l.sync().i(function(b) {
    b = "Google calendar " + (ha(b) ? b + " events updated." : b ? " updated." : "");
    a(b);
    N(this.logger, b);
  }, this);
};
h.bh = function() {
  return ["https://www.googleapis.com/auth/calendar"];
};
h.yk = function() {
  return C(0);
};
h.Kg = function() {
  return this.l ? this.l.count() : C(NaN);
};
h.vi = function(a) {
  return this.l.Kk(a);
};
h.lg = function(a) {
  return YB(this.l, a);
};
h.Qi = function() {
  return this.l.rg();
};
function ZB(a, b) {
  var c = null;
  b ? c = mm(b) : b = {};
  var d = b, e = {}, f = 0;
  e.summary && "$name" != e.summary || !bz(a.summary, d.name) || (d.name = a.summary, f++);
  e.description && "$description" != e.description || !bz(d.description, a.description) || (d.description = a.description, f++);
  e.location && "$location" != e.location || !bz(a.location, d.location) || (d.location = a.location, f++);
  a.start.date ? (e = uu(new Date(a.start.date)), d.date_start != e && (d.date_start = e, d.duration_hours = "24", d.duration_minutes = "0", delete d.date_end, f++)) : (e = uu(new Date(a.start.dateTime)), d.date_start != e && (d.date_start = e, f++), a.end.dateTime && (e = uu(new Date(a.end.dateTime)), d.date_end != e && (d.date_end = e, f++), delete d.duration_hours, delete d.duration_minutes));
  if (!f) {
    return null;
  }
  d = {};
  d.record = b;
  d.recordOriginal = c;
  d.entryOriginal = a;
  d.timestamp = y();
  return d;
}
h.Ri = function(a) {
  function b(g) {
    1 == g % 9 && a("collecting sync-able Sugar meetings " + g + "...");
    e++;
    5E5 < e ? (a("Error: Too many loop in collect gdata"), window.console.error("Too many loop in collect gdata"), c.callback(NaN)) : d.h.ra("calendar#event", "yathitsugar", null, 1, g).i(function(a) {
      if (a[0]) {
        var e = a[0];
        Zy(e) ? b(g + 1) : $B(d, new Date(e.start.dateTime || e.start.date)) ? (a = YA(e), Az(d.a, d.c, a.record_id).u(function(a) {
          a ? vr(a) ? b(g + 1) : d.h.get(d.Aa(), [a.id, e.id]).G(function(c) {
            c = c || NA(d);
            if (c.Intent) {
              b(g + 1);
            } else {
              var k = c.History && c.History.entryOriginal && c.History.entryOriginal.etag == e.etag || c.History && c.History.entry && c.History.entry.etag == e.etag || a && Cr(a.date_modified) > new Date(e.updated) || !a && !d.b.a.createSugar || a && d.b.a.notUpdateFromSugar || Zy(e) && !vr(a) && !d.b.a.deleteSugar ? null : ZB(e, a);
              k ? (c.record_id = a ? a.id : "", c.entry_id = e.id || "", c.pid = d.f, c.Intent = k, f++, d.h.put(d.Aa(), c).G(function() {
                b(g + 1);
              })) : b(g + 1);
            }
          }) : b(g + 1);
        }, function(a) {
          window.console.error(a);
          b(g + 1);
        }, this)) : b(g + 1);
      } else {
        c.callback(f);
      }
    }, this);
  }
  if (!this.b.a.updateFromGData || this.b.a.notUpdateSugar) {
    return C([]);
  }
  var c = new B;
  a("collecting sync-able Sugar meetings...");
  var d = this, e = 0, f = 0;
  b(0);
  return c;
};
function aC(a, b, c) {
  if (b && b.entry_id) {
    return bC(a.l, b.entry_id).u(function(a) {
      return a || null;
    }, function(a) {
      window.console.warn(a);
      return null;
    });
  }
  if (!c) {
    return C(null);
  }
  var d = a.a.L(), e = new XA(d, c._module, c.id);
  b = nj(e.Y());
  return a.h.ra("calendar#event", "yathitsugar", b).i(function(a) {
    if (a[0]) {
      return a[0];
    }
    a = qj($A(new ZA("sugarcrm", d, c._module, c.id)));
    return this.h.ra("calendar#event", "sugarcrm", a).i(function(a) {
      if (a[0]) {
        return a[0];
      }
      if (cC(this.l)) {
        return null;
      }
      a = {singleEvents:!0, sharedExtendedProperty:"yathitsugar=" + e.Y()};
      return this.l.query(a, !0).i(function(a) {
        return a[0] || null;
      }, this);
    }, this);
  }, a);
}
function dC(a, b, c) {
  return Yz(a.a, "Meetings", b, c).i(function(a) {
    return wz(this.a, c, a).i(function(b) {
      for (var c = [], g = 0;g < b.length;g++) {
        var k = b[g];
        k ? c.push({email:Jr(k), displayName:Er(k)}) : (window.console.log(a[g]), window.console.warn("Record at" + g + " not found."));
      }
      return c;
    }, this);
  }, a);
}
function eC(a, b) {
  return a.b.a.syncAttendee ? Bl([dC(a, b, "Users"), dC(a, b, "Leads"), dC(a, b, "Accounts"), dC(a, b, "Contacts")]).i(function(a) {
    var b = this.b.app.h;
    a[0] = a[0].filter(function(a) {
      return a.email != b;
    });
    return Bb(a);
  }, a) : C(null);
}
function $B(a, b) {
  var c = b.getTime(), d = a.f || y();
  return c > d - 1728E5 && c < d + 5184E6 ? !0 : !1;
}
h.Si = function(a) {
  function b(k) {
    if (k >= g.length) {
      e.callback(d);
    } else {
      1 == k % 9 && a("collecting sync-able Sugar meetings " + k + "...");
      var l = g[k];
      l ? eC(f, l.id).u(function(a) {
        f.h.ra(f.Aa(), "record_id", nj(l.id)).G(function(d) {
          var e = d[0];
          aC(f, e, l).u(function(d) {
            e = e || NA(f);
            c(e, l, a, d, function() {
              b(k + 1);
            });
          }, function(a) {
            window.console.warn(a);
            b(k + 1);
          });
        });
      }, function(a) {
        window.console.error(a);
        b(k + 1);
      }, this) : b(k + 1);
    }
  }
  function c(a, b, c, e, g) {
    $B(f, Cr(b.date_start)) ? (c = fC(f, a, b, c, e)) ? (a.record_id = b.id || "", a.entry_id = e ? e.id : "", a.pid = f.f, a.Intent = c, f.h.put(f.Aa(), a).G(function() {
      d++;
      g();
    })) : g() : g();
  }
  if (this.b.a.notUpdateFromSugar) {
    return C(d);
  }
  a("collecting sync-able Sugar meetings...");
  var d = 0, e = new B, f = this, g = [];
  qA(this.a).u(function(a) {
    g = a;
    b(0);
  }, function(a) {
    window.console.error(a);
    e.callback(0);
  }, this);
  e.i(function(b) {
    a(b + " Sugar meetings are process for sync.");
  });
  return e;
};
function fC(a, b, c, d, e) {
  if (b.Intent || c && b.History && b.History.recordOriginal && b.History.recordOriginal.id == c.id && b.History.recordOriginal.date_modified == c.date_modified || c && b.History && b.History.record && b.History.record.id == c.id && b.History.record.date_modified == c.date_modified || e && new Date(e.updated) > Cr(c.date_modified) || e && Zy(e) || !e && a.b.a.notCreateGData || e && a.b.a.notUpdateGData) {
    return null;
  }
  if (vr(c)) {
    return e && !Zy(e) && a.b.a.deleteGData ? (a = {}, a.timestamp = y(), a.recordOriginal = c, a.entryOriginal = e, a.deleteEntry = !0, a) : null;
  }
  b = null;
  e ? b = mm(e) : e = {};
  var f = a.b.a;
  return az(c, d, e, f.template ? Ob(f.template) : {}, a.a.h.modulesInfo[a.c]) ? (e.source && e.source.url || (e.source = {}, e.source.title = Er(c), e.source.url = pr(gu(a.a.a.a), c._module, c.id)), a = new XA(a.a.L(), a.c, c.id), e.extendedProperties = e.extendedProperties || {}, e.extendedProperties.shared = e.extendedProperties.shared || {}, e.extendedProperties.shared.yathitsugar = a.Y(), a = {}, a.timestamp = y(), a.recordOriginal = c, a.entryOriginal = b, a.entry = e, a) : null;
}
h.Og = function(a) {
  function b(a) {
    k++;
    k > f ? c.callback(g) : e.db.ra(e.kind, "yathitsugar", d, 1, a).u(function(d) {
      var f = d[0];
      f ? e.lg(f).u(function() {
        e.db.remove(e.Aa(), "entry_id", nj(zA(f))).G(function() {
          g++;
          b(a);
        });
      }, function() {
        b(a + 1);
      }) : c.callback(g);
    }, function(c) {
      window.console.error(c);
      b(a + 1);
    });
  }
  var c = new B, d = qj(""), e = this, f = a || 100, g = 0, k = 0;
  b(0);
  return c;
};
h.sk = function() {
  if (this.a) {
    var a = [];
    a.push(Cz(this.a, this.c));
    return Bl(a).i(function(a) {
      return {sugar_stat:a[0]};
    });
  }
  return C({});
};
h.rk = function() {
  if (this.db) {
    var a = [];
    qj([this.a ? this.a.L() : "", this.c]);
    a.push(this.db.count(this.kind));
    a.push(this.db.values(this.kind, "updated", null, 1, 0, !0));
    a.push(this.Kg());
    return Bl(a).i(function(a) {
      return {contacts_count:a[0], contacts_last:a[2][0], contacts_in_sync_group:a[3]};
    }, this);
  }
  return C({});
};
function gC(a, b) {
  this.b = null;
  this.f = "sync-scheduler-" + a;
  this.h = b || null;
  this.c = !1;
  this.a = 0;
  chrome.alarms && chrome.alarms.onAlarm.addListener(this.l.bind(this));
}
gC.prototype.getInfo = function() {
  var a = new B;
  chrome.alarms.get(this.f, function(b) {
    a.callback(b);
  });
  return Bl([a]).i(function(a) {
    var c = a[0], d = !!this.b;
    return {runner:d, running:c && d && 0 < c.periodInMinutes, mapping:a[1], enabled:this.c, interval:this.a, scheduledTime:c ? c.scheduledTime : 0, periodInMinutes:c ? c.periodInMinutes : 0};
  }, this);
};
gC.prototype.l = function(a) {
  this.c && a.name == this.f && this.b && UA(this.b);
};
function hC(a) {
  if (a.h) {
    var b = a.h, c = new B;
    chrome.storage.sync.get(b, function(a) {
      a = a[b] || {};
      this.c = !a.disabled;
      this.a = ha(a.interval) ? a.interval : 0;
      iC(this);
      c.callback();
    }.bind(a));
  } else {
    iC(a), C(!1);
  }
}
function iC(a) {
  if (a.b) {
    if (a.c) {
      var b = 5;
      ha(a.a) && 0 != a.a && (b = a.a);
      b = Math.min(Math.max(b, 1), 1440);
      chrome.alarms.create(a.f, {delayInMinutes:1, periodInMinutes:b});
    } else {
      chrome.alarms.clear(a.f);
    }
  } else {
    chrome.alarms.clear(a.f);
  }
}
;function jC(a, b) {
  this.a = new WA(a, b);
  this.sync = new UB(this.a);
  this.b = new gC("calendar");
  this.M = new zf(this);
}
function kC(a, b, c) {
  if ("cal-sync-setting-get" == b) {
    return C(mm(a.a.a));
  }
  if ("cal-sync-permission-grant" == b) {
    return DA(a.sync, !0);
  }
  if ("cal-sync-permission" == b) {
    return EA(a.sync);
  }
  if ("cal-sync-setting-reset" == b) {
    return WB(a.sync, null).i(function() {
      lC(this);
    }, a);
  }
  if ("cal-sync-setting-set" == b) {
    return WB(a.sync, c).i(function() {
      lC(this);
    }, a);
  }
  if ("cal-sync-clear-cache" == b) {
    return TA(a.sync);
  }
  if ("cal-sync-now" == b) {
    return UA(a.sync);
  }
  if ("cal-sync-delete-sync-gdata" == b) {
    return a.sync.Og();
  }
  if ("cal-sync-setting-info" == b) {
    return a.status();
  }
  if ("cal-sync-history" == b) {
    return MA(a.sync, c);
  }
  if ("cal-sync-backlog" == b) {
    return yA(a.sync);
  }
  if ("cal-sync-release-backlog" == b) {
    return xA(a.sync, c);
  }
  if ("cal-sync-prepared-result" == b) {
    return KA(a.sync, c.req);
  }
  if ("cal-sync-sync-info" == b) {
    return JA(a.sync, c);
  }
  if ("cal-sync-prepared" == b) {
    return UA(a.sync, !0).i(function() {
      return Bl([this.b.getInfo(), GA(this.sync)]).i(function(a) {
        return {scheduler:a[0], prepared:a[1]};
      });
    }, a);
  }
  throw Error(b);
}
jC.prototype.status = function() {
  return this.sync.status().i(function(a) {
    this.b.getInfo().i(function(b) {
      a.scheduler = b;
      return a;
    }, this);
  }, this);
};
function mC(a, b, c) {
  VB(a.sync, b, c);
  lC(a);
}
function lC(a) {
  wA(a.sync) && a.a.load().i(function(a) {
    a.enabled && DA(this.sync).i(function(c) {
      var d = this.b, e = a.syncInterval, f = this.sync;
      d.c = a.enabled && c;
      d.a = e;
      f ? (d.b = f, hC(d)) : iC(d);
    }, this);
  }, a);
}
;function nC(a, b, c) {
  rA.call(this, a, b, c);
}
A(nC, rA);
nC.prototype.b = function(a) {
  var b = nC.j.b.call(this, a), c = this.a;
  ga(a.ignoreSyncContact) && c.ignoreSyncContact != a.ignoreSyncContact && (c.ignoreSyncContact = a.ignoreSyncContact, b = !0);
  return b;
};
function oC(a, b, c, d) {
  tA.call(this, "contact", "Contacts", a || new nC(null, null));
  this.l = c || null;
  c && b && (this.l = c, this.db = b, this.h = Cm(b));
  d && (this.a = d);
}
A(oC, tA);
function pC(a, b, c) {
  if (a.History && a.History.entryOriginal && a.History.entryOriginal.gd$etag == b.gd$etag || a.History && a.History.entry && a.History.entry.gd$etag == b.gd$etag || a.Intent) {
    return null;
  }
  a = null;
  c ? a = mm(c) : c = {};
  if (xw(b, c)) {
    var d = {};
    d.record = c;
    d.recordOriginal = a;
    d.entryOriginal = b;
    d.timestamp = y();
    return d;
  }
  return null;
}
h = oC.prototype;
h.bh = function() {
  return ["https://www.google.com/m8/feeds/"];
};
function qC(a, b, c, d) {
  if (c && b.History && b.History.recordOriginal && b.History.recordOriginal.id == c.id && b.History.recordOriginal.date_modified == c.date_modified || c && b.History && b.History.record && b.History.record.id == c.id && b.History.record.date_modified == c.date_modified || b.Intent) {
    return null;
  }
  var e = new tr(a.a.L(), a.c, c), f = null;
  d ? f = mm(d) : d = {};
  b = !!zw(e, d);
  var g = {};
  if (b) {
    if (g.timestamp = y(), g.recordOriginal = c, g.entryOriginal = f, (c = Gr(d, e.L())) && c[0]) {
      if (c[0][2] != e.N()) {
        return null;
      }
    } else {
      d.gContact$externalId = [Hr(e)];
    }
  }
  if (b) {
    if (a.b.a.syncGroupId) {
      d.id || (c = bB("a@b.com", "batch", "contact", "b" + y()), d.a = {$t:c});
      c = new Py(d);
      a: {
        for (var e = a.b.a.syncGroupId || "", f = gB(c), k = 0;k < f.length;k++) {
          if (f[k].href === e && (!f[k].deleted || "false" == f[k].deleted)) {
            e = f[k];
            break a;
          }
        }
        e = null;
      }
      if (!e) {
        a: {
          a = a.b.a.syncGroupId || "";
          c = gB(c);
          for (e = 0;e < c.length;e++) {
            if (f = c[e], f.href === a) {
              if (f.deleted && "true" === f.deleted) {
                delete f.deleted;
                break a;
              }
              break a;
            }
          }
          c.push({href:a});
        }
      }
    }
    g.entry = d;
  }
  return b ? g : null;
}
h.Kg = function() {
  return this.l ? RB(this.l, this.b.a.syncGroupId || "") : C(NaN);
};
h.vi = function(a) {
  return this.l.ce(a);
};
h.lg = function(a) {
  return KB(this.l, a);
};
h.Qi = function() {
  return JB(this.l);
};
h.Sb = function(a) {
  for (var b = [], c = 0;c < a.length;c++) {
    var d = Eo(a[c]);
    d && b.push(yz(this.a, this.c, d));
  }
  return Bl(b).i(function(a) {
    a = a.filter(function(a) {
      return !!a;
    });
    return a[0] || null;
  }, this);
};
h.Ri = function(a) {
  function b(l) {
    1E5 < d ? (window.console.warn("Fail save count read."), e.callback(c)) : (1 == l % 9 && a("collecting sync-able Gmail contacts " + l + "..."), d++, k.offset = l, IB(g.l, k).u(function(a) {
      var d = a[0];
      if (d) {
        if (d.id) {
          var k;
          a = d.ydn$syncRefs ? d.ydn$syncRefs.length : 0;
          for (var r = 0;r < a;r++) {
            var v = d.ydn$syncRefs[r];
            if (v[0] == f && v[1] == g.c) {
              k = v[2];
              break;
            }
          }
          a = [];
          k ? (a.push(Az(g.a, g.c, k)), a.push(g.db.get(g.Aa(), [k, d.id.$t]))) : a.push(g.Sb(oA(new Py(d))));
          Bl(a).u(function(a) {
            var e = a[0];
            a = a[1];
            var f = pt(d);
            if (a) {
              if (a.Intent) {
                b(l + 1);
                return;
              }
              if (vr(e)) {
                b(l + 1);
                return;
              }
              if (f) {
                if (g.b.a.deleteSugar) {
                  f = {pid:g.f, deleteRecord:!0};
                  f.record = e;
                  f.recordOriginal = e;
                  f.entryOriginal = d || {id:{$t:a.entry_id}};
                  a.Intent = f;
                  a.record_id = a.record_id || e.id;
                  a.entry_id = f.entryOriginal.id.$t;
                  a.pid = g.f;
                  g.db.put("sync-info", a).G(function() {
                    c++;
                    b(l + 1);
                  });
                  return;
                }
                b(l + 1);
                return;
              }
              if (!f && g.b.a.notUpdateSugar) {
                b(l + 1);
                return;
              }
            } else {
              if (f && !g.b.a.createSugar) {
                b(l + 1);
                return;
              }
            }
            a = a || NA(g);
            (f = pC(a, d, e)) ? (a.pid = g.f, a.entry_id = d.id.$t, a.record_id = k || f.record.id || "", a.Intent = f, g.db.put("sync-info", a).G(function() {
              c++;
              b(l + 1);
            })) : b(l + 1);
          }, function(a) {
            window.console.warn(a);
            b(l + 1);
          }, this);
        } else {
          b(l + 1);
        }
      } else {
        N(g.logger, "collectSyncInfoByGData " + g.f + " done, " + l + " processed"), e.callback(c);
      }
    }, function(a) {
      window.console.warn(a);
      b(l + 1);
    }));
  }
  if (!this.b.a.updateFromGData) {
    return C(0);
  }
  var c = 0, d = 0;
  N(this.logger, "collectSyncInfoByGData " + this.f + " started.");
  a("collecting sync-able Gmail contacts...");
  var e = new B, f = this.a.L();
  qj([this.a.L(), this.c]);
  var g = this, k = {limit:1};
  this.b.a.syncGroupId && (k.index = "ydn$groups", k.key = this.b.a.syncGroupId || "");
  b(0);
  e.i(function(b) {
    a(b + " Gmail contacts are process for sync.");
  });
  return e;
};
function rC(a, b, c) {
  if (0 == b.length) {
    return C(null);
  }
  for (var d = [], e = 0;e < b.length;e++) {
    d.push(IB(a.l, {index:"ydn$emails", limit:5, key:b[e]}));
  }
  return Bl(d).i(function(a) {
    a = Bb(a);
    for (var b = 0;b < a.length;b++) {
      var d = Gr(a[b], this.a.L());
      if (d && d.length) {
        for (var e = 0;e < d.length;e++) {
          if (d[e][2] == c) {
            return a[b];
          }
        }
      } else {
        return a[b];
      }
    }
    return null;
  }, a);
}
function sC(a, b, c) {
  if (b && b.entry_id) {
    return a.l.get(b.entry_id).u(function(a) {
      return a || null;
    }, function(a) {
      window.console.warn(a);
      return null;
    });
  }
  if (!c) {
    return C(null);
  }
  b = Ir(c);
  return rC(a, b, c.id);
}
h.Si = function(a) {
  function b(k) {
    if (1E4 < g) {
      window.console.warn("Fail save count read."), e.callback(c);
    } else {
      g++;
      1 == k % 9 && a("collecting sync-able Sugar contacts " + k + "...");
      var l = {store:f.c, keyRange:d, limit:1, offset:k};
      d && (l.index = "ydn$sync_contact");
      f.a.values(l).u(function(a) {
        if (a[0]) {
          var d = a[0];
          f.db.values("sync-info", "record_id", nj(d.id)).u(function(a) {
            a.sort(function(a, b) {
              return a.pid > b.pid ? -1 : 1;
            });
            var e = a[0];
            sC(f, e, d).G(function(a) {
              var g = pt(a);
              if (e) {
                if (a && a.id.$t == e.entry_id && g) {
                  b(k + 1);
                  return;
                }
                if (vr(d)) {
                  if (e && !g && f.b.a.deleteGData) {
                    g = {pid:f.f, deleteEntry:!0};
                    g.recordOriginal = d || {id:e.record_id};
                    g.entry = a;
                    g.entryOriginal = a;
                    e.Intent = g;
                    e.pid = f.f;
                    e.entry_id = a.id.$t;
                    f.db.put("sync-info", e).G(function() {
                      c++;
                      b(k + 1);
                    });
                    return;
                  }
                  b(k + 1);
                  return;
                }
                if (f.b.a.notUpdateGData) {
                  b(k + 1);
                  return;
                }
              } else {
                if (g && f.b.a.notCreateGData) {
                  b(k + 1);
                  return;
                }
              }
              e = e || NA(f);
              e.Intent ? b(k + 1) : (g = qC(f, e, d, a)) ? (e.record_id = d.id || "", e.entry_id = a && a.id ? a.id.$t : "", e.pid = f.f, e.Intent = g, f.db.put("sync-info", e).G(function() {
                c++;
                b(k + 1);
              })) : b(k + 1);
            });
          }, function(a) {
            window.console.warn(a);
            b(k + 1);
          });
        } else {
          M(f.logger, "collectSyncInfoBySugar " + f.f + " done, " + c + " processed"), e.callback(c);
        }
      }, function(a) {
        window.console.warn(a);
        b(k + 1);
      });
    }
  }
  if (this.b.a.notUpdateFromSugar) {
    return C(c);
  }
  var c = 0, d = this.b.a.ignoreSyncContact ? null : nj("1"), e = new B, f = this, g = 0;
  a("collecting sync-able Sugar contacts...");
  b(0);
  e.i(function(b) {
    a(b + " Gmail contacts are process for sync.");
  });
  return e;
};
h.ii = function(a) {
  a("Updating Gmail Contacts...");
  return EB(this.l).i(function(b) {
    b = "updating contacts done, " + b + " updated.";
    a(b);
    N(this.logger, b);
  }, this);
};
h.Og = function(a) {
  function b(a) {
    k++;
    k > f ? c.callback(g) : e.db.ra(e.kind, "ydn$syncRefs", d, 1, a).u(function(d) {
      var f = d[0];
      f ? e.lg(f).u(function() {
        e.db.remove(e.Aa(), "entry_id", nj(zA(f))).G(function() {
          g++;
          b(a);
        });
      }, function() {
        b(a + 1);
      }) : c.callback(g);
    }, function(c) {
      window.console.error(c);
      b(a + 1);
    });
  }
  var c = new B, d = qj([this.a.L(), this.c]), e = this, f = a || 100, g = 0, k = 0;
  b(0);
  return c;
};
function tC(a, b) {
  this.a = new nC(a, b);
  this.sync = new oC(this.a);
  this.b = new gC("contact");
  this.M = new zf(this);
}
function uC(a, b, c) {
  if ("contact-sync-setting-get" == b) {
    return C(mm(a.a.a));
  }
  if ("contact-sync-permission" == b) {
    return EA(a.sync);
  }
  if ("contact-sync-permission-grant" == b) {
    return DA(a.sync, !0);
  }
  if ("contact-sync-setting-reset" == b) {
    return sA(a.a, null).i(function() {
      vC(this);
    }, a);
  }
  if ("contact-sync-setting-set" == b) {
    return sA(a.a, c).i(function() {
      vC(this);
    }, a);
  }
  if ("contact-sync-clear-cache" == b) {
    return TA(a.sync);
  }
  if ("contact-sync-now" == b) {
    return UA(a.sync);
  }
  if ("contact-sync-delete-sync-gdata" == b) {
    return a.sync.Og();
  }
  if ("contact-sync-setting-info" == b) {
    return a.status();
  }
  if ("contact-sync-history" == b) {
    return MA(a.sync, c);
  }
  if ("contact-sync-backlog" == b) {
    return yA(a.sync);
  }
  if ("contact-sync-release-backlog" == b) {
    return xA(a.sync, c);
  }
  if ("contact-sync-prepared-result" == b) {
    return KA(a.sync, c.req);
  }
  if ("contact-sync-sync-info" == b) {
    return JA(a.sync, c);
  }
  if ("contact-sync-prepared" == b) {
    return UA(a.sync, !0).i(function() {
      return Bl([this.b.getInfo(), GA(this.sync)]).i(function(a) {
        return {scheduler:a[0], prepared:a[1]};
      });
    }, a);
  }
  throw Error(b);
}
tC.prototype.status = function() {
  return this.sync.status().i(function(a) {
    this.b.getInfo().i(function(b) {
      a.scheduler = b;
      return a;
    }, this);
  }, this);
};
function wC(a, b, c) {
  var d = a.sync;
  d.l = b;
  d.db = c;
  d.h = Cm(c);
  vC(a);
}
function vC(a) {
  wA(a.sync) && a.a.load().i(function(a) {
    a.enabled && DA(this.sync).i(function(c) {
      var d = this.b, e = a.syncInterval, f = this.sync;
      d.c = a.enabled && c;
      d.a = e;
      f ? (d.b = f, hC(d)) : iC(d);
    }, this);
  }, a);
}
;function xC(a, b, c) {
  H.call(this);
  this.b = a;
  this.name = b;
  this.db = c;
  this.c = Cm(this.db, "atomic", !1);
  this.a = null;
}
A(xC, H);
h = xC.prototype;
h.logger = J("ydn.db.sync.Entity");
function yC(a, b, c, d) {
  var e = {op:b, entity:a.name, id:c, "new":d, timestamp:(new Date).getTime()};
  if ("add" == b) {
    return a.db.put("_ydn_sync_history", e).i(function(a) {
      e.sequence = a;
      return e;
    });
  }
  var f = new B;
  zC(a, c).i(function(a) {
    e.old = a[0];
    e.key = [c];
    null != a[1] && e.key.push(a[1]);
    this.db.put("_ydn_sync_history", e).i(function(a) {
      e.sequence = a;
      return e;
    }).b(f);
  }, a);
  return f;
}
function AC(a, b, c, d) {
  a.b.list(function(d, f, g, k, l) {
    if (200 == d) {
      var m = f.length;
      0 < m ? Dm(a.db, function(b) {
        for (var c = [], d = 0;d < g.length;d++) {
          b.clear(a.name, qj([g[d]])), c[d] = [g[d]], k && null != k[d] && c[d].push(k[d]);
        }
        b.put(a.name, f, c);
      }, [a.name]).u(function() {
        c += m;
        l && 0 < m ? (hf(b, c), AC(a, b, c, l)) : b.callback(c);
      }, function(a) {
        b.C(a);
      }) : b.callback(c);
    } else {
      b.C(d);
    }
  }, a.name, d);
}
h.update = function() {
  this.a || (this.a = new gf, this.a.c(function() {
    I(this, new G("change", this));
  }, this), this.a.u(function(a) {
    0 < a && I(this, new G("updated", this));
    var b = this;
    setTimeout(function() {
      b.a = null;
    }, 200);
  }, function() {
    this.a = null;
  }, this), AC(this, this.a, 0, null));
  return this.a;
};
function zC(a, b) {
  var c = dk(a.name, [b]), d, e;
  return a.c.open(function(a) {
    e = a.a[1];
    d = a.Y();
    return null;
  }, c, Nj, a).i(function() {
    return [d, e];
  });
}
h.get = function(a) {
  var b = new gf, c = this.db, d = this.name;
  zC(this, a).i(function(e) {
    var f = e[0];
    e = e[1];
    f && hf(b, f);
    this.b.get(function(e, k, l) {
      200 == e ? (e = [a], null != l && e.push(l), c.put(d, k, e), b.callback(k)) : 404 == e ? (f && c.clear(d, qj([a])), b.callback(void 0)) : 304 == e ? b.callback(f) : (k = Error(e), e || (k.name = "NetworkError"), b.C(k));
    }, this.name, a, e);
  }, this);
  return b;
};
h.add = function(a) {
  var b = this;
  N(this.logger, this + " adding a record");
  return this.c.add(this.name, a).i(function(c) {
    M(b.logger, b + " add new record as " + c);
    return yC(b, "add", c, a).i(function(d) {
      M(b.logger, b + " log as " + c);
      var e = new B;
      b.b.add(function(f, g, k, l) {
        200 == f || 201 == f ? (M(b.logger, b + " backend persist as " + k + " [" + l + "] " + f), Dm(b.db, function(d) {
          d.remove(b.name, c);
          var f = [k];
          null != l && f.push(l);
          var p = g || a;
          d.add(b.name, p, f).u(function(a) {
            N(b.logger, b + " add " + a + " succeeded.");
            e.callback(p);
          }, function(a) {
            N(b.logger, b + ' adding "' + f + '" failed ' + a.message);
            e.C(a);
          });
        }, [b.name, "_ydn_sync_history"])) : (M(b.logger, b + " backend persist fail, rolling back" + f), Dm(b.db, function(a) {
          a.remove(b.name, c);
          a.remove("_ydn_sync_history", d.sequence);
          M(b.logger, b + " removed log and temp record.");
        }, [b.name, "_ydn_sync_history"]).G(function() {
          e.C(f);
        }));
      }, b.name, a);
      return e;
    });
  });
};
h.put = function(a, b) {
  var c = this;
  return yC(this, "put", a, b).i(function(d) {
    return c.c.put(c.name, b, d.key).i(function() {
      var e = new B;
      c.b.put(function(a, g, k, l) {
        200 == a || 201 == a ? Dm(c.db, function(a) {
          a.remove("_ydn_sync_history", d.sequence);
          a.remove(c.name, d.key).i(function() {
            var d = [k];
            null != l && d.push(l);
            a.put(c.name, g || b, d);
          });
        }, [c.name, "_ydn_sync_history"]).G(function() {
          e.callback(g);
        }) : Dm(c.db, function(a) {
          d.old ? a.put(c.name, d.old, d.key) : a.remove(c.name, d.key);
          a.remove("_ydn_sync_history", d.sequence);
        }, [c.name, "_ydn_sync_history"]).G(function() {
          e.C(a);
        });
      }, c.name, b, a, d.key[1]);
      return e;
    });
  });
};
h.remove = function(a) {
  return yC(this, "del", a, null).i(function(b) {
    return this.db.remove(this.name, b.key).i(function(c) {
      var d = new B, e = this;
      this.b.remove(function(a) {
        200 == a || 404 == a ? (e.db.remove("_ydn_sync_history", b.sequence), d.callback(c)) : Dm(e.db, function(a) {
          b.old ? a.put(e.name, b.old, b.key) : a.remove(e.name, b.key);
          a.remove("_ydn_sync_history", b.sequence);
        }, [e.name, "_ydn_sync_history"]).G(function() {
          d.C(a);
        });
      }, e.name, a, b.key[1]);
      return d;
    }, this);
  }, this);
};
h.getName = function() {
  return this.name;
};
Fm.prototype.o = function(a, b) {
  return new xC(a, b, this);
};
xC.prototype.toString = function() {
  return "Entity:" + this.name;
};
J("ydn.crm.sync.Service");
function BC(a, b, c) {
  this.a = a;
  this.c = b;
  this.b = c;
}
h = BC.prototype;
h.logger = J("ydn.crm.tracking.Service");
h.remove = function() {
};
h.get = function() {
};
h.list = function(a, b, c) {
  function d(b) {
    k.a.request(new T(e, "GET", b)).execute(function(b, c) {
      if (200 == c.P()) {
        for (var d = [], e = [], k = 0;k < b.length;k++) {
          d[k] = b[k][f], e[k] = b[k][g];
        }
        k = jn(c, "after");
        a(c.P(), b, d, e, k);
      } else {
        a(c.P(), [], [], [], null);
      }
    }, k);
  }
  var e = Lr[b], f = Mr[b], g = Nr[b], k = this, l = {};
  if ("AccessTokenRecord" == b) {
    if (this.b && !cr(this.b)) {
      K(this.logger, "User not login");
      a(401, [], [], [], null);
      return;
    }
  } else {
    if ("BeaconTrack" != b) {
      throw Error(b);
    }
  }
  c ? (l.after = c, d(l)) : (b = new bk(b, g, null, !0), this.c.keys(b, 1).u(function(a) {
    a[0] && (l.after = a[0]);
    d(l);
  }, function(b) {
    K(this.logger, b.message);
    a(400, [], [], [], null);
  }, this));
};
h.add = function(a, b, c) {
  var d = Mr[b];
  this.a.request(new T(Lr[b], "POST", null, null, JSON.stringify(c))).execute(function(c, f) {
    var g = f.P();
    if (201 == g || 200 == g) {
      var g = c[d], k = jn(f, "etag");
      delete c[Nr[b]];
      a(f.P(), c, g, k);
    } else {
      a(f.P(), null, NaN, void 0);
    }
  }, this);
};
h.put = function() {
};
function CC(a, b) {
  var c = new T("/donottrack/clear-record", "POST", null, {"content-type":"application/json"}, JSON.stringify({beacon:b, hit:[], dnt:[]})), d = new B;
  a.a.request(c).execute(function(a, b) {
    d.callback(hn(b));
  });
}
;function DC(a, b, c) {
  this.c = new BC(a, b, c);
  this.b = Cm(b);
  this.l = new fs(this.update, 2E3, this);
  Df(function() {
    this.l.lj();
  }, 2500, this);
  this.h = b.o(this.c, "BeaconTrack");
  this.f = b.o(this.c, "AccessTokenRecord");
  this.a = null;
}
DC.prototype.logger = J("ydn.crm.tracking.Client");
DC.prototype.update = function() {
  if (this.a) {
    return Bc(this.a);
  }
  L(this.logger, "Updating tracking data");
  var a = this.h.update().u(function(a) {
    L(this.logger, a + " new track points received.");
  }, function(a) {
    K(this.logger, "error on updating beacon points", a);
  }, this), b = this.f.update().u(function(a) {
    L(this.logger, a + " new access points received.");
  }, function(a) {
    K(this.logger, "error on updating access data", a);
  }, this);
  this.a = Bl([a, b]);
  this.a.G(function() {
    setTimeout(function() {
      this.a = null;
    }.bind(this), 5E3);
  }, this);
  return this.a;
};
function EC(a, b) {
  if (!b || !w(b) || -1 == b.indexOf("@")) {
    return D("a valid email required");
  }
  var c = nj(b);
  return a.b.Vd("BeaconTrack", "recipients", c, 500).i(function(a) {
    this.b.remove("BeaconTrack", "recipients", c);
    for (var b = [], f = 0;f < a.length;f++) {
      var g = a[f][0];
      b[f] = g;
      g = qj(g);
      this.b.remove("AccessTokenRecord", "Path", g);
    }
    CC(this.c, b);
    return a.length;
  }, a);
}
function FC(a, b) {
  if (!x(b)) {
    return D("Invalid parameters object.");
  }
  if ("is-in-dnt" == b.query) {
    return b.emails && u(b.emails) ? GC(a, b.emails) : D("emails required.");
  }
  var c = b.storeName;
  if (-1 == ["BeaconTrack", "AccessTokenRecord"].indexOf(c)) {
    return D("invalid storeName: " + c);
  }
  var d = b.index, e = null;
  if (b.keyRange) {
    if (e = uj(b.keyRange)) {
      return D("invalid keyRange: " + e);
    }
    e = rj(b.keyRange);
  }
  if ("count" == b.query) {
    return d ? a.b.count(c, d, e) : D("invalid index: " + d);
  }
  if ("BeaconTrack" == c) {
    if (d || (d = "path"), -1 == ["path", "recorded", "recipients"].indexOf(d)) {
      return D("invalid index: " + d);
    }
  } else {
    if (d || (d = "Path"), -1 == ["Path", "Recorded"].indexOf(d)) {
      return D("invalid index: " + d);
    }
  }
  return a.b.ra(c, d, e, b.limit || 100, 0, !0);
}
function GC(a, b) {
  for (var c = [], d = 0;d < b.length;d++) {
    c.push(a.b.ra("DoNotTrack", "Target", nj(b[d])));
  }
  return Bl(c).i(function(a) {
    for (var b = 0;b < a.length;b++) {
      var c = a[b][0];
      if (c && !c.Deleted) {
        return b;
      }
    }
    return -1;
  });
}
;function HC(a, b) {
  this.a = a;
  this.b = b;
}
h = HC.prototype;
h.logger = J("ydn.crm.tracking.DntService");
h.list = function(a, b, c) {
  function d(b) {
    k.a.request(new T(e, "GET", b)).execute(function(b, c) {
      if (200 == c.P()) {
        for (var d = [], e = [], k = 0;k < b.length;k++) {
          d[k] = b[k][f], e[k] = b[k][g];
        }
        k = jn(c, "after");
        a(c.P(), b, d, e, k);
      } else {
        a(c.P(), [], [], [], null);
      }
    }, k);
  }
  var e = Lr[b], f = Mr[b], g = Nr[b], k = this, l = {};
  c ? (l.after = c, d(l)) : (b = new bk(b, g, null, !0), this.b.keys(b, 1).u(function(a) {
    a[0] && (l.after = a[0]);
    d(l);
  }, function(b) {
    K(this.logger, b.message);
    a(400, [], [], [], null);
  }, this));
};
h.add = function(a, b, c) {
  var d = Mr[b];
  this.a.request(new T(Lr[b], "POST", null, null, JSON.stringify(c))).execute(function(c, f) {
    var g = f.P();
    if (201 == g || 200 == g) {
      var k = c[d], l = jn(f, "etag");
      delete c[Nr[b]];
      a(g, c, k, l);
    } else {
      a(g, null, NaN, void 0);
    }
  }, this);
};
h.put = function(a, b, c) {
  this.add(a, b, c);
};
h.remove = function(a, b, c) {
  this.a.request(new T(Lr[b], "POST", null, null, JSON.stringify({Id:c, Deleted:!0}))).execute(function(b, c) {
    a(c.P());
  }, this);
};
h.get = function() {
  throw Error("Not Impl");
};
function IC(a, b) {
  var c = new HC(a, b);
  this.b = Cm(b, Ik, !0);
  this.a = b.o(c, "DoNotTrack");
}
h = IC.prototype;
h.logger = J("ydn.crm.tracking.DoNotTrack");
h.add = function(a) {
  return this.a.add({Target:a});
};
h.remove = function(a) {
  return this.a.remove(a);
};
h.query = function(a) {
  if (x(a)) {
    if ("Modified" == a.index) {
      var b = a.after;
      a = this.b.ra("DoNotTrack", Nr.DoNotTrack, b ? pj(b) : null, a.limit, 0, !0);
    } else {
      a = this.list(a.limit, a.offset);
    }
  } else {
    a = D("query object required");
  }
  return a;
};
h.list = function(a, b) {
  return this.b.xd("DoNotTrack", null, a, b || 0);
};
h.update = function() {
  return this.a.update().u(function(a) {
    L(this.logger, a + " new DNT received.");
  }, function(a) {
    K(this.logger, "error on updating DNT data", a);
  }, this);
};
function JC() {
  H.call(this);
}
A(JC, H);
function KC(a) {
  a = a.replace(/\.gif$/, "").replace(/\/$/, "");
  return LC(1, nj(a)).i(function(a) {
    return a[0] || null;
  });
}
function MC() {
  return NC(1, null).i(function(a) {
    return 0 < a.length;
  });
}
function OC(a) {
  if (!a.CityLatLong || 0 == a.CityLatLong.longitude && 0 == a.CityLatLong.latitude) {
    return "";
  }
  var b = "";
  a.City && "?" != a.City && (b = a.City);
  a.Region && "?" != a.Region && a.Region != a.City && (b += ", " + a.Region);
  a.Country && "?" != a.Country && (b += ", " + a.Country);
  return b;
}
function PC(a, b) {
  return KC(b).i(function(a) {
    return a ? QC(this, a) : null;
  }, a);
}
function RC(a, b) {
  for (var c = 0, d = 0, e = 0, f = [], g = 0, k = NaN, l = 0;l < b.length;l++) {
    var m = b[l];
    if (m.Recorded > a.recorded) {
      if ("t" == m.Tracker) {
        m.AccessUserId && m.AccessUserId == m.User ? d++ : c++;
        var n = m.Recorded - a.recorded;
        if (isNaN(k) || k > n) {
          k = n;
        }
        m.City && -1 == f.indexOf(m.City) && f.push(m.City);
        if (!g || g < m.Recorded) {
          g = m.Recorded;
        }
      } else {
        ("r" == m.Tracker || m.Query) && e++;
      }
    }
  }
  1 < f.length && "?" == f[0] && f.push(f.shift());
  l = "~";
  g && (l = Gq(g));
  g = f.length;
  return {path:a.path, recipients:a.recipients ? a.recipients.join(", ") : "", subject:a.subject, opens:c, selfOpens:d, open:0 < c ? String(c) : 0 < d ? "(" + d + ")" : "0", clicks:e, numLink:a.numLink, sentDate:new Date(a.recorded), cities:0 == g ? "" : 1 == g ? f[0] : 2 == g ? f[0] + " and " + f[1] : f.slice(0, g - 2).join(", ") + ", " + f[g - 2] + " and " + f[g - 1], numCities:f.length, timeToOpen:k, lastOpen:l};
}
function QC(a, b) {
  return SC(b.path).i(function(a) {
    return RC(b, a);
  }, a);
}
function TC(a, b, c) {
  for (var d = [], e = c;e < b.length && e < c + 9;e++) {
    d.push(QC(a, b[e]));
  }
  d = Bl(d);
  return b.length <= 9 + c ? d : d.i(function(a) {
    return TC(this, b, c + 9).i(function(b) {
      return a.concat(b);
    }, this);
  }, a);
}
function UC(a, b) {
  return LC(1E3, b).u(function(a) {
    return TC(this, a, 0);
  }, function(a) {
    window.console.error("Error tracking fetching " + (a.message || a));
  }, a);
}
function VC(a, b, c) {
  c = c || y() - 864E5;
  return UC(a, oj(b + "/" + c, void 0)).i(function(a) {
    for (var b = a.length, c = 0, g = 0, k = 0, l = 0;l < a.length;l++) {
      var m = a[l];
      0 < m.opens && c++;
      m.numLink && g++;
      m.clicks && k++;
    }
    return {opens:c, aj:b, clicks:k, Lj:g};
  }, a);
}
;function WC(a) {
  var b = a.type;
  if (!t(b)) {
    return null;
  }
  switch(b.toLowerCase()) {
    case "checkbox":
    ;
    case "radio":
      return a.checked ? a.value : null;
    case "select-one":
      return b = a.selectedIndex, 0 <= b ? a.options[b].value : null;
    case "select-multiple":
      for (var b = [], c, d = 0;c = a.options[d];d++) {
        c.selected && b.push(c.value);
      }
      return b.length ? b : null;
    default:
      return t(a.value) ? a.value : null;
  }
}
function XC(a, b) {
  var c = a.elements[b];
  if (c) {
    if (c.type) {
      return WC(c);
    }
    for (var d = 0;d < c.length;d++) {
      var e = WC(c[d]);
      if (e) {
        return e;
      }
    }
  }
  return null;
}
function YC(a, b) {
  var c = a.type;
  if (t(c)) {
    switch(c.toLowerCase()) {
      case "checkbox":
      ;
      case "radio":
        a.checked = b;
        break;
      case "select-one":
        a.selectedIndex = -1;
        if (w(b)) {
          for (var d = 0;c = a.options[d];d++) {
            if (c.value == b) {
              c.selected = !0;
              break;
            }
          }
        }
        break;
      case "select-multiple":
        c = b;
        w(c) && (c = [c]);
        for (var e = 0;d = a.options[e];e++) {
          if (d.selected = !1, c) {
            for (var f, g = 0;f = c[g];g++) {
              d.value == f && (d.selected = !0);
            }
          }
        }
        break;
      default:
        a.value = null != b ? b : "";
    }
  }
}
;E && Yc(8);
function ZC() {
  Jw.call(this);
}
A(ZC, Jw);
ZC.prototype.a = Hw;
var $C = function(a) {
  function b(a) {
    this.b = a;
  }
  b.prototype = a.prototype;
  return function(a, d) {
    var e = new b(String(a));
    void 0 !== d && (e.c = d);
    return e;
  };
}(ZC);
function aD(a) {
  return $C('<div class="select-record field">' + (a.Ak ? '<span><select class="parent-type" style="display: none;"></select></span>' : '<input type="text" class="parent-type" style="display: none;"/>') + '<input type="text" class="value"/><a style="display: none;" title="View in SugarCRM" target="_blank"><svg viewBox="0 0 24 24" class="icons"><path xmlns="http://www.w3.org/2000/svg" d="M19,19H5V5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-7h-2V19z M14,3v2h3.6l-9.8,9.8l1.4,1.4L19,6.4V10h2V3H14z"></path></svg></a></div>');
}
;function bD(a) {
  var b = document.querySelector('span[name="me"][email]');
  if (b) {
    return b = b.getAttribute("email"), C(b);
  }
  if (b = document.title.match(/- (\S+@\S+\.\S+) -/)) {
    return C(b[1]);
  }
  a--;
  var c = new B;
  0 < a ? setTimeout(function() {
    bD(a).b(c);
  }, 500) : c.C(null);
  return c;
}
var cD = "", dD = null;
function eD() {
  if (!dD) {
    if ("https://mail.google.com" != location.origin && document.querySelector("html").getAttribute("manifest")) {
      var a = fD();
      dD = C(a);
    } else {
      dD = bD(3).Gc(function() {
        return gD();
      });
    }
    dD.i(function(a) {
      cD = a;
    });
  }
  return Bc(dD);
}
function fD() {
  var a = document.head.innerHTML.match(/USER_EMAIL\s=\s"([^"]+)"/);
  return a ? a[1] : null;
}
var hD = null;
function gD() {
  if ("https://mail.google.com" != location.origin) {
    return D("");
  }
  var a = new T("https://mail.google.com/mail/feed/atom/bazinga", "GET", {zx:"124"}), a = vn().request(a), b = new B;
  window.setTimeout(function() {
    b.f || (b.C(), b = null);
  }, 2E3);
  a.execute(function(a, d) {
    if (b) {
      if (gn(d)) {
        var e = hn(d).match(/<title>(.+?)(\S+)<\/title>/);
        e ? b.callback(e[2]) : b.C();
      } else {
        b.C();
      }
    }
  });
  return b;
}
function iD() {
  t(void 0) || window.location.pathname.match(/^\/mail\/[^\/]+\/(\d+)\//);
  return 0;
}
function jD(a) {
  return (a = a.className.match(kD)) && a[0] ? a[0].substr(1) : "";
}
function lD(a) {
  var b = "", c = document.querySelector('span[email="' + a + '"][name]');
  c && (b = c.name || c.textContent);
  b || (b = a.match(/[^@]+/)[0]);
  return b;
}
var kD = /m[0-9a-h]{14,20}/;
function mD(a) {
  return a && 19 < a.length && kD.test(a) ? !0 : !1;
}
function nD(a) {
  a = a.parentElement.parentElement;
  for (var b = a.childElementCount - 1;0 <= b;b--) {
    var c = a.children[b];
    if (mD(c.className)) {
      return c;
    }
  }
  if ((a = a.querySelector('[tabindex="-1"]')) && a.nextElementSibling) {
    a = a.nextElementSibling;
    if (mD(a.className)) {
      return a;
    }
    a = a.firstElementChild;
    if (mD(a.className)) {
      return a;
    }
  }
  return null;
}
function oD(a, b) {
  if (!a || !a.$e) {
    return null;
  }
  for (var c = [], d = gh(document, a.$e), e = d.parentElement.parentElement.parentElement.querySelectorAll("[download_url]"), f = 0;f < e.length;f++) {
    var g = e[f].getAttribute("download_url");
    c[f] = pD(g);
  }
  d = gh(document, d);
  g = 1 == d.childElementCount ? d.firstElementChild : d;
  f = e = "";
  if ("message" == b) {
    for (g = g.firstChild;g;) {
      if (g instanceof Element) {
        var k = g.querySelector(".gmail_default");
        if (k && k.parentElement == g) {
          e += g.innerHTML;
          f += "\n" + g.innerText;
          break;
        }
        k = k || g.querySelector(".gmail_quote") || g.querySelector(".gmail_extra");
        if (!k) {
          var l = g.querySelector("[role=button][data-tooltip] > img");
          l && (k = l.parentElement.parentElement);
        }
        var m, n;
        k && (m = k.parentElement, n = k.nextSibling, wh(k));
        e += g.innerHTML;
        f += "\n" + g.innerText;
        if (k) {
          n ? m.insertBefore(k, n) : m.appendChild(k);
          break;
        }
      } else {
        e += g.textContent, f += "\n" + g.textContent;
      }
      g = g.nextSibling || g.firstChild;
    }
  } else {
    if (b) {
      e = g.innerHTML, f = g.innerText;
    } else {
      for (g = g.firstChild;g;) {
        g instanceof Element ? null !== g.offsetParent && (e += g.innerHTML, f += "\n" + g.innerText) : (e += g.textContent, f += "\n" + g.textContent), g = g.nextSibling || g.firstChild;
      }
    }
  }
  0 != Fo(f) || b || (e = d.innerHTML, f = d.innerText);
  return {Ya:a.Ya, Gb:a.Gb, Ob:a.Ob, wh:e || "", text:f || "", $e:a.$e, xc:a.xc, wa:a.wa, subject:a.subject, Lb:c};
}
function qD(a) {
  if (!a) {
    return null;
  }
  var b = "", c = "", d, e = "", f = Hh(a, "TR");
  if (!f) {
    return null;
  }
  var g = Hh(f, "TABLE");
  a = nD(g);
  if (b = f.children[0].querySelector("span[email]")) {
    b = b.getAttribute("email");
  } else {
    return null;
  }
  if (d = f.children[1].querySelector("span[alt]")) {
    d = d.getAttribute("alt"), d = new Date(d.replace(" at", ""));
  } else {
    return null;
  }
  f = f.nextElementSibling;
  if (!f || "TR" != f.tagName) {
    return null;
  }
  for (var k = f.querySelectorAll("span[email]"), f = 0;f < k.length;f++) {
    c && (c += ", "), c += k[f].getAttribute("email");
  }
  k = jD(a);
  g = Hh(g.parentElement, "TABLE");
  for (f = 0;g && 10 > f;f++) {
    var l = g.querySelector("h2");
    if (l) {
      e = l.textContent;
      break;
    }
    g = Hh(g, "TABLE");
  }
  return {Ya:b, Gb:c, Ob:d, $e:a.id, xc:cD, wa:k, subject:e};
}
function pD(a) {
  a = a.split(":");
  return {Oa:decodeURIComponent(a[1]), Sh:a[0], url:a[2] + ":" + a[3]};
}
function rD() {
  var a = document.getElementById("link_vsm");
  if (a) {
    return a.getAttribute("param");
  }
  if (a = document.getElementById("link_undo")) {
    if (a = a.getAttribute("param")) {
      return a.split("_")[1];
    }
  }
  return "";
}
;var sD;
function tD(a, b) {
  b ? a.setAttribute("role", b) : a.removeAttribute("role");
}
function uD(a, b, c) {
  u(c) && (c = c.join(" "));
  var d = "aria-" + b;
  "" === c || void 0 == c ? (sD || (sD = {atomic:!1, autocomplete:"none", dropeffect:"none", haspopup:!1, live:"off", multiline:!1, multiselectable:!1, orientation:"vertical", readonly:!1, relevant:"additions text", required:!1, sort:"none", busy:!1, disabled:!1, hidden:!1, invalid:"false"}), c = sD, b in c ? a.setAttribute(d, c[b]) : a.removeAttribute(d)) : a.setAttribute(d, c);
}
function vD(a, b) {
  var c = a.getAttribute("aria-" + b);
  return null == c || void 0 == c ? "" : String(c);
}
function wD(a, b) {
  var c = "";
  b && (c = b.id);
  uD(a, "activedescendant", c);
}
;function xD(a) {
  if (a.classList) {
    return a.classList;
  }
  a = a.className;
  return w(a) && a.match(/\S+/g) || [];
}
function yD(a, b) {
  return a.classList ? a.classList.contains(b) : mb(xD(a), b);
}
function zD(a, b) {
  a.classList ? a.classList.add(b) : yD(a, b) || (a.className += 0 < a.className.length ? " " + b : b);
}
function AD(a, b) {
  if (a.classList) {
    eb(b, function(b) {
      zD(a, b);
    });
  } else {
    var c = {};
    eb(xD(a), function(a) {
      c[a] = !0;
    });
    eb(b, function(a) {
      c[a] = !0;
    });
    a.className = "";
    for (var d in c) {
      a.className += 0 < a.className.length ? " " + d : d;
    }
  }
}
function BD(a, b) {
  a.classList ? a.classList.remove(b) : yD(a, b) && (a.className = fb(xD(a), function(a) {
    return a != b;
  }).join(" "));
}
function CD(a, b) {
  a.classList ? eb(b, function(b) {
    BD(a, b);
  }) : a.className = fb(xD(a), function(a) {
    return !mb(b, a);
  }).join(" ");
}
;function DD(a, b, c, d, e) {
  if (!(E || Nc || Qc && Yc("525"))) {
    return !0;
  }
  if (Rc && e) {
    return ED(a);
  }
  if (e && !d) {
    return !1;
  }
  ha(b) && (b = FD(b));
  if (!c && (17 == b || 18 == b || Rc && 91 == b)) {
    return !1;
  }
  if ((Qc || Nc) && d && c) {
    switch(a) {
      case 220:
      ;
      case 219:
      ;
      case 221:
      ;
      case 192:
      ;
      case 186:
      ;
      case 189:
      ;
      case 187:
      ;
      case 188:
      ;
      case 190:
      ;
      case 191:
      ;
      case 192:
      ;
      case 222:
        return !1;
    }
  }
  if (E && d && b == a) {
    return !1;
  }
  switch(a) {
    case 13:
      return !0;
    case 27:
      return !(Qc || Nc);
  }
  return ED(a);
}
function ED(a) {
  if (48 <= a && 57 >= a || 96 <= a && 106 >= a || 65 <= a && 90 >= a || (Qc || Nc) && 0 == a) {
    return !0;
  }
  switch(a) {
    case 32:
    ;
    case 43:
    ;
    case 63:
    ;
    case 64:
    ;
    case 107:
    ;
    case 109:
    ;
    case 110:
    ;
    case 111:
    ;
    case 186:
    ;
    case 59:
    ;
    case 189:
    ;
    case 187:
    ;
    case 61:
    ;
    case 188:
    ;
    case 190:
    ;
    case 191:
    ;
    case 192:
    ;
    case 222:
    ;
    case 219:
    ;
    case 220:
    ;
    case 221:
      return !0;
    default:
      return !1;
  }
}
function FD(a) {
  if (Pc) {
    a = GD(a);
  } else {
    if (Rc && Qc) {
      a: {
        switch(a) {
          case 93:
            a = 91;
            break a;
        }
      }
    }
  }
  return a;
}
function GD(a) {
  switch(a) {
    case 61:
      return 187;
    case 59:
      return 186;
    case 173:
      return 189;
    case 224:
      return 91;
    case 0:
      return 224;
    default:
      return a;
  }
}
;function HD(a, b, c) {
  H.call(this);
  this.target = a;
  this.s = b || a;
  this.l = c || new Nh(NaN, NaN, NaN, NaN);
  this.h = fh(a);
  this.a = new zf(this);
  Jc(this, qa(Kc, this.a));
  this.f = this.c = this.V = this.F = this.clientY = this.clientX = 0;
  this.o = !0;
  this.b = !1;
  ud(this.s, ["touchstart", "mousedown"], this.qk, !1, this);
}
A(HD, H);
var ID = q.document && q.document.documentElement && !!q.document.documentElement.setCapture;
h = HD.prototype;
h.setEnabled = function(a) {
  this.o = a;
};
h.I = function() {
  HD.j.I.call(this);
  Cd(this.s, ["touchstart", "mousedown"], this.qk, !1, this);
  this.a.removeAll();
  ID && this.h.releaseCapture();
  this.s = this.target = null;
};
h.qk = function(a) {
  var b = "mousedown" == a.type;
  if (!this.o || this.b || b && !hd(a)) {
    I(this, "earlycancel");
  } else {
    if (I(this, new JD("start", this, a.clientX, a.clientY))) {
      this.b = !0;
      a.preventDefault();
      var b = this.h, c = b.documentElement, d = !ID;
      this.a.listen(b, ["touchmove", "mousemove"], this.Rl, d);
      this.a.listen(b, ["touchend", "mouseup"], this.af, d);
      ID ? (c.setCapture(!1), this.a.listen(c, "losecapture", this.af)) : this.a.listen(qh(b), "blur", this.af);
      this.W && this.a.listen(this.W, "scroll", this.Kn, d);
      this.clientX = this.F = a.clientX;
      this.clientY = this.V = a.clientY;
      this.c = this.target.offsetLeft;
      this.f = this.target.offsetTop;
      this.D = nh(dh(this.h).a);
    }
  }
};
h.af = function(a) {
  this.a.removeAll();
  ID && this.h.releaseCapture();
  this.b ? (this.b = !1, I(this, new JD("end", this, a.clientX, a.clientY, 0, KD(this, this.c), LD(this, this.f)))) : I(this, "earlycancel");
};
h.Rl = function(a) {
  if (this.o) {
    var b = 1 * (a.clientX - this.clientX), c = a.clientY - this.clientY;
    this.clientX = a.clientX;
    this.clientY = a.clientY;
    if (!this.b) {
      var d = this.F - this.clientX, e = this.V - this.clientY;
      if (0 < d * d + e * e) {
        if (I(this, new JD("start", this, a.clientX, a.clientY))) {
          this.b = !0;
        } else {
          this.J || this.af(a);
          return;
        }
      }
    }
    c = MD(this, b, c);
    b = c.x;
    c = c.y;
    this.b && I(this, new JD("beforedrag", this, a.clientX, a.clientY, 0, b, c)) && (ND(this, a, b, c), a.preventDefault());
  }
};
function MD(a, b, c) {
  var d = nh(dh(a.h).a);
  b += d.x - a.D.x;
  c += d.y - a.D.y;
  a.D = d;
  a.c += b;
  a.f += c;
  return new ah(KD(a, a.c), LD(a, a.f));
}
h.Kn = function(a) {
  var b = MD(this, 0, 0);
  a.clientX = this.clientX;
  a.clientY = this.clientY;
  ND(this, a, b.x, b.y);
};
function ND(a, b, c, d) {
  a.target.style.left = c + "px";
  a.target.style.top = d + "px";
  I(a, new JD("drag", a, b.clientX, b.clientY, 0, c, d));
}
function KD(a, b) {
  var c = a.l, d = isNaN(c.left) ? null : c.left, c = isNaN(c.width) ? 0 : c.width;
  return Math.min(null != d ? d + c : Infinity, Math.max(null != d ? d : -Infinity, b));
}
function LD(a, b) {
  var c = a.l, d = isNaN(c.top) ? null : c.top, c = isNaN(c.height) ? 0 : c.height;
  return Math.min(null != d ? d + c : Infinity, Math.max(null != d ? d : -Infinity, b));
}
function JD(a, b, c, d, e, f, g) {
  G.call(this, a);
  this.clientX = c;
  this.clientY = d;
  this.left = t(f) ? f : b.c;
  this.top = t(g) ? g : b.f;
}
A(JD, G);
var OD = E ? 'javascript:""' : "about:blank";
function PD(a) {
  H.call(this);
  this.K = a;
  a = E ? "focusout" : "blur";
  this.a = ud(this.K, E ? "focusin" : "focus", this, !E);
  this.b = ud(this.K, a, this, !E);
}
A(PD, H);
PD.prototype.handleEvent = function(a) {
  var b = new fd(a.c);
  b.type = "focusin" == a.type || "focus" == a.type ? "focusin" : "focusout";
  I(this, b);
};
PD.prototype.I = function() {
  PD.j.I.call(this);
  Dd(this.a);
  Dd(this.b);
  delete this.K;
};
function QD() {
}
da(QD);
QD.prototype.a = 0;
function RD(a) {
  return "y:" + (a.a++).toString(36);
}
;function V(a) {
  H.call(this);
  this.a = a || dh();
  this.Ba = SD;
  this.V = null;
  this.l = !1;
  this.K = null;
  this.D = void 0;
  this.o = this.f = this.h = this.oa = null;
}
A(V, H);
V.prototype.Di = QD.X();
var SD = null;
function TD(a, b) {
  switch(a) {
    case 1:
      return b ? "disable" : "enable";
    case 2:
      return b ? "highlight" : "unhighlight";
    case 4:
      return b ? "activate" : "deactivate";
    case 8:
      return b ? "select" : "unselect";
    case 16:
      return b ? "check" : "uncheck";
    case 32:
      return b ? "focus" : "blur";
    case 64:
      return b ? "open" : "close";
  }
  throw Error("Invalid component state");
}
h = V.prototype;
h.N = function() {
  return this.V || (this.V = RD(this.Di));
};
function UD(a, b) {
  if (a.h && a.h.o) {
    var c = a.h.o, d = a.V;
    d in c && delete c[d];
    Mb(a.h.o, b, a);
  }
  a.V = b;
}
h.g = function() {
  return this.K;
};
function X(a) {
  a.D || (a.D = new zf(a));
  return a.D;
}
function VD(a, b) {
  if (a == b) {
    throw Error("Unable to set parent component");
  }
  if (b && a.h && a.V && WD(a.h, a.V) && a.h != b) {
    throw Error("Unable to set parent component");
  }
  a.h = b;
  V.j.di.call(a, b);
}
h.la = function() {
  return this.h;
};
h.di = function(a) {
  if (this.h && this.h != a) {
    throw Error("Method not supported");
  }
  V.j.di.call(this, a);
};
h.pa = function() {
  return this.l;
};
h.B = function() {
  this.K = this.a.createElement("DIV");
};
h.render = function(a) {
  XD(this, a);
};
function XD(a, b, c) {
  if (a.l) {
    throw Error("Component already rendered");
  }
  a.K || a.B();
  b ? b.insertBefore(a.K, c || null) : a.a.a.body.appendChild(a.K);
  a.h && !a.h.pa() || a.A();
}
h.A = function() {
  this.l = !0;
  YD(this, function(a) {
    !a.pa() && a.g() && a.A();
  });
};
h.ya = function() {
  YD(this, function(a) {
    a.pa() && a.ya();
  });
  this.D && this.D.removeAll();
  this.l = !1;
};
h.I = function() {
  this.l && this.ya();
  this.D && (this.D.O(), delete this.D);
  YD(this, function(a) {
    a.O();
  });
  this.K && wh(this.K);
  this.h = this.oa = this.K = this.o = this.f = null;
  V.j.I.call(this);
};
h.m = function() {
  return this.oa;
};
h.Z = function(a) {
  this.oa = a;
};
h.H = function(a, b) {
  this.bc(a, Y(this), b);
};
h.bc = function(a, b, c) {
  if (a.l && (c || !this.l)) {
    throw Error("Component already rendered");
  }
  if (0 > b || b > Y(this)) {
    throw Error("Child component index out of bounds");
  }
  this.o && this.f || (this.o = {}, this.f = []);
  if (a.la() == this) {
    var d = a.N();
    this.o[d] = a;
    ob(this.f, a);
  } else {
    Mb(this.o, a.N(), a);
  }
  VD(a, this);
  tb(this.f, b, 0, a);
  a.l && this.l && a.la() == this ? (c = this.T(), b = c.childNodes[b] || null, b != a.g() && c.insertBefore(a.g(), b)) : c ? (this.K || this.B(), b = Z(this, b + 1), XD(a, this.T(), b ? b.K : null)) : this.l && !a.l && a.K && a.K.parentNode && 1 == a.K.parentNode.nodeType && a.A();
};
h.T = function() {
  return this.K;
};
function ZD(a) {
  null == a.Ba && (a.Ba = gi(a.l ? a.K : a.a.a.body));
  return a.Ba;
}
function Y(a) {
  return a.f ? a.f.length : 0;
}
function WD(a, b) {
  return a.o && b ? Nb(a.o, b) || null : null;
}
function Z(a, b) {
  return a.f ? a.f[b] || null : null;
}
function YD(a, b, c) {
  a.f && eb(a.f, b, c);
}
function $D(a, b) {
  return a.f && b ? cb(a.f, b) : -1;
}
h.removeChild = function(a, b) {
  if (a) {
    var c = w(a) ? a : a.N();
    a = WD(this, c);
    if (c && a) {
      var d = this.o;
      c in d && delete d[c];
      ob(this.f, a);
      b && (a.ya(), a.K && wh(a.K));
      VD(a, null);
    }
  }
  if (!a) {
    throw Error("Child is not in parent component");
  }
  return a;
};
function aE(a) {
  for (var b = [];a.f && 0 != a.f.length;) {
    b.push(a.removeChild(Z(a, 0), !0));
  }
  return b;
}
;function bE(a, b) {
  this.K = a;
  this.b = b;
}
;function cE(a, b) {
  H.call(this);
  this.c = new zf(this);
  this.Wf(a || null);
  b && (this.Rd = b);
}
A(cE, H);
h = cE.prototype;
h.K = null;
h.Mi = null;
h.Ud = !1;
h.Hh = -1;
h.Rd = "toggle_display";
h.g = function() {
  return this.K;
};
h.Wf = function(a) {
  if (this.Ud) {
    throw Error("Can not change this state of the popup while showing.");
  }
  this.K = a;
};
h.aa = function() {
  return this.Ud;
};
function dE(a, b) {
  a.W && a.W.stop();
  a.V && a.V.stop();
  if (b) {
    if (!a.Ud && a.Vh()) {
      if (!a.K) {
        throw Error("Caller must call setElement before trying to show the popup");
      }
      a.ue();
      var c = fh(a.K);
      a.c.listen(c, "mousedown", a.Rj, !0);
      if (E) {
        var d;
        try {
          d = c.activeElement;
        } catch (f) {
        }
        for (;d && "IFRAME" == d.nodeName;) {
          try {
            var e = d.contentDocument || d.contentWindow.document;
          } catch (f) {
            break;
          }
          c = e;
          d = c.activeElement;
        }
        a.c.listen(c, "mousedown", a.Rj, !0);
        a.c.listen(c, "deactivate", a.Qj);
      } else {
        a.c.listen(c, "blur", a.Qj);
      }
      "toggle_display" == a.Rd ? (a.K.style.visibility = "visible", R(a.K, !0)) : "move_offscreen" == a.Rd && a.ue();
      a.Ud = !0;
      a.Hh = y();
      a.W ? (Bd(a.W, "end", a.xf, !1, a), eE(a.W)) : a.xf();
    }
  } else {
    fE(a);
  }
}
h.ue = ca;
function fE(a, b) {
  a.Ud && I(a, {type:"beforehide", target:b}) && (a.c && a.c.removeAll(), a.Ud = !1, y(), a.V ? (Bd(a.V, "end", qa(a.Xi, b), !1, a), eE(a.V)) : a.Xi(b));
}
h.Xi = function(a) {
  "toggle_display" == this.Rd ? this.bm() : "move_offscreen" == this.Rd && (this.K.style.top = "-10000px");
  this.rd(a);
};
h.bm = function() {
  this.K.style.visibility = "hidden";
  R(this.K, !1);
};
h.Vh = function() {
  return I(this, "beforeshow");
};
h.xf = function() {
  I(this, "show");
};
h.rd = function(a) {
  I(this, {type:"hide", target:a});
};
h.Rj = function(a) {
  a = a.target;
  yh(this.K, a) || gE(this, a) || 150 > y() - this.Hh || fE(this, a);
};
h.Qj = function(a) {
  var b = fh(this.K);
  if ("undefined" != typeof document.activeElement) {
    if (a = b.activeElement, !a || yh(this.K, a) || "BODY" == a.tagName) {
      return;
    }
  } else {
    if (a.target != b) {
      return;
    }
  }
  150 > y() - this.Hh || fE(this);
};
function gE(a, b) {
  return hb(a.Mi || [], function(a) {
    return b === a || yh(a, b);
  });
}
h.I = function() {
  cE.j.I.call(this);
  this.c.O();
  Kc(this.W);
  Kc(this.V);
  delete this.K;
  delete this.c;
  delete this.Mi;
};
function hE(a, b) {
  V.call(this, b);
  this.Wc = !!a;
  this.s = null;
}
A(hE, V);
h = hE.prototype;
h.Ug = null;
h.wf = !1;
h.gb = null;
h.Sa = null;
h.Eb = null;
h.Fg = !1;
h.U = function() {
  return "goog-modalpopup";
};
h.hf = function() {
  return this.gb;
};
h.B = function() {
  hE.j.B.call(this);
  var a = this.g(), b = Ba(this.U()).split(" ");
  AD(a, b);
  Ch(a, !0);
  R(a, !1);
  this.Wc && !this.Sa && (a = this.a, b = w(void 0) ? Td(void 0).Ub() : "", this.Sa = a.w("iframe", {frameborder:0, style:"border:0;vertical-align:bottom;" + b, src:OD}), this.Sa.className = this.U() + "-bg", R(this.Sa, !1), di(this.Sa, 0));
  this.gb || (this.gb = this.a.w("DIV", this.U() + "-bg"), R(this.gb, !1));
  this.Eb || (this.Eb = this.a.createElement("SPAN"), R(this.Eb, !1), Ch(this.Eb, !0), this.Eb.style.position = "absolute");
};
h.kk = function() {
  this.Fg = !1;
};
h.A = function() {
  this.Sa && vh(this.Sa, this.g());
  vh(this.gb, this.g());
  hE.j.A.call(this);
  var a = this.g();
  a.parentNode && a.parentNode.insertBefore(this.Eb, a.nextSibling);
  this.Ug = new PD(this.a.a);
  X(this).listen(this.Ug, "focusin", this.onFocus);
  iE(this, !1);
};
h.ya = function() {
  this.aa() && this.Vb(!1);
  Kc(this.Ug);
  hE.j.ya.call(this);
  wh(this.Sa);
  wh(this.gb);
  wh(this.Eb);
};
h.Vb = function(a) {
  if (a != this.wf) {
    if (this.W && this.W.stop(), this.ka && this.ka.stop(), this.F && this.F.stop(), this.ea && this.ea.stop(), this.pa() && iE(this, a), a) {
      if (I(this, "beforeshow")) {
        try {
          this.s = this.a.a.activeElement;
        } catch (e) {
        }
        this.$h();
        var b = qh(this.a.a) || window;
        if ("fixed" == Qh(this.g(), "position")) {
          var c = a = 0
        } else {
          c = nh(this.a.a), a = c.x, c = c.y;
        }
        var d = ai(this.g()), b = lh(b || window);
        a = Math.max(a + b.width / 2 - d.width / 2, 0);
        c = Math.max(c + b.height / 2 - d.height / 2, 0);
        Rh(this.g(), a, c);
        Rh(this.Eb, a, c);
        X(this).listen(ph(this.a.a), "resize", this.$h);
        jE(this, !0);
        this.Cl();
        this.wf = !0;
        this.W && this.ka ? (Bd(this.W, "end", this.Rf, !1, this), eE(this.ka), eE(this.W)) : this.Rf();
      }
    } else {
      if (I(this, "beforehide")) {
        X(this).ca(ph(this.a.a), "resize", this.$h);
        this.wf = !1;
        this.F && this.ea ? (Bd(this.F, "end", this.Qf, !1, this), eE(this.ea), eE(this.F)) : this.Qf();
        a: {
          try {
            c = this.a;
            d = c.a.body;
            b = c.a.activeElement || d;
            if (!this.s || this.s == d) {
              this.s = null;
              break a;
            }
            (b == d || c.contains(this.g(), b)) && this.s.focus();
          } catch (e) {
          }
          this.s = null;
        }
      }
    }
  }
};
function iE(a, b) {
  a.Xa || (a.Xa = new bE(a.K, a.a));
  var c = a.Xa;
  if (b) {
    c.a || (c.a = []);
    for (var d = c.b.getChildren(c.b.a.body), e = 0;e < d.length;e++) {
      var f = d[e];
      f == c.K || vD(f, "hidden") || (uD(f, "hidden", !0), c.a.push(f));
    }
  } else {
    if (c.a) {
      for (e = 0;e < c.a.length;e++) {
        c.a[e].removeAttribute("aria-hidden");
      }
      c.a = null;
    }
  }
}
function jE(a, b) {
  a.Sa && R(a.Sa, b);
  a.gb && R(a.gb, b);
  R(a.g(), b);
  R(a.Eb, b);
}
h.Rf = function() {
  I(this, "show");
};
h.Qf = function() {
  jE(this, !1);
  I(this, "hide");
};
h.aa = function() {
  return this.wf;
};
h.Cl = function() {
  this.fj();
};
h.$h = function() {
  this.Sa && R(this.Sa, !1);
  this.gb && R(this.gb, !1);
  var a = this.a.a, b = lh(qh(a) || window || window), c = Math.max(b.width, Math.max(a.body.scrollWidth, a.documentElement.scrollWidth)), a = Math.max(b.height, Math.max(a.body.scrollHeight, a.documentElement.scrollHeight));
  this.Sa && (R(this.Sa, !0), $h(this.Sa, c, a));
  this.gb && (R(this.gb, !0), $h(this.gb, c, a));
};
h.onFocus = function(a) {
  this.Fg ? this.kk() : a.target == this.Eb && Df(this.fj, 0, this);
};
h.fj = function() {
  try {
    E && this.a.a.body.focus(), this.g().focus();
  } catch (a) {
  }
};
h.I = function() {
  Kc(this.W);
  this.W = null;
  Kc(this.F);
  this.F = null;
  Kc(this.ka);
  this.ka = null;
  Kc(this.ea);
  this.ea = null;
  hE.j.I.call(this);
};
function kE(a, b, c) {
  hE.call(this, b, c);
  this.c = a || "modal-dialog";
  this.b = lE();
}
A(kE, hE);
h = kE.prototype;
h.Rg = !0;
h.Cf = !0;
h.Of = !0;
h.Eg = .5;
h.hi = "";
h.te = null;
h.Ic = null;
h.Pg = !1;
h.$d = null;
h.wd = null;
h.wk = null;
h.Fb = null;
h.je = null;
h.Mb = null;
h.U = function() {
  return this.c;
};
h.setTitle = function(a) {
  this.hi = a;
  this.wd && zh(this.wd, a);
};
h.getTitle = function() {
  return this.hi;
};
h.va = function() {
  return null != this.te ? fe(this.te) : "";
};
h.T = function() {
  this.g() || this.render();
  return this.je;
};
h.hf = function() {
  this.g() || this.render();
  return kE.j.hf.call(this);
};
function mE(a, b) {
  a.Of = b;
  if (a.pa()) {
    var c = a.a, d = a.hf(), e = a.Sa;
    b ? (e && c.Ej(e, a.g()), c.Ej(d, a.g())) : (c.dh(e), c.dh(d));
  }
  a.aa() && iE(a, b);
}
function nE(a, b) {
  var c = Ba(a.c + "-title-draggable").split(" ");
  a.g() && (b ? AD(a.$d, c) : CD(a.$d, c));
  if (b && !a.Ic) {
    var d;
    d = new HD(a.g(), a.$d);
    a.Ic = d;
    AD(a.$d, c);
    ud(a.Ic, "start", a.zo, !1, a);
  } else {
    !b && a.Ic && (a.Ic.O(), a.Ic = null);
  }
}
h.B = function() {
  kE.j.B.call(this);
  var a = this.g(), b = this.a;
  this.$d = b.w("DIV", this.c + "-title", this.wd = b.w("SPAN", {className:this.c + "-title-text", id:this.N()}, this.hi), this.Fb = b.w("SPAN", this.c + "-title-close"));
  th(a, this.$d, this.je = b.w("DIV", this.c + "-content"), this.Mb = b.w("DIV", this.c + "-buttons"));
  tD(this.wd, "heading");
  tD(this.Fb, "button");
  Ch(this.Fb, !0);
  uD(this.Fb, "label", oE);
  this.wk = this.wd.id;
  tD(a, "dialog");
  uD(a, "labelledby", this.wk || "");
  this.te && (this.je.innerHTML = fe(this.te));
  R(this.Fb, this.Cf);
  this.b && (a = this.b, a.K = this.Mb, a.render());
  R(this.Mb, !!this.b);
  this.Eg = this.Eg;
  this.g() && (a = this.hf()) && di(a, this.Eg);
};
h.A = function() {
  kE.j.A.call(this);
  X(this).listen(this.g(), "keydown", this.pj).listen(this.g(), "keypress", this.pj);
  X(this).listen(this.Mb, "click", this.qm);
  nE(this, !0);
  X(this).listen(this.Fb, "click", this.bo);
  var a = this.g();
  tD(a, "dialog");
  "" !== this.wd.id && uD(a, "labelledby", this.wd.id);
  this.Of || mE(this, !1);
};
h.ya = function() {
  this.aa() && this.Vb(!1);
  nE(this, !1);
  kE.j.ya.call(this);
};
h.Vb = function(a) {
  a != this.aa() && (this.pa() || this.render(), kE.j.Vb.call(this, a));
};
h.Rf = function() {
  kE.j.Rf.call(this);
  I(this, pE);
};
h.Qf = function() {
  kE.j.Qf.call(this);
  I(this, qE);
  this.Pg && this.O();
};
h.zo = function() {
  var a = this.a.a, b = lh(qh(a) || window || window), c = Math.max(a.body.scrollWidth, b.width), a = Math.max(a.body.scrollHeight, b.height), d = ai(this.g());
  "fixed" == Qh(this.g(), "position") ? this.Ic.l = new Nh(0, 0, Math.max(0, b.width - d.width), Math.max(0, b.height - d.height)) : this.Ic.l = new Nh(0, 0, c - d.width, a - d.height);
};
h.bo = function() {
  rE(this);
};
function rE(a) {
  if (a.Cf) {
    var b = a.b, c = b && b.Gg;
    c ? (b = b.get(c), I(a, new sE(c, b)) && a.Vb(!1)) : a.Vb(!1);
  }
}
function tE(a) {
  a.Cf = !1;
  a.Fb && R(a.Fb, a.Cf);
}
h.I = function() {
  this.Mb = this.Fb = null;
  kE.j.I.call(this);
};
function uE(a, b) {
  a.b = b;
  if (a.Mb) {
    if (a.b) {
      var c = a.b;
      c.K = a.Mb;
      c.render();
    } else {
      a.Mb.innerHTML = fe(oe);
    }
    R(a.Mb, !!a.b);
  }
}
h.qm = function(a) {
  a: {
    for (a = a.target;null != a && a != this.Mb;) {
      if ("BUTTON" == a.tagName) {
        break a;
      }
      a = a.parentNode;
    }
    a = null;
  }
  if (a && !a.disabled) {
    a = a.name;
    var b = this.b.get(a);
    I(this, new sE(a, b)) && this.Vb(!1);
  }
};
h.pj = function(a) {
  var b = !1, c = !1, d = this.b, e = a.target;
  if ("keydown" == a.type) {
    if (this.Rg && 27 == a.a) {
      var f = d && d.Gg, e = "SELECT" == e.tagName && !e.disabled;
      f && !e ? (c = !0, b = d.get(f), b = I(this, new sE(f, b))) : e || (b = !0);
    } else {
      if (9 == a.a && a.shiftKey && e == this.g()) {
        this.Fg = !0;
        try {
          this.Eb.focus();
        } catch (n) {
        }
        Df(this.kk, 0, this);
      }
    }
  } else {
    if (13 == a.a) {
      if ("BUTTON" == e.tagName && !e.disabled) {
        f = e.name;
      } else {
        if (e == this.Fb) {
          rE(this);
        } else {
          if (d) {
            var g = d.Ng, k;
            if (k = g) {
              a: {
                k = d.K.getElementsByTagName("BUTTON");
                for (var l = 0, m;m = k[l];l++) {
                  if (m.name == g || m.id == g) {
                    k = m;
                    break a;
                  }
                }
                k = null;
              }
            }
            e = ("TEXTAREA" == e.tagName || "SELECT" == e.tagName || "A" == e.tagName) && !e.disabled;
            !k || k.disabled || e || (f = g);
          }
        }
      }
      f && d && (c = !0, b = I(this, new sE(f, String(d.get(f)))));
    } else {
      e == this.Fb && 32 == a.a && rE(this);
    }
  }
  if (b || c) {
    a.stopPropagation(), a.preventDefault();
  }
  b && this.Vb(!1);
};
function sE(a, b) {
  this.type = vE;
  this.key = a;
  this.caption = b;
}
A(sE, G);
var vE = "dialogselect", qE = "afterhide", pE = "aftershow";
function wE(a) {
  a || dh();
  we.call(this);
}
A(wE, we);
h = wE.prototype;
h.Ng = null;
h.K = null;
h.Gg = null;
h.set = function(a, b, c, d) {
  we.prototype.set.call(this, a, b);
  c && (this.Ng = a);
  d && (this.Gg = a);
  return this;
};
function xE(a, b, c, d) {
  return a.set(b.key, b.caption, c, d);
}
h.render = function() {
  if (this.K) {
    this.K.innerHTML = fe(oe);
    var a = dh(this.K);
    this.forEach(function(b, c) {
      var d = a.w("BUTTON", {name:c}, b);
      c == this.Ng && (d.className = "goog-buttonset-default");
      this.K.appendChild(d);
    }, this);
  }
};
h.g = function() {
  return this.K;
};
var oE = "Close", yE = {key:"ok", caption:"OK"}, zE = {key:"cancel", caption:"Cancel"}, AE = {key:"yes", caption:"Yes"}, BE = {key:"no", caption:"No"}, CE = {key:"save", caption:"Save"}, DE = {key:"continue", caption:"Continue"};
function lE() {
  return xE(xE(new wE, yE, !0), zE, !1, !0);
}
"undefined" != typeof document && (xE(new wE, yE, !0, !0), lE(), xE(xE(new wE, AE, !0), BE, !1, !0), xE(xE(xE(new wE, AE), BE, !0), zE, !1, !0), xE(xE(xE(new wE, DE), CE), zE, !0, !0));
function EE(a, b, c, d) {
  kE.call(this);
  this.$ = d;
  uE(this, c);
  this.setTitle(a);
  this.te = a = he(b, null);
  this.je && (this.je.innerHTML = fe(a));
  this.Rg = !0;
  tE(this);
  1 != this.Of && mE(this, !0);
  this.Pg = !0;
  a = X(this);
  a.listen(this, vE, this.ac);
  a.listen(this, vE, this.$b);
}
A(EE, kE);
EE.prototype.ac = function(a) {
  this.$ && (this.$.callback(a.key), this.$ = null);
};
EE.prototype.$b = function() {
  this.$ && (this.$.callback("cancel"), this.$ = null);
};
function FE(a, b) {
  var c = new B, d = xE(new wE, yE, !0, !0);
  (new EE(a, b, d, c)).Vb(!0);
  return c;
}
;function GE() {
  H.call(this);
  this.f = this.c = this.b = this.a = null;
  aj();
  this.l = this.Za = null;
  ud(vf(), ["logout", "login"], this.s, !1, this);
}
A(GE, H);
da(GE);
GE.prototype.s = function(a) {
  var b = "login" == a.type ? "login" : "logout";
  N(this.logger, "receiving " + a.type + " event");
  this.f = this.l = this.b = this.a = null;
  HE(this).G(function() {
    L(this.logger, "dispatching " + b + " event");
    I(this, new G(b, this));
  }, this);
};
GE.prototype.logger = J("ydn.crm.ui.UserSetting");
function IE(a) {
  return !!a.a && a.a.is_login;
}
function JE(a) {
  return IE(a) && (!a.Za || Eo(a.Za) == Eo(a.a.email));
}
function KE(a) {
  return Q().send("user-license").i(function(a) {
    this.l = a || null;
  }, a);
}
function LE(a) {
  return !!a.f && a.f.f;
}
function ME(a) {
  return Q().send("logged-in", {interactive:!0}).i(function(a) {
    this.a = a;
    this.f = null;
    HE(this);
  }, a);
}
function NE(a) {
  return Q().send("logged-out").i(function() {
    this.f = this.a = null;
    HE(this);
  }, a);
}
function HE(a) {
  if (!a.f) {
    chrome.storage.sync.get("user-setting", function(b) {
      a.b = b["user-setting"] || OE;
    });
    var b = PE(a), c = eD().G(function(a) {
      var b = "";
      w(a) ? b = "Loading user setting for " + a : (b = "Error on figuring out Gmail username: " + String(a), a = "", "https:" == location.protocol && dj("app", "gmail-fail-sniffing", "fail-sniffing", {error:String(a)}));
      this.Za = a;
      Cw(b);
      L(this.logger, b);
      return Q().send("login-info", {gmail:a}).u(function(a) {
        this.a = a;
        b = "Login attempt to Yathit server failed.";
        if (a) {
          if (a.is_login) {
            return b = a.email + " login.", L(this.logger, b), Cw(b), I(this, new G("login", this)), KE(this);
          }
          L(this.logger, "Login required.");
          Cw("Login required.");
        } else {
          L(this.logger, b), Cw(b);
        }
        I(this, new G("logout", this));
      }, function(a) {
        this.a = null;
        Cw("login error " + a);
        K(this.logger, "login fail: " + a);
        I(this, new G("logout", this));
      }, this);
    }, a);
    a.f = Bl([c, b]);
  }
  return Bc(a.f);
}
function QE(a) {
  return a.a ? a.a.email : "";
}
function RE(a) {
  a.Za ? C(a.Za) : eD().i(function(a) {
    this.Za = a;
  }, a);
}
var OE = {};
GE.prototype.h = function(a, b) {
  return Jb(this.b || OE, rb(arguments));
};
GE.prototype.o = function(a, b, c) {
  this.b = this.b || OE;
  for (var d = b, e = 2;e < arguments.length;e++) {
    arguments[e] && (d += "." + arguments[e]);
  }
  Bj(this.b, d, a);
  d = {};
  d["user-setting"] = this.b;
  chrome.storage.sync.set(d);
};
function PE(a) {
  if (a.c) {
    return C(a.c);
  }
  var b = new B;
  chrome.storage.sync.get("sugarcrm-setting", function(c) {
    a.c = c["sugarcrm-setting"] || {Module:{}};
    b.callback(a.c);
  });
  return b;
}
function SE(a) {
  var b = {};
  b["sugarcrm-setting"] = a.c;
  var c = new B;
  chrome.storage.sync.set(b, function() {
    c.callback(b);
  });
}
function TE(a) {
  a.c || (a.c = {Module:{}});
  return a.c;
}
function UE(a) {
  kE.call(this);
  this.$ = a;
  uE(this, lE());
  this.setTitle("Yathit CRM Setting");
  this.Rg = !0;
  tE(this);
  1 != this.Of && mE(this, !0);
  this.Pg = !0;
  a = this.T();
  a.classList.add("ydn-crm");
  var b;
  b = $C('<div class="setting-dialog"><form class="basic-setting"><div><input type="checkbox" name="log-on-console"/> Log on console<br /></div><div class="group-panel" style="display: none"><div>Gmail context panel location</div>\x3c!-- see this value in ydn.crm.base.ContextPanelPosition --\x3e<input type="radio" name="context-panel-position" value="in"/> Inline<br /><input type="radio" name="context-panel-position" value="st"/> Stick on right side<br /><input type="radio" name="context-panel-position" value="wg"/> Inside widget panel<br /></div></form></div>');
  a.innerHTML = Mw(b);
  a = X(this);
  a.listen(this, vE, this.ac);
  a.listen(this, vE, this.$b);
}
A(UE, kE);
UE.prototype.ac = function() {
  if (this.$) {
    var a = this.T().querySelector("form.basic-setting"), b = {};
    b["cp-po"] = XC(a, "context-panel-position");
    b["lg-cc"] = !!XC(a, "log-on-console");
    this.$.callback(b);
    this.$ = null;
  }
};
UE.prototype.$b = function() {
  this.$ && (this.$.callback(null), this.$ = null);
};
GE.prototype.show = function() {
  if (!JE(this)) {
    return FE("Yathit CRM Setting", "User setting cannot change because you are not login Yathit server.");
  }
  var a = new B, b = new UE(a), c, d = ["lg-cc", "cp-po"];
  chrome.storage.sync.get(d, function(a) {
    c = a;
    var d = b.T().querySelector("form.basic-setting");
    YC(d.querySelector("input[name=log-on-console]"), !!a["lg-cc"]);
    a = d.querySelectorAll("input[name=context-panel-position]");
    for (var d = Vi["cp-po"] || "in", g = 0;g < a.length;g++) {
      if (d == a[g].value) {
        a[g].setAttribute("checked", "1");
        break;
      }
    }
    b.Vb(!0);
  }.bind(this));
  return a.i(function(a) {
    if (a) {
      for (var b = {}, g = 0;g < d.length;g++) {
        var k = d[g];
        a[k] != c[k] && (b[k] = a[k]);
      }
      (a = 0 < Object.keys(b).length) && chrome.storage.sync.set(b);
      return a;
    }
  });
};
var VE = ["social", "tracking"], WE = [].concat(["create record", "archive"]);
GE.prototype.hasFeature = function(a, b) {
  if (this.l) {
    var c = !1, c = this.l.edition, c = "STANDARD" == c ? !0 : "EXPRESS" == c ? !mb(VE, a) : "TRIAL" == c ? !0 : "BASIC" == c ? mb(WE, a) : "social" != a;
    if (!c && b) {
      var d = chrome.i18n.getMessage("your_license_not_have_feature", [this.l ? this.l.edition : "", a]);
      XE(YathitCrm.name, d);
    }
    return c;
  }
  K(this.logger, "user license not found");
  return !0;
};
var YE, ZE, $E = J("ydn.crm.tracking.notifier"), aF = "", bF = null, cF = null;
function dF(a) {
  YE = setTimeout(function() {
    chrome.notifications.clear(a, function() {
    });
    YE = 0;
    eF.length = 0;
    aF = "";
  }, 1E4);
}
function fF(a) {
  aF = a;
  dF(a);
}
function gF(a, b) {
  var c = a.recipients[0], d = a.recipients.length;
  1 < d && (c += " and " + (d - 1) + " others");
  var d = " " + Gq(b.Recorded), e = (OC(b) || "Unknown") + " (" + (new Date(b.Recorded)).toLocaleTimeString() + ")";
  return "t" == b.Tracker ? ["Open: " + a.subject, c + " read your email" + d, e] : "r" == b.Tracker ? ["Click: " + b.Query, c + " click your link" + d, e] : ["Invalid", "", ""];
}
function hF() {
  var a = eF, b = {type:"basic", title:"Tracked emails", message:"New tracking data", iconUrl:chrome.runtime.getURL("/image/logo-38.png")}, c = "beacon-hit";
  if (1 == a.length) {
    var d = a[0], e = gF(d.Xc, d.a);
    b.type = "basic";
    b.title = e[0];
    b.message = e[1];
    b.contextMessage = e[2];
    c += d.a.ID;
  } else {
    b.type = "list";
    b.items = [];
    for (var c = c + a[a.length - 1].a.ID, f = 0;f < a.length;f++) {
      d = a[f], e = gF(d.Xc, d.a), b.items[f] = {title:e[0], message:e[1]};
    }
  }
  YE && (chrome.notifications.clear(aF, function() {
  }), window.clearTimeout(YE), YE = 0);
  chrome.notifications.create(c, b, fF);
}
var eF = [];
function iF(a, b) {
  var c = a.path;
  if (b) {
    var d = y() - b.Recorded;
    if (a.recorded > b.Recorded) {
      N($E, "hit " + b.ID + " ignored for origin.");
    } else {
      if (b.User == b.AccessUserId) {
        N($E, "hit " + b.ID + " ignored for self opening.");
      } else {
        if (864E5 < d) {
          K($E, "hit " + b.ID + " for " + c + " " + b.Recorded + " too aged for notification.");
        } else {
          GC(bF, a.recipients).i(function(d) {
            0 <= d ? L($E, "hit " + b.ID + " for " + c + " " + b.Recorded + " is not notified since the recipients " + a.recipients[d] + " in DNT list.") : (d = 6 < eF.length, 0 < d && eF.splice(0, d), eF.push({Xc:a, a:b}), hF());
          });
          a.notification = {on:y(), "for":b.ID};
          var d = ZE, e = Or(a);
          d.put("BeaconTrack", a, e);
        }
      }
    }
  } else {
    K($E, "hit missing for " + c);
  }
}
function jF(a, b) {
  kF.Xc == a && 3E3 > y() - kF.timestamp ? (L($E, "skipping self opening notification on " + b), kF.Xc += "done", bF.update()) : bF.update().i(function() {
    var c = ZE, c = [c.xd("BeaconTrack", qj([a]), 1), c.xd("AccessTokenRecord", qj([b]), 1)];
    Bl(c).i(function(c) {
      c[0][0] ? c[1][0] ? iF(c[0][0], c[1][0]) : K($E, "hit " + b + " not found.") : K($E, "beacon " + a + " not found.");
    });
  });
}
var kF = {Xc:"", timestamp:0};
function lF(a) {
  if (!x(a) || !w(a.beaconKey)) {
    return D("beaconKey required.");
  }
  a = a.beaconKey;
  var b = "/t/" + a + ".gif";
  kF.Xc = a;
  kF.timestamp = y();
  a = new T(b, "PUT");
  var c = un("login").request(a), d = new B;
  Df(function() {
    c.execute(function(a) {
      d.callback(a);
    });
  }, 200);
  return d;
}
function mF(a) {
  var b = a.data;
  if ("beacon-hit" == b.type) {
    var c = parseInt(b.ID, 10);
    if (c) {
      var d = b.Path.replace(/\.gif$/, "").replace(/\/$/, "")
    } else {
      window.console.log(a), window.console.error("Invalid message");
    }
    Fp({req:"beacon-hit", data:{id:c, beacon:d}});
    cF.l("tracking", "doNotNotify").i(function(a) {
      !0 !== a && jF(d, c);
    });
  }
}
function nF(a, b, c) {
  bF || (bF = a, cF = c, ZE = Cm(b, Ik, !0), "chrome-extension:" == location.protocol && chrome.extension.getBackgroundPage().location.href == location.href || K($E, "Notification must be run in background page"), cF.l("tracking", "doNotNotify").i(function(a) {
    !0 !== a && chrome.gcm.onMessage.addListener(mF);
  }));
}
;var oF = null;
function pF(a) {
  a = un("gc").request(a);
  var b = new B;
  a.execute(function(a, d) {
    a ? b.callback(a) : b.C(d);
  });
  return b;
}
function qF(a) {
  a = un("gc").request(a);
  var b = new B;
  a.execute(function(a, d) {
    b.callback(d);
  });
  return b;
}
function rF() {
  return oF.get("general", "https://www.googleapis.com/calendar/v3/users/me/calendarList").i(function(a) {
    var b = {};
    a && a.etag && (b["If-None-Match"] = a.etag);
    var b = new T("https://www.googleapis.com/calendar/v3/users/me/calendarList", "GET", null, b), b = un("gc").request(b), c = new B;
    b.execute(function(b, e) {
      var f = e.P();
      200 == f ? (b && oF.put("general", b, "https://www.googleapis.com/calendar/v3/users/me/calendarList"), c.callback(b)) : 400 > f ? c.callback(a) : c.C(e);
    });
    return c;
  });
}
function sF(a) {
  this.message = a;
}
A(sF, Error);
sF.prototype.name = "GApiJsonError";
function tF(a) {
  this.client = null;
  this.c = a;
}
h = tF.prototype;
h.logger = J("ydn.ds.gapps.Data");
h.S = function() {
  return this.c;
};
h.get = function(a) {
  return w(a) && 0 != a.length ? this.S().get(this.R(), a) : D("invalid key");
};
h.list = function(a, b, c, d) {
  d = d || 50;
  var e;
  a ? e = new ek(this.R(), a, b, c) : e = new ck(this.R(), b, c);
  return this.S().values(e, d);
};
h.count = function() {
  return this.S().count(this.R());
};
h.rg = function() {
  return this.S().clear(this.R());
};
h.put = function(a) {
  return this.S().put(this.R(), a);
};
h.Kk = function(a) {
  var b = a.id ? "PUT" : "POST", c = uF(this);
  a.id && (c += "/" + a.id);
  a = JSON.stringify(a);
  return pF(new T(c, b, {}, {"content-type":"application/json"}, a)).i(function() {
  }, this);
};
function YB(a, b) {
  var c = x(b) ? b.id : b;
  return w(c) && 0 != c.length ? pF(new T(uF(a) + "/" + c, "DELETE", {}, {"content-type":"application/json"})).i(function() {
    this.S().remove(this.R(), c).G(function(a) {
      window.console.log(c, a);
    });
    return !0;
  }, a) : D("entry id required");
}
h.toString = function() {
  return "GData:calendar#event";
};
function vF(a, b) {
  tF.call(this, a);
  this.b = b || "primary";
  this.a = null;
}
A(vF, tF);
h = vF.prototype;
h.R = function() {
  return "calendar#event";
};
function wF(a) {
  return a.b || "primary";
}
function XB(a, b) {
  b = b || "primary";
  a.b != b && (a.b = b, a.rg());
}
function cC(a) {
  a = wF(a);
  return "primary" == a ? !0 : a.includes("@") && !ya(a, "calendar.google.com");
}
function uF(a) {
  return "https://www.googleapis.com/calendar/v3/calendars/" + wF(a) + "/events";
}
h.query = function(a, b) {
  return qF(new T(b ? "https://www.googleapis.com/calendar/v3/calendars/primary/events" : uF(this), "GET", a)).i(function(a) {
    if (200 == a.P()) {
      return a = kn(a).items || [], !b && a.length ? this.S().ze(this.R(), a) : a;
    }
    throw Error(a.P + ": " + a.fb());
  }, this);
};
function xF(a, b) {
  return qF(new T(uF(a) + "/" + b, "GET", {})).i(function(a) {
    if (200 == a.P()) {
      var b = kn(a);
      return b ? (b.ydn$calId = wF(this), this.S().put(this.R(), b).i(function() {
        return b;
      })) : null;
    }
  }, a);
}
function bC(a, b) {
  var c = a.get(b);
  return c = c.i(function(a) {
    if (!a) {
      return xF(this, b);
    }
  }, a);
}
function yF(a) {
  return Sy("local", "gapps-cal-events-sync-token").G(function(a) {
    return a && a.token && a.calId == wF(this) ? qF(new T(uF(this), "GET", {syncToken:a.token})).i(function(c) {
      if (410 == c.P()) {
        return Uy(), !1;
      }
      c = kn(c);
      c.nextSyncToken && (a = {token:c.nextSyncToken, calId:wF(this)}, Ty("local", "gapps-cal-events-sync-token", a));
      c = c.items;
      if (!c || 0 == c.length) {
        return !0;
      }
      for (var d = 0;d < c.length;d++) {
        c[d].ydn$calId = wF(this);
      }
      return this.S().ze(this.R(), c).i(function() {
        return !0;
      });
    }, this) : !1;
  }, a);
}
function zF(a, b, c) {
  var d = uF(a);
  c && (b.pageToken = c);
  return qF(new T(d, "GET", b)).i(function(a) {
    if (200 != a.P()) {
      throw Error(a.fb());
    }
    var b = kn(a);
    (a = b.nextSyncToken) && Ty("local", "gapps-cal-events-sync-token", {token:a, calId:wF(this)});
    var c = b.nextPageToken;
    a = b.items;
    var d = a.length;
    return 0 == d ? 0 : this.S().ze(this.R(), a).i(function() {
      return c ? zF(this, b, c).i(function(a) {
        return a + d;
      }) : d;
    }, this);
  }, a);
}
function AF(a) {
  var b = {singleEvents:!0, timeMax:(new Date(y() + 7776E6)).toISOString(), timeMin:(new Date(y() - 6048E5)).toISOString()};
  return a.S().clear(a.R()).i(function() {
    return zF(this, b, "");
  }, a);
}
h.sync = function() {
  if (!this.S().getName()) {
    return D(Error("database not ready"));
  }
  if (this.a) {
    return Bc(this.a);
  }
  this.a = this.S().ra(this.R(), "updated", null, 1, 0, !0).i(function(a) {
    if (0 == a.length) {
      return AF(this);
    }
    a = new Date(a[0].updated);
    return 6048E5 < y() - a ? AF(this) : yF(this).i(function(a) {
      if (!a) {
        return AF(this);
      }
    }, this);
  }, this);
  this.a.G(function() {
    this.a = null;
  }, this);
  return this.a;
};
h.Kk = function(a) {
  var b = a.id ? "PUT" : "POST", c = uF(this);
  a.id && (c += "/" + a.id);
  a.extendedProperties && a.extendedProperties.shared && (a.extendedProperties.shared.ydnsync = "sugarcrm");
  var d = a.ydn$calId;
  d && delete a.ydn$calId;
  var e = JSON.stringify(a);
  d && (a.ydn$calId = d);
  return qF(new T(c, b, {}, {"content-type":"application/json"}, e)).i(function(a) {
    if (gn(a)) {
      if (a = kn(a)) {
        a.ydn$calId = d || wF(this), this.S().put(this.R(), a);
      }
      return a;
    }
    var b = hn(a);
    throw new sF(b, a.fb());
  }, this);
};
function BF(a, b, c) {
  a = "https://www.googleapis.com/calendar/v3/calendars/" + a + "/events";
  var d = {};
  b && (d.timeMin = b.toISOString());
  c && (d.timeMax = c.toISOString());
  return pF(new T(a, "GET", d, {"content-type":"application/json"}));
}
function CF(a, b) {
  return qF(new T("https://www.googleapis.com/calendar/v3/calendars/" + a + "/events/" + b, "DELETE", {}, {"content-type":"application/json"})).i(function(a) {
    return a.P();
  });
}
h.rg = function() {
  Uy();
  this.a = null;
  return vF.j.rg.call(this);
};
function DF(a, b) {
  var c = {summary:a};
  b && (c.description = b);
  var c = new T("https://www.googleapis.com/calendar/v3/calendars", "POST", null, {"Content-Type":"application/json"}, JSON.stringify(c)), c = un("gc").request(c), d = new B;
  c.execute(function(a, b) {
    201 == b.P() ? (a && oF.put("general", a, "https://www.googleapis.com/calendar/v3/calendars/" + a.id), d.callback(a)) : d.C(b);
  });
  return d;
}
function EF(a, b) {
  if ("ga-lc" == a) {
    return rF();
  }
  if ("ga-nc" == a) {
    return b && b.summary ? DF(b.summary, b.description) : D("summary required.");
  }
  throw Error(a);
}
;/*
 Copyright 2014 YDN Authors, Yathit. All Rights Reserved.
 GNU Lesser General Public License (Version 3).
*/
function FF() {
  this.s = this.a = null;
  var a = this.c = Zq.X(), b = chrome.extension.getURL("option-page.html");
  a.h = b;
  a = this.c;
  b = Pm();
  a.a && a.b && An(a.a, null);
  a.a != b && (a.a = b, a.a && An(a.a, a.b ? "Bearer " + a.b : null));
  tn(b, "login");
  b = un("proxy");
  b || (b = new xn(Pm(), "/proxy/"), tn(b, "proxy"));
  Kp(new Bn(a, Ap, !1));
  this.b = new Pr;
  this.nb = this.J = this.l = null;
  this.M = new zf(this);
  this.h = new tC(this.b, this.c);
  this.o = new jC(this.b, this.c);
}
h = FF.prototype;
h.nb = null;
h.logger = J("ydn.crm.app.App");
h.init = function() {
  Pm();
  Ty("local", "pd-up-msg", []);
  setTimeout(function() {
    xp();
  }, 6E4 * (.5 + Math.random()));
};
function GF(a, b, c, d) {
  return 0 <= hr.indexOf(b) ? a.a.get(c).i(function(a) {
    if (a) {
      var f = or(b);
      return Rz(d, f, a).i(function(a) {
        if (a && a.id) {
          return a;
        }
        throw Error("Set Entry to " + f + " failed");
      }, this);
    }
    throw Error("contact entry " + c + " not found");
  }, a) : D(new im("invalid module name " + b));
}
function HF(a, b, c, d) {
  var e = b + "-page-" + (d || 0) + ".mhtml";
  chrome.pageCapture.saveAsMHTML({tabId:c}, function(b) {
    b && Rr(a.b, e, b);
  });
  return "/feedback/" + (cr(a.c) ? dr(a.c) : 0) + "/" + e;
}
function IF(a, b) {
  var c = [], d;
  for (d in Cp) {
    if ("content-script" == Cp[d].group) {
      var e = Jb(Cp[d].port, "sender", "tab", "id");
      e && c.push(e);
    }
  }
  d = [];
  for (e = 0;e < c.length;e++) {
    d.push(HF(a, b, c[e], e));
  }
  JF(a, "sc", {pages:d});
}
function JF(a, b, c) {
  var d = cr(a.c) ? dr(a.c) : "0";
  b = {type:"server-req/" + b, message:x(c) ? JSON.stringify(c) : c};
  d = "/feedback/" + d + "/" + b.type + "/" + y() + ".json";
  b = JSON.stringify(b);
  var d = new T(d, "PUT", null, {"content-type":"application/json"}, b), e = new B;
  Pm().request(d).execute(function(a, b) {
    gn(b) ? e.callback(a) : e.C(hn(b));
  }, a);
}
function KF(a, b, c) {
  b && b.type && w(b.message) || D("type required in feedback.");
  c = c || y();
  c = b.type + "/" + c;
  var d = a.b;
  if (b.page) {
    if (b.page) {
      var e = c + "-page.html";
      Rr(d, e, b.page);
      b.page = e;
    }
    IF(a, c);
  }
  return Rr(a.b, c + ".json", JSON.stringify(b));
}
function LF(a, b) {
  var c = new tr(b.domain, b.module, b.obj), d = {};
  zw(c, d);
  c = Hr(c);
  d.gContact$externalId = [c];
  return a.a.ce(d);
}
h.sendRequest = function(a) {
  if (!a || !w(a.path)) {
    return D('"path" required');
  }
  var b = a.path;
  if (!{track:{}}[b]) {
    return D('invalid "path": ' + b);
  }
  var c = a.method || "GET";
  if (-1 == ["GET", "POST", "PUT", "DELETE"].indexOf(c)) {
    return D('invalid "method"');
  }
  a = Pm().request(new T("/" + b, c, null, {"Content-Type":"application/json"}, a.body));
  var d = new B;
  a.execute(function(a, b) {
    d.callback({headers:b.Ld(), body:hn(b), status:b.P()});
  }, this);
  return d;
};
function MF(a) {
  a.a = new PB(a.b.b, a.nb.email);
  var b = un("gse");
  a.a.client = b;
  Pm();
  wC(a.h, a.a, a.b.b);
  setTimeout(function() {
    this.a.update();
  }.bind(a), 5123);
  oF = Cm(a.b.a, "repeat", !0);
  a.s = new vF(a.b.b);
  mC(a.o, a.s, a.b.b);
}
h.sh = function(a) {
  var b = new B, c = this.nb && a && this.nb.email == a.email;
  this.nb = a;
  this.nb.updated = y();
  if (c) {
    return N(this.logger, "already running for " + d), b.callback(this.nb), b;
  }
  var d = a.email || "";
  if (d) {
    bf(this.logger, d + " login to YDN server");
    xg = c = d;
    Vm && Vm.f(c);
    ug && (ug.user_id = c);
    c = this.b;
    a = a.Id.$t;
    c.c && c.c == a || (c.c = a, c.h = d || "", q.sessionStorage.setItem("last-user-id", a), d = "setting-" + a, a = "gdata-" + a, c.a && c.a.getName() != d && (c.a.close(), c.a = null), c.b && c.b.getName() != a && (c.b.close(), c.b = null), c.a || (c.a = new sp(d, Qr)), c.b || (c.b = new sp(a, Ur)));
    this.J = new IC(Pm(), this.b.a);
    this.l = new DC(Pm(), this.b.a, this.c);
    nF(this.l, this.b.a, this.b);
    if (c = dr(this.c)) {
      as = c, cs();
    }
    MF(this);
    Fp({req:"login", data:this.nb});
  } else {
    bf(this.logger, "Not login to YDN server");
  }
  b.callback(this.nb);
  return b;
};
function NF(a, b) {
  var c = x(b) ? b : {last_login:"1"}, d = Lp(), c = new T("/audit", "GET", c), e = new B;
  d.request(c).execute(function(a, b) {
    if (gn(b)) {
      if (a.LastLoginRecord) {
        var c = a.LastLoginRecord;
        c.timestamp && (c.ago = Dq(c.timestamp - y()));
      }
      e.callback(a);
    } else {
      e.C(b);
    }
  }, a);
  return e;
}
function OF(a) {
  function b(a) {
    return lb(c, function(b) {
      return b.email == a;
    });
  }
  for (var c = [], d = 0;d < a.length;d++) {
    var e = a[d].user.raw;
    0 <= b(e.name) || c.push({email:e.name, region:a[d].region, last:new Date(a[d].timestamp)});
  }
  return c;
}
h.kl = function(a) {
  var b = new T("/admin");
  Pm().request(b).execute(function(b) {
    if (a) {
      a(b);
    } else {
      b = b.LoginRecords;
      var d = OF(b);
      window.console.table(d);
      window.console.info(b.length + " records since " + (new Date(b[b.length - 1].timestamp)).toLocaleDateString());
    }
  }, this);
};
function PF(a, b) {
  return fr(a.c, b).u(function(a) {
    return this.sh(a).i(function() {
      Rm("app", "login", dr(this.c), b ? 1 : 0);
    }, this);
  }, function(a) {
    a = Ni(a);
    Rm("app", "login-fail", a, b ? 1 : 0);
  }, a);
}
function QF(a) {
  return gr(a.c).i(function() {
    this.s = this.a = this.nb = null;
    mC(this.o, null, this.b.b);
    wC(this.h, null, this.b.b);
    Fp({req:"logout", data:this.nb});
  }, a);
}
function RF(a, b, c) {
  if ("gdata-list-contact" == b) {
    return SF(a, c);
  }
  if ("gdata-list-group" == b) {
    return TB(a.a);
  }
  if ("gdata-new-group" == b) {
    return c && c.title ? SB(a.a, c.title) : D("title required.");
  }
  if ("gdata-dc" == b) {
    return b = c.kind, a.a ? "contact" == b ? a.a.count() : D("invalid kind " + b) : D("gdata not ready");
  }
  if ("gdata-update" == b) {
    return b = c, "contact" == b ? a.a ? EB(a.a) : D("gdata not ready") : D("invalid kind " + b);
  }
  window.console.error(b);
  return D("Unknown req: " + b);
}
function SF(a, b) {
  if (!x(b)) {
    return D("Invalid gdata-list-contact query.");
  }
  if (t(b.email)) {
    var c = a.a, d = b.email;
    return w(d) ? 0 == d.length ? C([]) : c.S().values(c.R(), "ydn$emails", nj(d), 100, 0, !1, !0) : D("invalid key for email " + d);
  }
  return w(b.externalId) ? (c = b.externalId, (d = c ? c.match(/(\w+):\/\/([^\/]+)\/([^\/]+)\/(.*)/) : null) ? (w(void 0) && ((void 0).indexOf("#"), (void 0).indexOf("-")), d = new Mx(d[1], d[2], d[3], d[4])) : d = null, d ? (c = a.a, d = d.Y(), w(d) && 0 != d.length ? (d = nj(d), c = c.S().values(c.R(), "ydn$externalIds", d)) : c = D("invalid key for external id " + d)) : c = D(Error("invalid externalId: " + c)), c) : b.index ? IB(a.a, b) : D("Invalid gdata-list-contact query: " + JSON.stringify(b));
}
function TF(a) {
  function b() {
    UF(function(b) {
      c[b] || (c[b] = !0, setTimeout(function() {
        VF(a, b);
        c[b] = !1;
      }, 500));
    });
  }
  PF(a);
  var c = {};
  b();
  b();
}
function VF(a, b) {
  var c = new B, d = q.YathitCrm.sugarcrm.Version[Xi], e = "jsc/crmininbox-" + d + ".js";
  L(a.logger, "injecting " + e + " to " + b);
  chrome.tabs.insertCSS(b, {file:"css/inj-" + d + ".css"});
  chrome.tabs.executeScript(b, {file:"js/environment.js"});
  chrome.tabs.executeScript(b, {file:"js/product.js"});
  chrome.tabs.executeScript(b, {file:e}, function() {
    L(a.logger, e + " injected, executing");
    chrome.tabs.executeScript(b, {code:'app = runInjApp("' + Xi + '");'}, function() {
      L(a.logger, "Content script executed.");
      c.callback(null);
    });
  });
}
function UF(a) {
  var b = ";(" + function() {
    chrome.runtime.onMessage.addListener(function(a, b, e) {
      a.ping && e({Kq:!0});
    });
  }.toString() + ")();";
  chrome.tabs.onUpdated.addListener(function(c, d) {
    function e() {
      chrome.tabs.sendMessage(c, {ping:!0}, function(d) {
        d || (chrome.tabs.executeScript(c, {code:b}), a(c));
      });
    }
    "complete" === d.status && e();
  });
}
h.toString = function() {
  return "SugarApp:6.2.6";
};
chrome.runtime.onMessageExternal.addListener(function(a, b, c) {
  a && "installed" == a.req && (b = null, a.hostname ? b = location.hostname == a.hostname : a["app-short-name"] && (b = Hg() == a["app-short-name"]), c(b));
});
function WF(a) {
  H.call(this);
  this.b = a;
  this.a = null;
  this.c = new Sq(new Yq, "XMLHttpRequest" + location.host);
  this.M = new zf(this);
  chrome.permissions && chrome.permissions.onAdded.addListener(this.h.bind(this));
}
A(WF, H);
WF.prototype.logger = J("ydn.crm.su.SugarFactory");
WF.prototype.h = function(a) {
  for (var b = (a = a.origins) ? a.length : 0, c = 0;c < b;c++) {
    var d = (new ui(a[c])).L();
    if (this.a && this.a.L() == d) {
      L(this.logger, "host permission granted to " + d);
      if (Fu(this.a.a)) {
        var e = un("default"), f = this.a;
        f.a.h = e;
        f.c.a.b = f.a;
        Tz(this.a);
      }
      Fp({req:"host-permission", data:{grant:d}});
    }
  }
};
function XF(a, b) {
  var c = gu(b), d = new gf;
  jj(c, function(e) {
    e || K(a.logger, "host permission required for " + c);
    e ? (e = new lg(1, null, 0, 3), e = new qn(e)) : e = un("proxy");
    var f = new xu(e, b);
    Nu(f, !0).u(function() {
      hf(d, "Login OK, loading CRM meta data...");
      gv(f, function(a) {
        hf(d, "Login OK, " + a);
      }).i(function(b) {
        b = new cz(f, b);
        a.a && (a.M.ca(a.a, "le", a.f), a.a.O());
        a.a = b;
        a.M.listen(b, "le", a.f);
        YF("init", b.L());
        return ZF(a, b);
      }).b(d);
    }, function(a) {
      d.C(a);
    }, this);
  });
  return d;
}
function $F(a, b) {
  var c = b || 0;
  if (a.a) {
    return Gz(a.a);
  }
  if (3 < c) {
    return C(null);
  }
  c++;
  var d = new B;
  setTimeout(function() {
    $F(this, c).b(d);
  }.bind(a), 1E3);
  return d;
}
function aG(a) {
  Xr(a.b).u(function(a) {
    a = a || [];
    for (var c = 0;c < a.length;c++) {
      if (a[c]) {
        var d = a[c];
        if (!this.a || this.a.L() != d || !Fz(this.a)) {
          var e = "sugar-client-" + d;
          try {
            var f = this.c.get(e);
            if (f) {
              var g = hu(f);
              g ? XF(this, g) : bG(this, d);
            } else {
              bG(this, d);
            }
          } catch (k) {
            window.console.error(k), bG(this, d);
          }
        }
      }
    }
  }, function(a) {
    window.console.error(a);
  }, a);
}
function bG(a, b) {
  if (!b) {
    return D("domain required");
  }
  a.c.remove("sugar-client-" + b);
  Rm("sugarcrm", "domain-remove", b);
  Xr(a.b).i(function(a) {
    a = a || [];
    var d = a.indexOf(b);
    0 <= d && (a.splice(d, 1), Yr(this.b, a));
  }, a);
  if (a.a && a.a.L() == b) {
    a.M.ca(a.a, "le", a.f);
    bf(a.logger, "Removing SugarCRM " + b);
    if (Fz(a.a)) {
      return Uz(a.a).G(function() {
        this.a.O();
        this.a = null;
        YF("remove", b);
        return !0;
      }, a);
    }
    a.a.O();
    a.a = null;
    YF("remove", b);
  }
  return C(!1);
}
function YF(a, b, c) {
  Fp({req:"sugarcrm", data:{type:a, domain:b, about:c || null}});
}
WF.prototype.f = function(a) {
  var b = a.target;
  I(this, a);
  YF("login", b.L(), b.about());
};
function ZF(a, b) {
  return Tz(b, !0).i(function() {
    var a = b.L();
    this.logger.info("connected to sugarcrm client: " + (Fz(b) ? b.a.a.b + "@" : " (not login) ") + a);
    Fz(b) && (this.c.set("sugar-client-" + a, b.a.a.toJSON()), Yr(this.b, [b.L()]));
    a = b.about();
    Au(b.a) && b.a.a.toJSON();
    return a;
  }, a);
}
function cG(a, b) {
  if (!b.about || !b.credential) {
    throw Error("Invalid sugarcrm login request " + JSON.stringify(b));
  }
  if (!b.about.baseUrl) {
    return jf("valid sugarcrm instance URL required.");
  }
  var c;
  a: {
    c = b.credential;
    var d = b.about.baseUrl, e = fu(d.trim());
    if (e) {
      c.userName && (e.b = c.userName.trim());
      if (t(c.provider)) {
        if (-1 == eu.indexOf(c.provider)) {
          c = "invalid authentication provider: " + c.provider;
          break a;
        }
        e.h = c.provider;
      }
      c.password && ("ldap" == c.provider ? (e.a = c.password, e.c = c.password) : c.hashed ? e.a = c.password : (d = new au, d.update(c.password.trim()), e.c = c.password, e.a = up(d.c())));
      c = e;
    } else {
      c = "invalid sugarcrm instance URL " + d;
    }
  }
  if (w(c)) {
    return jf(c);
  }
  e = c.L();
  c.version = b.serverInfo ? b.serverInfo.version || "" : "";
  Rm("sugarcrm", "init", e);
  if (e = a.c.get("sugar-client-" + e)) {
    if (c = hu(e), c.version = b.serverInfo.version || "", e = c, d = b.credential, d.userName && (e.b = d.userName.trim()), e.h = d.provider || du, d.password) {
      if ("ldap" == d.provider) {
        e.a = d.password;
      } else {
        if (d.hashed) {
          e.a = d.password;
        } else {
          var f = new au;
          f.update(d.password.trim());
          e.a = up(f.c());
        }
      }
    }
  }
  return c.b ? c.a ? XF(a, c) : jf("password required.") : jf("username required");
}
function dG(a) {
  return a.a ? [a.a.about()] : [];
}
function eG(a) {
  return a.a && Fz(a.a) ? [a.a.L()] : [];
}
;function fG(a) {
  this.a = null;
  Cg(a, function() {
    this.a = Cm(a, Ik, !0);
  }, this);
}
fG.prototype.request = function(a, b, c) {
  var d = c || 0;
  c = [1E3, 2E3, 5E3];
  var e = c[d];
  if (d >= c.length) {
    return D(504);
  }
  d++;
  if (!window.navigator.onLine) {
    var f = new B;
    Df(function() {
      this.request(a, b, d).b(f);
    }, e, this);
    return f;
  }
  c = un();
  if (!c) {
    return c = Error("OAuth token for AngleList required."), c.name = "NotAuthorizeError", D(c);
  }
  var g = new B;
  b.access_token = "a92f7c52c4a6070beddc1fbb53755db7e0f248e048541f1c";
  c.request(new T("https://api.angel.co/1/" + a, "GET", b)).execute(function(a, b) {
    gn(b) ? g.callback(a) : g.C(b.P());
  }, this);
  return g;
};
function gG(a, b, c, d) {
  return a.request(c, d).i(function(a) {
    var c = {};
    c.id = b;
    c.updated = y();
    c.data = a;
    this.a.put("Social", c);
  }, a);
}
function hG(a, b, c, d) {
  return a.a ? a.a.get("Social", b).u(function(a) {
    return a ? 36E5 > y() - a.updated ? a.data : gG(this, b, c, d) : gG(this, b, c, d);
  }, function(a) {
    window.console.error(a.stack);
    return this.request(c, d);
  }, a) : a.request(c, d);
}
function iG(a, b) {
  var c = {}, d = b.path, e = b.id;
  return "users" == d ? e ? hG(a, "angle/" + d + "/" + e, "users/" + e, c) : D("Invalid id: " + e) : D("Invalid path: " + d);
}
fG.prototype.query = function(a) {
  var b = new B, c = this;
  jj("https://api.angel.co/1/", function(d) {
    d ? iG(c, a).b(b) : lj("https://api.angel.co/1/", function(d) {
      chrome.runtime.lastError ? (d = Error(chrome.runtime.lastError), d.name = "HostPermissionError", b.C(d)) : d ? iG(c, a).b(b) : b.C("No permission to send a request to twitter.");
    });
  });
  return b;
};
function jG(a) {
  this.a = null;
  Cg(a, function() {
    this.a = Cm(a, Ik, !0);
  }, this);
}
jG.prototype.request = function(a, b, c) {
  var d = c || 0;
  c = [1E3, 2E3, 5E3];
  var e = c[d];
  if (d >= c.length) {
    return D(504);
  }
  d++;
  if (!window.navigator.onLine) {
    var f = new B;
    Df(function() {
      this.request(a, b, d).b(f);
    }, e, this);
    return f;
  }
  c = un();
  if (!c) {
    return c = Error("OAuth token for Google Plus required."), c.name = "NotAuthorizeError", D(c);
  }
  var g = new B;
  b.key = "AIzaSyBzdJBufTo4706qim_5Z6ePtLQEX_Q2-zg";
  c.request(new T("https://www.googleapis.com/plus/v1/" + a, "GET", b)).execute(function(a, b) {
    gn(b) ? g.callback(a) : g.C(b.P());
  }, this);
  return g;
};
function kG(a, b, c, d) {
  return a.request(c, d).i(function(a) {
    var c = {};
    c.id = b;
    c.updated = y();
    c.data = a;
    this.a.put("Social", c);
  }, a);
}
function lG(a, b, c, d) {
  return a.a ? a.a.get("Social", b).u(function(a) {
    if (a) {
      var f = "users/show" == c ? 864E5 : 9E5;
      return y() - a.updated < f ? a.data : kG(this, b, c, d);
    }
    return kG(this, b, c, d);
  }, function(a) {
    window.console.error(a.stack);
    return this.request(c, d);
  }, a) : a.request(c, d);
}
function mG(a, b) {
  var c = {}, d = b.path, e = b.userId;
  return "people/get" == d ? e ? lG(a, "gplus/" + d + "/" + e, "people/" + e, c) : D("Invalid userId: " + e) : D("Invalid path: " + d);
}
jG.prototype.query = function(a) {
  var b = new B, c = this;
  jj("https://www.googleapis.com/plus/v1/", function(d) {
    d ? mG(c, a).b(b) : lj("https://www.googleapis.com/plus/v1/", function(d) {
      chrome.runtime.lastError ? (d = Error(chrome.runtime.lastError), d.name = "HostPermissionError", b.C(d)) : d ? mG(c, a).b(b) : b.C("No permission to send a request to twitter.");
    });
  });
  return b;
};
function nG(a) {
  this.b = null;
  Cg(a, function() {
    this.b = Cm(a, Ik, !0);
  }, this);
  this.a = null;
}
function oG(a) {
  if (a.a) {
    return C(a.a);
  }
  var b = un(), c = {Authorization:"Bearer " + window.btoa((new Date).toDateString()) + "s"}, c = new T("https://yit204.appspot.com/twitter-token", "POST", null, c), d = new B;
  b.request(c).execute(function(a, b) {
    200 == b.P() ? (this.a = hn(b), d.callback(this.a)) : d.C(b.P());
  }, a);
  return d;
}
function pG(a, b, c) {
  var d = un(), e = {Authorization:"Bearer " + a.a};
  "statuses/user_timeline" == b && (c.count = 10);
  b = new T("https://api.twitter.com/1.1/" + b + ".json", "GET", c, e);
  var f = new B;
  d.request(b).execute(function(a, b) {
    200 == b.P() || 201 == b.P() ? f.callback(a) : f.C(b.P() || 500);
  }, a);
  return f;
}
nG.prototype.request = function(a, b, c) {
  var d = c || 0;
  c = [1E3, 2E3, 5E3];
  var e = c[d];
  if (d >= c.length) {
    return D(504);
  }
  d++;
  if (!window.navigator.onLine) {
    var f = new B;
    Df(function() {
      this.request(a, b, d).b(f);
    }, e, this);
    return f;
  }
  return oG(this).u(function(c) {
    return c ? pG(this, a, b) : this.request(a, b, d);
  }, function(c) {
    if (403 == c) {
      return this.a = null, this.request(a, b, d);
    }
    if (500 <= c) {
      return this.request(a, b, d);
    }
  }, this);
};
function qG(a, b, c, d) {
  return a.request(c, d).i(function(a) {
    var c = {};
    c.id = b;
    c.updated = y();
    c.data = a;
    this.b.put("Social", c);
  }, a);
}
function rG(a, b, c) {
  if (!a.b) {
    return a.request(b, c);
  }
  var d = "twitter/" + b + "/" + (c.user_id || c.screen_name);
  return a.b.get("Social", d).u(function(a) {
    if (a) {
      var f = "users/show" == b ? 864E5 : 9E5;
      return y() - a.updated < f ? a.data : qG(this, d, b, c);
    }
    return qG(this, d, b, c);
  }, function(a) {
    window.console.error(a.stack);
    return this.request(b, c);
  }, a);
}
function sG(a, b) {
  var c = {};
  if (b.user_id) {
    c.user_id = b.user_id;
  } else {
    if (b.screen_name) {
      c.screen_name = b.screen_name;
    } else {
      return D("user_id or screen_name required.");
    }
  }
  var d = b.path;
  return 0 <= ["statuses/user_timeline", "users/show"].indexOf(d) ? rG(a, d, c) : D("Invalid path: " + d);
}
nG.prototype.query = function(a) {
  var b = new B, c = this;
  jj("https://api.twitter.com/1.1/", function(d) {
    d ? sG(c, a).b(b) : lj("https://api.twitter.com/1.1/", function(d) {
      chrome.runtime.lastError ? (d = Error(chrome.runtime.lastError), d.name = "HostPermissionError", b.C(d)) : d ? sG(c, a).b(b) : b.C("No permission to send a request to twitter.");
    });
  });
  return b;
};
function tG() {
  var a = $m;
  this.a = new nG(a);
  this.c = new jG(a);
  this.b = new fG(a);
}
function uG(a, b) {
  var c = b.network, d = b.userId, e = b.userName;
  return d || e ? c == vG ? d ? a.a.query({path:"users/show", user_id:d, screen_name:e}) : D("userId required.") : c == wG ? a.b.query({path:"users", id:d || e}) : c == xG ? a.c.query({path:"people/get", userId:d || e}) : D("Unsupported service: " + c) : D("userId or userName required.");
}
function yG(a, b) {
  if (!b || !b.network) {
    return D("Invalid profile detail query.");
  }
  var c = b.network, d = b.userId, e = b.userName;
  return d && e ? c == vG ? a.a.query({path:"statuses/user_timeline", screen_name:e, user_id:d}) : D("Unsupported service: " + c) : D("userId or userName required.");
}
;var wG = "angellist", xG = "googleplus", vG = "twitter", zG = {};
zG[vG] = "Twitter";
zG.facebook = "Facebook";
zG.linkedin = "LinkedIn";
zG[xG] = "Google+";
zG.github = "Github";
zG[wG] = "AngelList";
zG.pinterest = "Pinterest";
zG.tumblr = "Tumblr";
zG.blogger = "Blogger";
zG.meetup = "Meetup";
zG.myspace = "MySpace";
zG.yelp = "Yelp";
zG.reddit = "Reddit";
zG.yelp = "Instagram";
zG.instagram = "Github";
zG.foursquare = "Foursquare";
zG.flickr = "Flickr";
zG.youtube = "YouTube";
zG.wordpress = "Wordpress";
zG.quora = "Quora";
zG.yahoo = "Yahoo!";
zG.delicious = "Delicious";
zG.vimeo = "Vimeo";
zG.klout = "Klout";
var AG = [vG, "facebook", xG, "linkedin", wG];
function BG(a) {
  return "pp" == a ? "Pipl" : "cb" == a ? "ClearBit" : "td" == a ? "TowerData" : "fc" == a ? "FullContact" : "vb" == a ? "Vibe" : "?";
}
;function CG(a) {
  this.network = a;
}
function DG(a) {
  return Q().send("social-feed", {network:a.network, userId:a.Bd(), userName:EG(a)});
}
function FG(a) {
  return Q().send("social-profile-detail", {network:a.network, userId:a.Bd(), userName:a.ee()});
}
function EG(a) {
  return a.ee() || a.Bd();
}
h = CG.prototype;
h.Kb = function() {
};
h.Ec = function() {
};
h.oc = function() {
};
h.pc = function() {
};
h.ub = function() {
  return zG[this.network] || this.network;
};
h.L = function() {
  return this.network + ".com";
};
function GG(a, b) {
  this.network = a;
  this.data = b;
}
A(GG, CG);
function HG(a, b) {
  if (!a) {
    return null;
  }
  var c = a[b];
  if (c && (c.id || c.handle)) {
    if (0 <= [wG].indexOf(b)) {
      if (c.id) {
        return new GG(b, c);
      }
    } else {
      return new GG(b, c);
    }
  }
  return null;
}
h = GG.prototype;
h.Bd = function() {
  return this.data.id ? String(this.data.id) : "";
};
h.ee = function() {
  return this.data.handle;
};
h.wb = function() {
  if (this.data.site) {
    return this.data.site;
  }
  if ("linkedin" == this.network && this.data.handle) {
    return "https://www.linkedin.com/" + this.data.handle;
  }
};
h.Kb = function() {
  return this.data.avatar;
};
h.Ec = function() {
  return this.data.bio;
};
h.oc = function() {
  return this.data.followers;
};
h.pc = function() {
  return this.data.following;
};
function IG(a) {
  return a && a.bio ? a.bio : null;
}
;function JG(a, b, c) {
  this.network = a;
  this.a = b;
  this.b = c;
}
A(JG, CG);
function KG(a) {
  var b = 0;
  a.followers && (b += a.followers);
  a.following && (b += a.following);
  return b;
}
function LG(a, b) {
  var c = [];
  if (a && a.socialProfiles) {
    var d = b;
    "googleplus" == b && (d = "google");
    for (var e = a.socialProfiles, f = 0;f < e.length;f++) {
      var g = e[f];
      g.typeId == d && (g.id || g.username) && c.push(g);
    }
  }
  d = -1;
  for (e = 0;e < c.length;e++) {
    0 <= [wG].indexOf(b) && !c[e].id || (-1 == d ? d = 0 : KG(c[e]) > KG(c[d]) && (d = e));
  }
  if (0 <= d) {
    a: {
      if (a && a.photos) {
        for (e = a.photos, f = 0;f < e.length;f++) {
          if (g = e[f], g.typeId == b && g.url && /^https:/.test(g.url)) {
            e = g.url;
            break a;
          }
        }
      }
      e = void 0;
    }
    c = new JG(b, c[d], e);
  } else {
    c = null;
  }
  return c;
}
function MG(a) {
  if (!a || !a.socialProfiles) {
    return null;
  }
  for (var b = 0;b < a.socialProfiles.length;b++) {
    var c = a.socialProfiles[b];
    if (c && c.bio) {
      return c.bio;
    }
  }
  return null;
}
h = JG.prototype;
h.ee = function() {
  return this.a.username || "";
};
h.Bd = function() {
  return this.a.id || "";
};
h.Ec = function() {
  return this.a.bio;
};
h.oc = function() {
  return this.a.followers;
};
h.pc = function() {
  return this.a.following;
};
h.wb = function() {
  return this.a.url;
};
h.Kb = function() {
  return this.b;
};
function NG(a, b) {
  this.network = a;
  this.data = b;
}
A(NG, CG);
function OG(a, b) {
  if (a && a.person) {
    var c = new NG(b, a.person);
    if (c.wb()) {
      return c;
    }
  }
  return null;
}
h = NG.prototype;
h.Bd = function() {
  for (var a = this.network == xG ? "google" : this.network, b = 0, c = this.data.user_ids ? this.data.user_ids.length : 0;b < c;b++) {
    if (this.data.user_ids[b] && this.data.user_ids[b].content) {
      var d = this.data.user_ids[b].content.split("@");
      if (d[1] == a) {
        return d[0];
      }
    }
  }
  return "";
};
h.ee = function() {
  if ("tumblr" == this.network) {
    var a = this.wb();
    if (a) {
      return (a = a.match(/\/\/(\w+)/)) ? a[1] : "";
    }
  } else {
    if ("pinterest" == this.network || "blogger" == this.network || "flickr" == this.network || "youtube" == this.network || "vimeo" == this.network || "yelp" == this.network) {
      if (a = this.wb()) {
        return a = a.replace(/\/$/, ""), a = a.split("/"), a[a.length - 1];
      }
    }
  }
  for (var a = this.network == xG ? "google" : this.network, b = 0, c = this.data.usernames ? this.data.usernames.length : 0;b < c;b++) {
    if (this.data.usernames[b] && this.data.usernames[b].content) {
      var d = this.data.usernames[b].content.split("@");
      if (d[1] == a) {
        return d[0];
      }
    }
  }
  return "";
};
h.ub = function() {
  return this.network == xG ? "Google Profiles" : NG.j.ub.call(this);
};
h.wb = function() {
  for (var a = this.ub(), b = 0, c = this.data.urls ? this.data.urls.length : 0;b < c;b++) {
    if (this.data.urls[b]["@name"] == a || this.data.urls[b]["@domain"] == this.L()) {
      return this.data.urls[b].url;
    }
  }
};
h.Kb = function() {
  if (this.data.images && 0 != this.data.images.length) {
    for (var a = this.data.images[0].thumbnail_token, b = 1;b < this.data.images.length;b++) {
      if (this.data.images[b].url && 0 < this.data.images[b].url.indexOf(this.network)) {
        a = this.data.images[b].thumbnail_token;
        break;
      }
    }
    return "https://thumb.pipl.com/image?height=48&width=48&favicon=true&zoom_face=true&token=" + a;
  }
};
function PG(a, b, c) {
  this.network = a;
  this.a = c;
  this.data = b;
}
A(PG, CG);
function QG(a, b) {
  if (!a) {
    return null;
  }
  var c = a.profile;
  if (c && c.person_data && c.person_data.social_profiles) {
    for (var d = [].concat(c.person_data.profile_picture, c.person_data.extra_pictures), e = d.length, f = 0;f < c.person_data.social_profiles.length;f++) {
      var g = c.person_data.social_profiles[f], k = g.typeId;
      "google" == k && (k = xG);
      if (k == b) {
        return new PG(b, g, d[f % e]);
      }
    }
  }
  return null;
}
h = PG.prototype;
h.Bd = function() {
  return w(this.data.id) ? this.data.id : "";
};
h.ee = function() {
  return this.data.username || "";
};
h.wb = function() {
  return this.data.url;
};
h.Kb = function() {
  return this.a;
};
h.Ec = function() {
  if (this.data.bio) {
    return this.data.bio;
  }
};
h.oc = function() {
  return this.data.followers;
};
h.pc = function() {
  return this.data.following;
};
function RG(a) {
  return a && a.profile && a.profile.person_data && a.profile.person_data.bio ? a.profile.person_data.bio : null;
}
;function SG(a, b) {
  this.parent = a;
  this.network = b;
  this.a = [];
  this.parent.data && TG(this);
}
SG.prototype.ub = function() {
  return this.network;
};
function UG(a) {
  var b = 1;
  a instanceof GG ? b = 2 : a instanceof NG && (b = .5);
  var c = 0;
  a.Bd() && (c += 2);
  a.ee() && (c += 1);
  var d = 0;
  a.Kb() && (d += 1);
  a.wb() && (d += .8);
  a.Ec() && (d += .6);
  var e = 0;
  a.oc() && (e += 1);
  a.pc() && (e += 1);
  return .2 * b + c + .5 * d + .2 * e;
}
function TG(a) {
  if (a.parent.data.cb) {
    var b = HG(a.parent.data.cb, a.network);
    b && a.a.push(b);
  }
  a.parent.data.fc && (b = LG(a.parent.data.fc, a.network)) && a.a.push(b);
  a.parent.data.pp && (b = OG(a.parent.data.pp, a.network)) && a.a.push(b);
  a.parent.data.vb && (b = QG(a.parent.data.vb, a.network)) && a.a.push(b);
  xb(a.a, function(a, b) {
    var e = UG(a), f = UG(b);
    return e > f ? -1 : 1;
  });
}
SG.prototype.count = function() {
  return this.a.length;
};
function VG(a) {
  return a.a[0] || null;
}
;function WG(a, b) {
  this.data = a || {};
  this.email = b || null;
}
function XG(a) {
  a = a.trim().replace("%40", "@");
  return -1 == a.indexOf("@") || -1 == a.indexOf(".") ? D(Error("Invalid email " + a)) : Q().send("social-profile", {email:a}).u(function(b) {
    return new WG(b, a);
  }, function() {
    return new WG(null, a);
  });
}
function YG(a, b) {
  var c = new SG(a, b);
  return 0 < c.a.length ? c : null;
}
function ZG(a) {
  return a.data.cb && a.data.cb.name ? a.data.cb.name.fullName : a.data.fc && a.data.fc.contactInfo ? a.data.fc.contactInfo.fullName : a.data.vb && a.data.vb.profile && a.data.vb.profile.person_data && a.data.vb.profile.person_data.name ? a.data.vb.profile.person_data.name : a.data.pp && a.data.pp.person && a.data.pp.person.names ? a.data.pp.person.names[0].display : "";
}
function $G(a) {
  var b;
  if ((b = (b = a.data.cb) && b.avatar ? /^https:/.test(b.avatar) && /[jpg$|jpeg$]/.test(b.avatar) ? b.avatar : null : null) && /^https:/.test(b)) {
    return b;
  }
  a: {
    if ((b = a.data.fc) && b.photos) {
      b = b.photos;
      for (var c = 0;c < b.length;c++) {
        var d = b[c];
        if (d.isPrimary && d.url && /^https:/.test(d.url)) {
          b = d.url;
          break a;
        }
      }
    }
    b = null;
  }
  if (b && /^https:/.test(b)) {
    return b;
  }
  a: {
    if ((b = a.data.pp) && b.person && b.person.images) {
      for (c = 0;c < b.person.images.length;c++) {
        if (d = b.person.images[c].thumbnail_token) {
          b = "https://thumb.pipl.com/image?height=48&width=48&favicon=true&zoom_face=true&token=" + d;
          break a;
        }
      }
    }
    b = null;
  }
  if (b && /^https:/.test(b)) {
    return b;
  }
  (a = a.data.vb) ? (b = Jb(a, "profile", "person_data", "profile_picture"), a = w(b) && !b ? b || null : (a = Jb(a, "profile", "person_data", "extra_pictures")) ? a[0] : null) : a = null;
  return a && /^https:/.test(a) ? a : "";
}
function aH(a) {
  a = [IG(a.data.cb), RG(a.data.vb), MG(a.data.fc)];
  a.sort(function(a, c) {
    return null == a ? 1 : null == c ? -1 : a.length > c.length ? -1 : 1;
  });
  return a[0] || "";
}
function bH(a) {
  var b = a.data.cb, c = a.data.fc, d = a.data.pp;
  a = a.data.vb;
  b = [b && b.location ? b.location : null, c && c.demographics && c.demographics[0] ? c.demographics[0].locationGeneral : null, a && a.profile && a.profile.person_data && a.profile.person_data.current_location ? a.profile.person_data.current_location : null, d && d.person && d.person.address && d.person.address[0] ? d.person.address[0].display : null];
  c = -1;
  for (d = 0;d < b.length;d++) {
    b[d] && "Global" != b[d] && (-1 == c ? c = d : b[d].length > b[c].length && (c = d));
  }
  return b[c] || "";
}
function cH(a) {
  var b;
  if ((b = a.data.cb) && b.employment) {
    var c = {title:b.employment.title, company:b.employment.name};
    b.company && (c.Ui = b.company.url, b.company.legal_name && (c.company = b.company.legal_name), c.hl = b.company.description);
    b = c;
  } else {
    b = null;
  }
  b || (b = (b = a.data.vb) && b.profile && b.profile.person_data && b.profile.person_data.current_company ? {title:b.profile.person_data.current_company.title, company:b.profile.person_data.current_company.name} : null);
  if (!b) {
    a: {
      if ((a = a.data.fc) && a.organizations) {
        for (b = 0;b < a.organizations.length;b++) {
          if (c = a.organizations[b], c.isPrimary) {
            b = {title:c.title, company:c.name};
            break a;
          }
        }
      }
      b = null;
    }
  }
  return b;
}
function dH(a) {
  var b = a.data.cb, c = {};
  b && b.gender && (c.Gender = b.gender);
  var d = a.data.fc, b = {};
  d && d.demographics && d.demographics && d.demographics.gender && (b.Gender = d.demographics.gender);
  d = a.data.vb;
  a = {};
  d && d.profile && d.profile.person_data && (d = d.profile.person_data, d.gender && (a.Gender = d.gender));
  d = {};
  c && Qb(d, c);
  a && Qb(d, a);
  b && Qb(d, b);
  return d;
}
;function eH(a) {
  this.a = null;
  Cg(a, function() {
    this.a = Cm(a, Ik, !0);
  }, this);
  var b = new au;
  b.update((new Date).toLocaleTimeString());
  up(b.c());
}
eH.prototype.query = function(a) {
  x(a) && a.email || D("email require");
  a = a.email;
  w(a) && /\S+@\S+\.\S+/.test(a) || D("Invalid request data for email " + a);
  a = a.trim().toLowerCase();
  return fH(this, a, {}, .5 < Math.random() ? ["vb", "pp", "fc", "cb"] : ["pp", "vb", "cb", "fc"], 0);
};
function fH(a, b, c, d, e) {
  return "pp" == d[e] ? gH(a, "meta/pp/" + b, {email:b, src:"pp"}).G(function(a) {
    return (c.pp = a) && a.person && a.person.names && 0 < a.person.names.length ? c : fH(this, b, c, d, ++e);
  }, a) : "vb" == d[e] ? gH(a, "meta/vb/" + b, {email:b, src:"vb"}).G(function(a) {
    return (c.vb = a) && !0 === Jb(a, "profile", "status", "has_person_data") && a.profile.person_data && a.profile.person_data.social_profiles && 1 < a.profile.person_data.social_profiles.length ? c : fH(this, b, c, d, ++e);
  }, a) : "fc" == d[e] ? gH(a, "meta/fc/" + b, {email:b}).G(function(a) {
    return (c.fc = a) && a.contactInfo && .8 < a.likelihood ? c : fH(this, b, c, d, ++e);
  }, a) : "cb" == d[e] ? gH(a, "meta/cb/" + b, {email:b, src:"cb"}).G(function(a) {
    return (c.cb = a) && a.name && a.name.familyName && a.bio ? c : fH(this, b, c, d, ++e);
  }, a) : C(c);
}
function hH(a, b, c) {
  return a.request("/so/info", c).i(function(a) {
    var c = {};
    c.id = b;
    c.updated = y();
    c.data = a;
    this.a.put("Social", c);
  }, a);
}
function gH(a, b, c) {
  return a.a ? a.a.get("Social", b).u(function(a) {
    if (a) {
      var e = a.data ? 6048E5 : 9E5;
      return y() - a.updated < e ? a.data : hH(this, b, c);
    }
    return hH(this, b, c);
  }, function(a) {
    window.console.error(a.stack);
    return this.request("/so/info", c);
  }, a) : a.request("/so/info", c);
}
eH.prototype.request = function(a, b) {
  var c = new B, d = new T(a, "POST", b);
  Pm().request(d).execute(function(a, b) {
    gn(b) ? c.callback(a) : c.C(b.P());
  });
  return c;
};
function iH() {
  FF.call(this);
  this.f = new WF(this.b);
  this.M.listen(this.f, "le", this.Eo);
  this.D = new tG;
  this.F = new eH($m);
  jH(this);
}
A(iH, FF);
h = iH.prototype;
h.logger = J("ydn.crm.app.EventPage");
h.Eo = function(a) {
  a = a.target;
  var b = this.o;
  b.sync.a = a;
  lC(b);
  b = this.h;
  b.sync.a = a;
  vC(b);
};
h.sh = function(a) {
  a = iH.j.sh.call(this, a);
  cr(this.c) && aG(this.f);
  return a;
};
function kH(a, b, c) {
  var d = c.req;
  c.done = !0;
  var e = null != c.data ? c.data : {};
  Ue(a.logger, "service req: " + d + ":" + c.id);
  if ("app-setting" == d) {
    c.data = q.localStorage.getItem("app-setting"), b.postMessage(c);
  } else {
    if ("dnt-add" == d) {
      a.J.add(e.email).u(function(c) {
        N(a.logger, "resp: " + this.req + ":" + this.id);
        this.data = c;
        b.postMessage(this);
      }, function(a) {
        this.error = a.message || a;
        b.postMessage(this);
      }, c);
    } else {
      if ("dnt-query" == d) {
        a.J.query(e).u(function(c) {
          N(a.logger, "resp: " + this.req + ":" + this.id);
          this.data = c;
          b.postMessage(this);
        }, function(a) {
          this.error = a.message || a;
          b.postMessage(this);
        }, c);
      } else {
        if ("dnt-remove" == d) {
          a.J.remove(e.id).u(function(c) {
            N(a.logger, "resp: " + this.req + ":" + this.id);
            this.data = c;
            b.postMessage(this);
          }, function(a) {
            this.error = a.message || a;
            b.postMessage(this);
          }, c);
        } else {
          if ("echo" == d) {
            Ue(a.logger, "resp: " + d + ":" + c.id), b.postMessage(c);
          } else {
            if ("export-record" == d) {
              LF(a, e).u(function(c) {
                N(a.logger, "resp: " + this.req + ":" + this.id);
                this.data = c;
                b.postMessage(this);
              }, function(a) {
                this.data = a;
                this.error = "failed to create a new entry";
                b.postMessage(this);
              }, c);
            } else {
              if ("feedback" == d) {
                KF(a, e).u(function(c) {
                  N(a.logger, "resp: " + this.req + ":" + this.id);
                  this.data = c;
                  b.postMessage(this);
                }, function(a) {
                  this.error = a;
                  b.postMessage(this);
                }, c);
              } else {
                if ("feedback-sync" == d) {
                  e = lH(a, e), e.u(function(c) {
                    N(a.logger, "resp: " + this.req + ":" + this.id);
                    this.done = !0;
                    this.data = c;
                    b.postMessage(this);
                  }, function(a) {
                    this.error = a;
                    b.postMessage(this);
                  }, c), e.c(function(a) {
                    this.done = !1;
                    this.data = a;
                    b.postMessage(this);
                  }, c);
                } else {
                  if ("feed-log" == d) {
                    d = e.offset || 0, e = e.limit || 100, Jm.a.values("db-logger", null, e || 100, d || 0, !0).G(function(c) {
                      N(a.logger, "resp: " + this.req + ":" + this.id);
                      this.data = c;
                      b.postMessage(this);
                    }, c);
                  } else {
                    if ("feed-log-info" == d) {
                      d = e.offset || 0, e = e.limit || 100, Lm(e, d).G(function(c) {
                        N(a.logger, "resp: " + this.req + ":" + this.id);
                        this.data = c;
                        b.postMessage(this);
                      }, c);
                    } else {
                      if ("ga-lc" == d || "ga-nc" == d) {
                        EF(d, e).u(function(c) {
                          N(a.logger, "resp: " + this.req + ":" + this.id);
                          this.data = c;
                          b.postMessage(this);
                        }, function(a) {
                          this.error = a;
                          b.postMessage(this);
                        }, c);
                      } else {
                        if (/^gdata-/.test(d)) {
                          RF(a, d, e).u(function(c) {
                            N(a.logger, "resp: " + this.req + ":" + this.id);
                            this.data = c;
                            b.postMessage(this);
                          }, function(a) {
                            this.error = a;
                            b.postMessage(this);
                          }, c);
                        } else {
                          if ("get-sugar" == d) {
                            $F(a.f).u(function(c) {
                              N(a.logger, "resp: " + this.req + ":" + this.id);
                              this.data = c;
                              b.postMessage(this);
                            }, function(a) {
                              this.error = a;
                              b.postMessage(this);
                            }, c);
                          } else {
                            if ("list-sugarcrm" == d) {
                              N(a.logger, "resp: " + c.req + ":" + c.id), c.data = dG(a.f), b.postMessage(c);
                            } else {
                              if ("list-sugarcrm-domain" == d) {
                                N(a.logger, "resp: " + c.req + ":" + c.id), c.data = eG(a.f), b.postMessage(c);
                              } else {
                                if ("log" == d) {
                                  Qm(c.data), b.postMessage(c);
                                } else {
                                  if ("login-info" == d) {
                                    window.navigator.onLine ? PF(a).u(function(c) {
                                      N(a.logger, "resp: " + this.req + ":" + this.id);
                                      this.data = c;
                                      b.postMessage(this);
                                    }, function(a) {
                                      this.data = a;
                                      this.error = "InvalidLoginError:" + (a && a instanceof Error ? a : "");
                                      b.postMessage(this);
                                    }, c) : (c.data = a.nb, b.postMessage(c));
                                  } else {
                                    if ("logged-in" == d) {
                                      PF(a, !0).u(function(c) {
                                        N(a.logger, "resp: " + this.req + ":" + this.id);
                                        this.data = c;
                                        b.postMessage(this);
                                      }, function(a) {
                                        this.data = a;
                                        this.error = "InvalidLoginError:" + (a && a instanceof Error ? a : "");
                                        b.postMessage(this);
                                      }, c);
                                    } else {
                                      if ("logged-out" == d) {
                                        QF(a).G(function() {
                                          b.postMessage(c);
                                        });
                                      } else {
                                        if ("lg-pref-qa" == d || "lg-pref-bg" == d) {
                                          $r(a.b, d, c.data).u(function(c) {
                                            N(a.logger, "resp: " + this.req + ":" + this.id);
                                            this.data = c;
                                            b.postMessage(this);
                                          }, function(a) {
                                            this.error = a;
                                            b.postMessage(this);
                                          }, c);
                                        } else {
                                          if ("login-su" == d) {
                                            cG(a.f, c.data).u(function(a) {
                                              this.data = a;
                                              b.postMessage(this);
                                            }, function(a) {
                                              this.error = a ? a.message || String(a) : "error";
                                              b.postMessage(this);
                                            }, c);
                                          } else {
                                            if ("new-entry" == d) {
                                              x(c.data) ? a.a.ce(c.data).u(function(c) {
                                                N(a.logger, "resp: " + this.req + ":" + this.id);
                                                this.data = c;
                                                b.postMessage(this);
                                              }, function(a) {
                                                this.data = a;
                                                this.error = "failed to create a new entry";
                                                b.postMessage(this);
                                              }, c) : (c.error = "Invalid gdata entry data", b.postMessage(c));
                                            } else {
                                              if ("new-sugarcrm" == d) {
                                                e = cG(a.f, c.data), e.u(function(c) {
                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                  this.done = !0;
                                                  this.data = c;
                                                  b.postMessage(this);
                                                }, function(a) {
                                                  this.done = !0;
                                                  this.error = a ? a.message || String(a) : "error";
                                                  b.postMessage(this);
                                                }, c), e.c(function(a) {
                                                  this.done = !1;
                                                  this.data = a;
                                                  b.postMessage(this);
                                                }, c);
                                              } else {
                                                if ("reload-bk" == d) {
                                                  b.postMessage(c), location.reload();
                                                } else {
                                                  if ("remove-sugar" == d) {
                                                    bG(a.f, c.data).G(function(a) {
                                                      this.data = a;
                                                      b.postMessage(this);
                                                    }, c);
                                                  } else {
                                                    if ("request" == d) {
                                                      a.sendRequest(e).u(function(c) {
                                                        N(a.logger, "resp: " + this.req + ":" + this.id);
                                                        this.data = c;
                                                        b.postMessage(this);
                                                      }, function(c) {
                                                        N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                        this.error = c;
                                                        b.postMessage(this);
                                                      }, c);
                                                    } else {
                                                      if ("request-host-permission" == d) {
                                                        e.origins ? kj(e, function(a) {
                                                          this.data = a;
                                                          b.postMessage(this);
                                                        }.bind(c)) : (c.error = "origins required.", b.postMessage(c));
                                                      } else {
                                                        if ("server-audit-log" == d) {
                                                          NF(a, e).u(function(a) {
                                                            this.data = a;
                                                            b.postMessage(this);
                                                          }, function(a) {
                                                            this.error = a;
                                                            b.postMessage(this);
                                                          }, c);
                                                        } else {
                                                          if ("social-feed" == d) {
                                                            yG(a.D, e).u(function(a) {
                                                              this.data = a;
                                                              b.postMessage(this);
                                                            }, function(a) {
                                                              this.error = a;
                                                              b.postMessage(this);
                                                            }, c);
                                                          } else {
                                                            if ("social-profile" == d) {
                                                              a.F.query(e).u(function(a) {
                                                                this.data = a;
                                                                b.postMessage(this);
                                                              }, function(a) {
                                                                this.error = a;
                                                                b.postMessage(this);
                                                              }, c);
                                                            } else {
                                                              if ("social-profile-detail" == d) {
                                                                uG(a.D, e).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c);
                                                              } else {
                                                                if ("sync" == d) {
                                                                  throw Error("No sync all");
                                                                }
                                                                if ("sync-gl" == d) {
                                                                  throw Error("Not implemented");
                                                                }
                                                                if ("sync-for" == d) {
                                                                  throw Error("On demand sync not implement ");
                                                                }
                                                                "sync-q" == d ? D("Not implemented.").u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "sugar-server-info" == d ? (e = c.data) && w(e) ? Mu(e).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id + " " + c);
                                                                  this.error = JSON.stringify(c);
                                                                  b.postMessage(this);
                                                                }, c) : (c.error = "URL required", b.postMessage(c)) : "token-gdata" == d ? Jp(a.c).G(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, c) : "token-revoke-gdata" == d ? (a.c ? C(!0) : D("No service")).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "tracking-self-open" == d ? lF(e).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "tracking-clear-dnt" == d ? EC(a.l, e.email).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "tracking-query" == d ? FC(a.l, e).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "tracking-update" == d ? a.l.update().u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "user-license" == d ? Zr(a.b).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c) : "us-server-get" == d ? Sr(a.b, "user-setting/" + e.key, void 0).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(a) {
                                                                  this.error = a.message || a;
                                                                  b.postMessage(this);
                                                                }, c) : "us-server-set" == d ? Vr(a.b, e.key, e.value).u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(a) {
                                                                  this.error = a.message || a;
                                                                  b.postMessage(this);
                                                                }, c) : xa(d, "contact-sync") ? (e = uC(a.h, d, e), e.u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.done = !0;
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.done = !0;
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c), e instanceof gf && e.c(function(a) {
                                                                  this.done = !1;
                                                                  this.data = a;
                                                                  b.postMessage(this);
                                                                }, c)) : xa(d, "cal-sync") ? (e = kC(a.o, d, e), e.u(function(c) {
                                                                  N(a.logger, "resp: " + this.req + ":" + this.id);
                                                                  this.done = !0;
                                                                  this.data = c;
                                                                  b.postMessage(this);
                                                                }, function(c) {
                                                                  N(a.logger, "resp error: " + this.req + ":" + this.id);
                                                                  this.done = !0;
                                                                  this.error = c;
                                                                  b.postMessage(this);
                                                                }, c), e instanceof gf && e.c(function(a) {
                                                                  this.done = !1;
                                                                  this.data = a;
                                                                  b.postMessage(this);
                                                                }, c)) : a.logger.log(Le, "Main channel unknown req: " + d, void 0);
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
function lH(a, b) {
  var c = y(), d = b.type + "/" + c;
  if (b.sendDebugInfo) {
    var e = new gf;
    KF(a, b, c);
    c = mm(a.h.a.a);
    Rr(a.b, d + "-dbSyncContactsSetting.js", JSON.stringify(c));
    vA(a.h.sync).i(function(a) {
      hf(e, "Sending sync history");
      hf(e, "...");
      Rr(this.b, d + "-dbSyncContacts.js", JSON.stringify(a)).G(function() {
        hf(e, "Done.\n");
        hf(e, " Sending Gmail contacts");
        IB(this.a, {limit:5E3}).i(function(a) {
          hf(e, "...");
          Rr(this.b, d + "-dbGDataContacts.js", JSON.stringify(a)).G(function() {
            hf(e, "Done.\n");
            hf(e, " Sending Sugar contacts");
            this.f.a.values({store:"Contacts", limit:5E3}).i(function(a) {
              hf(e, "...");
              Rr(this.b, d + "-dbSugarContacts.js", JSON.stringify(a)).G(function() {
                hf(e, "Done.\n");
                e.callback(!0);
              }, this);
            }, this);
          }, this);
        }, this);
      }, this);
    }, a);
    return e;
  }
  return KF(a, b, c);
}
function mH(a, b, c, d) {
  var e = d.req;
  d.done = !0;
  Ue(a.logger, "sugar service req: " + c + ":" + e + ":" + d.id);
  if (cr(a.c)) {
    if ("echo" == e) {
      b.postMessage(d);
    } else {
      if ("import-gdata" == e) {
        var f = d.data, g = f ? f.gdataId : "";
        g ? GF(a, f.module, g, c).u(function(a) {
          this.data = a;
          b.postMessage(this);
        }, function(a) {
          this.error = a;
          b.postMessage(this);
        }, d) : (a.logger.log(Le, "resp error: " + e + ":" + d.id, void 0), d.error = "gdata id required", b.postMessage(d));
      } else {
        if ("link" == e) {
          throw Error("Not implemented");
        }
        "unlink" == e ? (c = a.a, (e = d.data.gdataId) ? (f = d.data.externalId) ? QB(c, e, f).u(function(a) {
          this.data = a;
          b.postMessage(this);
        }, function(c) {
          a.logger.log(Le, "error linking gdata " + this.req + ":" + this.id, void 0);
          this.error = c.name + ": " + c.message;
          b.postMessage(this);
        }, d) : (d.error = "required externalId not not found", b.postMessage(d)) : (d.error = "required gdataId not found.", b.postMessage(d))) : (c = dA(c, e, d.data), c.u(function(c) {
          N(a.logger, "resp: " + this.req + ":" + this.id);
          this.data = c;
          this.done = !0;
          b.postMessage(this);
        }, function(c) {
          var d = c && c instanceof Error ? c.name + " " + c.message : c;
          this.error = c ? c instanceof Error ? {name:c.name, message:c.message} : c : "Error";
          this.done = !0;
          N(a.logger, "resp error: " + this.req + ":" + this.id + " " + d);
          b.postMessage(this);
        }, d), c instanceof gf && c.c(function(c) {
          N(a.logger, "prog: " + this.req + ":" + this.id);
          this.data = c;
          this.done = !1;
          b.postMessage(this);
        }, d));
      }
    }
  } else {
    d.error = "Not login", b.postMessage(d);
  }
}
h.rl = function(a) {
  this.F.query({email:a}).G(function(a) {
    window.console.log(a);
  });
};
h.dl = function(a) {
  if (a) {
    var b = a.start, c = a.end, d = a.cal;
    if (!b || !c || !d) {
      throw Error("cal, start and end required.");
    }
    BF(d, b, c).i(function(b) {
      window.console.log(b);
      var c = b.items.length;
      window.console.info(c + " events");
      if ("delete" == a.action) {
        for (var g = 0;g < c;g++) {
          var k = b.items[g];
          Zy(k) || CF(d, k.id).i(function(a) {
            window.console.log(this.id, a);
          }, k);
        }
      }
    });
  } else {
    rF().i(function(a) {
      window.console.log(a);
      a = a.items.map(function(a) {
        return a.id;
      });
      window.console.log(a);
    }, this);
  }
};
h.bj = function() {
  var a = {log:$i, ports:Cp, qa:Mm};
  a.du = this.kl.bind(this);
  a.s0 = this.f.a;
  a.gdata = this.a;
  a.so = this.rl.bind(this);
  a.user_info = this.nb;
  a.cal = this.dl.bind(this);
  return a;
};
function jH(a) {
  chrome.runtime.onMessage.addListener(function(b, c, d) {
    if (c = c.url) {
      if (c && (/https?:\/\/mail.google.com/.test(c) || /https?:\/\/inbox.google.com/.test(c) || /https?:\/\/\w+.mail.live.com/.test(c))) {
        var e = b ? b.req : null;
        "reload" == e ? chrome.runtime.reload() : "attach" == e && (b = b.parent, L(a.logger, "attaching crm-ex/sidebar.html to " + b + " in " + c), chrome.tabs.executeScript(null, {code:'var parent = document.getElementById("' + b + '");var f = document.createElement("iframe"); f.src = "crm-ex/sidebar.html"; parent.appendChild(f);'}, function() {
          L(a.logger, "crm-ex/sidebar.html attached");
          d("crm-ex/sidebar.html");
        }));
      } else {
        L(a.logger, "invalid sender " + c);
      }
    }
  });
  chrome.runtime.onConnect.addListener(function(b) {
    var c = b.sender.url;
    mb(yf, Ep(b.name)) ? (L(a.logger, "Channel " + b.name + " connected for " + c), Dp(b), b.onMessage.addListener(function(c) {
      if (c && x(c)) {
        if ("close" == c.req) {
          bf(a.logger, "closing " + b.name), Cp[b.name] && delete Cp[b.name], b.disconnect();
        } else {
          if (!c.id) {
            K(a.logger, "Unknown group in pipe info " + b.name);
            return;
          }
        }
        if ("sugarcrm" == c.group) {
          var e = c.name, f;
          f = a.f;
          (f = f.a && f.a.L() == e ? f.a : null) ? mH(a, b, f, c) : K(a.logger, "SugarCRM instance " + e + " not found.");
        } else {
          "content-script" != c.group && "dev" != c.group && "hostper" != c.group && "popup" != c.group && "options" != c.group && kH(a, b, c);
        }
      } else {
        K(a.logger, "invalid message package: " + c);
      }
    })) : K(a.logger, "channel " + b.name + " ignored from " + c);
  });
  L(a.logger, "event page start listening incoming connection");
}
h.Nm = function(a) {
  a = a.data;
  if ("server-req" == a.type) {
    var b = a.req;
    if ("ua" == b) {
      $F(this.f).i(function(a) {
        a && (a.credential = this.f.a.a.a.toJSON());
        a = {user:this.c.toJSON(), sugar:a};
        JF(this, b, a);
      }, this);
    } else {
      if (b = "sc", cr(this.c)) {
        a = "server-req/sc/" + y(), IF(this, a);
      }
    }
  }
};
h.init = function() {
  iH.j.init.call(this);
  chrome.gcm.onMessage.addListener(this.Nm.bind(this));
};
function nH(a) {
  Gp(a);
  var b = new iH;
  Zm().G(function() {
    b.init();
    TF(b);
  });
  return b;
}
chrome.runtime.onInstalled.addListener(function(a) {
  Rm("install", Hg(), "6.2.6", a);
});
Hg();
ra("ydn.crm.version", "6.2.6");
ra("runBackgroundApp", nH);
iH.prototype.xp = iH.prototype.bj;
function oH(a, b) {
  var c;
  c = a.replace("@", "%40");
  c = "http://www.google.com/m8/feeds/contacts/" + c + "/base/" + ++pH;
  b.id = {$t:c};
  fB.call(this, b);
}
A(oH, Py);
var pH = 0;
function qH(a, b, c) {
  this.c = a;
  this.a = b;
  this.b = c;
  this.kind = rH;
}
var rH = "d";
function sH(a, b) {
  var c = a.b, d = c.split(/\s+/);
  return {_module:b, email1:a.a, first_name:d[0] || "", last_name:1 < d.length ? d[d.length - 1] : "", full_name:c, name:c};
}
qH.prototype.score = function(a) {
  var b, c = {gd$email:[{address:this.a}]};
  this.b && (c.gd$name = {gd$fullName:{$t:this.b}});
  b = new oH(this.c, c);
  for (var c = [], d = 0;d < a.length;d++) {
    for (var e = d, f = b, g = a[d], k = 0, l = oA(f), m = oA(g), n = 0;n < l.length;n++) {
      for (var p = l[n], r = 0;r < m.length;r++) {
        var v = m[r];
        p && p == v && (k += 1);
      }
    }
    l = 0;
    p = f.data.gd$name;
    r = g.data.gd$name;
    if (p && r) {
      for (v = ["gd$familyName", "gd$givenName", "gd$additionalName", "gd$fullName"], m = [.06, .06, .06, .12], n = 0;4 > n;n++) {
        var z = p[v[n]], F = r[v[n]];
        z && F == z && (l += m[n]);
      }
    }
    n = 0;
    m = f.getTitle();
    p = g.getTitle();
    m && m == p && (n += .2);
    r = 0;
    f = pA(f);
    g = pA(g);
    p = f.length;
    for (m = [];p--;) {
      r = f[p];
      v = g.length;
      for (m[p] = 0;v--;) {
        z = g[v], r.$t && z.$t && (z = .7 * eB(r, z), m[p] = Math.max(m[p], z));
      }
      r = $s(m).value;
    }
    c[e] = k + l + n + r;
  }
  b = [];
  for (d = 0;d < a.length;d++) {
    e = vb(b, c[d]), 0 > e ? (tb(b, -(e + 1), 0, c[d]), k = a.splice(d, 1), tb(a, -(e + 1), 0, k[0])) : tb(b, e, 0, c[d]);
  }
  return b;
};
function tH(a, b) {
  H.call(this);
  a && uH(this, a, b);
}
A(tH, H);
h = tH.prototype;
h.K = null;
h.If = null;
h.Eh = null;
h.Jf = null;
h.jb = -1;
h.Kc = -1;
h.Cg = !1;
var vH = {3:13, 12:144, 63232:38, 63233:40, 63234:37, 63235:39, 63236:112, 63237:113, 63238:114, 63239:115, 63240:116, 63241:117, 63242:118, 63243:119, 63244:120, 63245:121, 63246:122, 63247:123, 63248:44, 63272:46, 63273:36, 63275:35, 63276:33, 63277:34, 63289:144, 63302:45}, wH = {Up:38, Down:40, Left:37, Right:39, Enter:13, F1:112, F2:113, F3:114, F4:115, F5:116, F6:117, F7:118, F8:119, F9:120, F10:121, F11:122, F12:123, "U+007F":46, Home:36, End:35, PageUp:33, PageDown:34, Insert:45}, xH = E || 
Nc || Qc && Yc("525"), yH = Rc && Pc;
h = tH.prototype;
h.Ml = function(a) {
  if (Qc || Nc) {
    if (17 == this.jb && !a.ctrlKey || 18 == this.jb && !a.altKey || Rc && 91 == this.jb && !a.metaKey) {
      this.Kc = this.jb = -1;
    }
  }
  -1 == this.jb && (a.ctrlKey && 17 != a.a ? this.jb = 17 : a.altKey && 18 != a.a ? this.jb = 18 : a.metaKey && 91 != a.a && (this.jb = 91));
  xH && !DD(a.a, this.jb, a.shiftKey, a.ctrlKey, a.altKey) ? this.handleEvent(a) : (this.Kc = FD(a.a), yH && (this.Cg = a.altKey));
};
h.Ol = function(a) {
  this.Kc = this.jb = -1;
  this.Cg = a.altKey;
};
h.handleEvent = function(a) {
  var b = a.c, c, d, e = b.altKey;
  E && "keypress" == a.type ? (c = this.Kc, d = 13 != c && 27 != c ? b.keyCode : 0) : (Qc || Nc) && "keypress" == a.type ? (c = this.Kc, d = 0 <= b.charCode && 63232 > b.charCode && ED(c) ? b.charCode : 0) : Mc && !Qc ? (c = this.Kc, d = ED(c) ? b.keyCode : 0) : (c = b.keyCode || this.Kc, d = b.charCode || 0, yH && (e = this.Cg), Rc && 63 == d && 224 == c && (c = 191));
  var f = c = FD(c), g = b.keyIdentifier;
  c ? 63232 <= c && c in vH ? f = vH[c] : 25 == c && a.shiftKey && (f = 9) : g && g in wH && (f = wH[g]);
  a = f == this.jb;
  this.jb = f;
  b = new zH(f, d, a, b);
  b.altKey = e;
  I(this, b);
};
h.g = function() {
  return this.K;
};
function uH(a, b, c) {
  a.Jf && AH(a);
  a.K = b;
  a.If = ud(a.K, "keypress", a, c);
  a.Eh = ud(a.K, "keydown", a.Ml, c, a);
  a.Jf = ud(a.K, "keyup", a.Ol, c, a);
}
function AH(a) {
  a.If && (Dd(a.If), Dd(a.Eh), Dd(a.Jf), a.If = null, a.Eh = null, a.Jf = null);
  a.K = null;
  a.jb = -1;
  a.Kc = -1;
}
h.I = function() {
  tH.j.I.call(this);
  AH(this);
};
function zH(a, b, c, d) {
  fd.call(this, d);
  this.type = "key";
  this.a = a;
  this.l = b;
  this.repeat = c;
}
A(zH, fd);
var BH = Fb("Macintosh") || Lc() || Fb("iPad") || Fb("iPod");
function CH() {
  V.call(this);
  this.b = null;
  this.s = !1;
  this.c = [];
}
A(CH, V);
h = CH.prototype;
h.B = function() {
  CH.j.B.call(this);
  var a = this.g();
  a.classList.add("inj");
  a.classList.add("ydn-crm");
  a.classList.add("ydn-email-toolbar");
  var b = this.a.w("div", "ydn-content");
  a.appendChild(b);
  b.appendChild(this.a.w("div", "ydn-center"));
  var c = Pw("arrow-drop-up"), d = Pw("arrow-drop-down");
  c.classList.add("svg-button");
  d.classList.add("svg-button");
  b.appendChild(this.a.w("div", "hide-toolbar", c));
  a.appendChild(this.a.w("div", "show-toolbar", d));
  Sy("local", this.pf() + ".hide").i(function(a) {
    a && this.g().classList.add("hide");
  }, this);
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  CH.j.A.call(this);
  var a = X(this), b = this.g().querySelector(".hide-toolbar");
  a.listen(b, "click", this.Sp);
  b = this.g().querySelector(".show-toolbar");
  a.listen(b, "click", this.Qn);
  (b = this.ij()) && a.listen(b, "mousedown", this.On);
  if (b = this.oe()) {
    this.b = new tH(b), a.listen(this.b, "key", this.Zj);
  }
  (b = this.gj()) && a.listen(b, "mousedown", this.Am);
  setTimeout(function() {
    DH(this);
  }.bind(this), 4);
};
function DH(a) {
  var b = a.zd();
  yb(a.c, b) || (a.c = rb(b), I(a, new G(EH, a)));
}
h.Sp = function() {
  this.g().classList.add("hide");
  Ty("local", this.pf() + ".hide", !0);
};
h.Qn = function() {
  this.g().classList.remove("hide");
  Ty("local", this.pf() + ".hide", !1);
};
h.Am = function() {
  this.close();
};
h.On = function() {
  I(this, new FH(this));
  this.close();
};
h.Zj = function(a) {
  13 == a.a && (BH && a.metaKey || !BH && a.ctrlKey) && (I(this, new FH(this)), this.close());
};
h.I = function() {
  this.close();
  CH.j.I.call(this);
};
h.close = function() {
  this.s || (I(this, new GH(this)), this.s = !0);
};
var EH = "rc";
function FH(a) {
  G.call(this, "st", a);
}
A(FH, G);
function GH(a) {
  G.call(this, "cl", a);
}
A(GH, G);
function HH(a) {
  var b = a.oe();
  return {Ya:"", Gb:a.zd().join(", "), Ob:new Date, wh:b.innerHTML, text:b.innerText, Lb:[], xc:"", wa:"", subject:a.Zg()};
}
;function IH() {
  CH.call(this);
}
A(IH, CH);
h = IH.prototype;
h.oe = function() {
  return JH(this).lastElementChild.querySelector("div[contenteditable]");
};
h.zd = function() {
  for (var a = JH(this).firstElementChild.querySelectorAll("span[email]"), b = [], c = 0;c < a.length;c++) {
    if (null !== a[c].offsetParent) {
      var d = a[c].getAttribute("email");
      d && -1 == b.indexOf(d) && b.push(d);
    }
  }
  return b;
};
h.ci = function(a) {
  var b = JH(this).lastElementChild.querySelector("div[contenteditable]"), c = document.createElement("div");
  c.innerHTML = a;
  a = c.querySelectorAll("script");
  for (var d = 0;d < a.length;d++) {
    c.removeChild(a[d]);
  }
  b.firstChild ? b.insertBefore(c, b.firstChild) : b.appendChild(c);
};
h.Xf = function() {
};
h.A = function() {
  IH.j.A.call(this);
};
h.B = function() {
  IH.j.B.call(this);
  var a = this.g();
  a.classList.add("ydn-email-toolbar");
  a.classList.add("ydn-email-toolbar");
};
function JH(a) {
  return a.g().parentElement.parentElement;
}
h.qf = function() {
  var a = JH(this).firstElementChild.querySelector("textarea[name=to]");
  return a ? a.parentElement : null;
};
function KH(a) {
  a = JH(a).lastElementChild.querySelectorAll("TABLE");
  return a[a.length - 1].querySelector("TR");
}
h.pf = function() {
  return "replyToolbar";
};
h.ij = function() {
  return KH(this).firstElementChild.querySelector('div[role="button"]');
};
h.gj = function() {
  return KH(this).lastElementChild.querySelector('div[role="button"]');
};
h.Zg = function() {
  var a = JH(this).firstElementChild.querySelector("input[name=subject]");
  return a ? a.value : "";
};
function LH(a) {
  H.call(this);
  this.a = a;
  this.M = new zf(this);
  this.h = new zf(this);
  this.c = new Cf(400);
  this.M.listen(this.c, "tick", this.am);
  this.s = 0;
  this.f = "";
  this.D = new MutationObserver(this.F.bind(this));
  this.l = null;
  this.b = "";
  this.o = 0;
}
A(LH, H);
h = LH.prototype;
h.logger = J("ydn.crm.gmail.GmailObserver");
function MH(a, b, c, d) {
  if (a.b && 500 > y() - a.o) {
    b(a.b);
  } else {
    var e = rD();
    e && (a.b = e, a.o = y());
    e || d > c ? b(e) : setTimeout(function() {
      MH(this, b, c, ++d);
    }.bind(a), 100);
  }
}
function NH(a) {
  var b = new B;
  MH(a, function(a) {
    b.callback(a);
  }, 20, 0);
  return b;
}
h.xj = function() {
  if (this.f != location.hash) {
    this.f = location.hash;
    this.h.removeAll();
    var a;
    a = location.hash;
    "#" == a.charAt(0) && (a = a.substr(1));
    a = /^contact(\/\[w\W]+)?\/[a-f\d]{2,18}$/.test(a) ? "cd" : /^contacts(\/\[w\W]+)?/.test(a) ? "ct" : /compose=new$/.test(a) ? "cp" : /^(label\/)?[\w\+]+$/.test(a) ? "in" : /[\w\+]+\/[a-f\d]{10,18}$/.test(a) ? "em" : "un";
    "em" == a && (OH(this, 0), this.c.start());
    I(this, new PH(a, this));
  }
};
function QH(a, b) {
  if (!a) {
    return null;
  }
  var c = a.querySelector("img[jid]");
  if (c) {
    for (var d = c.getAttribute("jid");c && "TD" != c.tagName;) {
      c = c.parentElement;
    }
    c = c.nextElementSibling.querySelector("span[title]").getAttribute("title");
    return new qH(b, d, c);
  }
  if (d = a.querySelector("span[title]")) {
    if (d = d.getAttribute("title").trim(), 0 < d.length) {
      return (c = document.querySelector('span[name="' + d + '"][email]')) ? (c = c.getAttribute("email"), new qH(b, c, d)) : new qH(b, "", d);
    }
  }
  return null;
}
function RH() {
  return document.querySelector("div[role=main] div[role=complementary]");
}
h.setEnabled = function(a) {
  var b = {childList:!1, attributes:!0, characterData:!1, subtree:!0, attributeOldValue:!1, characterDataOldValue:!1, attributeFilter:["data-tooltip"]};
  a ? (this.D.observe(document.body, b), this.M.listen(window, "hashchange", this.xj)) : (this.M.ca(window, "hashchange", this.xj), this.D.disconnect());
};
function SH(a, b, c) {
  b && (c ? I(a, new TH(c, 0, a)) : I(a, new UH(0, a)));
  VH(a);
  a.c.stop();
  a.s = 0;
  c = document.querySelectorAll("[onselectstart]");
  b = [];
  for (var d = 0;d < c.length;d++) {
    var e;
    a: {
      if (e = Hh(c[d], "TD")) {
        for (e = e.nextElementSibling;e;) {
          var f = e.querySelector('DIV[role="button"] + DIV[role="button"]');
          if (f) {
            e = f.previousElementSibling;
            break a;
          }
          e = e.nextElementSibling;
        }
      }
      e = null;
    }
    e && b.push(e);
  }
  for (c = 0;c < b.length;c++) {
    d = b[c], d.hasAttribute("ydn-widget") || I(a, new WH(d, a));
  }
}
h.am = function() {
  this.s++;
  this.f != location.hash && (K(this.logger, "url already changed"), this.c.stop());
  if (10 < this.s) {
    for (var a = document.querySelectorAll("div[role=main] span[email]"), b = XH(), c, d, e = 0;e < a.length;e++) {
      var f = a[e], g = f.getAttribute("email"), f = f.getAttribute("name");
      if (f == b) {
        c = f;
        d = g;
        break;
      }
      "me" != f && g && f && g != this.a && (c = f, d = g);
    }
    SH(this, d ? new qH(this.a, d, c || null) : null, null);
  } else {
    if (a = RH()) {
      b = QH(a, this.a), SH(this, b, a);
    }
  }
};
function VH(a) {
  a.h.removeAll();
  a.l = null;
  var b;
  a: {
    b = document.querySelectorAll('table[role="presentation"]');
    for (var c = 0, d = b.length;c < d;c++) {
      var e = b[c];
      if (1 == e.childElementCount && (e = e.querySelector("tr")) && 3 == e.childElementCount) {
        b = e.children[0];
        break a;
      }
    }
    b = null;
  }
  if (b) {
    for (b = b.querySelectorAll("[email][name]"), c = 0;c < b.length;c++) {
      a.h.listen(b[c], "mouseover", a.Dm);
    }
  }
}
h.Dm = function(a) {
  var b = a.b.getAttribute("email");
  b && this.l != b && (a.b.getAttribute("name"), I(this, new YH(0, a.b)), this.l = b);
};
function OH(a, b) {
  var c = [200, 500, 2E3, 5E3];
  b > c.length || setTimeout(function() {
    for (var c = document.querySelectorAll("span[download_url]"), e = 0;e < c.length;e++) {
      var f;
      f = a;
      var g = c[e], k = void 0;
      (k = (k = g.getAttribute("download_url").match(/&th=([0-9a-h]{14,20})&/)) ? k[1] : "") ? g.getAttribute("data-mid") ? f = null : (g.setAttribute("data-mid", k), f = new ZH(g, f)) : f = null;
      f && I(a, f);
    }
    b++;
    OH(a, b);
  }, c[b]);
}
var $H = {ar:"\u0627\u0644\u0645\u0632\u064a\u062f", cs:"Odpov\u011bd\u011bt", da:"Vis oplysninger", de:"Details anzeigen", el:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03bb\u03b5\u03c0\u03c4\u03bf\u03bc\u03b5\u03c1\u03b5\u03b9\u03ce\u03bd", es:"Muestra detalles", fa:"\u0646\u0645\u0627\u06cc\u0634 \u062c\u0632\u0626\u06cc\u0627\u062a", fi:"N\u00e4yt\u00e4 tiedot", fr:"Afficher les d\u00e9tails", it:"Mostra dettagli", ja:"\u8a73\u7d30\u3092\u8868\u793a", hu:"R\u00e9szletek megjelen\u00edt\u00e9se", 
lt:"Rodyti i\u0161sami\u0105 informacij\u0105", no:"Vis detaljer", nl:"Details weergeven", pl:"Poka\u017c szczeg\u00f3\u0142y", pt:"Mostrar detalhes", ro:"Afi\u015fa\u0163i detaliile", ru:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e", th:"\u0e41\u0e2a\u0e14\u0e07\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14", tr:"Ayr\u0131nt\u0131lar\u0131 g\u00f6ster", "zh-HK":"\u56de\u8986", 
"zh-TW":"\u56de\u8986", "zh-CN":"\u56de\u590d"}, aI = {ar:"\u0631\u062f", cs:"Zobrazit podrobnosti", da:"Svar", de:"Antworten", el:"\u0391\u03c0\u03ac\u03bd\u03c4\u03b7\u03c3\u03b7", es:"Responder", fa:"\u067e\u0627\u0633\u062e", fi:"Vastaa", fr:"R\u00e9pondre", it:"Rispondi", js:"\u8fd4\u4fe1", hu:"Tov\u00e1bbiak", lt:"Atsakyti", no:"Mer", nl:"Meer", pl:"Odpowiedz", pt:"Responder", ro:"R\u0103spunde\u0163i", ru:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c", th:"\u0e15\u0e2d\u0e1a", tr:"Yan\u0131tla", 
"zh-HK":"\u986f\u793a\u8a73\u7d30\u8cc7\u8a0a", "zh-TW":"\u986f\u793a\u8a73\u7d30\u8cc7\u6599", "zh-CN":"\u663e\u793a\u8be6\u7ec6\u4fe1\u606f"};
LH.prototype.F = function(a) {
  var b = a.length, c;
  if (!hD) {
    c = document.querySelectorAll("a ~ a");
    for (var d = 0;d < c.length;d++) {
      var e = (c[d].href || "").match(/\/intl\/([^\/]+)\//);
      if (e && e[1]) {
        hD = e[1].split("-")[0];
        break;
      }
    }
  }
  c = hD || null;
  for (d = 0;d < b;d++) {
    var e = a[d], f = e.target;
    if (f instanceof Element) {
      var g = $H[c] || "Show details";
      if ("data-tooltip" == e.attributeName) {
        if (f.getAttribute("data-tooltip") == g) {
          a = Hh(f, "TABLE");
          if (!a) {
            break;
          }
          a = Hh(a.parentElement, "TABLE");
          if (!a) {
            break;
          }
          (b = a.querySelector('div[data-tooltip="' + (aI[c] || "Reply") + '"]')) || (b = a.querySelector('div[data-tooltip="Reply to all"]'));
          if (!b) {
            break;
          }
          (a = qD(b)) && a.wa && (this.b = a.wa, this.o = y());
          OH(this, 0);
          I(this, new WH(b, this));
          VH(this);
          break;
        } else {
          (e = Hh(f, "FORM")) && "TABLE" == e.parentElement.lastElementChild.tagName && (e.parentElement.querySelector(".ydn-gmail-reply") ? f = !1 : (f = e.querySelector("input[name=subjectbox]"), f = !f || f.getAttribute("data-ydn-subjectbox") || !f.parentElement || f.parentElement.style && "none" == f.parentElement.style.display ? !0 : !1), f && I(this, new bI(e, this)));
        }
      }
    }
  }
};
function ZH(a, b) {
  G.call(this, "at", b);
  this.f = a;
}
A(ZH, G);
function cI(a, b) {
  G.call(this, "ma", b);
  this.wa = a;
}
A(cI, G);
function PH(a, b) {
  G.call(this, "pc", b);
  this.f = a;
}
A(PH, G);
function UH(a, b) {
  G.call(this, "cc", b);
}
A(UH, G);
function TH(a, b, c) {
  G.call(this, "cc", c);
  this.f = a;
}
A(TH, UH);
function YH(a, b) {
  G.call(this, "he", b);
}
A(YH, G);
function WH(a, b) {
  G.call(this, "mh", b);
  this.f = a;
}
A(WH, G);
function bI(a, b) {
  G.call(this, "rp", b);
  this.f = a;
}
A(bI, G);
function XH() {
  var a = RH();
  if (!a) {
    return null;
  }
  for (var a = a.querySelectorAll("span[title]"), b = 0;b < a.length;b++) {
    var c = a[b];
    if (c.getAttribute("title") == c.textContent) {
      return c.textContent;
    }
  }
  return a.textContent;
}
;function dI(a) {
  V.call(this);
  this.b = a;
}
A(dI, V);
h = dI.prototype;
h.B = function() {
  dI.j.B.call(this);
  var a = this.a, b = this.g(), c = a.createElement("a");
  c.textContent = "Login";
  c.className = "maia-button blue";
  c = a.w("div", "setup-panel", [a.w("div", null, c)]);
  R(c, !1);
  a = a.w("div", "invalid-login-panel");
  R(a, !1);
  b.appendChild(c);
  b.appendChild(a);
};
h.A = function() {
  dI.j.A.call(this);
  var a = this.g();
  X(this).listen(this.b, ["logout", "login"], this.Mo);
  a = a.querySelector("div.setup-panel a");
  X(this).listen(a, "click", this.No, !0);
  X(this).listen(vf(), "st-info", this.Tn);
};
h.Tn = function(a) {
  (a = a.getData()) && a.message && Cw(a.message);
};
h.No = function(a) {
  a.preventDefault();
  dj("ui.credential", "login-button", "click");
  Q().send("logged-in").G(function() {
  }, this);
};
h.Mo = function() {
  var a = GE.X(), b = this.g(), c = b.querySelector(".setup-panel"), d = b.querySelector(".invalid-login-panel");
  IE(a) ? (R(c, !1), JE(a) ? (R(d, !1), b.classList.remove("invalid")) : (b.classList.add("invalid"), d.textContent = "Since you are login as " + QE(a) + ", some feature are not available in this Gmail.", R(d, !0))) : (R(c, !0), R(d, !1), eI(this.g()));
};
var fI = null, gI = null;
function hI(a, b) {
  if (w(a)) {
    if (gI = a, !fI || fI.URL != a) {
      fI = null;
      var c = new XMLHttpRequest;
      c.open("GET", gI, !0);
      c.onload = function() {
        fI = (new DOMParser).parseFromString(c.responseText, "text/html");
        c = null;
        b && b();
      };
      c.send();
    }
  } else {
    fI = a, b && b();
  }
}
function iI() {
  if (!fI) {
    var a = new XMLHttpRequest;
    a.open("GET", gI, !1);
    a.onload = function() {
      fI = (new DOMParser).parseFromString(a.responseText, "text/html");
      a = null;
    };
    a.send();
  }
  return fI;
}
function jI(a) {
  var b = document.getElementById(a);
  b || (b = iI().documentElement.querySelector("#" + a));
  document.body.contains(b) || (b = document.importNode(b, !0), document.body.appendChild(b));
  return b;
}
;function kI() {
  this.a = document.createElement("div");
  this.b = "";
}
function lI(a, b) {
  var c = b.querySelector(".popup-footer-bar .right-item"), d = document.createElement("a");
  d.href = "#bug-report";
  d.textContent = chrome.i18n.getMessage("Feedback");
  d.setAttribute("title", "Report problem or request feature request");
  d.onclick = a.f.bind(a);
  c.firstElementChild ? c.insertBefore(d, c.firstElementChild) : c.appendChild(d);
  c = jI("feedback-template").content;
  a.a.appendChild(c.cloneNode(!0));
  R(a.a, !1);
  b.appendChild(a.a);
  a.a.querySelector("button[value=close]").onclick = a.c.bind(a);
  a.a.querySelector("select").onchange = a.l.bind(a);
  a.a.querySelector("button[value=submit]").onclick = a.h.bind(a);
}
kI.prototype.f = function(a) {
  a.preventDefault();
  ei(this.a) ? mI(this) : (this.a.querySelector("select").selectedIndex = 0, R(this.a, !0), this.a.querySelector("button[value=submit]").removeAttribute("disabled"), a = this.a.querySelector("input[name=screenshot]"), this.a.querySelector("input[name=page]").checked = !1, a.checked = !1);
};
kI.prototype.c = function() {
  mI(this);
};
function mI(a) {
  R(a.a, !1);
  a = a.a.querySelector("a[name=page]");
  a.href && (window.URL.revokeObjectURL(a.href), a.removeAttribute("href"));
}
kI.prototype.l = function(a) {
  var b = this.a.querySelector("input[name=page]"), c = this.a.querySelector("input[name=screenshot]");
  "bug" == a.target.value && (b.checked = !0, c.checked = !0, a = this.a.querySelector("a[name=page]"), this.b = document.body.outerHTML, b = new Blob([this.b], {type:"plain/text"}), a.href && window.URL.revokeObjectURL(a.href), a.href = window.URL.createObjectURL(b), a.textContent = "page.html", a.setAttribute("download", "page.html"), R(this.a.querySelector(".attachment"), !0));
};
kI.prototype.h = function() {
  var a = this.a.querySelector(".message"), b = a.value;
  if (b) {
    var c = this.a.querySelector("button[value=submit]"), b = {type:this.a.querySelector("select").value, message:b};
    this.a.querySelector("input[name=page]").checked && (b.page = this.b);
    c.setAttribute("disabled", "disabled");
    Q().send("feedback", b).u(function(b) {
      a.value = "";
      mI(this);
      Cw("Feedback submitted: " + b);
    }, function(a) {
      Cw(a.message || String(a));
      c.removeAttribute("disabled");
    }, this);
  } else {
    Cw("Feedback message required.");
  }
};
function nI() {
}
function oI(a, b) {
  if (!b) {
    return !1;
  }
  var c = b.querySelector("table");
  if (c) {
    for (var d, e = c, f = 0;4 > f;f++) {
      if (e && e.parentElement && (e = e.parentElement, e.nextElementSibling && "DIV" == e.nextElementSibling.tagName)) {
        var e = e.parentElement, f = e.lastElementChild, g = !!f && !!f.querySelector("a[href]");
        d = document.createElement("div");
        g && e.parentElement.contains(f) ? e.insertBefore(d, f) : e.appendChild(d);
        break;
      }
    }
    d || (e = c.ownerDocument, d = e.createElement("td"), d.setAttribute("colspan", "2"), e = e.createElement("tr"), e.className = "widget-topraw", e.appendChild(d), (c.querySelector("tbody") || c).appendChild(e));
    a.parentElement && a.parentElement.removeChild(a);
    d.appendChild(a);
    return !0;
  }
  c = b;
  b.firstElementChild && (c = b.firstElementChild, 2 < c.childElementCount && (c = c.lastElementChild.previousElementSibling));
  a.parentElement && a.parentElement.removeChild(a);
  c.lastElementChild ? c.insertBefore(a, c.lastElementChild) : c.appendChild(a);
  return !0;
}
;function pI(a) {
  this.a = this.b = null;
  this.J = (this.c = !!a) ? "&#x25BC;" : "&#x25B2;";
  this.h = this.c ? "&#x25B2;" : "&#x25BC;";
  this.l = this.s.bind(this);
}
pI.prototype.render = function(a) {
  this.b = document.createElement("div");
  this.a = document.createElement("span");
  var b = document.createElement("div");
  this.b.className = "status-base";
  b.className = "status-panel";
  this.a.className = "status-bar";
  var c = document.createElement("span"), d = document.createElement("a"), e = document.createElement("span"), f = document.createElement("span");
  f.className = "status-detail-button";
  f.innerHTML = this.h;
  f.setAttribute("title", "Show previous messages");
  this.a.appendChild(c);
  this.a.appendChild(d);
  this.a.appendChild(e);
  c = document.createElement("div");
  c.className = "status-message";
  c.appendChild(this.a);
  c.appendChild(f);
  this.b.appendChild(c);
  this.b.appendChild(b);
  a.appendChild(this.b);
  f.onclick = this.o.bind(this);
};
pI.prototype.o = function() {
  this.b.querySelector(".status-panel").classList.contains("open") ? qI(this, !1) : qI(this, !0);
};
function qI(a, b) {
  var c = a.b.querySelector(".status-detail-button");
  c.innerHTML = b ? a.J : a.h;
  var d = a.b.querySelector(".status-panel");
  if (b) {
    d.classList.add("open");
    c.classList.add("open");
    c.setAttribute("title", "Hide message panel");
    c = a.b.querySelector(".status-panel");
    c.innerHTML = "";
    for (var d = document.createDocumentFragment(), e = Bw.a.length - 1;0 <= e;e--) {
      var f = Bw.a[e];
      if (!f) {
        break;
      }
      var g = document.createElement("div");
      if (f.title) {
        var k = document.createElement("span");
        k.textContent = f.title;
        g.appendChild(k);
      }
      f.Lc && (k = document.createElement("a"), k.textContent = f.Kf, k.href = f.Lc, f.ye && k.setAttribute("title", f.ye), f.Lc && k.setAttribute("target", "_blank"), g.appendChild(k));
      f.update && (k = document.createElement("span"), k.textContent = f.update, g.appendChild(k));
      d.appendChild(g);
    }
    c.appendChild(d);
    a.c && (c.style.marginTop = -18 - c.clientHeight + "px");
    document.body.addEventListener("click", a.l, !0);
  } else {
    d.classList.remove("open"), c.classList.remove("open"), c.setAttribute("title", "Show previous messages"), d.innerHTML = "", document.body.removeEventListener("click", a.l, !0);
  }
}
pI.prototype.s = function(a) {
  var b = a.target, c = this.b.querySelector(".status-panel");
  b && b instanceof Element && b != c && !c.contains(b) && (c.classList.contains("open") && (a.preventDefault(), a.stopPropagation()), qI(this, !1));
};
pI.prototype.f = function(a, b) {
  if (this.a) {
    this.a.children[0].textContent = b.title + " ";
    var c = this.a.children[1];
    b.Lc ? (c.textContent = b.Kf, c.href = b.Lc || "", c.href && c.setAttribute("target", "_blank"), c.setAttribute("title", b.ye || ""), c.style.display = "") : c.style.display = "none";
    this.a.children[2].textContent = " " + (b.update || "");
  }
};
function rI(a, b, c) {
  G.call(this, sI, c);
  this.name = a;
  this.data = b;
}
A(rI, G);
var sI = "sp";
function tI(a, b) {
  var c = document.createEvent("CustomEvent");
  c.initCustomEvent("drawer-change", !0, !1, {state:b});
  a.dispatchEvent(c);
}
function eI(a) {
  var b = document.createEvent("CustomEvent");
  b.initCustomEvent("drawer-request", !0, !0, {open:!0});
  (a || document.body).dispatchEvent(b);
}
;function uI() {
  this.a = document.createElement("div");
  this.a.className = "ydn-crm ydn-sidebox";
  this.a.innerHTML = '<div class="sidebox-container">\n\n  <div class="sidebox-header">\n    <div class="sidebox-button">\n      <div class="logo-box"></div>\n      <div class="arrow-box"></div>\n    </div>\n    <div class="sidebox-header-content"></div>\n  </div>\n  <div class="sidebox-content">\n     <div class="popup-header"></div>\n     <div class="popup-content"></div>\n     <div class="popup-footer">\n          <div class="popup-footer-bar">\n            <span class="left-item">\n                <a href="https://crm.yathit.com/crmininbox/user-guide/index.html" target="user-guide" name="help">Help</a>\n              <a name="option-page-url" style="display: none;" title="Extension options" target="option-page">Options</a>\n            </span>\n            <span class="center-item"></span>\n            <span class="right-item">\n             <a href="https://yathit.uservoice.com" target="_blank">Suggest</a>\n            </span>\n          </div>\n\n        </div>\n  </div>\n  </div>';
  this.M = new zf(this);
  this.M.listen(this.a.querySelector(".sidebox-button"), "click", this.Oo);
  this.a.querySelector(".logo-box").appendChild(Pw("ydn-logo"));
  this.a.querySelector(".arrow-box").appendChild(Pw("arrow-drop-right"));
  this.b = new lB(this.wm, 200, this);
}
h = uI.prototype;
h.Oo = function() {
  var a = this.a.classList.contains("open"), a = !a;
  q.localStorage.setItem("sidebox-closed", a ? "" : "1");
  this.Sc(a);
};
h.Ag = function(a) {
  a.render(this.a.querySelector(".popup-content"));
};
h.Ch = function() {
  return !this.a.classList.contains("open");
};
h.oi = function() {
  return this.a.querySelector(".popup-footer");
};
function vI() {
  var a = wI();
  if (!a) {
    return !1;
  }
  var b = a.getAttribute("data-width"), c = a.style.width, c = parseInt(c.substr(0, c.length - 2), 10);
  if (600 > c) {
    return !1;
  }
  if (b && (b = parseInt(b.substr(0, b.length - 2), 10), b == c + xI)) {
    return window.console.warn("Already provided?"), !0;
  }
  a.setAttribute("data-width", a.style.width);
  c -= xI;
  a.style.width = c + "px";
  return !0;
}
function yI() {
  var a = wI();
  if (a) {
    var b = a.getAttribute("data-width");
    b && (a.style.width = b, a.removeAttribute("data-width"));
  }
}
function zI(a, b) {
  var c = a.a.querySelector(".arrow-box");
  c.innerHTML = "";
  b ? (c.appendChild(Pw("arrow-drop-left")), a.a.classList.add("open")) : (c.appendChild(Pw("arrow-drop-right")), a.a.classList.remove("open"));
}
h.Sc = function(a) {
  this.Ch() != !a && (zI(this, a), a ? vI() || setTimeout(function() {
    zI(this, !a);
  }.bind(this), 500) : yI(), tI(this.a, a ? "open" : "close"));
};
h.render = function(a) {
  document.body.appendChild(this.a);
  this.a.querySelector("a[name=option-page-url]").href = chrome.extension.getURL("option-page.html");
  var b = this.a.querySelector(".sidebox-header-content");
  document.createElement("div");
  var c = new pI;
  c.render(b);
  Bw.b.push(c);
  this.a.querySelector("a[name=option-page-url]").textContent = chrome.i18n.getMessage("Options");
  this.a.querySelector("a[name=help]").textContent = chrome.i18n.getMessage("Help");
  this.M.listen(document.body, "drawer-request", this.Po);
  this.M.listen(window, "resize", this.Hn);
  a && a();
  var d = q.localStorage.getItem("sidebox-closed");
  setTimeout(function() {
    this.Sc(!d);
    var a = document.querySelectorAll('div[role="main"]')[0].getBoundingClientRect();
    30 < a.top && 100 > a.top && (this.a.style.top = a.top + "px");
  }.bind(this), 500);
};
h.Hn = function() {
  this.b.start();
};
h.wm = function() {
  this.Ch() || vI();
};
h.Po = function(a) {
  var b = a.c;
  a = Jb(b, "detail", "open");
  b = Jb(b, "detail", "close");
  !0 === a ? this.Sc(!0) : !0 === b && this.Sc(!1);
};
var xI = 300;
function wI() {
  var a = document.querySelectorAll('div[role="main"]')[0];
  if (!a) {
    return null;
  }
  for (var b = null, a = a.parentElement, c = 0;10 > c && a;c++) {
    if (a.style.width && 4 < a.style.width.length) {
      b = a;
      break;
    }
    a = a.parentElement;
  }
  return b;
}
;function AI(a, b) {
  G.call(this, "setting-page-event", b);
  this.name = a;
}
A(AI, G);
function BI() {
  this.a = {};
  this.load();
}
da(BI);
BI.prototype.load = function() {
  Sy("sync", "ar-rel-op").i(function(a) {
    a && a.archiveFullThread && (a.archiveCompileCutting = "thread");
    this.a = a || this.a;
  }, this);
};
BI.prototype.save = function() {
  Ty("sync", "ar-rel-op", this.a);
};
var CI = ["su", "ad", "ig", ""];
function DI(a) {
  return a.a.wAinC ? a.a.wAinC : a.a.lA4AinC ? a.a.lA4AinC : "su";
}
function EI(a, b) {
  if (0 <= ["ad", "su"].indexOf(b)) {
    a.a.lA4AinC = b, a.save();
  } else {
    throw Error(b);
  }
}
function FI(a) {
  return "message" == a.a.archiveCompileCutting ? "message" : a.a.archiveCompileCutting ? "thread" : "";
}
;function GI(a, b) {
  V.call(this);
  this.c = a;
  this.b = b;
}
A(GI, V);
h = GI.prototype;
h.B = function() {
  GI.j.B.call(this);
  var a = document.createElement("div");
  a.innerHTML = '<div class="widget-content setting-panel email-archive-setting">\n        <section>\n        <div>\n        <div>Option on compiling archive message content</div>\n        <label><input type="radio" name="archive-compile-option" value=""> <b>Visible content</b></label><br/>        \n        <label><input type="radio" name="archive-compile-option" value="message"> Message only</label><br/>        \n        <label><input type="radio" name="archive-compile-option" value="thread"> Full thread</label>        \n</div>\n</section>\n      <section>\n        <h4>' + 
  chrome.i18n.getMessage("Outgoing_gmail_archive_preference") + '</h4>\n        <div name="outgoing-preference">\n          <div>Outgoing email should be</div>\n          <label title="All your email send will be archived to CRM.">\n            <input type="radio" name="outbound-email-archive"\n                   value="always"> always archived.\n          </label><br>\n          <label title="All your email send will be archived to CRM unless you select not to.">\n            <input type="radio" name="outbound-email-archive" value="archive"\n            > archived normally.\n          </label> <br>\n          <label title="You can select whether you want to archive or not before sending email." >\n            <input type="radio" name="outbound-email-archive" value=""> enabled for archiving.\n          </label> <br>\n          <label title="All your email send will not be archived unless you select to archive.">\n            <input type="radio" name="outbound-email-archive" value="not-archive" > not archived normally.\n          </label><br>\n          <label>\n            <input type="radio" name="outbound-email-archive" value="disable"> disabled for archiving.\n          </label><br>\n        </div>\n        </section>\n        <section>\n          <h4 title="In Email Archive and Attachment Upload Dialogs, relationship record where archive should go are intelligently suggested.">Intelligent relationship record suggestion</h4>\n          <div name="account-action-preference">\n            <div>When email sender/recipient is a Contacts record and has Account information, the Account should</div>\n            <label><input type="radio" name="action-ainc" value="ad"/> linked to the archived email.</label><br/>\n            <label><input type="radio" name="action-ainc" value="su"/> suggested to add as linked to the archived email.</label><br/>\n            <label><input type="radio" name="action-ainc" value="ig"/> be ignored.</label><br/>\n            <label><input type="radio" name="action-ainc" value="" checked/> be treated as appriorate.</label><br/>\n\n          </div>\n        </section>\n\n  </div>';
  this.g().appendChild(a);
};
h.A = function() {
  var a = X(this), b = this.g();
  a.listen(b.querySelector('[name="outgoing-preference"]'), "click", this.Qp);
  a.listen(b.querySelector('[name="account-action-preference"]'), "click", this.hm);
  a.listen(this.la(), "setting-page-event", this.Rp);
  for (var b = b.querySelectorAll("[name=archive-compile-option]"), c = 0;c < b.length;c++) {
    a.listen(b[c], "change", this.Mm);
  }
};
h.Rp = function(a) {
  a.name == this.toString() ? (R(this.g(), !0), HE(this.c).G(function() {
    this.refresh();
  }, this), HI(this)) : R(this.g(), !1);
};
function HI(a) {
  var b = a.g().querySelector('[name="account-action-preference"]');
  a = b.querySelector('input[value="' + (a.b.a.wAinC || "") + '"]');
  b = b.querySelector("input[checked]");
  b != a && (b && b.removeAttribute("checked"), a && a.setAttribute("checked", ""));
}
h.refresh = function() {
  dj("ui.archive.setting", "refresh", "open");
  var a = this.g().querySelector('[name="outgoing-preference"]'), b = this.c.h("emailarchive", "user-default"), c = this.g().querySelector('INPUT[name=archive-compile-option][value="' + FI(this.b) + '"]');
  c && (c.checked = !0);
  b = "always" == b ? a.querySelector('input[value="always"]') : "disable" == b ? a.querySelector('input[value="disable"]') : "archive" == b ? a.querySelector('input[value="archive"]') : "not-archive" == b ? a.querySelector('input[value="not-archive"]') : a.querySelector('input[value=""]');
  a = a.querySelector("input[checked]");
  a != b && (a && a.removeAttribute("checked"), b && b.setAttribute("checked", ""));
};
h.Mm = function(a) {
  var b = this.b;
  b.a.archiveCompileCutting = a.b.value || "";
  delete b.a.archiveFullThread;
  b.save();
};
h.hm = function(a) {
  if ("INPUT" == a.target.tagName) {
    var b = this.b;
    a = a.target.value;
    if (-1 == CI.indexOf(a)) {
      throw Error("Invalid value: " + a);
    }
    b.a.wAinC = a;
    b.save();
  }
};
h.Qp = function(a) {
  "INPUT" == a.target.tagName && (a = a.target.value, -1 == ["always", "disable", "archive", "not-archive", ""].indexOf(a) && (a = ""), this.c.o(a, "emailarchive", "user-default"));
};
h.toString = function() {
  return "Email Archive Setting";
};
function II(a, b) {
  V.call(this, b);
  this.b = a;
}
A(II, V);
h = II.prototype;
h.B = function() {
  II.j.B.call(this);
  var a = this.g();
  a.classList.add("inj-setting-page");
  a.innerHTML = '<div class="ydn-head flex-bar"><span class="ydn-back" name="back"></span> <span name="title"></span></div><UL class="ydn-item-list"></UL><div class="ydn-content ydn-setting-page-content"></div>';
  var b = BI.X();
  this.H(new GI(this.b, b), !0);
  var b = this.T(), c = this.g().querySelector(".ydn-head");
  R(b, !1);
  R(c, !1);
  b = Pw("arrow-back");
  a.querySelector('[name="back"]').appendChild(b);
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  II.j.A.call(this);
  var a = this.g().querySelector(".ydn-item-list");
  X(this).listen(a, "click", this.Ym);
  a = this.g().querySelector(".ydn-head [name=back]");
  X(this).listen(a, "click", this.mm);
  X(this).listen(this, "setting-page-event", this.So);
};
h.So = function(a) {
  var b = this.g().querySelector(".ydn-head"), c = b.querySelector('[name="title"]'), d = this.g().querySelector(".ydn-item-list"), e = this.T(), f = !a.name;
  R(d, f);
  R(e, !f);
  R(b, !f);
  c.textContent = a.name;
};
h.mm = function() {
  I(this, new AI("", this));
};
h.Ym = function(a) {
  "LI" == a.target.tagName && (a.preventDefault(), a.stopPropagation(), I(this, new AI(a.target.textContent, this)));
};
h.bc = function(a, b, c) {
  II.j.bc.call(this, a, b, c);
  b = this.g().querySelector(".ydn-item-list");
  a = this.a.w("LI", null, a.toString());
  b.appendChild(a);
};
h.toString = function() {
  return "SettingPage";
};
h.Nc = function(a) {
  var b = this.g().querySelector(".ydn-content");
  Rw(b);
  w(a) && 0 <= ["Sugar Setting"].indexOf(a) && I(this, new AI(a, this));
};
h.bg = function(a) {
  this.Z(a);
};
function JI(a, b) {
  V.call(this, b);
  this.Z(a);
  this.c = null;
  this.s = new KI(a.parent);
  this.b = null;
}
A(JI, V);
h = JI.prototype;
h.B = function() {
  JI.j.B.call(this);
  var a = this.g();
  a.classList.add("activity-spotlight");
  a.classList.add("spotlight");
  a.innerHTML = '\n      <div class="title-row">\n        <a class="ydn-title">Activity</a>\n        <div class="ydn-center"></div>\n        <div class="right"><button style="display: none;" name="view-detail">&rarr;</button></div>\n      </div>\n      <div class="panel">\n        <div class="upcoming">\n          <H4>Upcoming</H4>\n           <UL class="ydn-content"></UL>\n          <div class="none">None</div>\n        </div>\n        <div class="history">\n          <H4>History</H4>\n            <UL class="ydn-content"></UL>\n            <div class="none">None</div>\n        </div>\n      </div>\n    ';
  this.b = new LI(this.m().parent, a.querySelector(".panel"), this.a);
};
h.I = function() {
  this.b.O();
  this.b = null;
  JI.j.I.call(this);
};
h.m = function() {
  return JI.j.m.call(this);
};
h.A = function() {
  JI.j.A.call(this);
  var a = X(this), b = this.m();
  a.listen(b, "module-change", this.ig);
  a.listen(b, "record-change", this.ig);
  a.listen(b, "record-update", this.ig);
  this.ig();
};
function MI(a, b, c) {
  var d = document.createElement("LI");
  b.appendChild(d);
  a.s.render(d, c);
}
function NI(a, b, c) {
  b.innerHTML = "";
  if (0 != c.length) {
    b.parentElement.classList.remove("empty");
    var d = My(a.m().parent), e = kb(c, function(a) {
      return a.accept_status_id == d;
    });
    e ? MI(a, b, e) : MI(a, b, c[0]);
  }
}
function OI(a, b, c) {
  var d = a.g().querySelector(".upcoming .ydn-content"), e = a.g().querySelector(".history .ydn-content"), f = Br(b), g = uu(new Date);
  b = c.filter(function(a) {
    return a[f] > g;
  });
  c = c.filter(function(a) {
    return a[f] <= g;
  });
  NI(a, d, b);
  NI(a, e, c);
}
function PI(a, b) {
  a.g().querySelector(".upcoming .ydn-content").innerHTML = "";
  a.g().querySelector(".history .ydn-content").innerHTML = "";
  var c = a.m(), d = c.N(), e = {from:Rx(c), id:d, to:b}, c = Tx(c.parent).send("query-related-async", e);
  c.c(function(a) {
    var c = this.m();
    a && zr(c.a) && c.N() == d && OI(this, b, a);
  }, a);
  c.u(function(a) {
    var c = this.m();
    a && zr(c.a) && c.N() == d && OI(this, b, a);
  }, function(a) {
    window.console.error(a);
  }, a);
}
h.ig = function() {
  var a = this.m();
  if (zr(a.a)) {
    R(this.g(), !0);
    var b = this.g().querySelector(".upcoming"), c = this.g().querySelector(".history");
    b.classList.add("empty");
    c.classList.add("empty");
    if (this.c != a.N()) {
      for (this.c = a.N(), a = ["Meetings", "Calls", "Tasks"], b = 0;b < a.length;b++) {
        PI(this, a[b]);
      }
    }
  } else {
    R(this.g(), !1);
  }
};
function QI(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(QI, V);
h = QI.prototype;
h.m = function() {
  return QI.j.m.call(this);
};
h.B = function() {
  QI.j.B.call(this);
  var a = this.g();
  a.innerHTML = '\n    <div class="brief-record-panel">\n      <div class="title-row">\n        <a class="ydn-title">People</a>\n        <div class="ydn-center"></div>\n        <div class="right"><button name="view-detail">&rarr;</button></div>\n      </div>\n      <div class="panel">\n        <div class="item-list"></div>\n      </div>\n    </div>';
  a.classList.add("spotlight");
  R(a, !1);
};
h.A = function() {
  QI.j.A.call(this);
  var a = X(this), b = this.m();
  a.listen(b, "module-change", this.ui);
  a.listen(b, "record-change", this.ui);
  a.listen(b, "record-update", this.ui);
  b = this.g().querySelector('.title-row [name="view-detail"]');
  a.listen(b, "click", this.po);
};
h.po = function(a) {
  a.preventDefault();
  a = this.m();
  zr(a.a) && (eI(), a = new my(hy(a), this), I(this, a));
};
function RI(a, b, c) {
  if (b) {
    var d = document.createElement("div"), e = Pw(c);
    d.appendChild(e);
    "phone" == c ? (c = document.createElement("A"), c.textContent = b, c.href = "tel:+" + b.replace(/\D/g, "")) : "mail" == c ? (c = document.createElement("A"), c.textContent = b, c.href = "mailto:" + b) : (c = document.createElement("span"), c.textContent = b);
    d.appendChild(c);
    d.className = "field-item-row";
    a.appendChild(d);
  }
}
h.ui = function() {
  var a = this.m(), b = this.g(), c = b.querySelector(".item-list");
  c.innerHTML = "";
  if (zr(a.a)) {
    R(b, !0);
    var b = this.m(), d = this.g().querySelector(".title-row a.ydn-title");
    d.href = dy(b);
    d.textContent = Rx(b);
    d.target = b.N();
    d.setAttribute("title", "View in CRM");
    b = jx(a, "title");
    ty(new py(a.parent, Rx(a)), "account_name") ? (d = jx(a, "account_name"), RI(c, b && d ? b + (", " + d) : b || d || "", "business")) : b && b != jx(a, "name") && RI(c, b, "business");
    RI(c, jx(a, "email1"), "mail");
    RI(c, jx(a, "email2"), "mail");
    RI(c, jx(a, "phone_work"), "phone");
    RI(c, jx(a, "phone_mobile"), "phone");
  } else {
    R(b, !1);
  }
};
function SI(a, b, c) {
  this.b = a;
  this.module = b;
  this.name = c || "";
}
SI.prototype.jg = function() {
  return this.name.toUpperCase();
};
SI.prototype.getName = function() {
  return this.name;
};
function TI(a, b, c) {
  SI.call(this, a, b, c.name);
  this.a = c;
}
A(TI, SI);
h = TI.prototype;
h.jg = function() {
  return this.a.label || "";
};
h.getName = function() {
  return this.a.name || "";
};
h.kg = function() {
  var a = TE(this.b);
  return Jb(a, "Module", this.module, "Field", this.a.name) || null;
};
h.Zi = function() {
  var a = TE(this.b);
  a.Module[this.module] || (a.Module[this.module] = {});
  a = a.Module[this.module];
  a.Field || (a.Field = {});
  a.Field[this.a.name] || (a.Field[this.a.name] = {});
  return a.Field[this.a.name];
};
h.nf = function() {
  return this.a.group ? 0 <= ["name"].indexOf(this.a.group) && 0 <= ["name", "full_name"].indexOf(this.name) || "Tasks" == this.module && 0 <= ["date_due", "date_start"].indexOf(this.a.group) && 0 <= ["date_due_flag", "date_start_flag"].indexOf(this.name) || 0 <= ["amount_usdollar", "team_id", "account_id"].indexOf(this.name) ? !0 : !1 : "assigned_user_name" == this.name ? !1 : "Accounts" == this.module ? -1 == ["name", "website"].indexOf(this.name) : "Calls" == this.module ? -1 == ["name", "date_start", 
  "date_end", "status", "description"].indexOf(this.name) : "Cases" == this.module ? -1 == ["name", "description", "priority", "status", "type"].indexOf(this.name) : "Documents" == this.module ? -1 == ["document_name", "description"].indexOf(this.name) : "Meetings" == this.module ? -1 == "name date_start date_end status priority description".split(" ").indexOf(this.name) : "Opportunities" == this.module ? -1 == "name amount date_closed sales_stage account_name description lead_source".split(" ").indexOf(this.name) : 
  "Tasks" == this.module ? -1 == ["name", "status", "priority", "description"].indexOf(this.name) : -1 == ["name", "description"].indexOf(this.name);
};
h.ob = function() {
  var a = this.kg();
  return a && t(a.normallyHide) ? !!a.normallyHide : this.nf();
};
function UI(a, b, c) {
  SI.call(this, a, b, c);
}
A(UI, SI);
h = UI.prototype;
h.jg = function() {
  return UI.j.jg.call(this).toUpperCase();
};
h.kg = function() {
  var a = TE(this.b);
  return Jb(a, "Module", this.module, "Group", this.name) || null;
};
h.Zi = function() {
  var a = TE(this.b);
  a.Module[this.module] || (a.Module[this.module] = {});
  a = a.Module[this.module];
  a.Group || (a.Group = {});
  a.Group[this.name] || (a.Group[this.name] = {});
  return a.Group[this.name];
};
h.ob = function() {
  var a = this.kg();
  return a ? !!a.normallyHide : this.nf();
};
h.nf = function() {
  return 0 <= ["created_by_name", "modified_by_name", "portal", "assistant", "assigned_user_name"].indexOf(this.name) ? !0 : "Accounts" == this.module && 0 <= ["parent"].indexOf(this.name) ? !0 : "Notes" == this.module && 0 <= ["contact", "account"].indexOf(this.name) ? !0 : !1;
};
function VI(a, b, c, d, e, f, g, k, l) {
  var m, n;
  if (m = c.offsetParent) {
    var p = "HTML" == m.tagName || "BODY" == m.tagName;
    p && "static" == Qh(m, "position") || (n = Xh(m), p || (p = (p = gi(m)) && Pc ? -m.scrollLeft : !p || Oc && Yc("8") || "visible" == Qh(m, "overflowX") ? m.scrollLeft : m.scrollWidth - m.clientWidth - m.scrollLeft, n = bh(n, new ah(p, m.scrollTop))));
  }
  m = n || new ah;
  n = ci(a);
  if (p = Wh(a)) {
    var r = new Nh(p.left, p.top, p.right - p.left, p.bottom - p.top), p = Math.max(n.left, r.left), v = Math.min(n.left + n.width, r.left + r.width);
    if (p <= v) {
      var z = Math.max(n.top, r.top), r = Math.min(n.top + n.height, r.top + r.height);
      z <= r && (n.left = p, n.top = z, n.width = v - p, n.height = r - z);
    }
  }
  p = dh(a);
  z = dh(c);
  if (p.a != z.a) {
    v = p.a.body;
    var z = ph(z.a), r = new ah(0, 0), F = qh(fh(v));
    if (ed(F, "parent")) {
      var P = v;
      do {
        var U;
        F == z ? U = Xh(P) : (U = Uh(P), U = new ah(U.left, U.top));
        r.x += U.x;
        r.y += U.y;
      } while (F && F != z && F != F.parent && (P = F.frameElement) && (F = F.parent));
    }
    v = bh(r, Xh(v));
    !E || 9 <= $c || mh(p.a) || (v = bh(v, nh(p.a)));
    n.left += v.x;
    n.top += v.y;
  }
  a = WI(a, b);
  b = new ah(a & 2 ? n.left + n.width : n.left, a & 1 ? n.top + n.height : n.top);
  b = bh(b, m);
  e && (b.x += (a & 2 ? -1 : 1) * e.x, b.y += (a & 1 ? -1 : 1) * e.y);
  var W;
  if (g) {
    if (l) {
      W = l;
    } else {
      if (W = Wh(c)) {
        W.top -= m.y, W.right -= m.x, W.bottom -= m.y, W.left -= m.x;
      }
    }
  }
  return XI(b, c, d, f, W, g, k);
}
function XI(a, b, c, d, e, f, g) {
  a = a.clone();
  var k = WI(b, c);
  c = ai(b);
  g = g ? g.clone() : c.clone();
  a = a.clone();
  g = g.clone();
  var l = 0;
  if (d || 0 != k) {
    k & 2 ? a.x -= g.width + (d ? d.right : 0) : d && (a.x += d.left), k & 1 ? a.y -= g.height + (d ? d.bottom : 0) : d && (a.y += d.top);
  }
  if (f) {
    if (e) {
      d = a;
      k = g;
      l = 0;
      65 == (f & 65) && (d.x < e.left || d.x >= e.right) && (f &= -2);
      132 == (f & 132) && (d.y < e.top || d.y >= e.bottom) && (f &= -5);
      d.x < e.left && f & 1 && (d.x = e.left, l |= 1);
      if (f & 16) {
        var m = d.x;
        d.x < e.left && (d.x = e.left, l |= 4);
        d.x + k.width > e.right && (k.width = Math.min(e.right - d.x, m + k.width - e.left), k.width = Math.max(k.width, 0), l |= 4);
      }
      d.x + k.width > e.right && f & 1 && (d.x = Math.max(e.right - k.width, e.left), l |= 1);
      f & 2 && (l |= (d.x < e.left ? 16 : 0) | (d.x + k.width > e.right ? 32 : 0));
      d.y < e.top && f & 4 && (d.y = e.top, l |= 2);
      f & 32 && (m = d.y, d.y < e.top && (d.y = e.top, l |= 8), d.y + k.height > e.bottom && (k.height = Math.min(e.bottom - d.y, m + k.height - e.top), k.height = Math.max(k.height, 0), l |= 8));
      d.y + k.height > e.bottom && f & 4 && (d.y = Math.max(e.bottom - k.height, e.top), l |= 2);
      f & 8 && (l |= (d.y < e.top ? 64 : 0) | (d.y + k.height > e.bottom ? 128 : 0));
      e = l;
    } else {
      e = 256;
    }
    l = e;
  }
  f = new Nh(0, 0, 0, 0);
  f.left = a.x;
  f.top = a.y;
  f.width = g.width;
  f.height = g.height;
  e = l;
  if (e & 496) {
    return e;
  }
  Rh(b, new ah(f.left, f.top));
  g = new ch(f.width, f.height);
  c == g || c && g && c.width == g.width && c.height == g.height || (c = g, a = mh(dh(fh(b)).a), !E || Yc("10") || a && Yc("8") ? (b = b.style, Pc ? b.MozBoxSizing = "border-box" : Qc ? b.WebkitBoxSizing = "border-box" : b.boxSizing = "border-box", b.width = Math.max(c.width, 0) + "px", b.height = Math.max(c.height, 0) + "px") : (g = b.style, a ? (E ? (a = ki(b, "paddingLeft"), f = ki(b, "paddingRight"), d = ki(b, "paddingTop"), k = ki(b, "paddingBottom"), a = new Lh(d, f, k, a)) : (a = Ph(b, "paddingLeft"), 
  f = Ph(b, "paddingRight"), d = Ph(b, "paddingTop"), k = Ph(b, "paddingBottom"), a = new Lh(parseFloat(d), parseFloat(f), parseFloat(k), parseFloat(a))), b = Zh(b), g.pixelWidth = c.width - b.left - a.left - a.right - b.right, g.pixelHeight = c.height - b.top - a.top - a.bottom - b.bottom) : (g.pixelWidth = c.width, g.pixelHeight = c.height)));
  return e;
}
function WI(a, b) {
  return (b & 4 && gi(a) ? b ^ 2 : b) & -5;
}
;function YI() {
}
YI.prototype.a = function() {
};
function ZI(a, b, c) {
  this.b = a;
  this.c = b;
  this.o = c;
}
A(ZI, YI);
ZI.prototype.a = function(a, b, c) {
  VI(this.b, this.c, a, b, void 0, c, this.o);
};
function $I(a, b, c, d) {
  ZI.call(this, a, b);
  this.f = c ? 5 : 0;
  this.h = d || void 0;
}
A($I, ZI);
$I.prototype.l = function() {
  return this.f;
};
$I.prototype.J = function(a) {
  this.f = a;
};
$I.prototype.a = function(a, b, c, d) {
  var e = VI(this.b, this.c, a, b, null, c, 10, d, this.h);
  if (e & 496) {
    var f = aJ(e, this.c);
    b = aJ(e, b);
    e = VI(this.b, f, a, b, null, c, 10, d, this.h);
    e & 496 && (f = aJ(e, f), b = aJ(e, b), VI(this.b, f, a, b, null, c, this.f, d, this.h));
  }
};
function aJ(a, b) {
  a & 48 && (b ^= 2);
  a & 192 && (b ^= 1);
  return b;
}
;function bJ(a, b, c, d) {
  $I.call(this, a, b, c || d);
  (c || d) && this.J(65 | (d ? 32 : 132));
}
A(bJ, $I);
function cJ(a, b) {
  if (!a) {
    throw Error("Invalid class name " + a);
  }
  if (!ia(b)) {
    throw Error("Invalid decorator function " + b);
  }
}
var dJ = {};
function eJ(a) {
  this.a = a;
}
da(eJ);
function fJ(a, b) {
  a && (a.tabIndex = b ? 0 : -1);
}
eJ.prototype.c = function(a) {
  a = a.g();
  ii(a, !0, Pc);
  E && (a.hideFocus = !0);
  var b = this.a;
  b && tD(a, b);
};
eJ.prototype.U = function() {
  return "goog-container";
};
eJ.prototype.b = function(a) {
  var b = this.U(), c = [b, a.Pc == gJ ? b + "-horizontal" : b + "-vertical"];
  a.isEnabled() || c.push(b + "-disabled");
  return c;
};
eJ.prototype.h = function() {
  return hJ;
};
function iJ() {
}
var jJ;
da(iJ);
var kJ = {button:"pressed", checkbox:"checked", menuitem:"selected", menuitemcheckbox:"checked", menuitemradio:"checked", radio:"checked", tab:"selected", treeitem:"selected"};
h = iJ.prototype;
h.tc = function() {
};
h.Ua = function(a) {
  return a.a.w("DIV", lJ(this, a).join(" "), a.va());
};
h.Ca = function(a) {
  return a;
};
function mJ(a, b, c) {
  if (a = a.g ? a.g() : a) {
    var d = [b];
    E && !Yc("7") && (d = nJ(xD(a), b), d.push(b));
    (c ? AD : CD)(a, d);
  }
}
h.sf = function(a) {
  ZD(a) && this.kh(a.g(), !0);
  a.isEnabled() && this.Pd(a, a.aa());
};
function oJ(a, b, c) {
  if (a = c || a.tc()) {
    c = b.getAttribute("role") || null, a != c && tD(b, a);
  }
}
function pJ(a, b, c) {
  b.aa() || uD(c, "hidden", !b.aa());
  b.isEnabled() || a.Yb(c, 1, !b.isEnabled());
  qJ(b, 8) && a.Yb(c, 8, rJ(b, 8));
  qJ(b, 16) && a.Yb(c, 16, b.hb());
  qJ(b, 64) && a.Yb(c, 64, rJ(b, 64));
}
h.jh = function(a, b) {
  ii(a, !b, !E && !Mc);
};
h.kh = function(a, b) {
  mJ(a, this.U() + "-rtl", b);
};
h.ih = function(a) {
  var b;
  return qJ(a, 32) && (b = sJ(a)) ? Dh(b) && Eh(b) : !1;
};
h.Pd = function(a, b) {
  var c;
  if (qJ(a, 32) && (c = sJ(a))) {
    if (!b && rJ(a, 32)) {
      try {
        c.blur();
      } catch (d) {
      }
      rJ(a, 32) && a.uf(null);
    }
    (Dh(c) && Eh(c)) != b && Ch(c, b);
  }
};
h.re = function(a, b, c) {
  var d = a.g();
  if (d) {
    var e = this.kf(b);
    e && mJ(a, e, c);
    this.Yb(d, b, c);
  }
};
h.Yb = function(a, b, c) {
  jJ || (jJ = {1:"disabled", 8:"selected", 16:"checked", 64:"expanded"});
  b = jJ[b];
  var d = a.getAttribute("role") || null;
  d && (d = kJ[d] || b, b = "checked" == b || "selected" == b ? d : b);
  b && uD(a, b, c);
};
h.jd = function(a, b) {
  var c = this.Ca(a);
  if (c && (uh(c), b)) {
    if (w(b)) {
      zh(c, b);
    } else {
      var d = function(a) {
        if (a) {
          var b = fh(c);
          c.appendChild(w(a) ? b.createTextNode(a) : a);
        }
      };
      u(b) ? eb(b, d) : !fa(b) || "nodeType" in b ? d(b) : eb(rb(b), d);
    }
  }
};
h.oj = function(a) {
  return a.g();
};
h.U = function() {
  return "goog-control";
};
function lJ(a, b) {
  var c = a.U(), d = [c], e = a.U();
  e != c && d.push(e);
  c = b.getState();
  for (e = [];c;) {
    var f = c & -c;
    e.push(a.kf(f));
    c &= ~f;
  }
  d.push.apply(d, e);
  (c = b.Hd) && d.push.apply(d, c);
  E && !Yc("7") && d.push.apply(d, nJ(d));
  return d;
}
function nJ(a, b) {
  var c = [];
  b && (a = a.concat([b]));
  eb([], function(d) {
    !ib(d, qa(mb, a)) || b && !mb(d, b) || c.push(d.join("_"));
  });
  return c;
}
h.kf = function(a) {
  if (!this.b) {
    var b = this.U();
    b.replace(/\xa0|\s/g, " ").indexOf(" ");
    this.b = {1:b + "-disabled", 2:b + "-hover", 4:b + "-active", 8:b + "-selected", 16:b + "-checked", 32:b + "-focused", 64:b + "-open"};
  }
  return this.b[a];
};
function tJ(a, b, c) {
  V.call(this, c);
  if (!b) {
    b = this.constructor;
    for (var d;b;) {
      d = ja(b);
      if (d = dJ[d]) {
        break;
      }
      b = b.j ? b.j.constructor : null;
    }
    b = d ? ia(d.X) ? d.X() : new d : null;
  }
  this.c = b;
  this.se = t(a) ? a : null;
}
A(tJ, V);
h = tJ.prototype;
h.se = null;
h.md = 0;
h.De = 39;
h.ie = 255;
h.vd = 0;
h.mh = !0;
h.Hd = null;
h.zf = !0;
h.Bg = !1;
h.lh = null;
function uJ(a, b) {
  a.pa() && b != a.zf && vJ(a, b);
  a.zf = b;
}
function sJ(a) {
  return a.c.oj(a);
}
function wJ(a, b) {
  b && (a.Hd ? mb(a.Hd, b) || a.Hd.push(b) : a.Hd = [b], mJ(a, b, !0));
}
h.B = function() {
  var a = this.c.Ua(this);
  this.K = a;
  oJ(this.c, a, this.tf());
  this.Bg || this.c.jh(a, !1);
  this.aa() || (R(a, !1), a && uD(a, "hidden", !0));
};
h.tf = function() {
  return this.lh;
};
h.T = function() {
  return this.c.Ca(this.g());
};
h.A = function() {
  tJ.j.A.call(this);
  pJ(this.c, this, this.K);
  this.c.sf(this);
  if (this.De & -2 && (this.zf && vJ(this, !0), qJ(this, 32))) {
    var a = sJ(this);
    if (a) {
      var b = this.s || (this.s = new tH);
      uH(b, a);
      X(this).listen(b, "key", this.$a).listen(a, "focus", this.xl).listen(a, "blur", this.uf);
    }
  }
};
function vJ(a, b) {
  var c = X(a), d = a.g();
  b ? (c.listen(d, "mouseover", a.Qd).listen(d, "mousedown", a.ld).listen(d, "mouseup", a.uc).listen(d, "mouseout", a.Af), a.we != ca && c.listen(d, "contextmenu", a.we), E && (c.listen(d, "dblclick", a.wj), a.W || (a.W = new xJ(a), Jc(a, qa(Kc, a.W))))) : (c.ca(d, "mouseover", a.Qd).ca(d, "mousedown", a.ld).ca(d, "mouseup", a.uc).ca(d, "mouseout", a.Af), a.we != ca && c.ca(d, "contextmenu", a.we), E && (c.ca(d, "dblclick", a.wj), Kc(a.W), a.W = null));
}
h.ya = function() {
  tJ.j.ya.call(this);
  this.s && AH(this.s);
  this.aa() && this.isEnabled() && this.c.Pd(this, !1);
};
h.I = function() {
  tJ.j.I.call(this);
  this.s && (this.s.O(), delete this.s);
  delete this.c;
  this.W = this.Hd = this.se = null;
};
h.va = function() {
  return this.se;
};
function yJ(a, b) {
  a.c.jd(a.g(), b);
  a.se = b;
}
h.Kd = function() {
  var a = this.va();
  if (!a) {
    return "";
  }
  if (!w(a)) {
    if (u(a)) {
      a = gb(a, Fh).join("");
    } else {
      if ($g && "innerText" in a) {
        a = a.innerText.replace(/(\r\n|\r|\n)/g, "\n");
      } else {
        var b = [];
        Gh(a, b, !0);
        a = b.join("");
      }
      a = a.replace(/ \xAD /g, " ").replace(/\xAD/g, "");
      a = a.replace(/\u200B/g, "");
      $g || (a = a.replace(/ +/g, " "));
      " " != a && (a = a.replace(/^\s*/, ""));
    }
  }
  return Aa(a);
};
h.aa = function() {
  return this.mh;
};
h.Va = function(a, b) {
  if (b || this.mh != a && I(this, a ? "show" : "hide")) {
    var c = this.g();
    c && (R(c, a), c && uD(c, "hidden", !a));
    this.isEnabled() && this.c.Pd(this, a);
    this.mh = a;
    return !0;
  }
  return !1;
};
h.isEnabled = function() {
  return !rJ(this, 1);
};
h.setEnabled = function(a) {
  var b = this.la();
  b && "function" == typeof b.isEnabled && !b.isEnabled() || !zJ(this, 1, !a) || (a || (AJ(this, !1), this.xb(!1)), this.aa() && this.c.Pd(this, a), BJ(this, 1, !a, !0));
};
h.xb = function(a) {
  zJ(this, 2, a) && BJ(this, 2, a);
};
function AJ(a, b) {
  zJ(a, 4, b) && BJ(a, 4, b);
}
h.Zd = function(a) {
  zJ(this, 8, a) && BJ(this, 8, a);
};
h.hb = function() {
  return rJ(this, 16);
};
h.Qa = function(a) {
  zJ(this, 16, a) && BJ(this, 16, a);
};
h.Da = function(a) {
  zJ(this, 64, a) && BJ(this, 64, a);
};
h.getState = function() {
  return this.md;
};
function rJ(a, b) {
  return !!(a.md & b);
}
function BJ(a, b, c, d) {
  d || 1 != b ? qJ(a, b) && c != rJ(a, b) && (a.c.re(a, b, c), a.md = c ? a.md | b : a.md & ~b) : a.setEnabled(!c);
}
function qJ(a, b) {
  return !!(a.De & b);
}
h.Ka = function(a, b) {
  if (this.pa() && rJ(this, a) && !b) {
    throw Error("Component already rendered");
  }
  !b && rJ(this, a) && BJ(this, a, !1);
  this.De = b ? this.De | a : this.De & ~a;
};
function CJ(a, b) {
  return !!(a.ie & b) && qJ(a, b);
}
function zJ(a, b, c) {
  return qJ(a, b) && rJ(a, b) != c && (!(a.vd & b) || I(a, TD(b, c))) && !a.J;
}
h.Qd = function(a) {
  !DJ(a, this.g()) && I(this, "enter") && this.isEnabled() && CJ(this, 2) && this.xb(!0);
};
h.Af = function(a) {
  !DJ(a, this.g()) && I(this, "leave") && (CJ(this, 4) && AJ(this, !1), CJ(this, 2) && this.xb(!1));
};
h.we = ca;
function DJ(a, b) {
  return !!a.f && yh(b, a.f);
}
h.ld = function(a) {
  this.isEnabled() && (CJ(this, 2) && this.xb(!0), hd(a) && (CJ(this, 4) && AJ(this, !0), this.c && this.c.ih(this) && sJ(this).focus()));
  !this.Bg && hd(a) && a.preventDefault();
};
h.uc = function(a) {
  this.isEnabled() && (CJ(this, 2) && this.xb(!0), rJ(this, 4) && this.zb(a) && CJ(this, 4) && AJ(this, !1));
};
h.wj = function(a) {
  this.isEnabled() && this.zb(a);
};
h.zb = function(a) {
  CJ(this, 16) && this.Qa(!this.hb());
  CJ(this, 8) && this.Zd(!0);
  CJ(this, 64) && this.Da(!rJ(this, 64));
  var b = new G("action", this);
  a && (b.altKey = a.altKey, b.ctrlKey = a.ctrlKey, b.metaKey = a.metaKey, b.shiftKey = a.shiftKey, b.J = a.J);
  return I(this, b);
};
h.xl = function() {
  CJ(this, 32) && zJ(this, 32, !0) && BJ(this, 32, !0);
};
h.uf = function() {
  CJ(this, 4) && AJ(this, !1);
  CJ(this, 32) && zJ(this, 32, !1) && BJ(this, 32, !1);
};
h.$a = function(a) {
  return this.aa() && this.isEnabled() && this.kd(a) ? (a.preventDefault(), a.stopPropagation(), !0) : !1;
};
h.kd = function(a) {
  return 13 == a.a && this.zb(a);
};
if (!ia(tJ)) {
  throw Error("Invalid component class " + tJ);
}
if (!ia(iJ)) {
  throw Error("Invalid renderer class " + iJ);
}
var EJ = ja(tJ);
dJ[EJ] = iJ;
cJ("goog-control", function() {
  return new tJ(null);
});
function xJ(a) {
  Gc.call(this);
  this.b = a;
  this.a = !1;
  this.c = new zf(this);
  Jc(this, qa(Kc, this.c));
  a = this.b.K;
  this.c.listen(a, "mousedown", this.h).listen(a, "mouseup", this.l).listen(a, "click", this.f);
}
A(xJ, Gc);
xJ.prototype.h = function() {
  this.a = !1;
};
xJ.prototype.l = function() {
  this.a = !0;
};
xJ.prototype.f = function(a) {
  if (this.a) {
    this.a = !1;
  } else {
    var b = a.c, c = b.button, d = b.type;
    b.button = 0;
    b.type = "mousedown";
    this.b.ld(new fd(b, a.b));
    b.type = "mouseup";
    this.b.uc(new fd(b, a.b));
    b.button = c;
    b.type = d;
  }
};
xJ.prototype.I = function() {
  this.b = null;
  xJ.j.I.call(this);
};
function FJ(a, b, c) {
  V.call(this, c);
  this.fd = b || eJ.X();
  this.Pc = a || this.fd.h();
}
A(FJ, V);
var gJ = "horizontal", hJ = "vertical";
h = FJ.prototype;
h.Fh = null;
h.ed = null;
h.fd = null;
h.Pc = null;
h.Jc = !0;
h.dd = !0;
h.Jd = !0;
h.Ga = -1;
h.Ia = null;
h.yb = !1;
h.ec = null;
function GJ(a) {
  return a.Fh || a.g();
}
h.B = function() {
  this.K = this.a.w("DIV", this.fd.b(this).join(" "));
};
h.T = function() {
  return this.g();
};
h.A = function() {
  FJ.j.A.call(this);
  YD(this, function(a) {
    a.pa() && HJ(this, a);
  }, this);
  var a = this.g();
  this.fd.c(this);
  this.hd(this.Jc, !0);
  X(this).listen(this, "enter", this.rh).listen(this, "highlight", this.ul).listen(this, "unhighlight", this.wl).listen(this, "open", this.Sl).listen(this, "close", this.tl).listen(a, "mousedown", this.vl).listen(fh(a), "mouseup", this.Hl).listen(a, ["mousedown", "mouseup", "mouseover", "mouseout", "contextmenu"], this.El);
  this.Jd && IJ(this, !0);
};
function IJ(a, b) {
  var c = X(a), d = GJ(a);
  b ? c.listen(d, "focus", a.qe).listen(d, "blur", a.nj).listen(a.ed || (a.ed = new tH(GJ(a))), "key", a.$a) : c.ca(d, "focus", a.qe).ca(d, "blur", a.nj).ca(a.ed || (a.ed = new tH(GJ(a))), "key", a.$a);
}
h.ya = function() {
  this.rb(-1);
  this.Ia && this.Ia.Da(!1);
  this.yb = !1;
  FJ.j.ya.call(this);
};
h.I = function() {
  FJ.j.I.call(this);
  this.ed && (this.ed.O(), this.ed = null);
  this.fd = this.Ia = this.ec = this.Fh = null;
};
h.rh = function() {
  return !0;
};
h.ul = function(a) {
  var b = $D(this, a.target);
  if (-1 < b && b != this.Ga) {
    var c = JJ(this);
    c && c.xb(!1);
    this.Ga = b;
    c = JJ(this);
    this.yb && AJ(c, !0);
    this.Ia && c != this.Ia && (qJ(c, 64) ? c.Da(!0) : this.Ia.Da(!1));
  }
  b = this.g();
  null != a.target.g() && uD(b, "activedescendant", a.target.g().id);
};
h.wl = function(a) {
  a.target == JJ(this) && (this.Ga = -1);
  this.g().removeAttribute("aria-activedescendant");
};
h.Sl = function(a) {
  (a = a.target) && a != this.Ia && a.la() == this && (this.Ia && this.Ia.Da(!1), this.Ia = a);
};
h.tl = function(a) {
  a.target == this.Ia && (this.Ia = null);
  var b = this.g(), c = a.target.g();
  b && rJ(a.target, 2) && c && wD(b, c);
};
h.vl = function(a) {
  this.dd && (this.yb = !0);
  var b = GJ(this);
  b && Dh(b) && Eh(b) ? b.focus() : a.preventDefault();
};
h.Hl = function() {
  this.yb = !1;
};
h.El = function(a) {
  var b;
  a: {
    b = a.target;
    if (this.ec) {
      for (var c = this.g();b && b !== c;) {
        var d = b.id;
        if (d in this.ec) {
          b = this.ec[d];
          break a;
        }
        b = b.parentNode;
      }
    }
    b = null;
  }
  if (b) {
    switch(a.type) {
      case "mousedown":
        b.ld(a);
        break;
      case "mouseup":
        b.uc(a);
        break;
      case "mouseover":
        b.Qd(a);
        break;
      case "mouseout":
        b.Af(a);
        break;
      case "contextmenu":
        b.we(a);
    }
  }
};
h.qe = function() {
};
h.nj = function() {
  this.rb(-1);
  this.yb = !1;
  this.Ia && this.Ia.Da(!1);
};
h.$a = function(a) {
  return this.isEnabled() && this.aa() && (0 != Y(this) || this.Fh) && this.hh(a) ? (a.preventDefault(), a.stopPropagation(), !0) : !1;
};
h.hh = function(a) {
  var b = JJ(this);
  if (b && "function" == typeof b.$a && b.$a(a) || this.Ia && this.Ia != b && "function" == typeof this.Ia.$a && this.Ia.$a(a)) {
    return !0;
  }
  if (a.shiftKey || a.ctrlKey || a.metaKey || a.altKey) {
    return !1;
  }
  switch(a.a) {
    case 27:
      if (this.Jd) {
        GJ(this).blur();
      } else {
        return !1;
      }
      break;
    case 36:
      KJ(this);
      break;
    case 35:
      LJ(this);
      break;
    case 38:
      if (this.Pc == hJ) {
        MJ(this);
      } else {
        return !1;
      }
      break;
    case 37:
      if (this.Pc == gJ) {
        ZD(this) ? NJ(this) : MJ(this);
      } else {
        return !1;
      }
      break;
    case 40:
      if (this.Pc == hJ) {
        NJ(this);
      } else {
        return !1;
      }
      break;
    case 39:
      if (this.Pc == gJ) {
        ZD(this) ? MJ(this) : NJ(this);
      } else {
        return !1;
      }
      break;
    default:
      return !1;
  }
  return !0;
};
function HJ(a, b) {
  var c = b.g(), c = c.id || (c.id = b.N());
  a.ec || (a.ec = {});
  a.ec[c] = b;
}
h.H = function(a, b) {
  FJ.j.H.call(this, a, b);
};
h.bc = function(a, b, c) {
  a.vd |= 2;
  a.vd |= 64;
  a.Ka(32, !1);
  uJ(a, !1);
  var d = a.la() == this ? $D(this, a) : -1;
  FJ.j.bc.call(this, a, b, c);
  a.pa() && this.pa() && HJ(this, a);
  a = d;
  -1 == a && (a = Y(this));
  a == this.Ga ? this.Ga = Math.min(Y(this) - 1, b) : a > this.Ga && b <= this.Ga ? this.Ga++ : a < this.Ga && b > this.Ga && this.Ga--;
};
h.removeChild = function(a, b) {
  if (a = w(a) ? WD(this, a) : a) {
    var c = $D(this, a);
    -1 != c && (c == this.Ga ? (a.xb(!1), this.Ga = -1) : c < this.Ga && this.Ga--);
    var d = a.g();
    d && d.id && this.ec && (c = this.ec, d = d.id, d in c && delete c[d]);
  }
  a = FJ.j.removeChild.call(this, a, b);
  uJ(a, !0);
  return a;
};
h.aa = function() {
  return this.Jc;
};
h.hd = function(a, b) {
  if (b || this.Jc != a && I(this, a ? "show" : "hide")) {
    this.Jc = a;
    var c = this.g();
    c && (R(c, a), this.Jd && fJ(GJ(this), this.dd && this.Jc), b || I(this, this.Jc ? "aftershow" : "afterhide"));
    return !0;
  }
  return !1;
};
h.isEnabled = function() {
  return this.dd;
};
h.setEnabled = function(a) {
  this.dd != a && I(this, a ? "enable" : "disable") && (a ? (this.dd = !0, YD(this, function(a) {
    a.Bk ? delete a.Bk : a.setEnabled(!0);
  })) : (YD(this, function(a) {
    a.isEnabled() ? a.setEnabled(!1) : a.Bk = !0;
  }), this.yb = this.dd = !1), this.Jd && fJ(GJ(this), a && this.Jc));
};
function OJ(a, b) {
  b != a.Jd && a.pa() && IJ(a, b);
  a.Jd = b;
  a.dd && a.Jc && fJ(GJ(a), b);
}
h.rb = function(a) {
  (a = Z(this, a)) ? a.xb(!0) : -1 < this.Ga && JJ(this).xb(!1);
};
function JJ(a) {
  return Z(a, a.Ga);
}
function KJ(a) {
  PJ(a, function(a, c) {
    return (a + 1) % c;
  }, Y(a) - 1);
}
function LJ(a) {
  PJ(a, function(a, c) {
    a--;
    return 0 > a ? c - 1 : a;
  }, 0);
}
function NJ(a) {
  PJ(a, function(a, c) {
    return (a + 1) % c;
  }, a.Ga);
}
function MJ(a) {
  PJ(a, function(a, c) {
    a--;
    return 0 > a ? c - 1 : a;
  }, a.Ga);
}
function PJ(a, b, c) {
  c = 0 > c ? $D(a, a.Ia) : c;
  var d = Y(a);
  c = b.call(a, c, d);
  for (var e = 0;e <= d;) {
    var f = Z(a, c);
    if (f && a.Oi(f)) {
      a.bi(c);
      break;
    }
    e++;
    c = b.call(a, c, d);
  }
}
h.Oi = function(a) {
  return a.aa() && a.isEnabled() && qJ(a, 2);
};
h.bi = function(a) {
  this.rb(a);
};
function QJ() {
}
A(QJ, iJ);
da(QJ);
QJ.prototype.U = function() {
  return "goog-menuheader";
};
function RJ(a, b, c) {
  tJ.call(this, a, c || QJ.X(), b);
  this.Ka(1, !1);
  this.Ka(2, !1);
  this.Ka(4, !1);
  this.Ka(32, !1);
  this.md = 1;
}
A(RJ, tJ);
cJ("goog-menuheader", function() {
  return new RJ(null);
});
function SJ() {
  this.a = [];
}
A(SJ, iJ);
da(SJ);
function TJ(a, b) {
  var c = a.a[b];
  if (!c) {
    switch(b) {
      case 0:
        c = a.U() + "-highlight";
        break;
      case 1:
        c = a.U() + "-checkbox";
        break;
      case 2:
        c = a.U() + "-content";
    }
    a.a[b] = c;
  }
  return c;
}
h = SJ.prototype;
h.tc = function() {
  return "menuitem";
};
h.Ua = function(a) {
  var b = a.a.w("DIV", lJ(this, a).join(" "), UJ(this, a.va(), a.a));
  VJ(this, a, b, qJ(a, 8) || qJ(a, 16));
  return b;
};
h.Ca = function(a) {
  return a && a.firstChild;
};
h.jd = function(a, b) {
  var c = this.Ca(a), d = WJ(this, a) ? c.firstChild : null;
  SJ.j.jd.call(this, a, b);
  d && !WJ(this, a) && c.insertBefore(d, c.firstChild || null);
};
function UJ(a, b, c) {
  a = TJ(a, 2);
  return c.w("DIV", a, b);
}
function WJ(a, b) {
  var c = a.Ca(b);
  if (c) {
    var c = c.firstChild, d = TJ(a, 1);
    return !!c && xh(c) && yD(c, d);
  }
  return !1;
}
function VJ(a, b, c, d) {
  oJ(a, c, b.tf());
  pJ(a, b, c);
  d != WJ(a, c) && (d ? zD(c, "goog-option") : BD(c, "goog-option"), c = a.Ca(c), d ? (a = TJ(a, 1), c.insertBefore(b.a.w("DIV", a), c.firstChild || null)) : c.removeChild(c.firstChild));
}
h.kf = function(a) {
  switch(a) {
    case 2:
      return TJ(this, 0);
    case 16:
    ;
    case 8:
      return "goog-option-selected";
    default:
      return SJ.j.kf.call(this, a);
  }
};
h.U = function() {
  return "goog-menuitem";
};
function XJ(a, b, c, d) {
  tJ.call(this, a, d || SJ.X(), c);
  this.Z(b);
}
A(XJ, tJ);
h = XJ.prototype;
h.Y = function() {
  var a = this.m();
  return null != a ? a : this.Kd();
};
h.Ka = function(a, b) {
  XJ.j.Ka.call(this, a, b);
  switch(a) {
    case 8:
      this.hb() && !b && this.Qa(!1);
      var c = this.g();
      c && this && c && VJ(this.c, this, c, b);
      break;
    case 16:
      (c = this.g()) && this && c && VJ(this.c, this, c, b);
  }
};
h.Kd = function() {
  var a = this.va();
  return u(a) ? (a = gb(a, function(a) {
    return xh(a) && (yD(a, "goog-menuitem-accel") || yD(a, "goog-menuitem-mnemonic-separator")) ? "" : Fh(a);
  }).join(""), Aa(a)) : XJ.j.Kd.call(this);
};
h.uc = function(a) {
  var b = this.la();
  if (b) {
    var c = b.c;
    b.c = null;
    if (b = c && ha(a.clientX)) {
      b = new ah(a.clientX, a.clientY), b = c == b ? !0 : c && b ? c.x == b.x && c.y == b.y : !1;
    }
    if (b) {
      return;
    }
  }
  XJ.j.uc.call(this, a);
};
h.kd = function(a) {
  return a.a == this.Th && this.zb(a) ? !0 : XJ.j.kd.call(this, a);
};
h.ql = function() {
  return this.Th;
};
cJ("goog-menuitem", function() {
  return new XJ(null);
});
XJ.prototype.tf = function() {
  return qJ(this, 16) ? "menuitemcheckbox" : qJ(this, 8) ? "menuitemradio" : XJ.j.tf.call(this);
};
XJ.prototype.la = function() {
  return tJ.prototype.la.call(this);
};
XJ.prototype.Md = function() {
  return tJ.prototype.Md.call(this);
};
function YJ() {
}
A(YJ, iJ);
da(YJ);
YJ.prototype.Ua = function(a) {
  return a.a.w("DIV", this.U());
};
YJ.prototype.jd = function() {
};
YJ.prototype.U = function() {
  return "goog-menuseparator";
};
function ZJ(a, b) {
  tJ.call(this, null, a || YJ.X(), b);
  this.Ka(1, !1);
  this.Ka(2, !1);
  this.Ka(4, !1);
  this.Ka(32, !1);
  this.md = 1;
}
A(ZJ, tJ);
ZJ.prototype.A = function() {
  ZJ.j.A.call(this);
  var a = this.g();
  tD(a, "separator");
};
cJ("goog-menuseparator", function() {
  return new ZJ;
});
function $J(a) {
  this.a = a || "menu";
}
A($J, eJ);
da($J);
$J.prototype.gc = function(a, b) {
  return yh(a.g(), b);
};
$J.prototype.U = function() {
  return "goog-menu";
};
$J.prototype.c = function(a) {
  $J.j.c.call(this, a);
  a = a.g();
  uD(a, "haspopup", "true");
};
function aK(a) {
  ZJ.call(this, YJ.X(), a);
}
A(aK, ZJ);
cJ("goog-menuseparator", function() {
  return new ZJ;
});
function bK(a, b) {
  FJ.call(this, hJ, b || $J.X(), a);
  OJ(this, !1);
}
A(bK, FJ);
h = bK.prototype;
h.Ne = !0;
h.U = function() {
  return this.fd.U();
};
h.gc = function(a) {
  if (this.fd.gc(this, a)) {
    return !0;
  }
  for (var b = 0, c = Y(this);b < c;b++) {
    var d = Z(this, b);
    if ("function" == typeof d.gc && d.gc(a)) {
      return !0;
    }
  }
  return !1;
};
h.cd = function() {
  var a = [];
  YD(this, function(b) {
    a.push(b);
  });
  return a;
};
h.hd = function(a, b, c) {
  (b = bK.j.hd.call(this, a, b)) && a && this.pa() && this.Ne && GJ(this).focus();
  a && c && ha(c.clientX) ? this.c = new ah(c.clientX, c.clientY) : this.c = null;
  return b;
};
h.rh = function(a) {
  this.Ne && GJ(this).focus();
  return bK.j.rh.call(this, a);
};
h.Oi = function(a) {
  return a.isEnabled() && a.aa() && qJ(a, 2);
};
h.hh = function(a) {
  var b = bK.j.hh.call(this, a);
  b || YD(this, function(c) {
    !b && c.ql && c.Th == a.a && (this.isEnabled() && this.rb($D(this, c)), b = c.$a(a));
  }, this);
  return b;
};
h.rb = function(a) {
  bK.j.rb.call(this, a);
  (a = Z(this, a)) && Yh(a.g(), this.g());
};
function cK(a, b) {
  G.call(this, "field-change", b);
  this.f = a;
}
A(cK, G);
function dK(a, b) {
  G.call(this, "action", b);
  this.f = a;
}
A(dK, G);
function eK() {
}
da(eK);
h = eK.prototype;
h.U = function() {
  return "field";
};
function fK(a, b) {
  var c = "ydnf-" + (a + "-" + b.name);
  if (b.options) {
    if (!document.getElementById(c)) {
      var d = document.createElement("datalist");
      d.id = c;
      for (var e in b.options) {
        if (e) {
          var f = document.createElement("option");
          f.setAttribute("value", e);
          d.appendChild(f);
        }
      }
      document.body.appendChild(d);
    }
    return c;
  }
  return null;
}
h.Zb = function(a) {
  var b = a.m(), c = a.a.w("div");
  c.classList.add(this.U());
  c.setAttribute("name", b.Pa());
  return a.K = c;
};
h.refresh = function(a) {
  var b = a.g(), c = a.m();
  R(b, !!c);
  if (c) {
    var d = c.Uc();
    b.textContent = d;
    (d = px(c)) ? b.setAttribute("data-tooltip", d) : b.removeAttribute("data-tooltip");
    c.dg() ? b.classList.remove("empty") : b.classList.add("empty");
    !nx(c) && gK(a).ob() ? b.classList.add("normally-hide") : b.classList.remove("normally-hide");
  }
};
h.Dd = function(a) {
  return a.T().textContent;
};
h.eg = function(a, b) {
  a.T().textContent = null != b ? b : "";
};
h.He = function(a) {
  return a.g().querySelector("input");
};
function hK() {
}
A(hK, eK);
da(hK);
hK.prototype.Zb = function(a) {
  var b = hK.j.Zb.call(this, a), c = a.m();
  a = a.a;
  var d = px(c), c = rx(c), e = RD(QD.X()), f = a.w("input", {type:"checkbox", id:e});
  a = a.w("label", {"for":e}, d);
  c && f.setAttribute("disabled", "true");
  f.classList.add("value");
  b.appendChild(f);
  b.appendChild(a);
  return b;
};
hK.prototype.refresh = function(a) {
  var b = a.g(), c = a.m();
  R(b, !!c);
  if (c) {
    var d = c.nc(), e = w(d) ? !za(d) : null != d, f = b.querySelector(".value");
    "bool" != qx(c) || ga(d) || (d = "1" == d || "on" == d || "true" == d ? !0 : !1);
    f.checked = d;
    e ? b.classList.remove("empty") : b.classList.add("empty");
    !nx(c) && gK(a).ob() && b.classList.add("normally-hide");
  }
};
hK.prototype.Dd = function(a) {
  return a.T().querySelector(".value").checked;
};
hK.prototype.eg = function(a, b) {
  var c = a.T().querySelector(".value");
  "bool" != qx(a.m()) || ga(b) || (b = "1" == b || "on" == b || "true" == b ? !0 : !1);
  c.checked = b;
};
function iK(a, b, c) {
  this.M = new zf(this);
  this.a = document.createElement("dialog");
  var d = document.createElement("div");
  d.className = "header";
  var e = document.createElement("div");
  e.className = "ydn-content";
  var f = document.createElement("div");
  f.className = "button-bar";
  var g = document.createElement("h3");
  g.textContent = a;
  d.appendChild(g);
  w(b) ? (a = document.createElement("div"), a.textContent = b, e.appendChild(a)) : b && e.appendChild(b);
  for (b = 0;b < c.length;b++) {
    a = c[b], g = document.createElement("button"), a.Bh && (g.classList.add("default"), g.setAttribute("autofocus", "autofocus")), g.value = a.name, g.textContent = a.label, this.M.listen(g, "click", this.J), f.appendChild(g);
  }
  this.M.listen(this.a, "cancel", this.F);
  this.a.appendChild(d);
  this.a.appendChild(e);
  this.a.appendChild(f);
  this.a.className = "ydn-crm";
  document.body.appendChild(this.a);
}
iK.prototype.F = function() {
  this.a.close("cancel");
};
iK.prototype.J = function(a) {
  this.a.close(a.target.value);
};
iK.prototype.O = function() {
  this.a && (this.M.O(), this.M = null, this.a.onclose = null, document.body.removeChild(this.a), this.a = null);
};
function jK(a) {
  return a.a.querySelector(".ydn-content");
}
function kK() {
  return [{name:"ok", label:"OK", Bh:!0}];
}
function lK(a, b) {
  return [{name:"ok", label:a || "OK", Bh:!0}, {name:"cancel", label:b || "Cancel", dm:!0}];
}
function XE(a, b, c) {
  var d = new iK(a, b, c || kK()), e = new B;
  d.a.onclose = function() {
    e.callback(d.a.returnValue);
    d.O();
  };
  d.a.showModal();
  return e;
}
;function mK(a, b, c) {
  iK.call(this, a, b, c);
}
A(mK, iK);
function nK(a) {
  var b = a.title || "Edit record fields", c = document.createElement("div");
  oK(c, a);
  var d = new mK(b, c, lK()), e = new B;
  d.a.onclose = function() {
    "ok" == d.a.returnValue ? e.callback(jK(d)) : e.C(d.a.returnValue);
    d.O();
  };
  d.a.showModal();
  return e;
}
function oK(a, b) {
  a.classList.add("ydn-crm");
  for (var c = document.createElement("tbody"), d = 0;d < b.eb.length;d++) {
    var e = b.eb[d], f = document.createElement("tr");
    f.className = "field";
    f.setAttribute("name", e.name);
    var g = document.createElement("td"), k = document.createElement("td");
    f.appendChild(g);
    f.appendChild(k);
    g.className = "name";
    k.className = "value";
    g.textContent = e.label;
    "textarea" == e.type ? (g = document.createElement("textarea"), g.value = e.value, g.setAttribute("rows", "3")) : (g = document.createElement("input"), e.type && (g.type = e.type), YC(g, e.value), e.Nh && g.setAttribute("list", e.Nh));
    k.appendChild(g);
    c.appendChild(f);
  }
  d = document.createElement("table");
  d.appendChild(c);
  c = document.createElement("div");
  c.className = "field-edit-dialog";
  c.appendChild(d);
  a.appendChild(c);
}
;function pK() {
}
A(pK, eK);
da(pK);
pK.prototype.Zb = function(a) {
  var b = pK.j.Zb.call(this, a), c = a.m();
  a = a.a;
  var d = px(c), e = "text", e = qx(c), e = rx(c) ? "text" : "datetimecombo" == e || "datetime" == e ? "datetime-local" : "int" == e ? "number" : "date" == e ? "date" : "text", d = a.w("input", {type:e, "class":"value", "data-tooltip":d, placeholder:d});
  (e = c.Ac()) && "1" == e.required && d.setAttribute("required", "");
  b.appendChild(d);
  rx(c) && d.setAttribute("disabled", "1");
  c = c.mf();
  0 < c.length && (a = a.w("div", {"class":"hover-button more-menu"}), b.appendChild(a), Zw(a, c));
  return b;
};
pK.prototype.refresh = function(a) {
  var b = a.g(), c = a.m();
  R(b, !!c);
  if (c) {
    var d = b.querySelector(".value"), e = c.Uc();
    if (!e) {
      var f = ox(c);
      null === f || (e = f);
    }
    e ? ("datetime-local" == d.type && (e = vu(e)), d.value = e, b.classList.remove("empty")) : (d.value = "", b.classList.add("empty"));
    if (d = b.querySelector(".more-menu")) {
      d.innerHTML = "", e = c.mf(), Zw(d, e);
    }
    !nx(c) && gK(a).ob() && b.classList.add("normally-hide");
  }
};
pK.prototype.Dd = function(a) {
  a = a.T().querySelector(".value");
  a = "datetime-local" == a.type ? (a = a.valueAsNumber) ? uu(new Date(a + 6E4 * (new Date).getTimezoneOffset())) : "" : a.value;
  return a;
};
pK.prototype.eg = function(a, b) {
  var c = a.T().querySelector(".value");
  if (b) {
    if ("datetime-local" == c.type) {
      var d = vu(b);
      c.value = d;
    } else {
      c.value = b;
    }
  } else {
    c.value = "";
  }
};
function qK() {
}
A(qK, eK);
da(qK);
h = qK.prototype;
h.Zb = function(a) {
  var b = qK.j.Zb.call(this, a), c = a.m(), d = a.a, e = px(c);
  a = d.w("select", {"class":"value"});
  var d = d.w("span", "label", e), c = c.Ac(), f;
  for (f in c.options) {
    if (f) {
      var e = document.createElement("option"), g = c.options[f];
      if (g) {
        var k = g.name && x(g.name) ? "" : g.name;
        e.setAttribute("value", g.value && x(g.value) ? "" : g.value);
        e.setAttribute("name", k);
        e.textContent = k;
        a.appendChild(e);
      }
    }
  }
  b.appendChild(d);
  b.appendChild(a);
  return b;
};
h.refresh = function(a) {
  var b = a.g(), c = a.m();
  R(b, !!c);
  if (c) {
    var d = b.querySelector("select"), e = c.Uc();
    d.value = e;
    (d = px(c)) ? b.setAttribute("data-tooltip", d) : b.removeAttribute("data-tooltip");
    c.dg() ? b.classList.remove("empty") : b.classList.add("empty");
    !nx(c) && gK(a).ob() ? b.classList.add("normally-hide") : b.classList.remove("normally-hide");
  }
};
h.He = function(a) {
  return a.g().querySelector("select");
};
h.Dd = function(a) {
  return this.He(a).value;
};
h.eg = function(a, b) {
  this.He(a).value = null != b ? b : "";
};
function rK() {
}
A(rK, eK);
da(rK);
rK.prototype.Zb = function(a) {
  var b = rK.j.Zb.call(this, a), c = a.a;
  a = px(a.m());
  c = c.w("TEXTAREA", {"class":"value", "data-tooltip":a, rows:"4", placeholder:a});
  b.appendChild(c);
  return b;
};
rK.prototype.refresh = function(a) {
  var b = a.g(), c = a.m();
  R(b, !!c);
  if (c) {
    var d = c.Uc(), e = w(d) ? !za(d) : null != d;
    b.querySelector(".value").value = e ? d : "";
    e ? b.classList.remove("empty") : b.classList.add("empty");
    !nx(c) && gK(a).ob() && b.classList.add("normally-hide");
  }
};
rK.prototype.Dd = function(a) {
  a = a.T().querySelector(".value");
  return "LABEL" == a.tagName || "SPAN" == a.tagName || "DIV" == a.tagName ? a.textContent : "checkbox" == a.type ? a.checked : a.value;
};
rK.prototype.He = function(a) {
  return a.g().querySelector("TEXTAREA");
};
function sK(a, b, c) {
  V.call(this, c);
  b || (b = qx(a), b = "bool" == b ? hK.X() : "text" == b ? rK.X() : "enum" == b ? qK.X() : pK.X());
  this.b = b;
  this.Z(a);
}
A(sK, V);
function gK(a) {
  a = a.m();
  var b = GE.X();
  return new TI(b, Rx(a.parent.module), a.Ac());
}
h = sK.prototype;
h.B = function() {
  this.b.Zb(this);
};
h.A = function() {
  var a = this.b.He(this);
  a && X(this).listen(a, "blur", this.up);
  (a = this.g().getElementsByClassName("more-menu")[0] || null) && X(this).listen(a, "click", this.jn);
};
h.jn = function(a) {
  a = a.target;
  var b = Jh(a, "goog-menuitem").getAttribute("name");
  if (b) {
    b = new dK(b, this);
    I(this, b);
    var c = Jh(a, "more-menu");
    R(c, !1);
    setTimeout(function() {
      R(c, !0);
    }, 1E3);
    b.o || ("remove" == b.f ? (a = this.Yi(), I(this, new cK(a, this))) : b.f == lx && tK(this));
  }
};
function uK(a) {
  var b = a.m();
  a = a.m();
  a = fK(Rx(a.parent.module), a.Ac());
  return {eb:[{label:px(b), name:b.Pa(), value:b.Uc(), type:qx(b), Nh:a}]};
}
function tK(a) {
  nK(uK(a)).u(function(a) {
    a = a.querySelectorAll(".field");
    for (var c = {}, d = 0;d < a.length;d++) {
      var e = a[d].getAttribute("name");
      c[e] = a[d].querySelector(".value").value;
    }
    c && 0 < Object.keys(c).length && I(this, new cK(c, this));
  }, function() {
  }, a);
}
h.up = function() {
  var a = vK(this);
  null !== a && (a = this.m().Fk(a)) && I(this, new cK(a, this));
};
h.Yi = function() {
  var a = {};
  a[this.m().Pa()] = "";
  return a;
};
h.Pa = function() {
  return this.m().Pa();
};
h.refresh = function() {
  this.b.refresh(this);
};
h.reset = function() {
  wK(this, gK(this).ob());
};
h.Y = function() {
  return this.m().nc();
};
function xK(a) {
  var b = a.m();
  if (rx(b)) {
    return !1;
  }
  var c = b.nc();
  null != c || (c = b.parent.cg(b.a));
  a = vK(a);
  return c != a;
}
function vK(a) {
  var b = a.b.Dd(a);
  a = a.m();
  var c = void 0;
  if (a.dg()) {
    c = a.nc();
  } else {
    var d = a.parent.cg(a.a);
    null != d && (c = d);
  }
  if ("bool" == qx(a) && t(c) && !ga(c)) {
    if ("on" == c || "off" == c) {
      b = b ? "on" : "off";
    } else {
      if ("true" == c || "false" == c) {
        b = b ? "true" : "false";
      } else {
        if ("1" == c || "0" == c) {
          b = b ? "1" : "0";
        }
      }
    }
  } else {
    "int" != qx(a) || b && "0" != b || c && "0" != c ? !1 === c && "bool" != !qx(a) && "false" == b ? b = c : t(c) || b || (b = c) : b = c;
  }
  return b;
}
function wK(a, b) {
  var c = a.g();
  b ? c.classList.add("normally-hide") : c.classList.remove("normally-hide");
}
;function yK(a, b, c) {
  H.call(this);
  this.D = a;
  this.s = c;
  this.b = b;
  ud(b, [zK, AK, BK, CK], this.handleEvent, !1, this);
  this.f = null;
  this.c = [];
  this.h = -1;
  this.a = 0;
  this.l = this.o = null;
  this.F = {};
}
A(yK, H);
var zK = "hilite", AK = "select", CK = "dismiss", BK = "canceldismiss";
h = yK.prototype;
h.getToken = function() {
  return this.f;
};
h.handleEvent = function(a) {
  var b = this.D;
  if (a.target == this.b) {
    switch(a.type) {
      case zK:
        this.nd(a.Rc);
        break;
      case AK:
        var c = !1;
        if (ha(a.Rc)) {
          a = a.Rc;
          var d = this.c[DK(this, a)], c = !!d && b.fm && !1;
          d && !c && this.h != a && this.nd(a);
        }
        c || EK(this);
        break;
      case BK:
        FK(this);
        break;
      case CK:
        GK(this);
    }
  }
};
h.setToken = function(a) {
  this.f != a && (this.f = a, HK(this.D, this.f, pa(this.gm, this)), FK(this));
};
function IK(a) {
  for (var b = a.a + a.c.length - 1, c = a.h, d = 0;d < a.c.length;d++) {
    if (c >= a.a && c < b) {
      c++;
    } else {
      if (-1 == c) {
        c = a.a;
      } else {
        break;
      }
    }
    if (a.nd(c)) {
      break;
    }
  }
}
h.nd = function(a) {
  var b = DK(this, a);
  this.h = a;
  this.b.nd(a);
  return -1 != b;
};
function EK(a) {
  var b = DK(a, a.h);
  if (-1 != b) {
    var c = a.c[b], d = a.s.mk(c);
    a.hc();
    d || I(a, {type:"update", Rc:c, index:b});
    return !0;
  }
  a.hc();
  I(a, {type:"update", Rc:null, index:null});
  return !1;
}
h.hc = function() {
  this.h = -1;
  this.f = null;
  this.a += this.c.length;
  this.c = [];
  window.clearTimeout(this.l);
  this.l = null;
  this.b.hc();
  I(this, "suggestionsupdate");
  I(this, CK);
};
function GK(a) {
  a.l || (a.l = window.setTimeout(pa(a.hc, a), 100));
}
h.Dj = function() {
  return this.l ? (window.clearTimeout(this.l), this.l = null, !0) : !1;
};
function FK(a) {
  a.Dj() || window.setTimeout(pa(a.Dj, a), 10);
}
h.I = function() {
  yK.j.I.call(this);
  delete this.F;
  this.b.O();
  this.s.O();
  this.D = null;
};
h.gm = function(a, b, c) {
  this.f == a && this.Zh(b, c);
};
h.Zh = function(a, b) {
  var c = "object" == ea(b) && b, d = (c ? c.Hq() : b) ? DK(this, this.h) : -1;
  this.a += this.c.length;
  this.c = a;
  for (var e = [], f = 0;f < a.length;++f) {
    e.push({id:this.a + f, data:a[f]});
  }
  f = null;
  this.o && (f = this.F[ja(this.o)] || this.o);
  this.b.Xk = f;
  this.b.Zh(e, this.f, this.o);
  f = !0;
  c && void 0 !== c.ol() && (f = c.ol());
  this.h = -1;
  (f || 0 <= d) && 0 != e.length && this.f && (0 <= d ? this.nd(this.a + d) : IK(this));
  I(this, "suggestionsupdate");
};
function DK(a, b) {
  var c = b - a.a;
  return 0 > c || c >= a.c.length ? -1 : c;
}
h.update = function(a) {
  this.s.update(a);
};
var JK = {}, KK = null;
function LK(a) {
  a = ja(a);
  delete JK[a];
  Lb(JK) && KK && KK.stop();
}
function MK() {
  KK || (KK = new lB(function() {
    NK();
  }, 20));
  var a = KK;
  0 != a.Nd || a.start();
}
function NK() {
  var a = y();
  Gb(JK, function(b) {
    OK(b, a);
  });
  Lb(JK) || MK();
}
;function eE(a) {
  if (0 == a.b) {
    a.a = 0, a.h = a.c;
  } else {
    if (1 == a.b) {
      return;
    }
  }
  LK(a);
  var b = y();
  a.startTime = b;
  -1 == a.b && (a.startTime -= a.o * a.a);
  a.s = a.startTime + a.o;
  a.a || a.V();
  a.f("play");
  -1 == a.b && a.f("resume");
  a.b = 1;
  var c = ja(a);
  c in JK || (JK[c] = a);
  MK();
  OK(a, b);
}
function OK(a, b) {
  a.a = (b - a.startTime) / (a.s - a.startTime);
  1 <= a.a && (a.a = 1);
  var c = a.a;
  ia(a.l) && (c = a.l(c));
  a.h = Array(a.c.length);
  for (var d = 0;d < a.c.length;d++) {
    a.h[d] = (a.D[d] - a.c[d]) * c + a.c[d];
  }
  1 == a.a ? (a.b = 0, LK(a), a.f("finish"), a.W()) : 1 == a.b && a.F();
}
;function PK(a, b, c, d) {
  H.call(this);
  this.s = a || document.body;
  this.c = dh(this.s);
  this.F = !a;
  this.K = null;
  this.D = "";
  this.a = [];
  this.f = [];
  this.V = this.o = -1;
  this.l = !1;
  this.className = "ac-renderer";
  this.$ = "ac-highlighted";
  this.h = b || null;
  this.ka = null != d ? d : !0;
  this.ea = !!c;
}
A(PK, H);
h = PK.prototype;
h.g = function() {
  return this.K;
};
h.Zh = function(a, b, c) {
  this.D = b;
  this.a = a;
  this.o = -1;
  this.V = y();
  this.b = c;
  this.f = [];
  QK(this);
};
h.hc = function() {
  this.l && (this.l = !1, RK(this, !1), R(this.K, !1));
};
h.show = function() {
  this.l || (this.l = !0, RK(this, !0), R(this.K, !0));
};
function RK(a, b) {
  a.b && (uD(a.b, "haspopup", b), uD(a.K, "expanded", b), uD(a.b, "expanded", b), b ? uD(a.b, "owns", a.K.id) : (a.b.removeAttribute("aria-owns"), wD(a.b, null)));
}
h.aa = function() {
  return this.l;
};
function SK(a, b) {
  var c = 0 <= b && b < a.a.length ? a.a[b] : void 0, d = 0 <= b && b < a.f.length ? a.f[b] : void 0;
  I(a, {type:"rowhilite", Mq:d, Rc:c ? c.data : null}) && (0 <= a.o && CD(a.f[a.o], ["ac-active", "active"]), a.o = b, d && (AD(d, ["ac-active", "active"]), a.b && wD(a.b, d), Yh(d, a.K)));
}
h.nd = function(a) {
  if (-1 == a) {
    SK(this, -1);
  } else {
    for (var b = 0;b < this.a.length;b++) {
      if (this.a[b].id == a) {
        SK(this, b);
        break;
      }
    }
  }
};
function TK(a) {
  if (!a.K) {
    var b = a.c.w("DIV", {style:"display:none"});
    a.K = b;
    AD(b, Ba(a.className).split(" "));
    tD(b, "listbox");
    b.id = RD(QD.X());
    a.s.appendChild(b);
    ud(b, "click", a.tj, !1, a);
    ud(b, "mousedown", a.uj, !1, a);
    ud(b, "mouseover", a.yj, !1, a);
  }
}
function QK(a) {
  TK(a);
  a.oa && (a.K.style.minWidth = a.oa.clientWidth + "px");
  a.f.length = 0;
  a.c.sl(a.K);
  a.h && a.h.render ? a.h.render(a, a.K, a.a, a.D) : eb(a.a, function(a) {
    var c = this.D, d = this.c.w("DIV", {className:"ac-row", id:RD(QD.X())});
    tD(d, "option");
    this.h && this.h.ik ? this.h.ik(a, 0, d) : zh(d, a.data.toString());
    c && this.ka && (this.W = !1, UK(this, d, c));
    zD(d, "ac-row");
    this.f.push(d);
    this.K.appendChild(d);
  }, a);
  0 == a.a.length ? a.hc() : (a.show(), VK(a), ii(a.K, !0));
}
function VK(a) {
  if (a.b && a.F) {
    var b = a.Xk || a.b, c;
    c = a.ea ? 3 : 1;
    VI(b, c, a.K, c ^ 1, null, null, 65);
  }
}
h.I = function() {
  this.K && (Cd(this.K, "click", this.tj, !1, this), Cd(this.K, "mousedown", this.uj, !1, this), Cd(this.K, "mouseover", this.yj, !1, this), this.c.dh(this.K), this.K = null, this.l = !1);
  Kc(this.Ba);
  this.s = null;
  PK.j.I.call(this);
};
function UK(a, b, c) {
  if (!a.W) {
    if (3 == b.nodeType) {
      var d = null;
      u(c) && 1 < c.length && (d = ub(c, 1));
      c = WK(c);
      if (0 != c.length) {
        var e = b.nodeValue, f = new RegExp("\\b(?:" + c + ")", "gi");
        c = [];
        for (var g = 0, k = f.exec(e), l = 0;k;) {
          l++, c.push(e.substring(g, k.index)), c.push(e.substring(k.index, f.lastIndex)), g = f.lastIndex, k = f.exec(e);
        }
        c.push(e.substring(g));
        if (1 < c.length) {
          for (d = 0;1 > d;d++) {
            e = 2 * d, b.nodeValue = c[e], f = a.c.createElement("B"), f.className = a.$, f.appendChild(a.c.a.createTextNode(String(c[e + 1]))), f = b.parentNode.insertBefore(f, b.nextSibling), b.parentNode.insertBefore(a.c.a.createTextNode(""), f.nextSibling), b = f.nextSibling;
          }
          b.nodeValue = ub(c, 2).join("");
          a.W = !0;
        } else {
          d && UK(a, b, d);
        }
      }
    } else {
      for (b = b.firstChild;b;) {
        d = b.nextSibling, UK(a, b, c), b = d;
      }
    }
  }
}
function WK(a) {
  var b = "";
  if (!a) {
    return b;
  }
  u(a) && (a = fb(a, function(a) {
    return !za(null == a ? "" : String(a));
  }));
  u(a) ? b = 0 < a.length ? Ta(a[0]) : "" : /^\W/.test(a) || (b = Ta(a));
  return b;
}
function XK(a, b) {
  for (;b && b != a.K && !yD(b, "ac-row");) {
    b = b.parentNode;
  }
  return b ? cb(a.f, b) : -1;
}
h.tj = function(a) {
  var b = XK(this, a.target);
  0 <= b && I(this, {type:AK, Rc:this.a[b].id});
  a.stopPropagation();
};
h.uj = function(a) {
  a.stopPropagation();
  a.preventDefault();
};
h.yj = function(a) {
  a = XK(this, a.target);
  0 <= a && !(300 > y() - this.V) && I(this, {type:zK, Rc:this.a[a].id});
};
function YK(a, b, c) {
  this.h = a;
  this.l = c;
  this.b = null;
  this.a = [];
  this.f = new lB(this.o, b, this);
}
YK.prototype.o = function() {
  this.b || (this.b = this.h.call(this.l, this.c), this.b.u(function(a) {
    for (var b = 0;b < this.a.length;b++) {
      this.a[b].callback(a);
    }
    this.a.length = 0;
    this.b = null;
  }, function(a) {
    for (var b = 0;b < this.a.length;b++) {
      this.a[b].C(a);
    }
    this.a.length = 0;
    this.b = null;
  }, this));
};
function ZK(a, b) {
  a.c = b;
  a.f.start();
  var c = new B;
  a.a.push(c);
  return c;
}
;function $K(a, b, c) {
  this.h = !!c;
  this.b = a;
  this.a = u(b) ? b : [b];
  this.c = new YK(this.l, 1E3, this);
  this.f = !1;
}
function aL(a, b) {
  var c = a.a.map(function(a) {
    return {store:a, index:"name", limit:2, prefix:!0, key:b};
  });
  -1 == b.indexOf(" ") && (c = c.concat(a.a.map(function(a) {
    return {store:a, index:"ydn$emails", limit:4, prefix:!0, key:b.toLocaleLowerCase()};
  })));
  16 <= b.length && (c = c.concat(a.a.map(function(a) {
    return {store:a, index:"id", key:b};
  })));
  var d = null;
  if (!/[^0-9]/.test(b)) {
    for (var e = 0;e < a.a.length;e++) {
      if ("Cases" == a.a[e]) {
        d = a.b.send("query", [{store:"Cases", index:"case_number", key:b}]);
        break;
      }
    }
  }
  d = d ? d.i(function(a) {
    var b = a[0].result;
    if (0 == b.length) {
      return a;
    }
    var c = b[0];
    return c.account_id ? this.b.send("get", {module:"Accounts", id:c.account_id}).i(function(b) {
      c.email1 = Jr(b) || "@";
      return a;
    }) : (c.email1 = "@", a);
  }, a) : C([]);
  c = [a.b.send("query", c), d];
  2 <= b.length && (d = a.a.map(function(a) {
    return {store:a, index:"name", fetchFull:!0, threshold:.2, limit:2, q:b};
  }), 3 <= b.length && (d = d.concat(a.a.map(function(a) {
    return {store:a, index:"content", fetchFull:!0, threshold:.2, limit:2, q:b};
  }))), c.push(Tx(a.b).send("search", d)));
  return (new Al(c)).u(function(a) {
    function b(a) {
      a && (c.some(function(b) {
        return b.id == a.id;
      }) || c.push(a));
    }
    for (var c = [], d = a[0][1], e = 0;e < d.length;e++) {
      for (var n = 0;n < d[e].result.length;n++) {
        b(d[e].result[n]);
      }
    }
    d = a[1][1];
    for (e = 0;e < d.length;e++) {
      for (n = 0;n < d[e].result.length;n++) {
        b(d[e].result[n]);
      }
    }
    if (a = a[2] && a[2][1] ? a[2][1] : null) {
      for (n = 0;n < a.length;n++) {
        for (d = a[n].fullTextResult, e = 0;e < d.length;e++) {
          b(d[e].record);
        }
      }
    }
    return c;
  }, function() {
    return [];
  }, a);
}
$K.prototype.l = function(a) {
  a = {modules:this.a, q:a, quick:!this.h, limit:5};
  return Tx(this.b).send("se-bms", a);
};
function HK(a, b, c) {
  if (b && 0 != b.length) {
    var d = a.f, e = function(a, b) {
      if (d) {
        for (var e = b.length - 1;0 <= e;e--) {
          Jr(b[e]) || pb(b, e);
        }
      }
      c(a, b);
    };
    aL(a, b).G(function(a) {
      a.length && e(b, a);
      nb(this.c.a);
      ZK(this.c, b).u(function(c) {
        function d(b) {
          return a.some(function(a) {
            return a.id == b.id;
          });
        }
        for (var l = !1, m = 0;m < c.length;m++) {
          d(c[m]) || (a.unshift(c[m]), l = !0);
        }
        l && e(b, a);
      }, function(a) {
        window.console.error(a);
      }, this);
    }, a);
  } else {
    c(b, []);
  }
}
$K.prototype.fm = function() {
  return !1;
};
function bL(a) {
  var b = 0, c = 0;
  if (cL(a)) {
    b = a.selectionStart, c = -1;
  } else {
    if (E) {
      var d = dL(a), e = d[0], d = d[1];
      if (e.inRange(d)) {
        e.setEndPoint("EndToStart", d);
        if ("textarea" == a.type) {
          d.duplicate();
          b = a = e.text;
          for (c = !1;!c;) {
            0 == e.compareEndPoints("StartToEnd", e) ? c = !0 : (e.moveEnd("character", -1), e.text == a ? b += "\r\n" : c = !0);
          }
          e = [b.length, -1];
          return e;
        }
        b = e.text.length;
        c = -1;
      }
    }
  }
  return [b, c];
}
function dL(a) {
  var b = a.ownerDocument || a.document, c = b.selection.createRange();
  "textarea" == a.type ? (b = b.body.createTextRange(), b.moveToElementText(a)) : b = a.createTextRange();
  return [b, c];
}
function eL(a, b) {
  "textarea" == a.type && (b = a.value.substring(0, b).replace(/(\r\n|\r|\n)/g, "\n").length);
  return b;
}
function cL(a) {
  try {
    return "number" == typeof a.selectionStart;
  } catch (b) {
    return !1;
  }
}
;function fL(a, b, c, d) {
  Gc.call(this);
  d = d || 150;
  this.c = null != c ? c : !0;
  this.h = a || ",;";
  this.V = this.h.substring(0, 1);
  a = this.c ? "[\\s" + this.h + "]+" : "[\\s]+";
  this.D = new RegExp("^" + a + "|" + a + "$", "g");
  this.$ = new RegExp("\\s*[" + this.h + "]$");
  this.o = b || "";
  this.W = this.c;
  this.na = 0 < d ? new Cf(d) : null;
  this.b = new zf(this);
  this.l = new zf(this);
  this.f = new tH;
  this.s = -1;
}
A(fL, Gc);
var gL = (Gl || Hl) && !Yc("533.17.9");
h = fL.prototype;
h.zg = null;
h.sa = null;
h.Ih = "";
h.Tc = !1;
h.ai = !1;
h.Y = function() {
  return this.sa.value;
};
h.setCursorPosition = function(a) {
  var b = this.sa, c = a;
  if (cL(b)) {
    b.selectionStart = c;
  } else {
    if (E) {
      var d = dL(b), e = d[0];
      e.inRange(d[1]) && (c = eL(b, c), e.collapse(!0), e.move("character", c), e.select());
    }
  }
  b = this.sa;
  cL(b) ? b.selectionEnd = a : E && (d = dL(b), c = d[1], d[0].inRange(c) && (a = eL(b, a), b = eL(b, bL(b)[0]), c.collapse(!0), c.moveEnd("character", a - b), c.select()));
};
h.mk = function(a, b) {
  if (this.sa) {
    var c = a.toString();
    if (t(b) ? b : this.c) {
      var d = hL(this, this.Y(), bL(this.sa)[0]), e = iL(this, this.Y());
      this.$.test(c) || (c = c.replace(/[\s\xa0]+$/, "") + this.V);
      0 == d || za(e[d - 1]) || (c = " " + c);
      d == e.length - 1 && (c += " ");
      if (c != e[d]) {
        e[d] = c;
        c = this.sa;
        (Pc || E && Yc("9")) && c.blur();
        c.value = e.join("");
        for (var f = 0, g = 0;g <= d;g++) {
          f += e[g].length;
        }
        c.focus();
        this.setCursorPosition(f);
      }
    } else {
      this.sa.value = c;
    }
    this.ai = !0;
  }
  return !1;
};
h.I = function() {
  fL.j.I.call(this);
  null != this.zg && window.clearTimeout(this.zg);
  this.b.O();
  delete this.b;
  this.l.O();
  this.f.O();
  Kc(this.na);
};
h.$a = function(a) {
  switch(a.a) {
    case 40:
      if (this.a.b.aa()) {
        return IK(this.a), a.preventDefault(), !0;
      }
      if (!this.c) {
        return this.update(!0), a.preventDefault(), !0;
      }
      break;
    case 38:
      if (this.a.b.aa()) {
        a: {
          for (var b = this.a, c = b.h, d = 0;d < b.c.length;d++) {
            if (c > b.a) {
              c--;
            } else {
              break;
            }
            if (b.nd(c)) {
              break a;
            }
          }
        }
        a.preventDefault();
        return !0;
      }
      break;
    case 9:
      if (!this.a.b.aa() || a.shiftKey) {
        this.a.hc();
      } else {
        if (this.update(), EK(this.a) && this.W) {
          return a.preventDefault(), !0;
        }
      }
      break;
    case 13:
      if (this.a.b.aa()) {
        if (this.update(), EK(this.a)) {
          return a.preventDefault(), a.stopPropagation(), !0;
        }
      } else {
        this.a.hc();
      }
      break;
    case 27:
      if (this.a.b.aa()) {
        return this.a.hc(), a.preventDefault(), a.stopPropagation(), !0;
      }
      break;
    case 229:
      if (!this.Tc) {
        return this.Tc || (this.b.listen(this.sa, "keyup", this.Vj), this.b.listen(this.sa, "keypress", this.Uj), this.Tc = !0), !0;
      }
    ;
  }
  return jL(this, a);
};
function jL(a, b) {
  var c = a.c && b.l && -1 != a.h.indexOf(String.fromCharCode(b.l));
  c && a.update();
  return c && EK(a.a) ? (b.preventDefault(), !0) : !1;
}
h.Nl = function() {
  return !1;
};
h.ph = function(a) {
  kL(this, a.target || null);
};
function kL(a, b) {
  a.l.removeAll();
  a.a && FK(a.a);
  b != a.sa && (a.sa = b, a.na && (a.na.start(), a.b.listen(a.na, "tick", a.sj)), a.Ih = a.Y(), uH(a.f, a.sa), a.b.listen(a.f, "key", a.rj), a.b.listen(a.sa, "mousedown", a.Yj), E && a.b.listen(a.sa, "keypress", a.Sj));
}
h.oh = function() {
  gL ? this.zg = window.setTimeout(pa(this.hk, this), 0) : this.hk();
};
h.hk = function() {
  this.sa && (this.b.ca(this.f, "key", this.rj), AH(this.f), this.b.ca(this.sa, "keyup", this.Nl), this.b.ca(this.sa, "mousedown", this.Yj), E && this.b.ca(this.sa, "keypress", this.Sj), this.Tc && lL(this), this.sa = null, this.na && (this.na.stop(), this.b.ca(this.na, "tick", this.sj)), this.a && GK(this.a));
};
h.sj = function() {
  this.update();
};
h.Tj = function(a) {
  this.ph(a);
};
h.rj = function(a) {
  this.s = a.a;
  this.a && this.$a(a);
};
h.Uj = function() {
  this.Tc && 229 != this.s && lL(this);
};
h.Vj = function(a) {
  this.Tc && (13 == a.a || 77 == a.a && a.ctrlKey) && lL(this);
};
h.Yj = function() {
};
function lL(a) {
  a.Tc && (a.Tc = !1, a.b.ca(a.sa, "keypress", a.Uj), a.b.ca(a.sa, "keyup", a.Vj));
}
h.Sj = function(a) {
  jL(this, a);
};
h.update = function(a) {
  if (this.sa && (a || this.Y() != this.Ih)) {
    if (a || !this.ai) {
      a = bL(this.sa)[0];
      var b = this.Y();
      a = iL(this, b)[hL(this, b, a)];
      a = this.D ? String(a).replace(this.D, "") : a;
      this.a && (this.a.o = this.sa, this.a.setToken(a, this.Y()));
    }
    this.Ih = this.Y();
  }
  this.ai = !1;
};
function hL(a, b, c) {
  a = iL(a, b);
  if (c == b.length) {
    return a.length - 1;
  }
  for (var d = b = 0, e = 0;d < a.length && e <= c;d++) {
    e += a[d].length, b = d;
  }
  return b;
}
function iL(a, b) {
  if (!a.c) {
    return [b];
  }
  for (var c = String(b).split(""), d = [], e = [], f = 0, g = !1;f < c.length;f++) {
    a.o && -1 != a.o.indexOf(c[f]) ? (g || (d.push(e.join("")), e.length = 0), e.push(c[f]), g = !g) : g || -1 == a.h.indexOf(c[f]) ? e.push(c[f]) : (e.push(c[f]), d.push(e.join("")), e.length = 0);
  }
  d.push(e.join(""));
  return d;
}
;function mL(a, b, c, d, e) {
  fL.call(this, b, c, d, e);
  this.ea = a;
  this.F = !1;
}
A(mL, fL);
mL.prototype.mk = function(a) {
  var b = this.a.o, c = Er(a);
  if (this.F) {
    var d = Jr(a);
    if (d) {
      c += " <" + d + ">";
    } else {
      return !0;
    }
  }
  b.value = c;
  b.setAttribute("data-id", a.id);
  b.setAttribute("data-name", b.value);
  b.setAttribute("data-module", a._module || "");
  (b = b.nextElementSibling) && "A" == b.tagName && a._module && (b.href = ey(this.ea, a._module, a.id), R(b, !0));
  return !1;
};
function nL() {
}
da(nL);
nL.prototype.ik = function(a, b, c) {
  if (x(a.data)) {
    a = a.data;
    b = Er(a);
    var d = Jr(a);
    d ? b += " <" + d + ">" : b = (d = a.account_name) ? b + (" [" + d + "]") : b + (" (" + a.id + ")");
    c.textContent = b;
  }
};
function oL(a, b, c, d) {
  H.call(this);
  this.c = new $K(a, b || "Contacts", d);
  b = nL.X();
  this.h = new PK(c, b);
  this.h.F = !0;
  this.b = new mL(a, null, null, !1, 300);
  this.f = new yK(this.c, this.h, this.b);
  this.b.a = this.f;
  this.a = null;
  this.M = new zf(this);
  this.M.listen(this.f, ["update"], this.o);
}
A(oL, H);
oL.prototype.b = null;
oL.prototype.o = function(a) {
  I(this, a);
};
function pL(a, b) {
  var c = b.querySelector(".select-record input.value");
  if (c != a.a) {
    qL(a);
    a.a = c;
    a.M.listen(a.a, "change", a.l);
    var c = a.b, d = a.a;
    xh(d) && (tD(d, "combobox"), uD(d, "autocomplete", "list"));
    c.b.listen(d, "focus", c.ph);
    c.b.listen(d, "blur", c.oh);
    c.sa || (c.l.listen(d, "keydown", c.Tj), xh(d) && Kh(fh(d)) == d && kL(c, d));
  }
}
function qL(a) {
  if (a.a) {
    a.M.ca(a.a, "change", a.l);
    var b = a.b, c = a.a;
    xh(c) && (c.removeAttribute("role"), c.removeAttribute("aria-autocomplete"));
    c == b.sa && b.oh();
    b.b.ca(c, "focus", b.ph);
    b.b.ca(c, "blur", b.oh);
    b.sa || b.l.ca(c, "keydown", b.Tj);
    a.a = null;
  }
}
oL.prototype.l = function() {
  if (!this.a.value) {
    this.a.removeAttribute("data-id");
    this.a.removeAttribute("data-name");
    this.a.removeAttribute("data-module");
    var a = this.a.nextElementSibling;
    a && "A" == a.tagName && (a.href = "", R(a, !1));
  }
};
oL.prototype.I = function() {
  this.h.O();
  this.b.O();
  this.f.O();
  this.M.O();
  this.f = this.M = this.b = this.c = this.h = null;
  oL.j.I.call(this);
};
function rL(a, b, c) {
  V.call(this, c);
  this.Z(a);
  this.ti = b;
}
A(rL, V);
h = rL.prototype;
h.ti = null;
h.m = function() {
  return rL.j.m.call(this);
};
function sL(a, b) {
  var c = a.g();
  b ? (c.classList.add("edit"), c.classList.remove("view")) : (c.classList.remove("edit"), c.classList.add("view"));
}
h.reset = function(a) {
  this.g();
  sL(this, a);
  for (a = 0;a < Y(this);a++) {
    Z(this, a).reset();
  }
};
h.U = function() {
  return "record-body";
};
h.B = function() {
  rL.j.B.call(this);
  var a = this.g();
  a.classList.add(this.U());
  a.classList.add("view");
};
function tL(a) {
  for (var b = null, c = 0;c < Y(a);c++) {
    var d = Z(a, c).Wa();
    if (null !== d) {
      b || (b = {});
      for (var e in d) {
        b[e] = d[e];
      }
    }
  }
  return b;
}
function uL(a) {
  for (var b = null, c = 0;c < Y(a);c++) {
    var d = Z(a, c).Vc();
    if (null !== d) {
      b || (b = {});
      for (var e in d) {
        b[e] = d[e];
      }
    }
  }
  return b;
}
h.refresh = function() {
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).refresh();
  }
};
function vL(a, b) {
  var c = pK.X();
  sK.call(this, a, c, b);
}
A(vL, sK);
vL.prototype.Yi = function() {
  return Cx(this.m());
};
vL.prototype.B = function() {
  vL.j.B.call(this);
  Ex(this.m().parent.module.parent) || "email" != this.Pa() || wK(this, !0);
};
function wL(a, b) {
  var c = pK.X();
  sK.call(this, a, c, b);
}
A(wL, sK);
function xL() {
}
da(xL);
xL.prototype.U = function() {
  return "record-group";
};
xL.prototype.refresh = function(a) {
  for (var b = 0;b < Y(a);b++) {
    Z(a, b).refresh();
  }
};
function yL(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(yL, V);
function zL(a) {
  var b = GE.X();
  return new UI(b, Rx(a.m().module), a.m().a);
}
h = yL.prototype;
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.Bc = function() {
  return !!this.Wa();
};
h.U = function() {
  return "record-group";
};
h.B = function() {
  var a = this.a, b = a.w("div", this.U()), c = a.w("div", "header"), a = a.w("div", "ydn-content");
  b.appendChild(c);
  b.appendChild(a);
  this.K = b;
  b.setAttribute("name", this.m().a);
  zL(this).ob() && b.classList.add("normally-hide");
};
h.refresh = function() {
};
h.reset = function() {
  var a = zL(this).ob(), b = this.g();
  a ? b.classList.add("normally-hide") : b.classList.remove("normally-hide");
};
h.Zf = function(a, b) {
  var c = a ? '[name="' + a + '"]' : "", d = this.T().querySelector("div.field" + c + " input.value");
  d ? d.value = b : (d = this.T().querySelector("div.field" + c + " textarea.value")) ? d.textContent = b : window.console.error("input.value for field " + c + " not found in " + this.m().a);
};
h.fg = function() {
  return null;
};
function AL() {
}
da(AL);
AL.prototype.a = function(a) {
  var b = a.m(), c = a.a, d = c.w("div", "field"), e = b.tb(), e = c.w("input", {type:"text", "class":"value", "data-tooltip":e, placeholder:e});
  d.appendChild(e);
  b = b.Vg();
  u(b) ? (c = c.w("div", {"class":"hover-button more-menu"}), d.appendChild(c), Zw(c, b)) : x(b) && (e = b.name == sx ? "delete-field" : "detail-field", c = c.w("div", {"class":"hover-button " + e, "data-tooltip":b.label}), e = Pw("delete-field" == e ? "delete" : "more-horiz"), c.appendChild(e), c.setAttribute("name", b.name), d.appendChild(c));
  a.T().appendChild(d);
};
AL.prototype.refresh = function(a) {
  var b = a.m(), c = a.T();
  R(c, !!b);
  if (b) {
    var c = c.querySelector(".value"), d = b.Hb();
    "INPUT" == c.tagName ? c.value = d : c.textContent = d;
    (b = b.tb()) ? c.setAttribute("data-tooltip", b) : c.removeAttribute("data-tooltip");
    b = w(d) ? !za(d) : null != d;
    a = a.g();
    b ? a.classList.remove("empty") : a.classList.add("empty");
  }
};
function BL(a, b, c) {
  this.c = b || AL.X();
  yL.call(this, a, c);
}
A(BL, yL);
h = BL.prototype;
h.B = function() {
  BL.j.B.call(this);
  this.c.a(this);
};
h.A = function() {
  BL.j.A.call(this);
  var a = this.g().querySelector("input");
  a && X(this).listen(a, "blur", this.vp);
  (a = this.g().getElementsByClassName("hover-button")[0]) && X(this).listen(a, "click", this.Um);
};
h.vp = function() {
  var a = this.Wa();
  (a = this.m().Xd(a)) && I(this, new cK(a, this));
};
h.Um = function(a) {
  if (a = a.b.getAttribute("name")) {
    a = new dK(a, this), I(this, a), a.o || a.f == lx && CL(this);
  }
};
h.Wa = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    if (Z(this, b) instanceof sK) {
      var c = Z(this, b), d = vK(c);
      null !== d && (a || (a = {}), a[c.Pa()] = d);
    }
  }
  return a;
};
h.Vc = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    if (Z(this, b) instanceof sK) {
      var c = Z(this, b);
      if (xK(c)) {
        var d = vK(c);
        null !== d && (a || (a = {}), a[c.Pa()] = d);
      }
    }
  }
  return a;
};
h.Bc = function() {
  for (var a = 0;a < Y(this);a++) {
    if (Z(this, a) instanceof sK && xK(Z(this, a))) {
      return !0;
    }
  }
  return !1;
};
function CL(a) {
  nK(a.Gk()).u(function(a) {
    a = a.querySelectorAll(".field");
    for (var c = {}, d = !1, e = 0;e < a.length;e++) {
      d |= this.gk(a[e], c);
    }
    d && (a = new cK(c, this), I(this, a), a.o || this.Ki(a));
  }, function() {
  }, a);
}
h.gk = function(a, b) {
  var c = a.getAttribute("name");
  b[c] = a.querySelector(".value").firstElementChild.value;
  return !0;
};
h.Ki = function() {
};
h.refresh = function() {
  this.c.refresh(this);
};
h.Gk = function() {
  return {eb:[]};
};
function DL(a, b) {
  BL.call(this, a, null, b);
  this.b = null;
}
A(DL, BL);
h = DL.prototype;
h.A = function() {
  DL.j.A.call(this);
  this.g().querySelector("input").setAttribute("disabled", "1");
};
function EL(a, b) {
  return a.b && a.b[b] ? a.b[b] : fx(a.m().module, b);
}
h.Gk = function() {
  var a = this.m(), b = [], c = dx(a.module), d = a.a, e = a.tb(), f;
  for (f in c.module_fields) {
    var g = c.module_fields[f], k = g.name || f;
    if (g.group == d) {
      var l = EL(this, k), m = g.label, n = g.type;
      if (ya(k, "street")) {
        n = "textarea";
      } else {
        if ((ya(k, "street_2") || ya(k, "street_3")) && !l) {
          continue;
        }
      }
      m && (m = m.replace(/^\w+ address /i, ""));
      b.push({name:k, label:m, type:n, value:l, Nh:fK(Rx(a.module), g)});
    }
  }
  return {eb:b, title:e};
};
h.gk = function(a, b) {
  var c = a.getAttribute("name"), d = a.querySelector(".value").firstElementChild, e = jx(this.m().module, c);
  if (d.value == e) {
    return !1;
  }
  b[c] = d.value;
  return !0;
};
h.Ki = function(a) {
  this.b = mm(a.f);
  a = this.m();
  if (this.b) {
    var b = this.m().a + "_";
    a = EL(this, b + "country");
    var c = EL(this, b + "city"), d = EL(this, b + "state"), e = EL(this, b + "postalcode"), f = EL(this, b + "street"), b = EL(this, b + "street_2");
    a = kx(a, c, d, e, f, b);
  } else {
    a = a.Hb();
  }
  this.T().querySelector("input.value").value = a;
};
h.Bc = function() {
  return !!this.b;
};
h.Vc = function() {
  return this.b || null;
};
h.Wa = function() {
  return this.b || null;
};
function FL() {
}
A(FL, eK);
da(FL);
FL.prototype.Zb = function(a) {
  var b = a.m(), c = a.a, d = c.w("input");
  d.classList.add("value");
  d.setAttribute("data-tooltip", px(b));
  c = c.w("span", this.U() + " inline", [d]);
  c.setAttribute("name", b.Pa());
  a.K = c;
  return d;
};
FL.prototype.refresh = function(a) {
  var b = a.g(), c = b.querySelector("input"), d = a.m();
  R(b, !!d);
  if (d) {
    var e = d.Uc() || ox(d), f = w(e) ? !za(e) : null != e;
    c.value = f ? e : "";
    f ? b.classList.remove("empty") : b.classList.add("empty");
    !nx(d) && gK(a).ob() && b.classList.add("normally-hide");
  }
};
FL.prototype.Dd = function(a) {
  return a.g().querySelector("input").value;
};
function GL(a, b) {
  yL.call(this, a, b);
}
A(GL, yL);
h = GL.prototype;
h.B = function() {
  GL.j.B.call(this);
  HL(this);
};
function HL(a) {
  for (var b = a.m(), c = a.a, d = b.Lh(), e = 0;e < d.length;e++) {
    var f = b.Hc(d[e]), g;
    f instanceof yx ? g = new vL(f, c) : f instanceof Kx ? g = new wL(f, c) : g = new sK(f, null, c);
    a.H(g, !0);
  }
}
h.A = function() {
  GL.j.A.call(this);
  X(this).listen(this, "action", this.bn);
};
h.bn = function() {
};
h.fg = function(a) {
  for (var b = 0;b < Y(this);b++) {
    var c = Z(this, b);
    if (c.Pa() == a) {
      return c;
    }
  }
  return null;
};
h.Wa = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    var c = Z(this, b), d = vK(c);
    null !== d && (a || (a = {}), a[c.Pa()] = d);
  }
  return a;
};
h.Bc = function() {
  for (var a = 0;a < Y(this);a++) {
    if (xK(Z(this, a))) {
      return !0;
    }
  }
  return !1;
};
h.Vc = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    var c = Z(this, b);
    if (xK(c)) {
      var d = vK(c);
      null !== d && (a || (a = {}), a[c.Pa()] = d);
    }
  }
  return a;
};
h.refresh = function() {
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).refresh();
  }
};
h.reset = function() {
  GL.j.reset.call(this);
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).reset();
  }
};
h.Zf = function(a, b) {
  var c = this.fg(a);
  c ? c.b.eg(c, b) : window.console.error("field " + a + " not found in " + this.m().a);
};
function IL(a, b) {
  yL.call(this, a, b);
}
A(IL, yL);
h = IL.prototype;
h.B = function() {
  IL.j.B.call(this);
  var a = this.a, b = this.m(), c = b.Hc("date_start"), c = new sK(c, null, a);
  this.H(c, !0);
  b.Ib("date_due") && (c = b.Hc("date_due"), c = new sK(c, null, a), this.H(c, !0));
  if (b.Ib("duration_hours")) {
    c = a.w("span", "field-label", "Duration: ");
    this.T().appendChild(c);
    var d = b.Hc("duration_hours"), c = FL.X(), d = new sK(d, c, a);
    this.H(d, !0);
    d = d.g().querySelector("input");
    d.classList.add("double-digit");
    d.setAttribute("type", "number");
    d.setAttribute("min", "0");
    b = b.Hc("duration_minutes");
    a = new sK(b, c, a);
    this.H(a, !0);
    a = a.g().querySelector("input");
    a.classList.add("double-digit");
    a.setAttribute("type", "number");
    a.setAttribute("min", "0");
    a.setAttribute("max", "59");
  }
};
h.Bc = function() {
  for (var a = 0;a < Y(this);a++) {
    if (xK(Z(this, a))) {
      return !0;
    }
  }
  return !1;
};
h.Vc = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    var c = Z(this, b);
    if (xK(c)) {
      var d = vK(c);
      null !== d && (a || (a = {}), a[c.Pa()] = d);
    }
  }
  return a;
};
h.Wa = function() {
  for (var a = null, b = 0;b < Y(this);b++) {
    var c = Z(this, b), d = vK(c);
    null !== d && (a || (a = {}), a[c.Pa()] = d);
  }
  return a;
};
h.refresh = function() {
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).refresh();
  }
};
function JL() {
}
A(JL, AL);
da(JL);
JL.prototype.a = function(a) {
  JL.j.a.call(this, a);
  a.T().querySelector("input").setAttribute("list", KL(a));
};
function LL(a, b) {
  var c = JL.X();
  BL.call(this, a, c, b);
}
A(LL, BL);
LL.prototype.Bc = function() {
  var a = this.T().querySelector("input.value").value, b = this.m().Hb();
  return a != b;
};
LL.prototype.Wa = function() {
  var a = this.T().querySelector("input.value").value;
  if (a) {
    var b = {assigned_user_name:a}, c = document.getElementById(KL(this));
    c && (a = c.querySelector('option[value="' + a + '"]')) && (a = a.getAttribute("data-id"), b.assigned_user_id = a);
    return b;
  }
  return null;
};
LL.prototype.Vc = function() {
  return this.Bc() ? this.Wa() : null;
};
function KL(a) {
  var b = a.m(), c = b.module.parent.L() + "-assign-user-datalist-id", d = document.getElementById(c);
  d || (d = document.createElement("datalist"), d.id = c, document.body.appendChild(d), Tx(b.module.parent).send("list-name", {module:"Users"}).u(function(a) {
    for (var b = document.getElementById(c), d = 0;d < a.length;d++) {
      var k = a[d], l = document.createElement("option");
      l.value = k.name;
      l.setAttribute("data-id", k.id);
      b.appendChild(l);
    }
  }, function(a) {
    window.console.error(a);
  }, a));
  return c;
}
;function ML(a, b) {
  yL.call(this, a, b);
}
A(ML, GL);
ML.prototype.reset = function() {
  ML.j.reset.call(this);
  for (var a = Y(this) - 1;0 <= a;a--) {
    this.removeChild(Z(this, a), void 0).O();
  }
  HL(this);
};
ML.prototype.Wa = function() {
  var a = ML.j.Wa.call(this);
  return a = this.m().Xd(a);
};
ML.prototype.Vc = function() {
  var a = ML.j.Vc.call(this);
  return a = this.m().Xd(a);
};
ML.prototype.fg = function(a) {
  var b = Ex(this.m().module.parent);
  return b && "email1" == a ? Z(this, 0) : b && "email2" == a ? Z(this, 1) : ML.j.fg.call(this, a);
};
function NL() {
}
A(NL, xL);
da(NL);
NL.prototype.U = function() {
  return "record-group";
};
NL.prototype.refresh = function(a) {
  for (var b = a.m(), c = a.a, d = [], e = 0;e < Y(a);e++) {
    var f = Z(a, e);
    f.refresh();
    d.push(f.Pa());
  }
  f = b.Lh();
  for (e = 0;e < f.length;e++) {
    var g = f[e], k = b.Hc(g);
    zL(a).ob() || -1 != d.indexOf(g) || (g = new sK(k, null, c), a.H(g, !0));
  }
};
function OL(a, b) {
  yL.call(this, a, b);
}
A(OL, GL);
OL.prototype.T = function() {
  return hh("ydn-content", this.g());
};
OL.prototype.refresh = function() {
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).refresh();
  }
};
function PL(a, b) {
  yL.call(this, a, b);
  this.b = null;
}
A(PL, GL);
h = PL.prototype;
h.B = function() {
  PL.j.B.call(this);
  var a = this.g().querySelector(".header");
  a.classList.add("expander");
  var b = this.a, c = this.m(), d = c ? c.Hj() : !1, e = b.w(d ? "input" : "span", "header-label");
  d && (e.setAttribute("type", "text"), e.setAttribute("placeholder", c.tb()));
  a.appendChild(e);
  a.appendChild(b.w("span", "ydn-center"));
  c = Pw("unfold-more");
  b = b.w("span", "svg-button", c);
  b.setAttribute("data-tooltip", "Edit");
  a.appendChild(b);
  this.g();
};
function QL(a, b) {
  var c = a.g().querySelector(".ydn-content");
  R(c, b);
  var d = a.g(), e = RL(a), c = d.querySelector(".header"), f = c.querySelector(" .svg-button");
  b ? (d.classList.add("edit"), "INPUT" == e.tagName ? (SL(a), e.setAttribute("disabled", "disabled"), e.value = "Edit " + a.m().a) : e.textContent = "Edit " + a.m().a, d = Pw("unfold-less"), c.classList.add("open")) : (d.classList.remove("edit"), "INPUT" == e.tagName ? (e.removeAttribute("disabled"), e.value = a.m().Hb()) : e.textContent = a.m().Hb(), d = Pw("unfold-more"), c.classList.remove("open"));
  f.replaceChild(d, f.firstElementChild);
}
h.A = function() {
  PL.j.A.call(this);
  var a = this.g().querySelector(".header .svg-button");
  X(this).listen(a, "click", this.Fm);
  if (a = this.g().querySelector(".header input")) {
    this.g().querySelector(".header").classList.add("field-like"), X(this).listen(a, "blur", this.Zm), this.b = new tH(a), X(this).listen(this.b, "key", this.Xm);
  }
};
h.Xm = function(a) {
  13 == a.a && SL(this);
};
h.Zm = function() {
  SL(this);
};
function SL(a) {
  var b = a.g().querySelector(".header input"), c = a.m();
  if (b = c.Ek(b.value)) {
    for (var d in b) {
      c.Ib(d) && a.Zf(d, b[d]);
    }
  }
  b && I(a, new cK(b, a));
}
h.Fm = function() {
  QL(this, !TL(this));
};
function TL(a) {
  a = a.g().querySelector(".ydn-content");
  return ei(a);
}
function RL(a) {
  return a.g().querySelector(".header .header-label");
}
h.refresh = function() {
  PL.j.refresh.call(this);
  var a = RL(this), b = TL(this) ? "Edit name" : this.m().Hb();
  "INPUT" == a.tagName ? a.value = b : a.textContent = b;
};
h.reset = function() {
  PL.j.reset.call(this);
  QL(this, !1);
  RL(this).setAttribute("data-tooltip", this.m().a);
};
h.I = function() {
  this.b && (this.b.O(), this.b = null);
  PL.j.I.call(this);
};
function UL(a, b) {
  PL.call(this, a, b);
}
A(UL, PL);
function VL(a, b, c) {
  yL.call(this, a, c);
  this.hg = b;
}
A(VL, yL);
h = VL.prototype;
h.hg = null;
h.m = function() {
  return VL.j.m.call(this);
};
h.B = function() {
  VL.j.B.call(this);
  var a = Kw(aD, {Ak:!0});
  this.T().appendChild(a);
};
h.A = function() {
  VL.j.A.call(this);
  var a = WL(this);
  X(this).listen(a, "focus", this.wp);
  X(this).listen(a, "blur", this.Vm);
};
h.gg = function() {
  return this.m().f();
};
function XL(a) {
  return a.T().querySelector(".parent-type");
}
h.wp = function() {
  var a = this.gg();
  0 <= ir.indexOf(a) && (qL(this.hg), this.hg.c.a = [a], pL(this.hg, this.T().querySelector(".select-record")));
};
h.Vm = function() {
  if (this.Bc()) {
    this.Wa();
    var a = new cK(this.Wa(), this);
    I(this, a);
  }
};
function WL(a) {
  return a.T().querySelector(".select-record input.value");
}
h.reset = function() {
  var a = WL(this);
  a.removeAttribute("data-id");
  var b = this.m();
  a.setAttribute("placeholder", b.tb());
  a.setAttribute("data-tooltip", b.tb());
};
h.refresh = function() {
  var a = WL(this), b = this.m(), c = jx(b.module, b.c()), b = jx(b.module, b.b());
  a.value = c;
  a.setAttribute("data-id", b);
  a.setAttribute("data-name", c);
  a = this.g();
  b ? a.classList.remove("empty") : a.classList.add("empty");
};
h.Wa = function() {
  var a = WL(this), b = this.m(), c = b.c(), d = {};
  d[b.b()] = a.getAttribute("data-id");
  d[c] = a.getAttribute("data-name");
  return d;
};
h.Bc = function() {
  var a = WL(this), b = this.m().b();
  return a.getAttribute("data-id") != jx(this.m().module, b);
};
h.Vc = function() {
  return this.Bc() ? this.Wa() : null;
};
h.Zf = function(a, b) {
  var c = WL(this);
  "parent_id" == a ? c.setAttribute("data-id", b) : "parent_name" == a ? (c.value = b, c.setAttribute("data-name", b)) : "parent_type" == a && (XL(this).value = b);
};
function YL(a, b, c) {
  VL.call(this, a, b, c);
}
A(YL, VL);
h = YL.prototype;
h.m = function() {
  return YL.j.m.call(this);
};
h.B = function() {
  YL.j.B.call(this);
  var a = XL(this);
  R(a, !0);
};
h.A = function() {
  YL.j.A.call(this);
};
h.reset = function() {
  YL.j.reset.call(this);
  var a = XL(this);
  if ("INPUT" == a.tagName) {
    a.setAttribute("list", ZL(this));
  } else {
    if ("SELECT" == a.tagName) {
      a.innerHTML = "";
      for (var b = this.m(), c = Ix(b), d = 0;d < c.length;d++) {
        var e;
        a: {
          e = c[d];
          var f = cx(b.module, "parent_type");
          if (f && f.options) {
            var g = void 0;
            for (g in f.options) {
              if (f.options[g].value == e) {
                e = f.options[g].name;
                break a;
              }
            }
          }
          e = null;
        }
        e && (f = document.createElement("option"), f.value = e, f.textContent = c[d], a.appendChild(f));
      }
    }
  }
  a.value = Jx(this.m());
};
function ZL(a) {
  var b = "list-" + Rx(a.m().module) + "-parent-type";
  if (!document.getElementById("id")) {
    var c = document.createElement("datalist");
    a = Ix(a.m());
    for (var d = 0;d < a.length;d++) {
      var e = document.createElement("option");
      e.value = a[d];
      c.appendChild(e);
    }
    c.id = b;
    document.body.appendChild(c);
  }
  return b;
}
h.gg = function() {
  return XL(this).value || YL.j.gg.call(this);
};
h.refresh = function() {
  YL.j.refresh.call(this);
  var a = this.m();
  XL(this).value = jx(a.module, "parent_type") || Jx(a);
};
h.Wa = function() {
  var a = YL.j.Wa.call(this);
  a && (a.parent_type = this.gg());
  return a;
};
function $L(a, b) {
  yL.call(this, a, b);
}
A($L, OL);
function aM(a, b, c) {
  rL.call(this, a, b, c);
}
A(aM, rL);
aM.prototype.B = function() {
  aM.j.B.call(this);
  this.g();
  var a = this.a, b = this.m();
  var c = [], d = dx(b);
  if (d) {
    for (var e in d.module_fields) {
      var f = d.module_fields[e].group;
      -1 == c.indexOf(f) && ("name" == f ? c.unshift(f) : c.push(f));
    }
  }
  for (d = 0;d < c.length;d++) {
    e = c[d];
    var g, f = gy(b, e);
    if (f instanceof Dx) {
      g = new ML(f, a);
    } else {
      if (f instanceof hx) {
        g = new DL(f, a);
      } else {
        if (f instanceof vx) {
          g = new IL(f, a);
        } else {
          if (f instanceof wx) {
            g = new LL(f, a);
          } else {
            if (f instanceof Hx) {
              g = new YL(f, this.ti, a);
            } else {
              if (f instanceof Lx) {
                g = new $L(f, a);
              } else {
                if (f instanceof Fx) {
                  e = f, e.Ib("full_name") ? g = new UL(e, a) : g = new GL(e, a);
                } else {
                  if (f instanceof ex) {
                    g = new VL(f, this.ti, a);
                  } else {
                    if (f instanceof tx) {
                      g = f, "" == g.a && NL.X(), g = new GL(g, a);
                    } else {
                      throw Error("Invalid group: " + e);
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    this.H(g, !0);
  }
};
function bM() {
  return $C('<div style="display:none;position:absolute"><div style="position:relative;right:8px;z-index:100" class="ydn-crm inj secondary-hovercard"><div class="secondary-hovercard-content"></div></div></div>');
}
;function cM(a, b) {
  this.b = a instanceof ah ? a : new ah(a, b);
}
A(cM, YI);
cM.prototype.a = function(a, b, c, d) {
  VI(Th(a), 0, a, b, this.b, c, null, d);
};
function dM(a, b) {
  this.ge = 4;
  this.ka = b || void 0;
  cE.call(this, a);
}
A(dM, cE);
function eM(a, b) {
  a.ka = b || void 0;
  a.aa() && a.ue();
}
dM.prototype.ue = function() {
  if (this.ka) {
    var a = !this.aa() && "move_offscreen" != this.Rd, b = this.g();
    a && (b.style.visibility = "hidden", R(b, !0));
    this.ka.a(b, this.ge, this.Di);
    a && R(b, !1);
  }
};
function fM(a, b, c) {
  this.f = c || (a ? dh(gh(document, a)) : dh());
  dM.call(this, this.f.w("DIV", {style:"position:absolute;display:none;"}));
  this.h = new ah(1, 1);
  this.b = new ze;
  this.o = null;
  a && gM(this, a);
  null != b && zh(this.g(), b);
}
A(fM, dM);
var hM = [];
h = fM.prototype;
h.Ea = null;
h.className = "goog-tooltip";
function gM(a, b) {
  b = gh(document, b);
  a.b.add(b);
  ud(b, "mouseover", a.yf, !1, a);
  ud(b, "mouseout", a.Td, !1, a);
  ud(b, "mousemove", a.Sd, !1, a);
  ud(b, "focus", a.qj, !1, a);
  ud(b, "blur", a.Td, !1, a);
}
function iM(a, b) {
  if (b) {
    var c = gh(document, b);
    jM(a, c);
    a.b.remove(c);
  } else {
    for (var d = a.b.Fa(), e = 0;c = d[e];e++) {
      jM(a, c);
    }
    a.b.clear();
  }
}
function jM(a, b) {
  Cd(b, "mouseover", a.yf, !1, a);
  Cd(b, "mouseout", a.Td, !1, a);
  Cd(b, "mousemove", a.Sd, !1, a);
  Cd(b, "focus", a.qj, !1, a);
  Cd(b, "blur", a.Td, !1, a);
}
h.ah = function() {
  return 0;
};
h.Wf = function(a) {
  var b = this.g();
  b && wh(b);
  fM.j.Wf.call(this, a);
  a ? (b = this.f.a.body, b.insertBefore(a, b.lastChild), Kc(this.o), this.o = new PD(this.g()), Jc(this, qa(Kc, this.o)), ud(this.o, "focusin", this.Zc, void 0, this), ud(this.o, "focusout", this.Ce, void 0, this)) : (Kc(this.o), this.o = null);
};
h.getState = function() {
  return this.F ? this.aa() ? 4 : 1 : this.D ? 3 : this.aa() ? 2 : 0;
};
h.Ff = function(a) {
  if (!this.aa()) {
    return !1;
  }
  var b = Xh(this.g()), c = ai(this.g());
  return b.x <= a.x && a.x <= b.x + c.width && b.y <= a.y && a.y <= b.y + c.height;
};
h.Vh = function() {
  if (!cE.prototype.Vh.call(this)) {
    return !1;
  }
  if (this.a) {
    for (var a, b = 0;a = hM[b];b++) {
      yh(a.g(), this.a) || dE(a, !1);
    }
  }
  mb(hM, this) || hM.push(this);
  a = this.g();
  a.className = this.className;
  this.Zc();
  ud(a, "mouseover", this.vh, !1, this);
  ud(a, "mouseout", this.zj, !1, this);
  kM(this);
  return !0;
};
h.rd = function() {
  ob(hM, this);
  for (var a = this.g(), b, c = 0;b = hM[c];c++) {
    b.a && yh(a, b.a) && dE(b, !1);
  }
  this.ac && this.ac.Ce();
  Cd(a, "mouseover", this.vh, !1, this);
  Cd(a, "mouseout", this.zj, !1, this);
  this.a = void 0;
  0 == this.getState() && (this.oa = !1);
  cE.prototype.rd.call(this);
};
h.Oh = function(a, b) {
  this.a == a && this.b.contains(this.a) && (this.oa || !this.pq ? (dE(this, !1), this.aa() || (this.a = a, eM(this, b || lM(this, 0)), dE(this, !0))) : this.a = void 0);
  this.F = void 0;
};
h.Mj = function(a) {
  this.D = void 0;
  if (a == this.a) {
    a = this.f;
    var b;
    a = (b = Kh(a.a)) && this.g() && a.contains(this.g(), b);
    null != this.Ea && (this.Ea == this.g() || this.b.contains(this.Ea)) || a || this.s && this.s.Ea || dE(this, !1);
  }
};
function mM(a, b) {
  var c = nh(a.f.a);
  a.h.x = b.clientX + c.x;
  a.h.y = b.clientY + c.y;
}
h.yf = function(a) {
  var b = nM(this, a.target);
  this.Ea = b;
  this.Zc();
  b != this.a && (this.a = b, oM(this, b), pM(this), mM(this, a));
};
function nM(a, b) {
  try {
    for (;b && !a.b.contains(b);) {
      b = b.parentNode;
    }
    return b;
  } catch (c) {
    return null;
  }
}
h.Sd = function(a) {
  mM(this, a);
  this.oa = !0;
};
h.qj = function(a) {
  this.Ea = a = nM(this, a.target);
  this.oa = !0;
  if (this.a != a) {
    this.a = a;
    var b = lM(this, 1);
    this.Zc();
    oM(this, a, b);
    pM(this);
  }
};
function lM(a, b) {
  if (0 == b) {
    var c = a.h.clone();
    return new qM(c);
  }
  return new rM(a.Ea);
}
function pM(a) {
  if (a.a) {
    for (var b, c = 0;b = hM[c];c++) {
      yh(b.g(), a.a) && (b.s = a, a.ac = b);
    }
  }
}
h.Td = function(a) {
  var b = nM(this, a.target), c = nM(this, a.f);
  b != c && (b == this.Ea && (this.Ea = null), kM(this), this.oa = !1, !this.aa() || a.f && yh(this.g(), a.f) ? this.a = void 0 : this.Ce());
};
h.vh = function() {
  var a = this.g();
  this.Ea != a && (this.Zc(), this.Ea = a);
};
h.zj = function(a) {
  var b = this.g();
  this.Ea != b || a.f && yh(b, a.f) || (this.Ea = null, this.Ce());
};
function oM(a, b, c) {
  a.F || (a.F = Df(pa(a.Oh, a, b, c), 500));
}
function kM(a) {
  a.F && (q.clearTimeout(a.F), a.F = void 0);
}
h.Ce = function() {
  2 == this.getState() && (this.D = Df(pa(this.Mj, this, this.a), this.ah()));
};
h.Zc = function() {
  this.D && (q.clearTimeout(this.D), this.D = void 0);
};
h.I = function() {
  dE(this, !1);
  kM(this);
  iM(this);
  this.g() && wh(this.g());
  this.Ea = null;
  delete this.f;
  fM.j.I.call(this);
};
function qM(a, b) {
  cM.call(this, a, b);
}
A(qM, cM);
qM.prototype.a = function(a, b, c) {
  b = Th(a);
  b = Wh(b);
  c = c ? new Lh(c.top + 10, c.right, c.bottom, c.left + 10) : new Lh(10, 0, 0, 10);
  XI(this.b, a, 4, c, b, 9) & 496 && XI(this.b, a, 4, c, b, 5);
};
function rM(a) {
  ZI.call(this, a, 3);
}
A(rM, ZI);
rM.prototype.a = function(a, b, c) {
  var d = new ah(10, 0);
  VI(this.b, this.c, a, b, d, c, 9) & 496 && VI(this.b, 2, a, 1, d, c, 5);
};
function sM(a, b, c) {
  fM.call(this, a, b, c);
}
A(sM, fM);
h = sM.prototype;
h.jl = !1;
h.Ge = !1;
h.xf = function() {
  sM.j.xf.call(this);
  this.$ = Oh(ci(this.g()));
  this.a && (this.Ba = Oh(ci(this.a)));
  this.Ge = this.jl;
  ud(this.f.a, "mousemove", this.Sd, !1, this);
};
h.rd = function() {
  Cd(this.f.a, "mousemove", this.Sd, !1, this);
  this.Ba = this.$ = null;
  this.Ge = !1;
  sM.j.rd.call(this);
};
h.Ff = function(a) {
  if (this.ea) {
    var b = Xh(this.g()), c = ai(this.g());
    return b.x - this.ea.left <= a.x && a.x <= b.x + c.width + this.ea.right && b.y - this.ea.top <= a.y && a.y <= b.y + c.height + this.ea.bottom;
  }
  return sM.j.Ff.call(this, a);
};
function tM(a, b) {
  if (a.Ba && a.Ba.contains(b) || a.Ff(b)) {
    return !0;
  }
  var c = a.s;
  return !!c && c.Ff(b);
}
h.Mj = function(a) {
  this.D = void 0;
  a != this.a || tM(this, this.h) || this.Ea || this.s && this.s.Ea || Pc && 0 == this.h.x && 0 == this.h.y || dE(this, !1);
};
h.Sd = function(a) {
  var b = this.aa();
  if (this.$) {
    var c = nh(this.f.a), c = new ah(a.clientX + c.x, a.clientY + c.y);
    tM(this, c) ? b = !1 : this.Ge && (b = Mh(this.$, c) >= Mh(this.$, this.h));
  }
  if (b) {
    if (this.Ce(), this.Ea = null, b = this.s) {
      b.Ea = null;
    }
  } else {
    3 == this.getState() && this.Zc();
  }
  sM.j.Sd.call(this, a);
};
h.vh = function() {
  this.Ea != this.g() && (this.Ge = !1, this.Ea = this.g());
};
h.ah = function() {
  return this.Ge ? 100 : sM.j.ah.call(this);
};
function uM(a, b, c, d) {
  fM.call(this, null, null, c);
  ia(a) ? this.Ah = a : this.Wc = a;
  this.Le = 0 != b;
  this.Xa = [];
  this.$b = d || (c ? c.a : document);
  ud(this.$b, "mouseover", this.Aj, !1, this);
}
A(uM, sM);
h = uM.prototype;
h.I = function() {
  uM.j.I.call(this);
  Cd(this.$b, "mouseover", this.Aj, !1, this);
};
h.Ah = function(a) {
  return a.tagName in this.Wc && !!a.getAttribute(this.Wc[a.tagName]);
};
h.Aj = function(a) {
  if (a = a.target) {
    this.Ah(a) ? (eM(this, null), vM(this, a)) : this.Le && (a = Ih(a, pa(this.Ah, this), !1, this.Gi)) && (eM(this, null), vM(this, a));
  }
};
function vM(a, b) {
  if (b == a.l) {
    a.Zc();
  } else {
    if (b != a.a) {
      if (1 == a.getState() || 4 == a.getState()) {
        kM(a), wM(a);
      }
      var c = new xM("trigger", a, b, void 0);
      a.b.contains(b) || (gM(a, b), a.Xa.push(b));
      a.a = b;
      I(a, c) ? oM(a, b, a.ka) : wM(a);
    }
  }
}
function yM(a, b) {
  if (b) {
    var c = cb(a.Xa, b);
    -1 != c && (iM(a, b), a.Xa.splice(c, 1));
  }
}
function wM(a) {
  I(a, new xM("canceltrigger", a, a.a || null));
  yM(a, a.a);
  delete a.a;
}
h.rd = function() {
  uM.j.rd.call(this);
  null != this.l && yM(this, this.l);
  this.l = null;
};
h.yf = function(a) {
  var b = nM(this, a.target);
  b && b != this.a ? vM(this, b) : uM.j.yf.call(this, a);
};
h.Td = function(a) {
  var b = this.a, c = this.getState();
  uM.j.Td.call(this, a);
  c == this.getState() || 1 != c && 4 != c || (this.a = b, wM(this));
};
h.Oh = function(a, b) {
  uM.j.Oh.call(this, a, b);
  this.aa() ? (a != this.l && yM(this, this.l), this.l = a) : (kM(this), wM(this));
};
function xM(a, b, c, d) {
  G.call(this, a, b);
  this.f = c;
  this.data = d;
}
A(xM, G);
function LI(a, b, c) {
  Gc.call(this);
  this.a = new uM({LI:"data-id"}, !0, c, b);
  b = Kw(bM);
  a = new Nx(a, new tr(a.L(), "Contacts"));
  a = this.b = new zM(a, c);
  c = AM;
  a.W = c;
  a.pa() && (a = a.g().querySelector("[name=edit-toolbar]"), R(a, c != AM));
  this.b.render(b.querySelector(".secondary-hovercard-content"));
  this.a.Wf(b);
  b = this.a;
  b.ge = 2;
  b.aa() && b.ue();
  this.c = new zf(this);
  this.c.listen(this.a, "trigger", this.ho);
  this.c.listen(this.a, "beforeshow", this.pm);
}
A(LI, Gc);
h = LI.prototype;
h.I = function() {
  this.c.O();
  this.c = null;
  this.a.O();
  this.a = null;
  this.b.O();
  this.b = null;
  LI.j.I.call(this);
};
h.ho = function(a) {
  eM(this.a, new $I(a.f, 0, !0));
  return !0;
};
h.pm = function() {
  var a, b = this.a;
  a = b.l || b.a;
  b = a.getAttribute("data-id");
  a = a.getAttribute("data-module");
  BM(this, a, b);
};
h.Sb = function() {
  return this.b.m();
};
h.L = function() {
  return this.b.m().L();
};
function BM(a, b, c) {
  var d = a.Sb();
  if (Qx(d) || d.N() != c) {
    if (!b || !c) {
      throw Error("Invalid id");
    }
    c = {store:b, key:c};
    Tx(a.b.m().parent).send("query", [c]).u(function(a) {
      a = a[0];
      a.result[0] && Ux(d, new tr(this.L(), b, a.result[0]));
    }, function(a) {
      window.console.error(a);
    }, a);
  }
}
;function KI(a) {
  this.a = a;
}
KI.prototype.render = function(a, b) {
  var c = b._module;
  a.innerHTML = "";
  var d = jI("record-item-template").content;
  a.appendChild(d.cloneNode(!0));
  a.setAttribute("data-id", b.id);
  a.setAttribute("data-module", c);
  a.firstElementChild.classList.add(c);
  d = new Nx(this.a, new tr(this.a.L(), c, b));
  a.querySelector(".icon").textContent = qr(c);
  var e = a.querySelector(".ydn-title");
  e.textContent = Vx(d);
  e.href = dy(d);
  e.target = "_blank";
  e = a.querySelector(".ydn-content");
  if (0 <= lr.indexOf(c)) {
    c = e.querySelector(".summary");
    a: {
      if (d = gy(d, "email"), e = d.module.value("email"), u(e)) {
        for (d = 0;d < e.length;d++) {
          if ("1" == e[d].primary_address) {
            d = e[d].email_address;
            break a;
          }
        }
        d = e[0] ? e[0].email_address : "";
      } else {
        dx(d.module), d = (e = fx(d.module, "email1")) ? e : fx(d.module, "email2") || "";
      }
    }
    c.textContent = d;
  } else {
    if (0 <= nr.indexOf(c)) {
      var c = e.querySelector(".summary"), e = d.a, e = yr(e, xr(e)) || "", f = jx(d, "priority"), g = "";
      (d = Ar(d.a)) && (g = Gq(+d) || d.toLocaleString());
      c.innerHTML = '<span class="status ' + f + '">' + e + "</span> <span>" + g + "</span>";
    } else {
      e.querySelector(".summary").textContent = jx(d, "description");
    }
  }
};
function CM(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(CM, V);
var DM = [{label:"New Tasks", name:"Tasks"}];
h = CM.prototype;
h.U = function() {
  return "secondary";
};
h.B = function() {
  CM.j.B.call(this);
  var a = this.a;
  this.g().classList.add(this.U());
  var b = this.T(), c = this.m(), d = c.parent, e = new EM(c, FM);
  this.H(e, !0);
  e = new EM(c, GM);
  this.H(e, !0);
  c = new EM(c, HM);
  this.H(c, !0);
  new LI(d, b, a);
};
h.A = function() {
  CM.j.A.call(this);
};
h.reset = function() {
  for (var a = 0;a < Y(this);a++) {
    var b = Z(this, a);
    b instanceof EM && b.reset();
  }
  this.g().removeAttribute("data-id");
};
function IM(a, b) {
  for (var c = 0;c < Y(a);c++) {
    var d = Z(a, c);
    if (d.b == b) {
      return d;
    }
  }
  return null;
}
function JM(a) {
  var b = a.m();
  a.g();
  jy(b).c(function(a) {
    if (a) {
      for (var d = 0;d < a.length;d++) {
        var e = a[d], f = e._module, g = !1;
        if (0 <= nr.indexOf(f)) {
          var k = Ar(new tr(b.L(), f, e));
          k && k > new Date && (g = !0);
        }
        "Emails" == f ? KM(IM(this, HM), e) : g ? KM(IM(this, FM), e) : KM(IM(this, GM), e);
      }
    }
  }, a);
}
h.refresh = function() {
  var a = this.m();
  if (!Qx(a)) {
    var b = this.g();
    b.getAttribute("data-id") != a.N() && (this.reset(), b.setAttribute("data-id", a.N()), JM(this));
  }
};
var FM = "activity", HM = "email", GM = "related";
function EM(a, b, c) {
  V.call(this, c);
  this.b = b;
  this.Z(a);
  this.c = new KI(a.parent);
  this.s = new Vw(void 0, DM);
}
A(EM, V);
h = EM.prototype;
h.B = function() {
  EM.j.B.call(this);
  var a = this.g(), b = chrome.i18n.getMessage("Related");
  this.b == FM ? b = chrome.i18n.getMessage("Upcoming_Activities") : this.b == HM && (b = chrome.i18n.getMessage("Emails"));
  a.innerHTML = '<section class="' + this.b + '">\n    <div class="header flex-bar">\n      <span class="expander svg-button"></span>\n      <span class="ydn-title ydn-center">' + b + '</span>\n      <span name="count"></span>\n      <span name="menu"></span>\n    </div>\n    <ul></ul>\n  </section>';
  b = a.querySelector(".header .expander");
  R(a.querySelector("ul"), !1);
  var c = Pw("unfold-more");
  b.appendChild(c);
  a = a.querySelector(".header [name=menu]");
  this.s.render(a);
  R(a, !1);
};
h.A = function() {
  EM.j.A.call(this);
  var a = this.g(), b = a.querySelector(".header .expander"), c = X(this);
  c.listen(b, "click", this.Gm);
  (b = window.localStorage.getItem(LM(this))) ? "1" == b.charAt(0) ? MM(this, !0) : MM(this, !1) : MM(this, !0);
  c.listen(a, "click", this.im);
};
h.Gm = function() {
  var a = !ei(this.g().querySelector("ul"));
  MM(this, a);
  window.localStorage.setItem(LM(this), a ? "1" : "0");
};
function MM(a, b) {
  var c = a.g();
  R(c.querySelector("ul"), b);
  var c = c.querySelector(".header .expander"), d = Pw(b ? "unfold-less" : "unfold-more");
  c.replaceChild(d, c.firstElementChild);
}
h.im = function(a) {
  a.target instanceof Element && (a = Yw(a)) && console.log(a);
};
h.reset = function() {
  var a = this.g();
  a.querySelector("ul").innerHTML = "";
  a.querySelector(".header [name=count]").innerHTML = "0";
};
function LM(a) {
  return "section-section-" + Rx(a.m()) + "-" + a.b;
}
function KM(a, b) {
  var c = a.g(), d = c.querySelector("ul"), e;
  a: {
    e = b.id;
    for (var f = a.g().querySelector("ul"), g = f.childElementCount, k = 0;k < g;k++) {
      var l = f.children[k];
      if (l.getAttribute("data-id") == e) {
        e = l;
        break a;
      }
    }
    e = null;
  }
  e || (e = document.createElement("li"), e.setAttribute("data-id", b.id), e.setAttribute("data-module", b._module), d.appendChild(e), c.querySelector(".header [name=count]").innerHTML = String(d.childElementCount));
  a.c.render(e, b);
}
;function zM(a, b) {
  V.call(this, b);
  this.Z(a);
  this.s = new Vw({className:"menu"});
  this.F = NM;
  this.c = null;
  this.W = OM;
  this.yd = null;
}
A(zM, V);
zM.prototype.logger = J("ydn.crm.su.ui.record.Record");
zM.prototype.b = null;
var AM = "no", OM = "";
h = zM.prototype;
h.m = function() {
  return zM.j.m.call(this);
};
h.U = function() {
  return "record-panel";
};
function PM(a) {
  Qx(a.m()) ? a.c && (a.removeChild(a.c, !0), a.c.O(), a.c = null) : a.F == QM || a.F == NM && RM(a) ? a.c || (a.c = new CM(a.m(), a.a), a.H(a.c, !0), a.pa() && (a.c.reset(), a.c.refresh())) : (a.F == SM || a.F == NM && !RM(a)) && a.c && (a.removeChild(a.c, !0), a.c.O(), a.c = null);
}
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
function TM(a) {
  return a.g().querySelector(".ydn-head");
}
h.yd = null;
h.B = function() {
  zM.j.B.call(this);
  var a = this.g(), b = this.a;
  a.className = this.U() + " " + Rx(this.m());
  var c = b.w("div", "ydn-head"), d = b.w("div", "ydn-content"), e = b.w("div", "neck");
  a.appendChild(c);
  a.appendChild(e);
  a.appendChild(d);
  this.yd = new oL(this.m().parent, Rx(this.m()), a, !0);
  c.classList.add("record-header");
  c.classList.add("flex-bar");
  Pw("pencil", "icons-small");
  c.innerHTML = '<a class="icon"\n      target="_blank" data-tooltip="Open in SugarCRM"></a>\n  <a data-tooltip="View in Gmail contact" class="badge-icon google"></a>\n  <a class="title ydn-center"></a>\n  <span class="ydn-center"></span>\n  <span name="edit-toolbar">\n    <a class="cancel-button"\n      data-tooltip="' + chrome.i18n.getMessage("Cancel_edit") + '"></a>\n    <a class="ok-button"\n      data-tooltip="' + chrome.i18n.getMessage("Submit_changes") + '"></a>\n    <a class="edit-button"\n      data-tooltip="' + 
  chrome.i18n.getMessage("Edit_record") + '"></a>\n  </span>\n  ';
  c.querySelector(".google").appendChild(Pw("google", "icons-small"));
  c.querySelector(".edit-button").appendChild(b.w("BUTTON", "edit-button", chrome.i18n.getMessage("Edit")));
  c.querySelector(".cancel-button").appendChild(b.w("BUTTON", "cancel-button", chrome.i18n.getMessage("Cancel")));
  c.querySelector(".ok-button").appendChild(b.w("BUTTON", "save-button", chrome.i18n.getMessage("Save")));
  this.s.render(c);
  PM(this);
  b = b.w("div", "record-footer");
  b.innerHTML = '<div class="footer-toolbar">\n    <div class="message"></div>\n  </div>';
  a.appendChild(b);
  this.b = new aM(this.m(), this.yd, this.a);
  this.bc(this.b, 0, !0);
};
h.A = function() {
  zM.j.A.call(this);
  var a = X(this), b = this.m();
  this.g();
  var c = this.g().querySelector(".ydn-head .more-menu");
  a.listen(b, "module-change", this.Ql);
  a.listen(b, "record-change", this.Tl);
  a.listen(b, "record-update", this.Ul);
  a.listen(this.T(), "click", this.Fl, !1);
  a.listen(this, "field-change", this.Kl);
  a.listen(c, "click", this.Jl);
  a.listen(c, "mouseenter", this.Qm);
  var b = TM(this), c = b.querySelector(".ok-button"), d = b.querySelector(".cancel-button");
  a.listen(b.querySelector(".edit-button"), "click", this.Cm);
  a.listen(c, "click", this.Jn);
  a.listen(d, "click", this.yp);
  this.reset();
};
function UM(a) {
  var b = a.m(), c = jI("record-delete-dialog");
  a = c.querySelector("a.record");
  a.href = dy(b);
  a.textContent = Vx(b);
  c.querySelector("span.type").textContent = Rx(b);
  c.showModal(document.getElementById("sticky-hud-base"));
  c.querySelector("button[name=cancel]").onclick = function() {
    c.close("cancel");
  };
  a = c.querySelector("button[name=ok]");
  a.onclick = function() {
    c.close("ok");
  };
  a.focus();
  c.onclose = function(a) {
    if ("ok" == a.target.returnValue) {
      var c = Cw(chrome.i18n.getMessage("Deleting"), "...");
      Fw(c, dy(b), Vx(b));
      cy(b).u(function() {
        Dw(c, Vx(b), chrome.i18n.getMessage("deleted"));
      }, function(a) {
        Ew(c, a.message, "e");
      }, this);
    }
  };
}
function VM(a) {
  var b = a.m();
  if (Qx(b)) {
    XE("Export to Gmail Contact", "SugarCRM Record does not exist");
  } else {
    var c = Cw(chrome.i18n.getMessage("exporting") + " ...");
    iy(b).u(function(a) {
      var b = iD();
      Dw(c, "Exported to ");
      b = iB(a, b);
      Fw(c, b, "View in Gmail contact", "Gmail Contact " + a.id.match(/\w+$/)[0]);
      WM(this);
    }, function(a) {
      Dw(c, "Error exporting: " + a.message || a);
    }, a);
  }
}
h.Qm = function() {
  XM(this);
};
h.Jl = function(a) {
  var b = Yw(a);
  if (b) {
    var b = b.split(","), b = b[b.length - 1], c = YM + "-";
    b == ZM ? $M(this, !aN(this)) : b == bN ? UM(this) : b == cN ? VM(this) : b == dN ? eN(this) : b == fN ? gN(this) : b && xa(b, "new-") ? (c = b.substr(4), hN(this, c, !1)) : b && xa(b, c) && (c = b.substr(c.length), hN(this, c, !0));
    a.stopPropagation();
    dj("ui.record", "menu.click", b);
  }
};
function iN(a, b) {
  var c = Qx(a.m()) ? "" : a.m().N(), d = cj(c);
  return jN(a, b).u(function(a) {
    a = a.id;
    bj[d] && (bj[d](a, a), clearTimeout(d));
  }, function() {
    bj[d] && (bj[d](null, null), clearTimeout(d));
  });
}
function kN(a, b) {
  var c = a.m(), d = Qx(c), e = d ? tL(a.b) : uL(a.b);
  if (e) {
    if (b) {
      var f = chrome.i18n.getMessage("confirm_record_update"), g = {};
      if (!d) {
        for (var k in e) {
          g[k] = c.value(k);
        }
      }
      d = jI("record-patch-compare-template").content;
      c = document.createElement("div");
      c.appendChild(d.cloneNode(!0));
      c.querySelector("pre[name=original]").textContent = JSON.stringify(g, null, 2);
      c.querySelector("pre[name=patch]").textContent = JSON.stringify(e, null, 2);
      g = [{name:"ok", label:chrome.i18n.getMessage("Submit"), Bh:!0}, {name:"cancel", label:chrome.i18n.getMessage("Close"), dm:!0}];
      return XE(f, c, g).i(function(a) {
        return "ok" == a ? iN(this, e) : null;
      }, a);
    }
    return iN(a, e);
  }
  return D(!1);
}
h.yp = function(a) {
  a.stopPropagation();
  $M(this, !1);
  this.reset();
};
h.Cm = function(a) {
  a.stopPropagation();
  "ex" == this.W ? (a = new rI("RecordPage", hy(this.m()), this), I(this, a)) : $M(this, !0);
};
h.Jn = function(a) {
  a.stopPropagation();
  var b = TM(this), c = b.querySelector(".cancel-button"), d = b.querySelector(".ok-button");
  c.setAttribute("disabled", "");
  d.setAttribute("disabled", "");
  kN(this, !!a.altKey).u(function() {
    c.removeAttribute("disabled");
    d.removeAttribute("disabled");
    $M(this, !1);
    this.reset();
  }, function(a) {
    !1 === a ? (Cw(chrome.i18n.getMessage("No_change_to_be_saved")), $M(this, !1), this.reset()) : Cw(chrome.i18n.getMessage("Error_saving") + (a.message || a));
    c.removeAttribute("disabled");
    d.removeAttribute("disabled");
  }, this);
};
function eN(a) {
  var b = a.m(), c = Rx(b), d = document.querySelector("#field-display-dialog") || jI("field-display-dialog"), e = d.querySelector(".ydn-content"), f = e.getAttribute("name"), g = d.querySelector("button.apply"), k = d.querySelector("button.cancel");
  d.querySelector("button.restore").onclick = function() {
    if (window.confirm("Are you sure you want to restore to default setting")) {
      var a = d.querySelector(".ydn-content");
      var b = a.getAttribute("name"), c = GE.X(), e = TE(c);
      e.Module && e.Module[b] ? (delete e.Module[b], SE(c)) : C(!1);
      a.setAttribute("name", "");
      d.close("cancel");
      a = aN(this);
      this.b.reset(a);
      this.b.refresh();
    }
  }.bind(a);
  g.onclick = function() {
    d.close("apply");
  };
  k.onclick = function() {
    d.close("cancel");
  };
  d.onclose = a.Im.bind(a);
  if (f != c) {
    e.innerHTML = "";
    e.setAttribute("name", c);
    a = jI("field-table").content;
    e.appendChild(a.cloneNode(!0));
    a = e.querySelector("tbody.group-body");
    var e = e.querySelector("tbody.field-body"), b = dx(b), f = [], g = GE.X(), l;
    for (l in b.module_fields) {
      var m = b.module_fields[l], n = m.group, k = document.createElement("tr");
      if (n) {
        if (-1 == f.indexOf(n)) {
          f.push(n), a.appendChild(k), m = new UI(g, c, n);
        } else {
          continue;
        }
      } else {
        e.appendChild(k), m = new TI(g, c, m);
      }
      k.setAttribute("name", m.getName());
      var n = document.createElement("td"), p = document.createElement("td"), r = document.createElement("input");
      n.appendChild(r);
      r.type = "checkbox";
      m.ob() || (r.checked = !0);
      p.textContent = m.jg();
      k.appendChild(n);
      k.appendChild(p);
    }
  }
  d.showModal();
}
h.Im = function(a) {
  a = a.target;
  if ("apply" == a.returnValue) {
    var b = lN(a.querySelector(".group-body"));
    mN(this, !0, b);
    b = lN(a.querySelector(".field-body"));
    mN(this, !1, b);
    setTimeout(function() {
      var a = aN(this);
      this.b.reset(a);
      this.b.refresh();
    }.bind(this), 100);
  }
  a.querySelector("button.restore").onclick = null;
  a.querySelector("button.apply").onclick = null;
  a.querySelector("button.cancel").onclick = null;
};
function lN(a) {
  for (var b = {}, c = a.childElementCount, d = 0;d < c;d++) {
    var e = a.children[d], f = e.querySelector("input");
    b[e.getAttribute("name")] = !f.checked;
  }
  return b;
}
function mN(a, b, c) {
  a = a.m();
  var d = dx(a), e = GE.X(), f;
  for (f in c) {
    var g;
    if (b) {
      g = new UI(e, Rx(a), f);
    } else {
      g = d.module_fields[f];
      if (!g) {
        break;
      }
      g = new TI(e, Rx(a), g);
    }
    var k = c[f], l = g.kg(), m = g.nf();
    "email" == g.name && console.log("email setting " + k);
    k == m ? l ? (delete l.normallyHide, SE(g.b)) : C(!1) : (l || (l = g.Zi()), l.normallyHide = !!k, SE(g.b));
  }
}
function gN(a) {
  a = hy(a.m());
  var b = jI("record-detail-dialog");
  b.querySelector("button[value=ok]").onclick = function() {
    b.close("close");
  };
  var c = b.querySelector(".ydn-content");
  c.innerHTML = "";
  var d = document.createElement("pre");
  if (a) {
    for (var e in a) {
      xa(e, "ydn$") && delete a[e];
    }
    d.textContent = JSON.stringify(a, null, 2);
  }
  c.appendChild(d);
  b.showModal();
}
h.Kl = function(a) {
  a.stopPropagation();
  aN(this) || Qx(this.m()) || $M(this, !0);
  nN(this, !0);
};
function nN(a, b) {
  b ? a.g().classList.add("dirty") : a.g().classList.remove("dirty");
}
function jN(a, b) {
  var c = a.m(), d = Qx(c), e = d ? chrome.i18n.getMessage("Creating") : chrome.i18n.getMessage("Updating"), f = Cw(e + " ...");
  return by(c, b).u(function() {
    nN(this, !1);
    var a = d ? chrome.i18n.getMessage("created") : chrome.i18n.getMessage("updated");
    Dw(f, Rx(c), a);
    a = dy(c);
    Fw(f, a, Vx(c), chrome.i18n.getMessage("View_in_CRM"));
  }, function(a) {
    Ew(f, a.message, "e");
  }, a);
}
function $M(a, b) {
  var c = a.g(), d = TM(a), e = d.querySelector(".cancel-button"), f = d.querySelector(".ok-button"), d = d.querySelector(".edit-button");
  b ? c.classList.add("edit") : c.classList.remove("edit");
  R(e, b);
  R(f, b);
  R(d, !b);
  sL(a.b, b);
}
function aN(a) {
  return a.g().classList.contains("edit");
}
h.Fl = function() {
  XM(this);
};
h.Ql = function() {
  this.removeChild(this.b, !0);
  this.b.O();
  this.b = new aM(this.m(), this.yd, this.a);
  this.bc(this.b, 0, !0);
  this.reset();
};
h.Tl = function() {
  this.reset();
};
h.Ul = function() {
  this.refresh();
};
function WM(a) {
  oN(a) && Zx(a.m()).i(function(a) {
    if (a) {
      var c = TM(this).querySelector("a.google");
      R(c, !0);
      a = new Py(a);
      c.href = iB(a, iD());
      ax(this.s, cN, !1);
    } else {
      ax(this.s, cN, !0);
    }
  }, a);
}
h.reset = function() {
  var a = this.m(), b = this.g();
  R(b.querySelector("[name=edit-toolbar]"), this.W != AM);
  var c = this.g().querySelector(".ydn-content");
  Rw(c);
  var c = TM(this), d = c.querySelector(".icon");
  d.textContent = qr(Rx(this.m()));
  d.removeAttribute("href");
  d = c.querySelector("a.google");
  R(d, !1);
  d.removeAttribute("href");
  var d = this.s, e = this.m(), f = [];
  f.push({name:ZM, label:chrome.i18n.getMessage("Edit")}, {name:bN, label:chrome.i18n.getMessage("Delete")}, null);
  var g = [];
  if (0 < g.length) {
    for (var k = [], l = 0;l < g.length;l++) {
      var m = Iy(e.parent, g[l]);
      k[l] = {name:"new-" + g[l], label:m};
    }
    f.push({name:"new", label:chrome.i18n.getMessage("New"), children:k});
  }
  k = [];
  if (0 < k.length) {
    for (var n = [], l = 0;l < k.length;l++) {
      m = Iy(e.parent, k[l]), n[l] = {name:YM + "-" + k[l], label:m};
    }
    f.push({name:YM, label:chrome.i18n.getMessage("Duplicate_to"), children:n});
  }
  (e = oN(this)) && f.push({name:cN, label:chrome.i18n.getMessage("To_Gmail"), title:chrome.i18n.getMessage("To_Gmail_tooltip")});
  (e || 0 < g.length || 0 < k.length) && f.push(null);
  f.push({name:fN, label:chrome.i18n.getMessage("View_details") + "..."}, {name:dN, label:chrome.i18n.getMessage("Fields") + "..."});
  d.Dh = mm(f);
  d.Rb && (f = d.Rb.querySelector(".flyout-menu"), d.Rb.removeChild(f), f = Ww(d.Dh), f.classList.add("flyout-menu"), f.classList.add("left-menu"), d.Rb.appendChild(f));
  this.g().querySelector(".neck").textContent = "";
  d = c.querySelector(".ok-button");
  c.querySelector(".cancel-button").removeAttribute("disabled");
  d.removeAttribute("disabled");
  pN(this);
  qN(this);
  this.b.reset(aN(this));
  this.b.refresh();
  b.className = Qx(a) ? this.U() + " " + Rx(a) + " empty" : this.U() + " " + Rx(a);
  PM(this);
  WM(this);
};
h.ya = function() {
  zM.j.ya.call(this);
};
h.refresh = function() {
  Qx(this.m()) ? this.g().classList.add("empty") : this.g().classList.remove("empty");
  pN(this);
  qN(this);
  this.b.refresh();
  this.c && this.c.refresh();
};
function RM(a) {
  return a.g().classList.contains("active");
}
function rN(a) {
  var b = a.m();
  Sx(b);
  oN(a) && Px(b).u(function(a) {
    ax(this.s, sN, !0);
    if (a) {
      a = sN;
      var b = chrome.i18n.getMessage("Sync"), e = chrome.i18n.getMessage("Sync_tooltip"), f = this.s.g();
    } else {
      a = sN, b = chrome.i18n.getMessage("To_Gmail"), e = chrome.i18n.getMessage("To_Gmail_tooltip"), f = this.s.g();
    }
    $w(f, a, b, e);
  }, function(a) {
    0 == a && ax(this.s, sN, !1);
  }, a);
}
function XM(a) {
  1 != RM(a) && (rN(a), a.g().classList.add("active"), PM(a));
}
function hN(a, b, c) {
  var d = a.m(), e = null;
  c && (e = hy(d), delete e.id, delete e._module, delete e.date_entered, delete e.date_modified);
  Ux(d, new tr(d.L(), b));
  if (e && e) {
    b = a.b;
    for (var f in e) {
      a: {
        c = b;
        if (d = cx(c.m(), f)) {
          for (var d = d.group || "", g = 0;g < Y(c);g++) {
            var k = Z(c, g);
            if (k.m().a == d) {
              c = k;
              break a;
            }
          }
        }
        c = null;
      }
      c && c.Zf(f, e[f]);
    }
  }
  $M(a, !0);
}
var bN = "delete", fN = "record-detail", YM = "duplicate", ZM = "edit", cN = "export", sN = "sync", dN = "field-option";
function oN(a) {
  return (a = a.m()) && !Qx(a) && "Contacts" == Rx(a) ? !0 : !1;
}
function qN(a) {
  a = a.g().querySelector(".record-footer").querySelector(".message");
  a.textContent = "";
  a.classList.remove("error");
}
function pN(a) {
  var b = TM(a), c = a.m(), d = b.querySelector(".title"), e = b.querySelector("a.icon"), f = b.querySelector(".edit-button"), g = b.querySelector(".cancel-button"), b = b.querySelector(".ok-button"), k = aN(a);
  R(g, k);
  R(b, k);
  R(f, !k);
  f = a.g().querySelector(".neck");
  R(f, !1);
  Qx(c) ? (d.innerHTML = "", e.href = "", e.removeAttribute("data-tooltip"), ax(a.s, YM, !1)) : (vr(c.a.a) && (R(f, !0), d = "", g = c.a, (g = g.a ? +Cr(g.a.date_modified) : NaN) && (d = Dq(y() - g) + " ago"), f.textContent = chrome.i18n.getMessage("record_deleted", [c.value("modified_by_name"), d])), e.setAttribute("data-tooltip", chrome.i18n.getMessage("View_in_CRM")), e.href = dy(c), ax(a.s, YM, !0));
}
zM.prototype.c = null;
zM.prototype.I = function() {
  this.c && (this.c.O(), this.c = null);
  this.yd && (this.yd.O(), this.yd = null);
  this.b && (this.b.O(), this.b = null);
  zM.j.I.call(this);
  this.Z(null);
};
var QM = "a", NM = "e", SM = "d";
function tN(a, b, c) {
  V.call(this, c);
  this.Z(b);
  this.c = new KI(b.parent);
}
A(tN, V);
tN.prototype.m = function() {
  return tN.j.m.call(this);
};
tN.prototype.B = function() {
  tN.j.B.call(this);
  var a = this.g(), b = this.a, c = this.m().parent, d = new uN(new py(c, "Opportunities"), b);
  this.H(d, !0);
  d = new uN(new py(c, "Cases"), b);
  this.H(d, !0);
  new LI(c, a, b);
};
tN.prototype.A = function() {
  tN.j.A.call(this);
  var a = X(this), b = this.m();
  a.listen(b, "module-change", this.b);
  a.listen(b, "record-change", this.b);
  a.listen(b, "record-update", this.b);
};
tN.prototype.b = function() {
  for (var a = 0;a < Y(this);a++) {
    Z(this, a).refresh();
  }
};
function uN(a, b) {
  V.call(this, b);
  this.b = a;
  this.c = null;
}
A(uN, V);
h = uN.prototype;
h.m = function() {
  return this.la().m();
};
h.B = function() {
  uN.j.B.call(this);
  var a = this.g();
  a.classList.add("relationship-spotlight");
  a.classList.add("spotlight");
  R(a, !1);
  a.innerHTML = ' <div class="title-row">\n        <a class="ydn-title">' + sy(this.b) + '</a>\n        <div class="brief-info"></div>\n        <div class="ydn-center"></div>\n        <div class="right">\n          <div class="svg-button" name="hide">&#x25B2;</div>\n        </div>\n      </div>\n  <div class="panel">\n    <div class="relationship-summary">\n      <div class="board-summary open bg-color">\n        <div class="ydn-title">Open</div>\n         <div class="total">0</div>\n         <div class="detail"></div>\n      </div>\n      <div class="board-summary closed bg-color">\n         <div class="ydn-title">Closed</div>\n         <div class="total">0</div>\n         <div class="detail"></div>\n      </div>\n    </div>\n    <div class="next">\n      <h4>Next</h4>\n      <UL></UL>\n    </div>\n  </div>';
  var b = this.b.getName();
  Sy("sync", "RelationshipSpotlight").i(function(a) {
    a && a[b] && ga(a[b].hide) && (a = !a[b].hide, R(this.T(), a), vN(this, a));
  }, this);
};
h.T = function() {
  return this.g().querySelector(".panel");
};
function vN(a, b) {
  var c = a.g().querySelector("[name=hide]");
  b ? (c.innerHTML = "&#x25B2;", c.setAttribute("title", "Hide panel")) : (c.innerHTML = "&#x25BC;", c.setAttribute("title", "Show panel"));
}
h.A = function() {
  uN.j.A.call(this);
  var a = this.g().querySelector("[name=hide]");
  X(this).listen(a, "click", this.zp);
};
h.zp = function() {
  var a = !ei(this.T());
  vN(this, a);
  R(this.T(), a);
  a && this.refresh();
  var b = this.b.getName();
  Sy("sync", "RelationshipSpotlight").i(function(c) {
    c = c || {};
    c[b] || (c[b] = {});
    c[b].hide = !a;
    Ty("sync", "RelationshipSpotlight", c);
  }, this);
};
function wN(a) {
  return 1E9 <= a ? (a / 1E9 | 0) + "B" : 1E6 <= a ? (a / 1E6 | 0) + "M" : 1E3 <= a ? (a / 1E3 | 0) + "K" : (a | 0) + "";
}
h.Hk = function(a) {
  xN(this, a);
  if (a) {
    for (var b = this.g().querySelector(".relationship-summary .open"), c = this.g().querySelector(".relationship-summary .closed"), d = this.b.getName(), e = [], f = 0, g = 0, k = 0;k < a.length;k++) {
      var l = new tr("", d, a[k]);
      wr(l) && e.push(k);
      if (a[k].amount) {
        var m = 0;
        w(a[k].amount) ? m = parseFloat(a[k].amount) : ha(a[k].amount) && (m = a[k].amount);
        wr(l) ? f += m : g += m;
      }
    }
    d = e.length;
    a = a.length - d;
    b.querySelector(".total").innerText = d;
    c.querySelector(".total").innerText = a;
    b.querySelector(".detail").innerText = f ? wN(f) : "";
    c.querySelector(".detail").innerText = g ? wN(g) : "";
    b = this.g().querySelector(".brief-info");
    ei(this.T()) ? b.innerText = "" : b.innerText = "(" + d + "/" + a + ")";
  }
};
function yN(a) {
  a.querySelector(".total").innerText = "0";
  a.querySelector(".detail").innerText = "";
}
function xN(a, b) {
  if (b) {
    var c = a.g().querySelector(".next UL");
    c.innerHTML = "None";
    if (0 != b.length) {
      var d = Br(a.b.getName()), e = y(), f;
      f = "Cases" == a.b.getName() ? fb(b, function(a) {
        return wr(new tr("", "Cases", a));
      }) : fb(b, function(a) {
        return (a = a[d]) ? +Cr(a) > e : !1;
      });
      if (0 != f.length) {
        f.sort(function(a, b) {
          return a[d] > b[d] ? -1 : 1;
        });
        c.innerHTML = "";
        var g = document.createElement("LI");
        c.appendChild(g);
        a.la().c.render(g, f[0]);
      }
    }
  }
}
h.refresh = function() {
  var a = this.m();
  if (!zr(a.a)) {
    R(this.g(), !1), this.c = "";
  } else {
    if (this.c != a.N()) {
      var b = this.g().querySelector(".relationship-summary");
      b.className = "relationship-summary";
      b.classList.add(this.b.getName());
      R(this.g(), !0);
      this.c = a.N();
      b = {from:Rx(a), id:a.N(), to:this.b.getName()};
      yN(this.g().querySelector(".relationship-summary .open"));
      yN(this.g().querySelector(".relationship-summary .closed"));
      this.g().querySelector(".next UL").innerHTML = "";
      this.g().querySelector(".brief-info").innerText = "";
      a = Tx(a.parent).send("query-related-async", b);
      a.c(this.Hk, this);
      a.i(this.Hk, this);
      a.Gc(function(a) {
        window.console.error(a);
      });
    }
  }
};
function zN(a, b, c) {
  V.call(this, c);
  this.Z(b);
}
A(zN, V);
zN.prototype.m = function() {
  return zN.j.m.call(this);
};
zN.prototype.B = function() {
  zN.j.B.call(this);
  var a = this.g();
  a.className = "people-record-detail-panel content";
  a.innerHTML = "";
  var a = this.m(), b = new QI(a, this.a);
  this.H(b, !0);
  b = new JI(this.m(), this.a);
  this.H(b, !0);
  a = new tN(0, a, this.a);
  this.H(a, !0);
};
zN.prototype.A = function() {
  zN.j.A.call(this);
  var a = X(this), b = this.m();
  a.listen(b, "module-change", this.b);
  a.listen(b, "record-change", this.b);
  a.listen(b, "record-update", this.b);
};
zN.prototype.b = function() {
  var a = zr(this.m().a);
  R(this.g(), a);
};
function AN(a, b) {
  this.f = a;
  var c = document.createElement("div");
  c.innerHTML = '<div class="contact-search" title="Select contacts from SugarCRM">\n  <div>\n    <div class="select-record">\n       <input class="value" type="text"/>\n      <select class="parent-type">\n        <option>Contacts</option>\n        <option>Users</option>\n        <option>Accounts</option>\n        <option>Leads</option>\n      </select>\n\n    </div>\n  </div>\n<div>';
  this.a = c.firstElementChild;
  R(this.a.querySelector("select"), !1);
  for (var c = this.f, d = ["Contacts"], e = ["Users", "Leads", "Accounts"], f = e.length - 1;0 <= f;f--) {
    var g = new py(this.f, e[f]);
    g && qy(g, "view") && qy(g, "list") && d.push(e[f]);
  }
  b && (g = new py(this.f, "Cases"), qy(g, "view")) && qy(g, "list") && d.push("Cases");
  c = this.h = new oL(c, d, this.a, !0);
  c.b.F = !0;
  c.c.f = !0;
  this.c = this.b = null;
  this.M = new zf(this);
  this.M.listen(this.h, "update", this.s);
  this.M.listen(this.a, "focus", this.o, !0);
  this.M.listen(this.a, "blur", this.l, !0);
  this.M.listen(this.a.querySelector("select"), "change", this.J);
}
AN.prototype.o = function() {
  this.a.querySelector(".select-record").classList.add("select-focus");
  pL(this.h, this.a);
};
AN.prototype.l = function() {
  this.a.querySelector(".select-record").classList.remove("select-focus");
};
AN.prototype.J = function() {
  var a = this.a.querySelector("select").value;
  a && (this.h.c.a = [a]);
};
AN.prototype.s = function() {
  this.b && this.b.call(this.c, this.a.querySelector("input"));
  this.a.querySelector(".select-record").classList.remove("select-focus");
};
function BN(a) {
  a.a.parentNode && a.a.parentNode.removeChild(a.a);
  a.b = null;
  a.c = null;
}
var CN = null;
function DN() {
  V.call(this);
  this.c = this.b = null;
}
A(DN, V);
h = DN.prototype;
h.m = function() {
  return DN.j.m.call(this);
};
h.bg = function(a) {
  this.b && aE(this);
  if (this.b = a) {
    a = new Nx(this.b, new tr(this.b.L(), "Contacts"));
    this.Z(a);
    this.c = new AN(this.b);
    var b = this.g().querySelector(".snapshot-search"), c = this.c, d = this.Ln;
    BN(c);
    c.b = d;
    c.c = this;
    b.appendChild(c.a);
    b.querySelector("INPUT.value").setAttribute("placeholder", "Search people ...");
    a = new zN(0, a, this.a);
    this.bc(a, 0, !0);
  } else {
    this.Z(null);
  }
};
h.B = function() {
  DN.j.B.call(this);
  var a = this.g();
  a.classList.add("snapshot-page");
  a.innerHTML = '<div class="snapshot-main">\n  <div class="snapshot-search"></div>\n  <h3 name="name"></h3><div class="ydn-content"></div>\n  </div>';
  a = this.T();
  R(a, !1);
};
h.Ln = function(a) {
  if (a.value) {
    var b = a.getAttribute("data-module"), c = a.getAttribute("data-id");
    EN(this, b, c);
    a.value = "";
  }
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  DN.j.A.call(this);
};
function EN(a, b, c) {
  a.b.send("get", {module_name:b, id:c}).i(function(a) {
    FN(this, a);
  }, a);
}
function FN(a, b) {
  var c = a.m(), d = a.b.L();
  b ? Ux(c, new tr(d, b._module, b)) : Ux(c, new tr(d, "Contacts"));
  c = a.m();
  d = a.T();
  zr(c.a) ? (R(d, !0), c = Vx(c), a.g().querySelector("h3[name=name]").innerText = c) : R(d, !1);
}
h.Nc = function(a) {
  a && (a._module ? FN(this, a) : a.module_name && EN(this, a.module_name, a.id));
};
h.toString = function() {
  return "Context";
};
function GN(a, b) {
  iK.call(this, "Field mapping options", "", lK());
  this.c = a;
  this.b = b || "Meetings";
  this.f = {};
  var c = jK(this), d = jI("field-mapping-dialog-content").content;
  c.appendChild(d.cloneNode(!0));
  var d = c.querySelector('button[name="test"]'), e = c.querySelector('select[name="by-field-name"]'), f = c.querySelector('input[name="by-field-colors"]');
  this.M.listen(c.querySelector('button[name="reset"]'), "click", this.Gn);
  this.M.listen(d, "click", this.$n);
  this.M.listen(e, "change", this.Hm);
  this.M.listen(f, "change", this.vm);
  if (d = Wx(this.c, this.b)) {
    var c = c.querySelector('select[name="by-field-name"]'), g;
    for (g in d.module_fields) {
      x(d.module_fields[g].options) && !Lb(d.module_fields[g].options) && (e = document.createElement("option"), e.textContent = d.module_fields[g].label || g, e.value = g, c.appendChild(e));
    }
  }
  HN(this);
}
A(GN, iK);
function IN(a) {
  var b = jK(a), c = a.f.colorId;
  if (x(c)) {
    b.querySelector('input[name="color-type"][value="by-field"]').checked = !0;
    var d = Wx(a.c, a.b), c = new Vy(d, c);
    if (c.a) {
      var d = c.a.name, e;
      if (c.b) {
        if (e = Kr(c.b, d)) {
          e = x(e.options) ? Ib(e.options).length : 0;
          for (var f = [], g = 0;g < e;g++) {
            f[g] = "6";
          }
          f[f.length - 1] = "9";
          f[0] = "5";
          e = f;
        } else {
          e = [];
        }
      } else {
        e = [];
      }
      if (x(c.a) && c.a.name == d && u(c.a.colors)) {
        for (c = c.a.colors, e = c.length < e.length ? c.concat(e.slice(c.length, e.length)) : c.slice(0, e.length), c = 0;c < e.length;c++) {
          if (10 < e[c] || 0 > e[c]) {
            e[c] = 0;
          }
        }
      }
      c = e;
    } else {
      c = [];
    }
    b.querySelector("input[name=by-field-colors]").value = c.join(" ");
    JN(a, c);
  } else {
    w(c) ? (b.querySelector('input[name="color-type"][value="fix"]').checked = !0, b.querySelector('input[name="color"]').value = c) : b.querySelector('input[name="color-type"][value="none"]').checked = !0;
  }
}
function JN(a, b) {
  var c = jK(a), d = c.querySelector('select[name="by-field-name"]').value, c = c.querySelector(".color-sample");
  c.innerHTML = "";
  if (0 != b.length && (d = ty(new py(a.c, a.b), d)) && x(d.options)) {
    for (var d = Ib(d.options), e = 0;e < b.length && e < d.length;e++) {
      var f = Yy(b[e]), g = document.createElement("span");
      g.className = "color-sample-span";
      g.style.backgroundColor = f;
      g.textContent = d[e];
      c.appendChild(g);
    }
  }
}
h = GN.prototype;
h.$n = function() {
  this.c.send("values", {store:this.b, index:"date_modified", reverse:!0, limit:10}).i(function(a) {
    for (var b = Math.random, c = a.length - 1;0 < c;c--) {
      var d = Math.floor(b() * (c + 1)), e = a[c];
      a[c] = a[d];
      a[d] = e;
    }
    b = a[0];
    b._module = this.b;
    a = jK(this);
    a.querySelector(".message").innerHTML = 'Render for <a href="' + ey(this.c, this.b, b.id) + '" target="' + this.c.L() + '" >' + b.name + "</a>.";
    c = KN(this);
    d = $y(b, c.summary);
    a.querySelector("[name=summary-result]").textContent = d || b.name;
    d = Wx(this.c, this.b);
    e = $y(b, c.description, d);
    a.querySelector("[name=description-result]").textContent = e || b.description;
    b = Xy(new Vy(d, c.colorId), b);
    a.querySelector(".color-result").style.backgroundColor = Yy(b);
  }, this);
};
h.Gn = function() {
  Ty("sync", "cal-sync-template", {}).i(function() {
    HN(this);
  }, this);
};
h.Hm = function() {
  jK(this).querySelector("input[value=by-field]").checked = !0;
  IN(this);
};
h.vm = function(a) {
  a = a.b.value.split(/\s+/).map(function(a) {
    return parseInt(a, 10);
  });
  JN(this, a);
};
function HN(a) {
  var b = jK(a);
  Sy("sync", "cal-sync-template").i(function(a) {
    this.f = a || {};
    b.querySelector("[name=summary]").value = this.f.summary || "";
    b.querySelector("[name=description]").value = this.f.description || "";
    IN(this);
  }, a);
}
h.O = function() {
  GN.j.O.call(this);
};
function KN(a) {
  var b = jK(a);
  a = {summary:b.querySelector("[name=summary]").value, description:b.querySelector("[name=description]").value};
  var c = b.querySelector('input[name="color-type"]:checked').value;
  "fix" == c ? (b = b.querySelector("[name=color]").value, (b = parseInt(b, 10)) && (a.colorId = String(b))) : "by-field" == c && (a.colorId = {name:b.querySelector('select[name="by-field-name"]').value, colors:b.querySelector('input[name="by-field-colors"]').value.split(/\s+/g)});
  return a;
}
function LN(a) {
  var b = new GN(a);
  new B;
  b.a.onclose = function() {
    "ok" == b.a.returnValue && Ty("sync", "cal-sync-template", KN(b));
    b.O();
  };
  b.a.showModal();
}
;function MN(a, b) {
  iK.call(this, "Select a Google calendar to Sync with SugarCRM Meetings events", "", lK());
  this.b = a;
  this.c = b;
  var c = jI("select-calendar-template").content, d = jK(this);
  d.appendChild(c.cloneNode(!0));
  c = jK(this).querySelector("select");
  c.innerHTML = "";
  for (var e = !1, f = 0;f < this.b.items.length;f++) {
    var g = this.b.items[f], k = document.createElement("option");
    k.value = !0 === g.primary ? "primary" : g.id;
    k.textContent = g.summary;
    k.setAttribute("title", g.primary ? "My Calendar" : g.description);
    "owner" != g.accessRole && k.setAttribute("disabled", "disabled");
    c.appendChild(k);
    this.c == g.id && (c.selectedIndex = f, e = !0);
  }
  e || (c.selectedIndex = 0);
  d.querySelector('button[name="new-calendar"]').onclick = this.f.bind(this);
}
A(MN, iK);
MN.prototype.f = function() {
  var a = window.prompt("Enter new Google calendar name:", "SugarCRM");
  a && (a = {summary:a, description:"SugarCRM Meetings events synchronized by Yathit"}, Q().send("ga-nc", a).u(function(a) {
    if (a) {
      var c = Cw("A new calendar ", " created.");
      Fw(c, "https://www.google.com/calendar/", a.summary, "Open Google Calendar");
      a.accessRole = "owner";
      this.b.items.push(a);
      this.a.close(a.summary);
    } else {
      Cw("fail to create calendar");
    }
  }, function(a) {
    window.console.log(a);
    Cw(a.message || a);
  }, this));
};
MN.prototype.O = function() {
  jK(this).querySelector('button[name="new-calendar"]').onclick = null;
  MN.j.O.call(this);
};
function NN(a, b) {
  var c = new MN(a, b), d = new B;
  c.a.onclose = function() {
    d.callback(c.a.querySelector("select").value);
    c.O();
  };
  c.a.showModal();
  return d;
}
;function ON(a) {
  V.call(this);
  this.s = a;
  this.Xe = new lB(this.vo, 3E3, this);
  this.Ye = new lB(this.qn, 3E3, this);
}
A(ON, V);
h = ON.prototype;
h.Ye = null;
h.Xe = null;
h.A = function() {
  ON.j.A.call(this);
  var a = X(this), b = this.g();
  a.listen(b.querySelector('[name="ydn-prepared"]'), "click", this.un);
  var c = this.g().querySelector(".ydn-prepared-result");
  a.listen(c, "click", this.vn);
  c = this.g().querySelector(".ydn-prepared-detail");
  a.listen(c, "click", this.wn);
  var c = b.querySelector('[name="interval"]'), d = b.querySelector("input[name=schedule]");
  a.listen(b.querySelector('[name="ydn-setting-panel-option"]'), "change", this.Wh);
  a.listen(c, "change", this.Wh);
  a.listen(d, "change", this.Wh);
  a.listen(b.querySelector('[name="history"]'), "click", this.Rm);
  a.listen(b.querySelector("OL.ydn-history-content"), "click", this.Sm);
  a.listen(b.querySelector('[name="backlog"]'), "click", this.nm);
  a.listen(b.querySelector("OL.ydn-backlog-content"), "click", this.om);
  a.listen(b.querySelector('[name="sync-now"]'), "click", this.Xn);
  a.listen(b.querySelector('[name="sync-reset"]'), "click", this.Yn);
  a.listen(b.querySelector('[name="ydn-setting-header"] a'), "click", this.Pm);
  R(b.querySelector('[name="ydn-setting-content"]'), !1);
  a.listen(this.s, ["login", "remove"], this.Un);
  this.la() ? X(this).listen(this.la(), "setting-page-event", this.Go) : this.init();
};
h.Un = function() {
  this.init();
};
h.Go = function(a) {
  dj("ui.setting", this.toString(), "open");
  a.name == this.toString() ? (R(this.g(), !0), this.init()) : R(this.g(), !1);
};
h.init = function() {
  var a = this.g(), b = a.querySelector('[name="ydn-setting-header"]'), c = a.querySelector('[name="ydn-sugar-header"]'), d = a.querySelector('[name="ydn-setting-content"]');
  Q().send(this.Ja() + "sync-permission").i(function(a) {
    a = a.grant;
    var f = PN(this.s);
    R(c, !f);
    c.innerHTML = f ? "" : '<a href="' + Tw() + '">Setup</a> SugarCRM instance';
    f = a && f;
    R(b, !a);
    R(d, f);
    f && this.Ae();
  }, this);
};
h.Pm = function(a) {
  a.preventDefault();
  dj("ui.sugar.setting", "permission-request", this.Ja());
  Q().send(this.Ja() + "sync-permission-grant").G(function(a) {
    dj("ui.sugar.setting", a ? "permission-grant" : "permission-deny", this.Ja());
    this.init();
  }, this);
};
h.I = function() {
  ON.j.I.call(this);
  this.Xe.O();
  this.Ye.O();
  this.Ye = this.Xe = null;
};
h.Hf = function() {
  return "";
};
h.Xn = function() {
  var a = this.Hf();
  if (a) {
    QN(this, "Sync not ready: " + a);
  } else {
    var b = this.g().querySelector('[name="sync-now"]');
    b.setAttribute("disabled", "");
    a = Q().send(this.Ja() + "sync-now");
    a.G(function() {
      b.removeAttribute("disabled");
      Q().send(this.Ja() + "sync-setting-info").G(function(a) {
        RN(this, "Sync on " + (new Date(a.process_id)).toLocaleTimeString() + ", " + a.commit_gdata_count + " Google and, " + a.commit_sugar_count + " Sugar records updated.");
        SN(this);
      }, this);
    }, this);
    a.c(function(a) {
      RN(this, a);
    }, this);
    QN(this, "");
    dj("ui.setting." + this.Ja(), "sync", "click");
  }
};
h.vo = function() {
  var a = this.Hf();
  if (a) {
    var b = this.g().querySelector(".ydn-prepared-detail");
    b.innerHTML = "Sync setup not ready: " + a;
  } else {
    this.g().querySelector(".ydn-prepared-detail").innerHTML = "", b = this.g().querySelector(".ydn-prepared-result"), b.textContent = "Running sync without changes...", a = Q().send(this.Ja() + "sync-prepared"), a.u(function(a) {
      var d = a.prepared || {}, e = a.scheduler || {};
      a = "If sync were performed, ";
      e.enabled && e.scheduledTime && (a = "Next sync is in " + (new Date(e.scheduledTime)).toLocaleTimeString() + ", ");
      e = "";
      d.entry_created && (e += '<div><a href="#entry_created">' + d.entry_created + " Gmail Contacts</a> will be created.</div>");
      d.entry_updated && (e += '<div><a href="#entry_updated">' + d.entry_updated + " Gmail Contacts</a> will be updated.</div>");
      d.entry_deleted && (e += '<div><a href="#entry_deleted">' + d.entry_deleted + " Gmail Contacts</a> will be deleted.</div>");
      d.merged && (e += '<div><a href="#merged">' + d.merged + " Gmail Contacts and Sugar Records</a> will be merged.</div>");
      d.record_updated && (e += '<div><a href="#record_updated">' + d.record_updated + " Sugar Records</a> will be updated.</div>");
      d.record_created && (e += '<div><a href="#record_created">' + d.record_created + " Sugar Records</a> will be created.</div>");
      d.record_deleted && (e += '<div><a href="#record_deleted">' + d.record_deleted + " Sugar Records</a> will be deleted.</div>");
      b.innerHTML = (e ? a + "the following will do." : a + "nothing will change.") + e;
      (100 < d.entry_created + d.entry_updated || 100 < d.record_updated) && (d = this.g().querySelector('DETAILS[name="notes"]')) && d.setAttribute("open", "");
      RN(this, "");
    }, function(a) {
      a = "Fail dry run sync: " + (a ? a.message || a : "");
      b.textContent = a;
      Cw(a);
      RN(this, "");
    }, this), QN(this, ""), a.c(function(a) {
      RN(this, a);
    }, this);
  }
};
h.un = function() {
  this.g().querySelector("[name=ydn-prepared]").hasAttribute("open") || mB(this.Xe);
};
function SN(a) {
  a.g().querySelector("[name=ydn-prepared]").removeAttribute("open");
}
h.Ja = function() {
  return "";
};
h.getName = function() {
  return "";
};
h.vn = function(a) {
  var b = a.target.getAttribute("href");
  if (b) {
    a.preventDefault();
    var c = b.substr(1);
    a = {req:c};
    Q().send(this.Ja() + "sync-prepared-result", a).u(function(a) {
      TN(this, c, a);
    }, function(a) {
      this.g().querySelector(".ydn-prepared-detail").textContent = "Error preparing sync: " + (a.message || a);
    }, this);
  }
};
function UN(a, b, c, d) {
  function e(a, b, c, d) {
    setTimeout(function() {
      for (var d = JSON.stringify(b, null, 2), e = JSON.stringify(c, null, 2), d = xs(d.split("\n"), e.split("\n")), e = [], f = 0;f < d.length;f++) {
        var g = d[f], e = g.Ed ? e.concat(g.Ed) : e.concat(["\n<<<<<<<<<\n"], g.cf, ["\n=========\n"], g.df, ["\n>>>>>>>>>\n"])
      }
      a.textContent = e.join("\n");
    }, d);
  }
  function f(a) {
    for (var b in a) {
      (xa(b, "ydn$") || xa(b, "_")) && delete a[b];
    }
    return a;
  }
  a = a.a;
  var g, k, l, m = {width:"300px"};
  if (d.recordOriginal) {
    l = a.w("H4", null, c ? "Origin Sugar record" : "Old Sugar record");
    var n = a.w("PRE", null, JSON.stringify(f(d.recordOriginal), null, 2));
    g = a.w("TD", m, a.w("DIV", null, [l, n]));
  } else {
    g = a.w("TD");
  }
  d.entryOriginal ? (l = a.w("H4", null, c ? "Origin Gmail Contact" : "Old Gmail Contact"), n = a.w("PRE", null, JSON.stringify(f(d.entryOriginal), null, 2)), c = a.w("TD", m, a.w("DIV", null, [l, n]))) : c = a.w("TD");
  d.record ? (l = a.w("H4", null, "Resulting Sugar record"), n = a.w("PRE", null, JSON.stringify(f(d.record), null, 2)), k = a.w("TD", m, a.w("DIV", null, [l, n]))) : k = a.w("TD");
  d.entry ? (l = a.w("H4", null, "Resulting Gmail Contact"), n = a.w("PRE", null, JSON.stringify(f(d.entry), null, 2)), l = a.w("TD", m, a.w("DIV", null, [l, n]))) : l = a.w("TD");
  m = document.createElement("THEAD");
  m.innerHTML = '<TR><TH width="300px;"></TH><TH width="300px;"></TH></TR>';
  k = a.w("TR", null, [g, k]);
  g = a.w("TR", null, [c, l]);
  c = [k];
  d.recordOriginal && d.record && (l = a.w("H4", null, "Difference"), k = a.w("PRE"), l = a.w("TD", {colspan:2, width:"600px"}, a.w("SECTION", null, [l, k])), l = a.w("TR", null, l), c.push(l), e(k, d.recordOriginal, d.record, 10));
  c.push(g);
  d.entryOriginal && d.entry && (l = a.w("H4", null, "Difference"), k = a.w("PRE"), l = a.w("TD", {colspan:2, width:"600px"}, a.w("SECTION", null, [l, k])), l = a.w("TR", null, l), c.push(l), e(k, d.entryOriginal, d.entry, 1E3));
  d = a.w("TBODY", null, c);
  d = a.w("TABLE", "ydn-sync-prepared-result", [m, d]);
  XE(b, d);
}
function TN(a, b, c) {
  a = a.g().querySelector(".ydn-prepared-detail");
  a.innerHTML = "";
  if (c && c.length) {
    for (var d = document.createElement("OL"), e = function(a, b, c) {
      return '<a href="#' + b + '">' + a + "</a> " + c;
    }, f = 0;f < c.length;f++) {
      var g = c[f].entry || {}, k = c[f].record || {}, l = (c[f].pid || "") + "," + (k.id || "") + "," + (g.id || ""), m = document.createElement("LI");
      "merged" == b ? m.innerHTML = e(k.name + " and " + g.name, l, "will be merged.") : "entry_created" == b ? m.innerHTML = e(k.name, l, "will create a new Google Contact.") : "entry_updated" == b ? m.innerHTML = e(k.name, l, "will update Google Contact " + g.name + ".") : "entry_deleted" == b ? m.innerHTML = e(k.name, l, "will delete Google Contact " + g.name + ".") : "record_created" == b ? m.innerHTML = e(g.name, l, "will create a new Sugar record.") : "record_updated" == b ? m.innerHTML = e(g.name, 
      l, "will update Sugar record " + k.name + ".") : "record_deleted" == b && (m.innerHTML = e(g.name, l, "will delete Sugar record " + k.name + "."));
      d.appendChild(m);
    }
    a.appendChild(d);
  }
}
h.Wh = function(a) {
  a.stopPropagation();
  mB(this.Ye);
};
h.wn = function(a) {
  var b = a.target.getAttribute("href");
  if (b) {
    a.preventDefault();
    var b = b.substr(1).split(","), b = {pid:parseInt(b[0], 10), record:{id:b[1]}, entry:{id:b[2]}}, c = Hh(a.target, "LI").textContent;
    Q().send(this.Ja() + "sync-sync-info", b).i(function(a) {
      UN(this, c, !1, a.Intent);
    }, this);
  }
};
h.Rm = function(a) {
  a.b.hasAttribute("open") || VN(this);
};
function VN(a) {
  Q().send(a.Ja() + "sync-history").i(function(a) {
    var c = this.g().querySelector(".ydn-history-content"), d = this.g().querySelector(".ydn-history-detail");
    c.innerHTML = "";
    var e = a.history;
    d.textContent = e.length ? "" : "No sync history";
    for (d = 0;d < e.length;d++) {
      var f = a.about, g = a.module, k = e[d], l = this.a, m = Jb(k, "record", "name"), n = Jb(k, "entry", "name"), p = document.createElement("LI"), r = document.createElement("A");
      r.setAttribute("data-ids", k.pid + "," + k.record_id);
      r.textContent = "updated";
      r.href = "#updated";
      var m = m || n, v = n = void 0;
      k.record && (f = pr(f.baseUrl || "", g, k.record.id), n = l.w("A", {target:"_blank", href:f}, "Sugar " + g));
      k.entry && (f = WN(k.entry), v = l.w("A", {target:"_blank", href:f}, "Gmail Contact"));
      p.appendChild(document.createTextNode(m + " ("));
      n && p.appendChild(n);
      v && (n && p.appendChild(document.createTextNode(" and ")), p.appendChild(v));
      p.appendChild(document.createTextNode(") "));
      p.appendChild(r);
      g = new Date(k.timestamp);
      g = Gq(+g) || " on " + g.toLocaleDateString();
      p.appendChild(document.createTextNode(" " + g));
      c.appendChild(p);
    }
  }, a);
}
function WN(a) {
  if (a.link) {
    return a.link;
  }
  a = aB(a.id);
  return hB(a.id || "", iD());
}
h.Sm = function(a) {
  if ("#updated" == a.target.getAttribute("href")) {
    a.preventDefault();
    var b = a.target.getAttribute("data-ids").split(","), b = {pid:parseInt(b[0], 10), record:{id:b[1]}, entry:{id:b[2]}}, c = Hh(a.target, "LI").textContent;
    Q().send(this.Ja() + "sync-sync-info", b).i(function(a) {
      UN(this, c, !0, a.History);
    }, this);
  }
};
h.nm = function(a) {
  a.b.hasAttribute("open") || XN(this);
};
function XN(a) {
  Q().send(a.Ja() + "sync-backlog").i(function(a) {
    var c = a.about;
    a = a.backlog;
    var d = this.g().querySelector(".ydn-backlog-content"), e = this.g().querySelector(".ydn-backlog-detail");
    d.innerHTML = "";
    a.length ? e.innerHTML = "" : e.textContent = "No backlog";
    iD();
    for (e = 0;e < a.length;e++) {
      var f = a[e], g = document.createElement("LI"), k = pr(c.baseUrl, "Contacts", f.record_id), l = " creating new Gmail contact";
      f.entry_id && (l = ' and <a href="' + WN({id:f.entry_id}) + '" target="_blank">Gmail</a>');
      g.innerHTML = 'Unresolved backlog <a href="' + k + '" target="_blank">Sugar </a>' + l + '. <a href="#release-backlog" data-record_id="' + f.record_id + '" data-entry_id="' + f.entry_id + '">Release</a>';
      d.appendChild(g);
    }
  }, a);
}
function RN(a, b) {
  xa(b, "Error") ? QN(a, b) : a.g().querySelector(".message-progress.normal").textContent = b;
}
function QN(a, b) {
  a.g().querySelector(".message-progress.error").textContent = b;
}
h.om = function(a) {
  if ("#release-backlog" == a.target.getAttribute("href")) {
    a.preventDefault();
    var b = {record_id:a.target.getAttribute("data-record_id"), entry_id:a.target.getAttribute("data-entry_id")};
    Hh(a.target, "LI");
    Q().send(this.Ja() + "sync-release-backlog", b).i(function() {
      XN(this);
    }, this);
  }
};
h.ud = function(a) {
  function b(a, b) {
    c.querySelector('[name="' + a + '"]').checked = !!b;
  }
  var c = this.g();
  c.querySelector("INPUT[name=interval]").value = a.syncInterval ? a.syncInterval : 5;
  c.querySelector("INPUT[name=schedule]").checked = !!a.enabled;
  c.querySelector('[name="update-from-gdata"]').checked = !!a.updateFromGData;
  R(c.querySelector("[name=update-from-gdata-subpanel]"), !!a.updateFromGData);
  b("update-sugar", !a.notUpdateSugar);
  b("create-sugar", !!a.createSugar);
  b("delete-sugar", !!a.deleteSugar);
  c.querySelector('[name="update-from-sugar"]').checked = !a.notUpdateFromSugar;
  R(c.querySelector("[name=update-from-sugar-subpanel]"), !a.notUpdateFromSugar);
  b("update-gdata", !a.notUpdateGData);
  b("create-gdata", !a.notCreateGData);
  b("delete-gdata", a.deleteGData);
};
h.ff = function(a) {
  var b = this.g(), c = parseInt(b.querySelector('[name="interval"]').value, 10);
  c && (a.syncInterval = Math.min(Math.max(c, 2), 864E5));
  a.updateFromGData = b.querySelector('[name="update-from-gdata"]').checked;
  a.notUpdateSugar = !b.querySelector('[name="update-sugar"]').checked;
  a.createSugar = b.querySelector('[name="create-sugar"]').checked;
  a.deleteSugar = b.querySelector('[name="delete-sugar"]').checked;
  a.notUpdateFromSugar = !b.querySelector('[name="update-from-sugar"]').checked;
  a.notUpdateGData = !b.querySelector('[name="update-gdata"]').checked;
  a.notCreateGData = !b.querySelector('[name="create-gdata"]').checked;
  a.deleteGData = !!b.querySelector('[name="delete-gdata"]').checked;
  a.enabled = b.querySelector("INPUT[name=schedule]").checked;
};
h.qn = function() {
  dj("ui.setting", this.Ja(), "change");
  var a = {};
  this.ff(a);
  Q().send(this.Ja() + "sync-setting-set", a).i(function(a) {
    this.ud(a);
  }, this);
};
h.Yn = function() {
  if (window.confirm(chrome.i18n.getMessage("confirm_sync_contacts_restore", [this.getName()]))) {
    var a = this.Ja() + "sync-setting-reset";
    Q().send(a).i(this.Ae, this);
  }
};
function YN(a, b) {
  ON.call(this, b);
  this.b = this.c = null;
}
A(YN, ON);
h = YN.prototype;
h.m = function() {
  return this.la().m();
};
h.B = function() {
  YN.j.B.call(this);
  var a = document.createElement("div"), b;
  b = xv();
  b = '<div  class="widget-content setting-panel">\n   <div name="ydn-sugar-header"></div>\n   <div name="ydn-setting-header">\n   <a href="#grant">Grant</a> Google Calendar read/write permission.\n</div>\n    <div name="ydn-setting-content">\n  <section>\n    <div>\n      <label><input name="schedule" type="checkbox"/>\n      Sync regularly</label><br/>\n      <div class="detail-setting">\n\n        <p>Sync interval in minutes: \n          <input name="interval" value="5" type="number" min="2" max="1440"/> </p>\n   \n        ' + 
  wv("Google event") + '\n             <p><button name="sync-reset">' + chrome.i18n.getMessage("Restore_default") + '</button> \n             <button name="sync-now">Sync Now</button></p>\n        ' + b + '\n        \n        <details>\n            <summary>Advance setting</summary>\n            <p>\n            <label><input name="sync-attendee" type="checkbox"/> Sync attendees in the event</label>\n</p>\n            <p name="sync-calendar-panel">\n          Calendar name: <a target="_blank" name="sync-calender-name" title="View in Google Calendar."></a> <button name="change-sync-calender">Change</button>\n            </p>\n            <p><a href="#mapping" name="mapping">Field mapping options</a></p>\n            <p><a style="display: none" href="#publish" name="publish" title="Republish all Google calendar events sync from this SugarCRM">Republish all</a>\n            <a href="#delete" name="delete-all" title="Delete all Google calendar events sync from this SugarCRM">Delete all</a></p>\n        </details>\n        <details>\n            <summary>Notes</summary>\n            <table class="ydn-simple-grid">\n            <tr><th>Sugar record field</th><th>Google calendar event field</th></tr>\n            <tr><td>name</td><td>summary</td></tr>\n            <tr><td>description</td><td>description</td></tr>\n            <tr><td>Meetings to Users/Contacts/Leads relationships</td><td>attendees</td></tr>\n            <tr><td>*</td><td>colorId</td></tr>\n            <tr><td>location</td><td>location</td></tr>\n            <tr><td>date_start (duration_hours = 24)</td><td>start.date</td></tr>\n            <tr><td>date_start</td><td>start.dateTime</td></tr>\n            <tr><td>date_end</td><td>end.dateTime</td></tr>\n</table>\n            <p>Update from Google calendar event to Sugar record invludes the following fields:</p>\n            <ol>\n            <li>summary</li>\n            <li>description</li>\n            <li>location</li>\n            <li>start</li>\n            <li>end</li>\n</ol>\n        </details>\n      </div>\n      <p class="runner-message"></p>\n      <p class="message"></p>\n    </div>\n    </section>\n   </div>\n  </div>';
  a.innerHTML = b;
  this.g().appendChild(a);
};
h.A = function() {
  YN.j.A.call(this);
  var a = X(this), b = this.g(), c = b.querySelector("a[name=mapping]"), d = b.querySelector("a[name=publish]"), e = b.querySelector("a[name=delete-all]");
  a.listen(b.querySelector("button[name=change-sync-calender]"), "click", this.Nn);
  a.listen(c, "click", this.an);
  a.listen(d, "click", this.zn);
  a.listen(e, "click", this.ym);
  b.querySelector('[name="create-sugar"]').setAttribute("disabled", "");
  b.querySelector('[name="delete-sugar"]').setAttribute("disabled", "");
};
h.Hf = function() {
  return YN.j.Hf.call(this);
};
h.Ja = function() {
  return "cal-";
};
h.ym = function() {
  dj("ui.setting.calendar", "delete-all", "click");
  if (window.confirm("Are you sure you want to delete all events?")) {
    var a = Cw("Deleting all events ...");
    Q().send("cal-sync-delete-sync-gdata").u(function(b) {
      Dw(a, b + " events deleted.");
    }, function(b) {
      Dw(a, "Error: " + b ? b.message || String(b) : "");
    }, this);
  }
};
h.zn = function() {
  dj("ui.setting.calendar", "republish", "click");
  var a = Cw("Republishing all events ...");
  Q().send("cal-sync-re-p").u(function(b) {
    Dw(a, b + " events republished.");
  }, function(b) {
    Dw(a, "Error: " + b ? b.message || String(b) : "");
  }, this);
};
h.an = function(a) {
  a.preventDefault();
  dj("ui.setting.calendar", "mapping", "open");
  LN(this.m());
};
h.Nn = function(a) {
  a.preventDefault();
  a.stopPropagation();
  ZN(this);
};
function ZN(a) {
  NN(a.c, a.b.syncGroupId).u(function(a) {
    this.b.syncGroupId != a && (a ? Cw('Setting sync calendar to "' + a + '".') : Cw("Removing sync calendar"), a = {syncGroupId:a}, Q().send("cal-sync-setting-set", a).G(function() {
      this.Ae();
    }, this));
  }, function(a) {
    window.console.error(a);
  }, a);
  dj("ui.setting", "select-calendar", "open");
}
h.getName = function() {
  return "Calendar";
};
h.ud = function(a) {
  YN.j.ud.call(this, a);
  this.g().querySelector('[name="sync-attendee"]').checked = !!a.syncAttendee;
};
h.Ae = function() {
  this.g().querySelector(".message").textContent = "Loading data...";
  var a = [], b = Q().send("cal-sync-setting-get");
  a.push(b.u(function(a) {
    this.b = a || {};
  }, function(a) {
    window.console.error(a);
    Cw("Error getting cal setting information.");
  }, this));
  a.push(Q().send("ga-lc").i(function(a) {
    this.c = a;
  }, this));
  return Bl(a).u(function() {
    var a = this.g(), b = a.querySelector(".message");
    b.textContent = "";
    var e = a.querySelector('a[name="sync-calender-name"]');
    e.textContent = this.b.syncGroupId || "";
    e.href = "";
    YC(a.querySelector('input[name="schedule"]'), !!this.b.enabled);
    var f = a.querySelector("input[name=interval]");
    a.querySelector("input[name=schedule]").checked = !!this.b.enabled;
    ha(this.b.syncInterval) && YC(f, this.b.syncInterval);
    this.ud(this.b);
    if (this.b.syncGroupId) {
      a: {
        if (this.b.syncGroupId) {
          for (a = 0;a < this.c.items.length;a++) {
            if (this.c.items[a].id == this.b.syncGroupId) {
              a = this.c.items[a];
              break a;
            }
          }
        }
        a = null;
      }
      a ? (e.href = "https://www.google.com/calendar/embed?src=" + this.b.syncGroupId, e.textContent = a.summary || "My Calendar") : (e = 'Sync Calendar "' + this.b.syncGroupId + '" not found.', b.textContent = e, Cw(e));
    }
  }, function(a) {
    window.console.error(a);
    Cw("Error getting cal setting information.");
  }, this);
};
h.toString = function() {
  return "Calendar Sync Setting";
};
function $N(a) {
  var b = document.createElement("DIV");
  b.innerHTML = '<form><p>Please help us sending bug report to fix the issue.</p><textarea rows="5" cols="60" placeholder="Contacts sync is not working. When I ..."></textarea><br/><label><input name="send-bug-report" type="checkbox" checked/> Send bug report</label><br/><label><input name="send-data" type="checkbox" checked/> Send sync history (include your Gmail and Sugar contacts data)</label></form><div class="ydn-prog-message"></div>';
  iK.call(this, a, b, lK());
  this.b = !1;
}
A($N, iK);
$N.prototype.J = function(a) {
  if (this.b) {
    this.a.close(a.target.value);
  } else {
    if ("ok" == a.target.value) {
      if (this.b = !0, jK(this).querySelector('INPUT[name="send-bug-report"]').checked) {
        var b = {type:"bug-sync", message:jK(this).querySelector("textarea").textContent, sendDebugInfo:jK(this).querySelector('INPUT[name="send-data"]').checked}, b = Q().send("feedback-sync", b);
        b.c(function(a) {
          R(jK(this).querySelector("FORM"), !1);
          jK(this).querySelector(".ydn-prog-message").innerText += a || "";
        }, this);
        b.u(function() {
          this.a.close(a.target.value);
        }, function(a) {
          window.console.log(a);
          this.a.close(a.target.value);
          window.alert("Error sending bug report");
        }, this);
      } else {
        this.a.close(a.target.value);
      }
    } else {
      this.a.close(a.target.value);
    }
  }
};
function aO(a) {
  var b = new $N(a ? "Clear contact sync cache" : "Send bug report for contact sync issue"), c = new B;
  b.a.onclose = function() {
    c.callback(b.a.returnValue);
    b.O();
  };
  b.a.showModal();
  return c;
}
;function bO(a, b) {
  ON.call(this, b);
  this.b = {};
}
A(bO, ON);
h = bO.prototype;
h.B = function() {
  bO.j.B.call(this);
  var a = document.createElement("div"), b;
  b = wv("Gmail contact");
  var c = xv();
  b = '<div class="widget-content setting-panel ">\n   <div name="ydn-sugar-header"></div>\n    <div name="ydn-setting-header">\n    <a href="#grant">Grant</a> Google Contact read/write permission.\n</div>\n    <div name="ydn-setting-content">\n      <section class="sync-setting-panel">\n        <label><input type="checkbox" name="schedule"/> Sync regularly</label><br/>\n        <label>' + chrome.i18n.getMessage("sync_interval_label") + ' <input name="interval" type="number" min="2" max="86400" title="' + 
  chrome.i18n.getMessage("sync_interval_tooltip") + '"/></label><br/>\n         Synced Contacts Group<br/> <select name="sync-group" title="' + chrome.i18n.getMessage("sync_group_tooltip") + '"></select> <a name="new-group" href="#" title="Create a new Gmail Contact Group">Create?</a><br/>\n         \n         ' + b + '\n        <div>\n          <p><button name="sync-reset">' + chrome.i18n.getMessage("Restore_default") + '</button> \n          <button name="sync-now">Sync Now</button></p>\n          <p style="display: none;">\n            <button name="sync-save">' + 
  chrome.i18n.getMessage("Save") + "</button>\n        \n          </p>\n        </div>\n   \n      </section>\n      \n       " + c + '\n        <details name="notes">\n        <summary>Notes</summary>\n        <div>\n        <p>Each sync cycle is limited to updating maximum of 100 records. The remainings will be updated in next cycles.</p>\n        <p>Contacts with same email address between Gmail and Sugar are merged.</p>\n        </div>\n</details>\n<details class="ydn-advance"><summary title="' + 
  chrome.i18n.getMessage("Advanced_tooltip") + '">' + chrome.i18n.getMessage("Advanced") + '</summary>\n            <div class="ydn-advance-panel-content"></div>\n            <div class="ydn-advance-control">\n            <button name="delete-sync-contacts" title="Maximun of 100 records will be deleted at a time.">' + chrome.i18n.getMessage("Delete_all_synced_Gmail_Contacts") + '</button>\n</div>      <div>\n<button name="clear-cache">Clear cache</button> <button name="bug-report">Report problem</button>\n</div>\n        </details>\n   </div>\n </div>\n ';
  a.innerHTML = b;
  this.g().appendChild(a);
};
h.A = function() {
  bO.j.A.call(this);
  var a = X(this), b = this.g(), c = this.g().querySelector("[name=new-group]");
  a.listen(c, "click", this.ln);
  a.listen(b.querySelector("details.ydn-advance"), "click", this.km);
  a.listen(b.querySelector('[name="delete-sync-contacts"]'), "click", this.zm);
  c = this.g().querySelector("[name=clear-cache]");
  a.listen(c, "click", this.Fo);
  c = this.g().querySelector("[name=bug-report]");
  a.listen(c, "click", this.Fn);
  a.listen(b.querySelector(".sync-setting-panel"), "click", this.Wn);
  R(this.g().querySelector('[name="sync-contact-only-panel"]'), !0);
};
h.ln = function(a) {
  a.preventDefault();
  var b = window.prompt("New Gmail Contact Group Name:");
  if (b) {
    var c = this.g().querySelector('[name="sync-group"]');
    for (a = 0;a < c.childElementCount;a++) {
      var d = c.children[a].textContent || "";
      if (d.toLowerCase() == b.toLowerCase()) {
        c.value = c.children[a].value;
        cO(this);
        XE("Create new Contact Group", "Group " + d + " Already exists.");
        return;
      }
    }
    a = {title:b};
    Q().send("gdata-new-group", a).u(function(a) {
      if (a = Jb(a, "id", "$t")) {
        var d = this.a.w("OPTION", {value:a}, b);
        c.appendChild(d);
        c.value = a;
        cO(this);
      }
    }, function(a) {
      window.console.error(a);
      XE("Create new Contact Group", "Fail to create a new contact: " + a.message || a);
    }, this);
  } else {
    a.stopPropagation();
  }
};
h.km = function(a) {
  a.currentTarget.hasAttribute("open") || dO(this);
};
h.zm = function(a) {
  Q().send("contact-sync-setting-info").i(function(b) {
    if (window.confirm("Are you sure you want to delete " + (b.contacts_sync_ref || 0) + " Gmail Contacts that is sync with Sugar records.")) {
      var c = a.currentTarget;
      c.setAttribute("disabled", "");
      Q().send("contact-sync-delete-sync-gdata").G(function(a) {
        window.alert(a + " Gmail Contacts deleted.");
        c.removeAttribute("disabled", "");
      }, this);
    }
  }, this);
};
h.Wn = function(a) {
  if ("SUMMARY" == a.target.tagName) {
    var b = a.target.parentElement;
    a = !b.hasAttribute("open");
    b = b.getAttribute("name");
    "sync" == b && a && eO(this);
  } else {
    "BUTTON" == a.target.tagName && (b = a.target.getAttribute("name"), "sync-save" == b && cO(this));
  }
};
h.ff = function(a) {
  bO.j.ff.call(this, a);
  var b = this.g().querySelector('[name="sync-contact-only"]');
  a.ignoreSyncContact = !b.checked;
};
function cO(a) {
  var b = a.g().querySelector(".sync-setting-panel").querySelector("SELECT"), c = {};
  c.syncGroupId = b.value;
  a.ff(a.b);
  fO(a, c);
}
function fO(a, b) {
  Q().send("contact-sync-setting-set", b).i(function() {
    this.Ae();
  }, a);
}
function dO(a) {
  Q().send("contact-sync-setting-info").i(function(a) {
    var c = this.g().querySelector(".ydn-advance-panel-content"), d = a.sugar_stat || {}, e = a.sugar || {}, f = d.count || 0, g = a.sync_contact_count || 0, k = d.last_record || {}, l = Er(k), d = d.module || "", e = pr(e.baseUrl, d, k.id), k = Cr(k.date_modified), k = Gq(+k) || " on " + k.toDateString(), f = "<div>Number of SugarCRM records: " + f + ", in which " + g + ' are marked as "Sync with Outlook"</div><div>Last updated Sugar ' + d + ' record: <a href="' + e + '">' + l + "</a> (updated " + 
    k + ")</div>", g = a.contacts_count || 0, l = a.contacts_sync_ref || 0, m = a.contacts_last || {}, k = Jb(m, "gd$name", "gd$givenName", "$t") || "0", e = Jb(m, "id", "$t") || "", e = e.match(/(\w+)$/)[1], e = "https://mail.google.com/mail/u/" + iD() + "/#contact/" + e, m = new Date(Jb(m, "updated", "$t")), m = Gq(+m) || " on " + m.toDateString(), n = "", p = a.options || {};
    p.syncGroupId && (n = this.g().querySelector('SELECT[name="sync-group"]').selectedOptions, n = "<div>" + a.contacts_in_sync_group + ' Contacts in "' + (n[0] ? n[0].textContent : p.syncGroupId) + '" Group.</div>');
    f += "<div>Number of Gmail Contacts: " + g + ", in which " + l + " are synced with Sugar " + d + " records.</div>" + n + '<div>Last updated Gmail Contacts: <a href="' + e + '">' + k + "</a> (updated " + m + ")</div>";
    g = a.process_id;
    l = "(never)";
    g && (l = Gq(g));
    f += "<div>Last sync " + l + ", " + a.commit_gdata_count + " Gmail Contacts updated, " + a.commit_sugar_count + " Sugar " + d + " records updated.</div><div>" + a.sync_cycle_count + " sync cycles processed since " + (new Date(a.start_at)).toLocaleString() + ", " + a.commit_gdata_total + " Gmail Contacts updated, " + a.commit_sugar_total + " Sugar " + d + " records updated.</div>";
    c.innerHTML = f;
  }, a);
}
function gO() {
  Q().send("contact-sync-clear-cache").i(function() {
    Cw("Contact sync cache cleared.");
  });
}
h.Fo = function() {
  aO(!0).G(function(a) {
    "ok" == a && gO();
  }, this);
};
h.Fn = function() {
  aO(!1);
};
h.Ja = function() {
  return "contact-";
};
h.ud = function(a) {
  bO.j.ud.call(this, a);
  this.g().querySelector('[name="sync-contact-only"]').checked = !a.ignoreSyncContact;
};
h.getName = function() {
  return "Contact";
};
h.Ae = function() {
  return Q().send("contact-sync-setting-get").u(function(a) {
    this.b = a || {};
    eO(this);
    this.g();
    this.ud(this.b);
    SN(this);
  }, function(a) {
    Cw("Fail fetching setting: " + (a ? a.message || a : ""));
  }, this);
};
function eO(a) {
  a.g();
  Q().send("gdata-list-group").i(function(a) {
    var c = this.g().querySelector(".sync-setting-panel"), d = c.querySelector("SELECT");
    d.innerHTML = "";
    for (var e = 0;e < a.length;e++) {
      var f = document.createElement("OPTION"), g = a[e].title.$t.replace("System Group: ", "");
      f.textContent = g;
      f.value = a[e].id.$t;
      d.appendChild(f);
    }
    f = document.createElement("OPTION");
    f.value = "";
    d.appendChild(f);
    this.b.syncGroupId && YC(c.querySelector("SELECT[name=sync-group]"), this.b.syncGroupId);
  }, a);
}
h.toString = function() {
  return "Contact Sync Setting";
};
function hO() {
}
A(hO, iJ);
da(hO);
hO.prototype.Ua = function(a) {
  var b = a.a.w("SPAN", lJ(this, a).join(" "));
  iO(this, b, a.F);
  return b;
};
hO.prototype.tc = function() {
  return "checkbox";
};
function iO(a, b, c) {
  if (b) {
    var d = jO(a, c);
    yD(b, d) || (Gb(kO, function(a) {
      a = jO(this, a);
      a == d ? zD(b, a) : BD(b, a);
    }, a), uD(b, "checked", c == lO ? "mixed" : c == mO ? "true" : "false"));
  }
}
hO.prototype.U = function() {
  return "goog-checkbox";
};
function jO(a, b) {
  var c = a.U();
  if (b == mO) {
    return c + "-checked";
  }
  if (b == nO) {
    return c + "-unchecked";
  }
  if (b == lO) {
    return c + "-undetermined";
  }
  throw Error("Invalid checkbox state: " + b);
}
;function oO(a, b, c) {
  c = c || hO.X();
  tJ.call(this, null, c, b);
  this.F = t(a) ? a : nO;
}
A(oO, tJ);
var mO = !0, nO = !1, lO = null, kO = {a:mO, b:nO, c:lO};
h = oO.prototype;
h.ib = null;
h.hb = function() {
  return this.F == mO;
};
h.Qa = function(a) {
  a != this.F && (this.F = a, iO(this.c, this.g(), this.F));
};
function pO(a, b) {
  if (a.pa()) {
    var c = rJ(a, 32);
    a.ya();
    a.ib = b;
    a.A();
    c && a.K.focus();
  } else {
    a.ib = b;
  }
}
h.toggle = function() {
  this.Qa(this.F ? nO : mO);
};
h.A = function() {
  oO.j.A.call(this);
  if (this.zf) {
    var a = X(this);
    this.ib && a.listen(this.ib, "click", this.qh).listen(this.ib, "mouseover", this.Qd).listen(this.ib, "mouseout", this.Af).listen(this.ib, "mousedown", this.ld).listen(this.ib, "mouseup", this.uc);
    a.listen(this.g(), "click", this.qh);
  }
  a = this.K;
  this.ib && a != this.ib && za(vD(a, "label")) && (this.ib.id || (this.ib.id = this.N() + ".lbl"), uD(a, "labelledby", this.ib.id));
};
h.setEnabled = function(a) {
  oO.j.setEnabled.call(this, a);
  if (a = this.g()) {
    a.tabIndex = this.isEnabled() ? 0 : -1;
  }
};
h.qh = function(a) {
  a.stopPropagation();
  var b = this.F ? "uncheck" : "check";
  this.isEnabled() && !a.target.href && I(this, b) && (a.preventDefault(), this.toggle(), I(this, "change"));
};
h.kd = function(a) {
  32 == a.a && (this.zb(a), this.qh(a));
  return !1;
};
cJ("goog-checkbox", function() {
  return new oO;
});
function qO(a) {
  G.call(this, "pn", a);
}
A(qO, G);
function rO(a, b) {
  G.call(this, "nc", b);
  this.f = a;
}
A(rO, G);
function sO() {
  CH.call(this);
}
A(sO, CH);
h = sO.prototype;
h.B = function() {
  sO.j.B.call(this);
  this.g().classList.add("compose-toolbar");
};
function tO(a) {
  return a.g().parentElement.parentElement.querySelector("FORM");
}
function uO(a) {
  for (a = tO(a).nextElementSibling;a && "TABLE" != a.tagName;) {
    a = a.nextElementSibling;
  }
  return a;
}
h.qf = function() {
  var a = tO(this).querySelector("textarea[name=to]");
  return a ? a.parentElement : null;
};
h.zd = function() {
  var a;
  var b = this.qf();
  if (b) {
    var c = b.querySelectorAll("span[email]");
    a = [];
    for (var d = 0, e = c.length;d < e;d++) {
      var f = c[d].getAttribute("email");
      f && a.push(f);
    }
    0 == a.length && (b = b.querySelector("textarea")) && b.value && (f = b.value, /.+@.+\..+/.test(f) && a.push(f));
  } else {
    a = [];
  }
  return a;
};
function vO(a) {
  a = uO(a).querySelector("TBODY").querySelectorAll("TR");
  return a[a.length - 1];
}
h.ij = function() {
  return vO(this).querySelector("[role=button]");
};
h.oe = function() {
  var a = uO(this), b = a.querySelector('div[aria-label="Message Body"]');
  b || (b = a.querySelector("div[g_editable=true]"));
  return b;
};
h.gj = function() {
  return vO(this).lastElementChild.querySelector("[role=button]");
};
h.pf = function() {
  return "composeToolbar";
};
h.A = function() {
  sO.j.A.call(this);
  var a = X(this), b;
  (b = (b = wO(this.g())) ? b.querySelector("img ~ img ~ img") : null) ? a.listen(b, "mousedown", this.$j) : window.console.warn("Close element not found");
  (b = this.qf()) ? a.listen(b, "blur", this.co, !0) : window.console.warn("To element not found");
};
h.co = function() {
  DH(this);
};
h.$j = function() {
  I(this, new GH(this));
};
h.Zj = function(a) {
  13 == a.a && (BH && a.metaKey || !BH && a.ctrlKey) && (I(this, new FH(this)), this.$j());
};
function wO(a) {
  return a ? "dialog" == a.getAttribute("role") ? a : wO(a.parentElement) : null;
}
h.Zg = function() {
  return tO(this).querySelector('input[name="subjectbox"]').value;
};
h.Xf = function(a) {
  tO(this).querySelector('input[name="subjectbox"]').value = a;
};
h.ci = function(a) {
  var b = this.oe(), c = document.createElement("div");
  c.innerHTML = a;
  a = c.querySelectorAll("script");
  for (var d = 0;d < a.length;d++) {
    c.removeChild(a[d]);
  }
  b.firstChild ? b.insertBefore(c, b.firstChild) : b.appendChild(c);
};
h.I = function() {
  this.b.O();
  this.b = null;
  sO.j.I.call(this);
};
function xO() {
  for (var a = document.querySelectorAll('input[name="subjectbox"]'), b = a.length - 1;0 <= b;b--) {
    var c = a[b], d = c.getAttribute("data-ydn-subjectbox");
    if (!d) {
      d = "tag" + y();
      c.setAttribute("data-ydn-subjectbox", d);
      b = Hh(c, "FORM").parentElement.lastElementChild;
      if ("TABLE" == b.tagName) {
        return a = document.createElement("div"), b.parentElement.insertBefore(a, b), b = new sO, b.render(a), b;
      }
      throw Error("TABLE element expecting after compose FORM");
    }
  }
  return null;
}
;function yO(a) {
  H.call(this);
  this.b = a;
  this.a = [];
  this.M = new zf(this);
}
A(yO, H);
h = yO.prototype;
h.logger = J("ydn.crm.gmail.ToolbarDispatcher");
h.Ko = function(a) {
  "cp" == a.f && zO(this);
  if ("in" == a.f) {
    for (a = this.a.length - 1;0 <= a;a--) {
      AO(this, this.a[a]);
    }
  }
};
h.lm = function(a) {
  a.target.O();
};
function zO(a) {
  var b = xO();
  b ? Df(function() {
    Bf(this.M, b, "cl", this.lm, void 0);
    I(this, new rO(b, this));
  }, 200, a) : K(a.logger, "compose toolbar not found.");
}
function AO(a, b) {
  for (var c = 0;c < a.a.length;c++) {
    if (a.a[c] == b) {
      a.M.ca(b, "cl", a.ak);
      pb(a.a, c);
      break;
    }
  }
}
h.ak = function(a) {
  a = a.target;
  a instanceof IH && AO(this, a);
};
h.Lo = function(a) {
  for (var b = this.a.length - 1;0 <= b;b--) {
    var c = this.a[b];
    !document.body.contains(c.g()) && AO(this, c);
  }
  b = a.f;
  a = document.createElement("div");
  a.classList.add("ydn-gmail-reply");
  b.parentElement.insertBefore(a, b.parentElement.lastElementChild);
  b.querySelector("input[name=subjectbox]").setAttribute("data-ydn-subjectbox", "tag" + y());
  b = new IH;
  b.render(a);
  c = b;
  this.a.push(c);
  this.M.listen(c, "cl", this.ak);
  I(this, new qO(c));
};
function BO(a, b, c) {
  this.c = a;
  this.f = b;
  this.a = c;
}
function CO(a, b, c, d) {
  var e = Cw("Uploading attachment", "...");
  return a.a.send("upload", {module:"Notes", url:c.url, fileName:c.Oa, name:c.Qb, mime:c.Sh, messageId:b, emailId:d}).u(function(a) {
    var b = ey(this.a, "Notes", a.id);
    Fw(e, b, c.Qb);
    Dw(e, "Uploaded attachment: ");
    Ew(e, "Done.");
    dj("ui.upload", "attachment", "OK");
    return a;
  }, function() {
    dj("ui.upload", "attachment", "fail");
  }, a);
}
function DO(a, b) {
  var c = ["Contacts", "Users", "Accounts"];
  Wx(a, "Leads") && c.push("Leads");
  var d = {email:b, create:!0, add:null, uk:null};
  return Ly(a, b, c).i(function(a) {
    if (0 <= lb(a, function(a) {
      return "Users" == a._module;
    })) {
      return d.create = !1, d;
    }
    if (a = a[0]) {
      d.add = a, d.create = !1;
    }
    return d;
  });
}
function EO(a, b, c, d, e) {
  if (d[e]) {
    var f = d[e];
    e++;
    f && f.Qb ? CO(a, b, f, c).G(function() {
      EO(this, b, c, d, e);
    }, a) : EO(a, b, c, d, e);
  }
}
function FO(a, b, c) {
  return c ? Ny(a.a, b, c.parent).u(function(a) {
    Qy(this.a, "Emails", a.id, c.relationships);
    for (var e = c.kc ? c.kc.length : 0, f = 0;f < e;f++) {
      c.kc[f] && (b.Lb[f].Qb = c.kc[f]);
    }
    EO(this, a.id, b.wa, b.Lb, 0);
    dj("ui.archive", "email", "OK");
  }, function() {
    dj("ui.archive", "email", "fail");
  }, a) : GO(a, b).i(function(a) {
    return FO(this, b, {relationships:a.relationships, parent:a.parent});
  }, a);
}
function HO(a) {
  if (0 == a.length) {
    return null;
  }
  var b = a.map(function(a) {
    return "Contacts" == a._module ? 3 : "Accounts" == a._module ? 2 : "Leads" == a._module ? 1 : 0;
  }), c = b.reduce(function(a, b, c, g) {
    return b > g[a] ? c : a;
  }, 0);
  return b[c] ? a[c] : null;
}
function IO(a, b) {
  for (var c = [], d = 0;d < b.length;d++) {
    c.push(DO(a.a, b[d]));
  }
  return (new Al(c)).i(function(a) {
    for (var b = [], c = 0;c < a.length;c++) {
      a[c][0] && a[c][1] && b.push(a[c][1]);
    }
    return b;
  });
}
function GO(a, b) {
  for (var c = b.Gb.split(", ").concat(b.Ya.split(", ")), d = c.length - 1;0 <= d;d--) {
    a.b && a.b.Za == c[d] && pb(c, d);
  }
  return JO(a, c);
}
function JO(a, b) {
  for (var c = [], d = 0;d < b.length;d++) {
    c.push(DO(a.a, b[d]));
  }
  return (new Al(c)).i(function(a) {
    for (var b = {relationships:[], parent:null, il:[], Bo:[]}, c = 0;c < a.length;c++) {
      if (a[c][0] && a[c][1]) {
        var d = a[c][1];
        d.add ? b.relationships.push(d.add) : d.uk ? b.Bo.push(d.uk) : d.create && b.il.push(d.email);
      }
    }
    b.parent = HO(b.relationships);
    return b;
  }, a);
}
;function KO(a, b, c) {
  V.call(this);
  this.c = a;
  this.s = b;
  this.b = null;
  this.Z(new BO(a, BI.X(), c));
  RE(a);
}
A(KO, V);
h = KO.prototype;
h.m = function() {
  return KO.j.m.call(this);
};
function LO(a) {
  var b = Z(a, 0), c = a.g();
  a = a.T().querySelector("A");
  b.hb() ? (c.setAttribute("title", "Arching this email after sending"), R(a, !0)) : (c.setAttribute("title", "Click to archive this email after sending"), R(a, !1));
}
h.B = function() {
  KO.j.B.call(this);
  var a = this.a, b = new oO(nO, a), c = a.w("span", "checkbox-label", "Archive");
  pO(b, c);
  this.H(b, !0);
  var d = this.T();
  d.appendChild(c);
  d.appendChild(document.createTextNode(" "));
  a = a.w("A", "archive-details", "");
  a.setAttribute("title", "Click to change archive options");
  d.appendChild(a);
  b.g().classList.add("archiving-button");
  d = this.c.h("emailarchive", "user-default");
  0 <= ["always", "disable", "archive", "not-archive"].indexOf(d) || (d = this.c.h("emailarchive", "current"), d = ga(d) ? d : !1);
  "always" == d ? b.Qa(!0) : "disable" == d ? (b.Qa(!1), b.Va(!1)) : "archive" == d ? b.Qa(!0) : "not-archive" == d ? b.Qa(!1) : ga(d) ? b.Qa(d) : b.Qa(!1);
  LO(this);
};
h.A = function() {
  KO.j.A.call(this);
  X(this).listen(Z(this, 0), "change", this.eo);
  var a = this.la();
  X(this).listen(a, "st", this.Io);
  X(this).listen(a, EH, this.Jo);
  a = this.T().querySelector("A");
  X(this).listen(a, "click", this.Ho);
};
h.Ho = function(a) {
  a.preventDefault();
  a = this.m();
  var b = HH(this.la());
  b.xc = a.c.Za || "";
  b.Ya = b.xc;
  MO(a, b, this.b).i(function(a) {
    NO(this, a.relationships, a.parent);
    this.b = a;
  }, this);
};
h.Jo = function() {
  Z(this, 0).hb() && OO(this);
};
function OO(a) {
  if (!a.b) {
    var b = a.la().zd();
    JO(a.m(), b).i(function(a) {
      this.b = {relationships:a.relationships, parent:a.parent};
      NO(this, a.relationships, a.parent);
    }, a);
  }
}
function NO(a, b, c) {
  a = a.T().querySelector("A");
  var d = b.length;
  a.textContent = "(" + d + "R" + (c ? "P" : "") + ")";
  a.href = "#";
  var e = "";
  if (0 != d || c) {
    c && (e = "Parent: " + c.name + " ");
    if (d) {
      c = "";
      for (d = 0;d < b.length;d++) {
        0 != d && (c += ", "), c += b[d].name;
      }
      e && (e += "\n");
      e += "Related: " + c + "\nParent record appears as Contact. Related records are shown in history panels.";
    }
    a.classList.remove("error");
  } else {
    a.classList.add("error"), a.textContent = "(missing targets)", e = "Archive mail require target relationship records or parent, but none found. Click to fix.";
  }
  a.setAttribute("title", e);
}
h.eo = function(a) {
  a = a.target.hb();
  this.c.o(a, "emailarchive", "current");
  a && OO(this);
  LO(this);
};
h.Io = function(a) {
  a = a.target;
  if (Z(this, 0).hb()) {
    var b = Cw("Archiving sent message");
    y();
    var c = this.m(), d = HH(a);
    d.xc = c.c.Za || "";
    d.Ya = d.xc;
    var e = this.b, f = this.s;
    NH(this.s).G(function(a) {
      d.Ob = new Date;
      d.wa = a;
      FO(c, d, e).u(function(d) {
        var e = ey(c.a, "Emails", d.id);
        a ? Dw(b, "Message archived.") : Ew(b, "(without message reference)");
        Fw(b, e, "view", d.name || d.id);
        a && I(f, new cI(a, f));
      }, function(a) {
        Dw(b, "Archiving sent email fail: ", a.message || a);
      });
    });
  }
};
h.I = function() {
  KO.j.I.call(this);
};
function PO(a, b) {
  var c = document.createElement("div");
  c.classList.add("select-module-dialog");
  c.innerHTML = '<div class="message"></div>\n  <div>\n    <label>Select a module: </label><select name="module"></select>\n  </div>';
  c.querySelector(".message").textContent = b;
  for (var d = c.querySelector("select"), e = 0;e < a.length;e++) {
    var f = document.createElement("option");
    f.textContent = a[e];
    f.value = a[e];
    d.appendChild(f);
  }
  iK.call(this, "Select module", c, lK());
}
A(PO, iK);
function QO(a) {
  var b = new PO(lr, a || ""), c = new B;
  b.a.onclose = function() {
    "ok" == b.a.returnValue ? c.callback(jK(b).querySelector(".select-module-dialog select").value) : c.C(b.a.returnValue);
    b.O();
  };
  b.a.showModal();
  return c;
}
;function RO(a, b, c, d) {
  V.call(this, d);
  this.b = a;
  this.F = b;
  this.c = null;
  this.W = c;
  c = Wx(a, c);
  a = ["Accounts", "Contacts", "Opportunities", "Cases"];
  d = c.link_fields || {};
  b = [];
  for (var e in d) {
    var f = d[e], g = f.module;
    if (g) {
      -1 == b.indexOf(g) && b.push(g);
    } else {
      a: {
        g = void 0;
        for (g in c) {
          var k = c[g];
          if (k.table_name == f.name) {
            f = k.module_name || g;
            break a;
          }
        }
        f = null;
      }
      f && !mb(b, f) && b.push(f);
    }
  }
  if (a) {
    for (e = 0;e < a.length;e++) {
      -1 == b.indexOf(a[e]) && b.push(a[e]);
    }
  }
  b.sort();
  this.s = b;
}
A(RO, V);
h = RO.prototype;
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.B = function() {
  RO.j.B.call(this);
  var a = this.g();
  a.classList.add("relationships-panel");
  var b;
  b = this.W;
  b = '<div class="ydn-head"\n      title="' + chrome.i18n.getMessage("Relationships_tooltip") + '">\n      ' + chrome.i18n.getMessage("Related_Record") + ':\n  </div>\n  <div class="ydn-content"></div>\n  <div class="select-record field">\n    <span><select class="parent-type" \n      title="' + chrome.i18n.getMessage("Relationship_list_of_module_tooltip", b) + '"></select></span>\n    <input type="text" class="value" placeholder="' + chrome.i18n.getMessage("Search") + '"\n        title="' + chrome.i18n.getMessage("Search_tooltips") + 
  '"\n    />\n    <a style="display: none;" class="spacer"\n      title="' + chrome.i18n.getMessage("View_in_CRM") + '" target="_blank">\n      <svg viewBox="0 0 24 24" class="icons">\n      <path xmlns="http://www.w3.org/2000/svg" d="M19,19H5V5h7V3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-7h-2V19z M14,3v2h3.6l-9.8,9.8l1.4,1.4L19,6.4V10h2V3H14z"></path></svg>\n    </a>\n  </div>\n  <div class="propose-section"></div>\n  <div class="suggestions"></div>\n  <div class="recents"><UL></UL></div>\n  ';
  a.innerHTML = b;
  b = a.querySelector("select");
  for (var c = 0;c < this.s.length;c++) {
    var d = document.createElement("option");
    d.value = this.s[c];
    d.textContent = this.s[c];
    b.appendChild(d);
  }
  this.c = new oL(this.b, void 0, a, !1);
};
h.I = function() {
  RO.j.I.call(this);
  this.c.O();
  this.b = this.c = null;
};
h.A = function() {
  RO.j.A.call(this);
  var a = this.g(), b = X(this), c = a.querySelector(".select-record select"), d = a.querySelector(".select-record input");
  b.listen(d, "focus", this.qp);
  b.listen(d, "blur", this.Cn);
  b.listen(c, "change", this.rp);
  b.listen(this.c, "update", this.np);
  c = this.T();
  b.listen(c, "click", this.mp);
  b.listen(a.querySelector(".suggestions"), "click", this.Vn);
  b.listen(a.querySelector(".recents"), "click", this.Bn);
  a = this.g().querySelector(".propose-section");
  b.listen(a, "click", this.yn);
};
h.np = function(a) {
  if (a = a.Rc) {
    var b = a._module, c = Er(a);
    SO(this, {module_name:b, id:a.id, name:c});
    a = this.g().querySelector(".select-record");
    b = a.querySelector("input");
    b.value = "";
    b.removeAttribute("data-id");
    a = a.querySelector("a");
    a.href = "";
    R(a, !1);
  }
};
h.Cn = function() {
};
h.qp = function(a) {
  a = a.b;
  if (a instanceof HTMLInputElement) {
    a = Hh(a, "div", "select-record");
    var b;
    a: {
      var c = this.b, d = a.querySelector("select").value;
      if (c.a[d]) {
        b = c.a[d].module_name;
      } else {
        for (b in c.a) {
          if (c.a[b].module_name == d) {
            b = c.a[d].module_name;
            break a;
          }
        }
        b = void 0;
      }
    }
    this.c.c.a = [b];
    pL(this.c, a);
  } else {
    window.console.error("input must be HTMLInputElement", a);
  }
};
function TO(a, b, c) {
  if (c) {
    if (a = a.g().querySelector(".recents UL"), 0 == c.length) {
      a.textContent = "";
    } else {
      a.textContent = "Add recent ";
      for (var d = 0;d < c.length;d++) {
        var e = c[d], f = document.createElement("LI"), g = document.createElement("A");
        g.textContent = Er(e);
        f.className = "add-recent-item";
        f.setAttribute("data-id", e.id);
        f.setAttribute("data-module", b);
        g.href = "#add-record";
        g.setAttribute("title", UO(e));
        f.appendChild(g);
        a.appendChild(f);
      }
      a.appendChild(document.createTextNode(" ?"));
    }
  }
}
function VO(a, b) {
  a.g().querySelector(".recents UL").innerHTML = "";
  var c = a.b.send("list-recent-async", {module:b});
  c.c(function(a) {
    TO(this, b, a);
  }, a);
  c.u(function(a) {
    TO(this, b, a);
  }, function(a) {
    window.console.error(a);
  }, a);
}
h.rp = function() {
  var a = this.g().querySelector(".select-record"), b = a.querySelector("input");
  b.value = "";
  b.removeAttribute("data-id");
  a = a.querySelector("a");
  a.href = "";
  R(a, !1);
  a = this.g().querySelector(".select-record SELECT");
  VO(this, a.value);
};
function WO(a) {
  for (var b = [], c = 0, d = Y(a);c < d;c++) {
    var e = Z(a, c).m();
    b.push({_module:e.module_name, id:e.id, name:e.name});
  }
  return b;
}
h.mp = function(a) {
  if (a.target.classList.contains("clear")) {
    for (var b = Jh(a.target, "relationship-item"), c = Y(this) - 1;0 <= c;c--) {
      var d = Z(this, c);
      if (d.g() == b) {
        this.removeChild(d, !0);
        d.O();
        break;
      }
    }
    (a = a.target.getAttribute("data-lastActionOnAccount")) && EI(this.F, a);
  }
};
function SO(a, b) {
  for (var c = Y(a) - 1;0 <= c;c--) {
    var d = Z(a, c).m();
    if (d.id == b.id && d.module_name == b.module_name) {
      return;
    }
  }
  c = new XO(a.b, b, a.a);
  a.H(c, !0);
  0 <= lr.indexOf(b.module_name) && YO(a, b.module_name, b.id);
}
function ZO(a, b) {
  var c = b.getAttribute("data-id"), d = b.getAttribute("data-module");
  b.parentElement.removeChild(b);
  SO(a, {module_name:d, id:c, name:b.querySelector("A").textContent});
}
h.Bn = function(a) {
  a.preventDefault();
  a = Hh(a.target, "LI");
  ZO(this, a);
};
h.Vn = function(a) {
  a.preventDefault();
  a = Hh(a.target, "LI");
  ZO(this, a);
  (a = a.getAttribute("data-lastActionOnAccount")) && EI(this.F, a);
};
function $O(a, b, c, d) {
  var e = d, f = "", g = d.indexOf(" ");
  0 < g && (e = d.substr(0, g), f = d.substr(g + 1));
  g = {email:c};
  return Q().send("gdata-list-contact", g).u(function(a) {
    var g = {email1:c, first_name:e, last_name:f, name:d};
    a[0] && xw(a[0], g);
    a = chrome.i18n.getMessage("Creating_a_new_record", b);
    var m = Cw(a, "...");
    return this.b.send("new-record", {record:g, module:b}).u(function(a) {
      Dw(m, chrome.i18n.getMessage("New_record"), chrome.i18n.getMessage("created"));
      a = ey(this.b, b, a.id);
      Fw(m, a, chrome.i18n.getMessage("view"), chrome.i18n.getMessage("View_in_CRM"));
    }, function(a) {
      Ew(m, "failed: " + (a.message || a));
    }, this);
  }, function(a) {
    window.console.error(a);
  }, a);
}
h.yn = function(a) {
  var b = a.target;
  if ("A" == b.tagName) {
    a.preventDefault();
    var c = b.getAttribute("data-email");
    if (!c) {
      throw Error("no email address");
    }
    var d = b.textContent;
    a = chrome.i18n.getMessage("Contact_email_not_in_your_CRM", c);
    QO(a).i(function(a) {
      $O(this, a, c, d).i(function(c) {
        b.parentElement.removeChild(b);
        var d = c.id;
        d && SO(this, {module_name:a, id:d, name:c.name || d});
      }, this);
    }, this);
  }
};
function UO(a, b) {
  var c = a.name;
  a.account_name && (c += " (" + a.account_name + ")");
  b && (c += " for " + b);
  if (a.description) {
    var d = a.description;
    200 < d.length && (d = d.substr(0, 200));
    c += "\n" + d;
  }
  return c;
}
function aP(a, b, c, d) {
  if (a = a.g()) {
    a = a.querySelector(".suggestions");
    var e = a.querySelector("UL");
    e || (e = document.createElement("UL"), a.appendChild(document.createTextNode("Add ")), a.appendChild(e), a.appendChild(document.createTextNode("?")));
    a = e;
  } else {
    a = null;
  }
  if (a && !a.querySelector('LI[data-id="' + b.id + '"]')) {
    e = document.createElement("LI");
    e.classList.add("record-header");
    e.classList.add(b._module);
    e.setAttribute("data-id", b.id);
    e.setAttribute("data-module", b._module);
    var f = document.createElement("SPAN");
    f.className = "small icon";
    f.textContent = qr(b._module);
    var g = document.createElement("A");
    g.href = "#";
    var k = Er(b);
    b.account_name && (k += " (" + b.account_name + ")");
    g.textContent = k;
    g.setAttribute("title", UO(b, c));
    d && e.setAttribute("data-lastActionOnAccount", d);
    e.appendChild(f);
    e.appendChild(g);
    a.appendChild(e);
  }
}
function YO(a, b, c) {
  b = {id:c, module:b, modules:["Opportunities", "Cases"], limit:5};
  Tx(a.b).send("query-related", b).i(function(a) {
    xb(a, function(a, b) {
      return -wb(a.date_modified, b.date_modified);
    });
    for (var b = 0;b < a.length && 5 > b;b++) {
      aP(this, a[b]);
    }
  }, a);
}
function XO(a, b, c) {
  V.call(this, c);
  this.b = a;
  this.Z(b);
}
A(XO, V);
XO.prototype.B = function() {
  XO.j.B.call(this);
  var a = this.g(), b = this.a, c = this.m(), d = c.module_name, e = b.w("span", "icon small", qr(d)), f = b.w("a", "content");
  f.href = ey(this.b, d, c.id);
  f.setAttribute("target", "_blank");
  b = b.w("div", "clear", "x");
  c.Jj && b.setAttribute("data-lastActionOnAccount", c.Jj);
  a.classList.add("relationship-item");
  a.classList.add("record-header");
  a.classList.add(d);
  a.classList.add("flex-bar");
  f.textContent = c.name;
  a.appendChild(e);
  a.appendChild(f);
  a.appendChild(b);
};
function bP(a, b, c, d) {
  this.f = b;
  b = chrome.i18n.getMessage("Upload_attachment_as_Documents_record");
  var e = document.createElement("div");
  e.innerHTML = '<div class="upload-dialog">\n    <div>\n      <label>' + chrome.i18n.getMessage("File_Name") + ': </label>\n      <input name="file_name" type="text" class="value"/>\n    </div>\n    <div>\n      <label>' + chrome.i18n.getMessage("Document_Name") + ': </label>\n      <input name="document_name" type="text" class="value"/>\n    </div>\n    <div>\n      <label>' + chrome.i18n.getMessage("Description") + ': </label>\n      <textarea name="description" class="value"></textarea>\n    </div>\n\n    <section name="rel-panel"></section>\n    <section name="ydn-category">\n    <div class="flex-row">\n    <div>Category:<br/><select name="category"></select></div>\n    <div>Sub-category:<br/><select name="subcategory"></select></div>\n    </div>\n</section>\n  </div>';
  var f = e.querySelector("input[name=file_name]");
  f.value = c + "/" + d;
  f.setAttribute("disabled", "");
  e.querySelector("input[name=document_name]").value = d;
  iK.call(this, b, e, lK());
  this.c = a;
  this.b = new RO(a, this.f, "Documents");
  this.b.render(e.querySelector('section[name="rel-panel"]'));
  d = jK(this);
  c = d.querySelector("[name=category]");
  a = d.querySelector("[name=subcategory]");
  d = d.querySelector('[name="ydn-category"]');
  var g = Wx(this.c, "Documents");
  if (g) {
    b = dh();
    var k = Jb(g, "module_fields", "category_id", "options"), e = !1;
    if (k) {
      c.innerHTML = "";
      for (var l in k) {
        e = !0, f = b.w("OPTION", {value:k[l].value}, k[l].name), c.appendChild(f);
      }
      if (c = Jb(g, "module_fields", "subcategory_id", "options")) {
        for (l in a.innerHTML = "", c) {
          f = b.w("OPTION", {value:c[l].value}, c[l].name), a.appendChild(f);
        }
      }
    }
    e || R(d, !1);
  } else {
    R(d, !1);
  }
}
A(bP, iK);
bP.prototype.c = null;
bP.prototype.f = null;
function cP(a) {
  var b = jK(a);
  return {Qb:b.querySelector("input[name=document_name]").value, description:b.querySelector("textarea[name=description]").value, gl:b.querySelector("[name=category]").value, Ao:b.querySelector("[name=subcategory]").value, relationships:WO(a.b)};
}
function dP(a, b, c) {
  var d = BI.X(), e = new bP(a, d, b, c), f = new B;
  e.a.onclose = function() {
    "ok" == e.a.returnValue ? f.callback(cP(e)) : f.C(e.a.returnValue);
    e.O();
  };
  e.a.showModal();
  return f;
}
bP.prototype.O = function() {
  this.c = null;
  this.b.O();
  this.b = null;
  bP.j.O.call(this);
};
function eP(a, b) {
  H.call(this);
  this.f = a;
  this.a = null;
  ud(b, "at", this.c, !1, this);
  this.b = [];
}
A(eP, H);
eP.prototype.a = null;
eP.prototype.I = function() {
  for (var a = 0;a < this.b.length;a++) {
    this.b[a].O();
  }
  this.b.length = 0;
  this.a = null;
};
eP.prototype.c = function(a) {
  a: {
    a = a.f;
    for (var b = 0;b < this.b.length;b++) {
      if (!this.b[b].pa()) {
        fP(this.b[b], a);
        break a;
      }
    }
    b = new gP(this);
    fP(b, a);
    this.b.push(b);
  }
};
function gP(a) {
  this.b = a;
  this.c = "";
  this.f = null;
  this.a = document.createElement("span");
  this.a.className = "ydn-crm ydn-att ydn-att-btn";
  this.a.onclick = this.h.bind(this);
}
gP.prototype.O = function() {
  this.a && (this.a.onclick = null, this.a.innerHTML = "", this.a.parentNode && this.a.parentNode.removeChild(this.a), this.a = null);
};
gP.prototype.h = function(a) {
  a.preventDefault();
  this.c && this.f ? window.open(pr(this.b.a.about.baseUrl || null, this.f, this.c), "_blank") : this.b.f.hasFeature("attachment", !0) && hP(this);
};
function hP(a) {
  var b = iP(a), c = jP(a).getAttribute("data-mid"), d = a.a;
  dP(a.b.a, c, b.Oa).i(function(a) {
    d.classList.add("working");
    var f = Cw("Uploading", "...");
    kP(this, c, b, a).u(function(a) {
      d.classList.remove("working");
      d.classList.remove("alert");
      d.classList.remove("error");
      this.f = or(a._module);
      this.c = a.id;
      Dw(f, "Upload");
      Ew(f, "Done.");
      var b = ey(this.b.a, "Documents", a.id);
      Fw(f, b, a.document_name, "View record in SugarCRM");
      d.innerHTML = "";
      a = Pw("sugarcrm-bw", "att-icon");
      d.appendChild(a);
    }, function(a) {
      d.classList.remove("working");
      d.classList.remove("alert");
      d.classList.remove("error");
      "cancel" !== a && (a.name = "HostPermissionError", d.classList.add("alert"), a = String(a.message || a), d.setAttribute("data-tooltip", a), Ew(f, "fail to upload " + b.Oa + " " + a));
    }, this);
  }, a);
}
function kP(a, b, c, d) {
  b = {fileName:c.Oa, documentName:d.Qb, description:d.description, category_id:d.gl, subcategory_id:d.Ao, mime:c.Sh, url:c.url, messageId:b, isUserRequest:!0};
  return Tx(a.b.a).send("upload", b).i(function(a) {
    a._module = "Documents";
    0 < d.relationships.length && Qy(this.b.a, "Documents", a.id, d.relationships).u(function(b) {
      var c = 0;
      b && u(b) && (c = b.reduce(function(a, b) {
        return a + b.created;
      }, 0));
      b = Cw(c + " links created for ");
      c = ey(this.b.a, "Documents", a.id);
      Fw(b, c, d.Qb, "View record in SugarCRM");
    }, function(a) {
      Cw("Error linking relationship " + (a.message || a), "", "e");
    }, this);
    return a;
  }, a);
}
gP.prototype.pa = function() {
  return document.body.contains(this.a);
};
function fP(a, b) {
  var c = b.getAttribute("download_url"), d = b.getAttribute("data-mid");
  if (!d || !c) {
    throw Error("Invalid anchor element");
  }
  a.a.parentNode && a.a.parentNode.removeChild(a.a);
  b.querySelector("div[role=button]").parentElement.appendChild(a.a);
  c = pD(c);
  d = [{store:"Documents", index:"filename", prefix:!0, key:d + "/" + c.Oa}, {store:"Notes", prefix:!0, index:"filename", key:d + "/" + c.Oa}];
  Tx(a.b.a).send("query", d).u(function(a) {
    lP(this, a[0].result[0] || a[1].result[0]);
  }, function(a) {
    lP(this);
    window.console.error(a);
  }, a);
}
function jP(a) {
  a = a.a.parentElement;
  for (var b = 0;5 > b;b++) {
    if (a.hasAttribute("download_url")) {
      return a;
    }
    a = a.parentElement;
  }
  return a.parentElement.parentElement;
}
function iP(a) {
  var b = jP(a).getAttribute("download_url"), b = pD(b);
  b.$i = a.c;
  return b;
}
function lP(a, b) {
  iP(a);
  a.c = "";
  a.f = null;
  b && "1" != b.deleted && (a.c = b.id, b._module ? a.f = b._module : a.f = t(b.document_name) ? "Documents" : "Notes");
  var c;
  if (a.c) {
    c = Pw("sugarcrm-bw", "att-icon");
    var d = chrome.i18n.getMessage("View_record_on_sidebar", [a.f]);
  } else {
    d = chrome.i18n.getMessage(b ? "Re_upload" : "Upload"), c = Pw("cloud-upload", "att-icon");
  }
  a.a.setAttribute("data-tooltip", d);
  a.a.innerHTML = "";
  a.a.appendChild(c);
}
function mP(a, b, c) {
  var d = jP(a).getAttribute("data-mid"), e = iP(a), f = Cw("Uploading attachment", "...");
  b = {module:"Notes", url:e.url, fileName:e.Oa, name:c, mime:e.Sh, messageId:d, emailId:b};
  return Tx(a.b.a).send("upload", b).u(function(a) {
    var b = ey(this.b.a, "Notes", a.id);
    Fw(f, b, c);
    Dw(f, "Uploaded attachment: ");
    Ew(f, "Done.");
    dj("ui.upload", "attachment", "OK");
    this.a.innerHTML = "";
    b = Pw("sugarcrm-bw", "att-icon");
    this.a.appendChild(b);
    return a;
  }, function() {
    dj("ui.upload", "attachment", "fail");
  }, a);
}
;function nP(a, b) {
  V.call(this);
  this.s = a;
  this.c = b;
  this.b = null;
}
A(nP, V);
h = nP.prototype;
h.B = function() {
  nP.j.B.call(this);
  var a = this.g(), b = !!this.c && u(this.c);
  this.b = new oL(this.s, b ? b[0] : this.c || "Contacts", a, !0);
  a.innerHTML = Mw(aD({Ak:b}));
  if (b) {
    a = a.querySelector("SELECT");
    for (b = 0;b < this.c.length;b++) {
      var c = new py(this.s, this.c[b]), d = document.createElement("option");
      d.value = c.getName();
      d.textContent = sy(c);
      a.appendChild(d);
    }
    R(a, !0);
  }
};
h.A = function() {
  nP.j.A.call(this);
  var a = this.g().querySelector("input");
  X(this).listen(a.parentElement, "focus", this.Ap, !0);
  (a = this.g().querySelector("SELECT")) && X(this).listen(a, "change", this.Mn);
};
h.Ap = function() {
  pL(this.b, this.g());
};
h.Mn = function() {
  var a = this.g().querySelector("SELECT");
  this.b.c.a[0] != a.value && (this.b.c.a = [a.value]);
};
h.I = function() {
  nP.j.I.call(this);
  this.b.O();
  this.s = this.b = null;
};
function oP(a, b) {
  var c = a.g().querySelector(".select-record input.value");
  if (b) {
    var d = Er(b);
    c.setAttribute("data-id", b.id);
    c.setAttribute("data-module", b._module);
    c.setAttribute("data-name", d);
    c.value = d;
    (c = a.g().querySelector("SELECT")) && b._module && (c.value = b._module);
    (c = a.g().querySelector(".select-record A")) && b._module && (c.href = ey(a.s, b._module, b.id), R(c, !0));
  } else {
    if (c.removeAttribute("data-id"), c.removeAttribute("data-module"), c.removeAttribute("data-name"), c = a.g().querySelector(".select-record A")) {
      c.href = "", R(c, !1);
    }
  }
}
;function pP(a, b, c, d) {
  var e = chrome.i18n.getMessage("Archive_email");
  this.o = a;
  this.l = a.f;
  this.b = a.c;
  this.s = c || null;
  var f = this.b;
  c = document.createElement("div");
  c.innerHTML = '<div class="archive-dialog">\n    <div style="display: none">\n      <label>Message id: </label><input name="message_id" type="text" class="value"/>\n    </div>\n    <section class="info">\n   \n          <div class="related-contact-panel flex-row">\n              <div>' + chrome.i18n.getMessage("Subject") + ': </div><input class="center" name="name" type="text" class="value"/>\n          </div>\n          \n      <details class="ydn-head">\n          <summary><span class="word-count">0</span> ' + 
  chrome.i18n.getMessage("words_in_this_email_content") + "</summary>\n          <div>\n              " + chrome.i18n.getMessage("To") + ': <span name="to"></span>\n          </div>\n          <div>\n              ' + chrome.i18n.getMessage("From") + ': <span name="from"></span>\n          </div>\n          <div style="display: none;">\n              Cc/Bcc: <span name="cc"></span>\n          </div>\n         \n      </details>\n       <div>\n       <div class="ydn-head">\n            <label title="A parent is showen as Contact in History panel in SugarCRM 6">Related Contact:</label></div>\n             <section name="parent-select">\n             </section>\n          </div>\n    </section>\n    <section name="rel-panel">\n    </section>\n    <section name="attachment">\n      <h4>' + 
  chrome.i18n.getMessage("Attach_as_Notes_records") + "</h4>\n      <ul></ul>\n    </section>\n  </div>";
  c.querySelector("input[name=name]").value = b.subject;
  var g = c.querySelector("input[name=message_id]");
  g.value = b.wa;
  g.setAttribute("disabled", "");
  g = c.querySelector("[name=attachment]");
  f = f ? f.hasFeature("attachment") : !0;
  if (0 < b.Lb.length && f) {
    for (f = g.querySelector("ul"), g = 0;g < b.Lb.length;g++) {
      var k = b.Lb[g], l = document.createElement("li"), m = document.createElement("input");
      m.type = "checkbox";
      var n = k.Oa, p = document.createElement("input");
      p.type = "text";
      p.className = "value";
      p.setAttribute("disabled", "disabled");
      k.$i ? (m.checked = !0, m.setAttribute("disabled", "disabled"), n = chrome.i18n.getMessage("Document_already_in_CRM", k.$i), m.setAttribute("title", n), n = k.Qb || k.Oa) : m.setAttribute("title", "");
      p.value = n;
      l.appendChild(m);
      l.appendChild(p);
      f.appendChild(l);
    }
  } else {
    0 == b.Lb.length ? R(g, !1) : f || (g.innerHTML = '<p><small>\n      <a href="https://www.yathit.com/shop/crmininbox-subscription.html" tabIndex="-1"\n      style="outline: none;">' + chrome.i18n.getMessage("A_subscription") + "\n      </a> " + chrome.i18n.getMessage("is_required_for_attachment") + "\n      </small></p>");
  }
  c.querySelector("[name=from]").textContent = b.Ya;
  c.querySelector("[name=to]").textContent = b.Gb;
  c.querySelector(".word-count").textContent = String(Fo(b.text));
  d = d || chrome.i18n.getMessage("Archive");
  f = chrome.i18n.getMessage("Cancel");
  iK.call(this, e, c, lK(d, f));
  this.h = a.a;
  this.c = new RO(a.a, this.l, "Emails");
  this.c.render(c.querySelector('section[name="rel-panel"]'));
  this.f = new nP(a.a, ["Contacts", "Accounts", "Leads"]);
  this.f.render(c.querySelector('section[name="parent-select"]'));
  a = c.querySelectorAll("ul input[type=checkbox]");
  for (e = 0;e < a.length;e++) {
    this.M.listen(a[e], "click", this.D);
  }
  qP(this, b);
  (b = b.subject.match(/\[[^\d]*(\d+)\s*]/)) && rP(this, b[1]);
}
A(pP, iK);
pP.prototype.D = function(a) {
  a = a.target;
  a.checked ? a.nextElementSibling.removeAttribute("disabled") : a.nextElementSibling.setAttribute("disabled", "");
};
function sP(a) {
  for (var b = jK(a), c = b.querySelector("[name=attachment] ul"), d = [], e = 0;c && e < c.childElementCount;e++) {
    var f = c.children[e], g = f.querySelector("input[type=checkbox]");
    !g.hasAttribute("disabled") && g.checked && (d[e] = f.querySelector("input.value").value);
  }
  c = a.f.g().querySelector(".select-record input.value");
  c = (e = c.getAttribute("data-id")) ? {id:e, _module:c.getAttribute("data-module"), name:c.getAttribute("data-name")} : null;
  return {subject:b.querySelector("input[name=name]").value, kc:d, relationships:WO(a.c), parent:c};
}
function tP(a, b) {
  for (var c = 0;c < b.relationships.length;c++) {
    var d = b.relationships[c];
    SO(a.c, {module_name:d._module, id:d.id, name:d.name});
  }
  b.parent && oP(a.f, b.parent);
}
function qP(a, b) {
  if (a.s) {
    tP(a, a.s);
  } else {
    for (var c = b.Gb.split(", ").concat(b.Ya.split(", ")), d = c.length - 1;0 <= d;d--) {
      a.b && a.b.Za == c[d] && pb(c, d);
    }
    IO(a.o, c).u(function(a) {
      for (var b = [], c = 0;c < a.length;c++) {
        var d = a[c];
        if (d.add) {
          var l = d.add, m = {module_name:l._module, id:l.id, name:Er(l)};
          b.push(d.add);
          SO(this.c, m);
          l.account_id && ("ad" == DI(this.l) ? SO(this.c, {module_name:"Accounts", id:l.account_id, name:l.account_name, Jj:"su"}) : "su" == DI(this.l) && aP(this.c, {_module:"Accounts", id:l.account_id, name:l.account_name}, d.email, "ad"));
        } else {
          if (d.create) {
            var n = lD(d.email), l = this.c, m = d.email, d = document.createElement("a");
            d.setAttribute("data-email", m);
            d.textContent = n || m;
            d.href = "#";
            (l = l.g()) ? (l = l.querySelector(".propose-section"), m = l.querySelector("SPAN"), m || (m = document.createElement("SPAN"), l.appendChild(document.createTextNode(chrome.i18n.getMessage("Create") + " ")), l.appendChild(m), l.appendChild(document.createTextNode("?"))), l = m) : l = null;
            l.appendChild(d);
          }
        }
      }
      a = HO(b);
      oP(this.f, a);
    }, function(a) {
      console.error(a);
    }, a);
  }
}
function MO(a, b, c) {
  var d = 3 > arguments.length ? "" : chrome.i18n.getMessage("OK"), e = new pP(a, b, c, d), f = new B;
  e.a.onclose = function() {
    "ok" == e.a.returnValue ? f.callback(sP(e)) : f.C(e.a.returnValue);
    e.O();
  };
  e.a.showModal();
  return f;
}
function rP(a, b) {
  if (b) {
    var c = {store:"Cases", index:"case_number", key:b};
    Tx(a.h).send("query", [c]).u(function(a) {
      (a = a[0]) && a.result && a.result[0] ? (a = a.result[0], SO(this.c, {id:a.id, module_name:"Cases", name:"[" + b + "] " + a.name})) : (a = {q:b, modules:["Cases"]}, Tx(this.h).send("se-bms", a).u(function(a) {
        for (var c = 0;c < a.length;c++) {
          var d = a[c];
          d.case_number == b && SO(this.c, {id:d.id, module_name:"Cases", name:"[" + b + "] " + d.name});
        }
      }, function(a) {
        window.console.error(a);
      }, this));
    }, function(a) {
      window.console.error(a);
    }, a);
  }
}
pP.prototype.O = function() {
  this.h = null;
  this.c.O();
  this.c = null;
  this.f.O();
  this.o = this.f = null;
  pP.j.O.call(this);
};
function uP(a, b, c, d) {
  this.b = a;
  this.c = b;
  this.a = c;
  this.l = d;
}
uP.prototype.getName = function() {
  return "archiver";
};
uP.prototype.f = function(a) {
  vP(a, !1, "cloud-done");
  var b = chrome.i18n.getMessage("Archive"), c = chrome.i18n.getMessage("Re_archive"), d = chrome.i18n.getMessage("View_Archive");
  if (this.a) {
    var e = a.g(), e = qD(e);
    (e = oD(e, FI(this.c))) && e.wa && !za(e.wa) ? Ry(this.a, e.wa).u(function(e) {
      e && "1" != e.deleted ? (e = ey(this.a, "Emails", e.id), wP(a, this.getName(), !0, d, e), vP(a, !0, "cloud-done", "This message is archived.")) : (e = e ? c : b, wP(a, this.getName(), !0, e, null));
    }, function(c) {
      wP(a, this.getName(), !1, b, null);
      window.console.error(c);
    }, this) : wP(a, this.getName(), !1, b, null);
  } else {
    wP(a, this.getName(), !1, b, null);
  }
};
function xP(a, b, c, d) {
  a: {
    a = a.l;
    for (var e = c.Oa, f = 0;f < a.b.length;f++) {
      var g = a.b[f];
      if (jP(g).getAttribute("data-mid") == d && iP(g).Oa == e) {
        a = g;
        break a;
      }
    }
    a = null;
  }
  return a ? mP(a, b, c.Qb) : (window.console.error("Attach button for " + d + "/" + c.Oa, " not found."), D(c.Oa));
}
function yP(a, b, c, d, e) {
  if (d[e]) {
    var f = d[e];
    e++;
    f.Qb ? xP(a, b, f, c).G(function() {
      yP(this, b, c, d, e);
    }, a) : yP(a, b, c, d, e);
  }
}
function zP(a, b, c, d) {
  var e = Cw("Archiving message");
  return Ny(a.a, c, d.parent).u(function(a) {
    Dw(e, "Archived:");
    var g = ey(this.a, "Emails", a.id);
    Fw(e, g, "view email");
    wP(b, this.getName(), !0, "View Archive", g);
    vP(b, !0, "cloud-done", "This message is archived.");
    Qy(this.a, "Emails", a.id, d.relationships);
    for (g = 0;g < d.kc.length;g++) {
      d.kc[g] && (c.Lb[g].Qb = d.kc[g]);
    }
    yP(this, a.id, c.wa, c.Lb, 0);
    dj("ui.archive", "email", "OK");
  }, function(a) {
    Dw(e, "Error archiving: " + (a.message || a));
    dj("ui.archive", "email", "fail");
  }, a);
}
function AP(a, b, c) {
  MO(new BO(a.b, a.c, a.a), c).u(function(a) {
    for (var e = !1, f = ["https://mail-attachment.googleusercontent.com/*"], g = 0;g < a.kc.length;g++) {
      a.kc[g] && (e = !0, f.push(c.Lb[g].url));
    }
    a.subject && (c.subject = a.subject);
    if (e) {
      if (this.b.hasFeature("attachment", !0)) {
        return e = {origins:f}, Q().send("request-host-permission", e).u(function(e) {
          return e ? zP(this, b, c, a) : !1;
        }, function(a) {
          window.console.error(a);
        }, this);
      }
    } else {
      return zP(this, b, c, a);
    }
  }, function() {
  }, a);
}
function BP(a, b, c) {
  var d = Hy(a.a, b.m());
  a.a.send("fetch", {module:d.Nj, id:d.id}).i(function(a) {
    a && "1" != a.deleted || (b.Z(null), a = chrome.i18n.getMessage("Re_archive"), wP(c, this.getName(), !0, a, null), vP(c, !0, "ydn-logo", "view archive"));
  }, a);
}
uP.prototype.h = function(a, b) {
  var c = b.target, d = c.m();
  w(d) ? (window.open(d, "_blank"), BP(this, c, a)) : (c = a.g(), c = qD(c), (c = oD(c, FI(this.c))) ? AP(this, a, c) : FE("Archive message", "Cannot read message."));
};
function CP(a, b, c, d) {
  this.b = a;
  this.f = b;
  this.h = d;
  this.c = new eP(this.b, b);
  this.a = null;
  a = new zf(this);
  a.listen(c, "pn", this.l);
  a.listen(c, "nc", this.o);
}
CP.prototype.logger = J("ydn.crm.su.ArchiveApp");
CP.prototype.l = function(a) {
  this.a || L(this.logger, "No Sugar for archive component");
  a = a.target;
  var b = new KO(this.b, this.f, this.a);
  a.H(b, !0);
};
CP.prototype.o = function(a) {
  this.a || L(this.logger, "No Sugar for compose panel");
  var b = new KO(this.b, this.f, this.a);
  a.f.H(b, !0);
};
function DP(a, b) {
  if (!b) {
    if (a.a) {
      a.c.a = null;
      var c = a.h;
      c.b = null;
      c.a = [];
    }
    a.a = null;
  } else {
    if (!a.a || a.a.L() != b.L()) {
      a.a = b;
      a.c.a = a.a;
      var c = BI.X(), d = a.h;
      d.b = new uP(a.b, c, b, a.c);
      d.a = [];
    }
  }
}
;function EP() {
}
A(EP, iJ);
da(EP);
h = EP.prototype;
h.tc = function() {
  return "button";
};
h.Yb = function(a, b, c) {
  switch(b) {
    case 8:
    ;
    case 16:
      uD(a, "pressed", c);
      break;
    default:
    ;
    case 64:
    ;
    case 1:
      EP.j.Yb.call(this, a, b, c);
  }
};
h.Ua = function(a) {
  var b = EP.j.Ua.call(this, a);
  this.ab(b, a.Tb());
  var c = a.Y();
  c && this.gh(b, c);
  qJ(a, 16) && this.Yb(b, 16, a.hb());
  return b;
};
h.Y = ca;
h.gh = ca;
h.Tb = function(a) {
  return a.title;
};
h.ab = function(a, b) {
  a && (b ? a.title = b : a.removeAttribute("title"));
};
h.U = function() {
  return "goog-button";
};
function FP() {
}
A(FP, EP);
da(FP);
h = FP.prototype;
h.tc = function() {
};
h.Ua = function(a) {
  uJ(a, !1);
  a.ie &= -256;
  a.Ka(32, !1);
  return a.a.w("BUTTON", {"class":lJ(this, a).join(" "), disabled:!a.isEnabled(), title:a.Tb() || "", value:a.Y() || ""}, a.Kd() || "");
};
h.sf = function(a) {
  X(a).listen(a.g(), "click", a.zb);
};
h.jh = ca;
h.kh = ca;
h.ih = function(a) {
  return a.isEnabled();
};
h.Pd = ca;
h.re = function(a, b, c) {
  FP.j.re.call(this, a, b, c);
  (a = a.g()) && 1 == b && (a.disabled = c);
};
h.Y = function(a) {
  return a.value;
};
h.gh = function(a, b) {
  a && (a.value = b);
};
h.Yb = ca;
function GP(a, b, c) {
  tJ.call(this, a, b || FP.X(), c);
}
A(GP, tJ);
h = GP.prototype;
h.Y = function() {
  return this.ac;
};
h.mj = function(a) {
  this.ac = a;
  this.c.gh(this.g(), a);
};
h.Tb = function() {
  return this.ka;
};
h.ab = function(a) {
  this.ka = a;
  this.c.ab(this.g(), a);
};
h.nk = function(a) {
  this.ka = a;
};
h.I = function() {
  GP.j.I.call(this);
  delete this.ac;
  delete this.ka;
};
h.A = function() {
  GP.j.A.call(this);
  if (qJ(this, 32)) {
    var a = sJ(this);
    a && X(this).listen(a, "keyup", this.kd);
  }
};
h.kd = function(a) {
  return 13 == a.a && "key" == a.type || 32 == a.a && "keyup" == a.type ? this.zb(a) : 32 == a.a;
};
cJ("goog-button", function() {
  return new GP(null);
});
function HP() {
}
A(HP, EP);
da(HP);
h = HP.prototype;
h.Ua = function(a) {
  var b = lJ(this, a), b = a.a.w("DIV", {"class":"goog-inline-block " + b.join(" ")}, this.Ve(a.va(), a.a));
  this.ab(b, a.Tb());
  return b;
};
h.tc = function() {
  return "button";
};
h.Ca = function(a) {
  return a && a.firstChild && a.firstChild.firstChild;
};
h.Ve = function(a, b) {
  return b.w("DIV", "goog-inline-block " + (this.U() + "-outer-box"), b.w("DIV", "goog-inline-block " + (this.U() + "-inner-box"), a));
};
h.U = function() {
  return "goog-custom-button";
};
function IP() {
}
A(IP, HP);
da(IP);
IP.prototype.Ca = function(a) {
  return IP.j.Ca.call(this, a && a.firstChild);
};
IP.prototype.Ve = function(a, b) {
  return IP.j.Ve.call(this, [b.w("DIV", "goog-inline-block " + (this.U() + "-caption"), a), b.w("DIV", "goog-inline-block " + (this.U() + "-dropdown"), "\u00a0")], b);
};
IP.prototype.U = function() {
  return "goog-menu-button";
};
function JP(a, b, c, d, e) {
  GP.call(this, a, c || IP.X(), d);
  this.Ka(64, !0);
  this.$ = new bJ(null, 5);
  b && this.Yd(b);
  this.na = new Cf(500);
  !Gl && !Hl || Yc("533.17.9") || (this.Gf = !0);
  this.Gi = e || $J.X();
}
A(JP, GP);
h = JP.prototype;
h.Gf = !1;
h.A = function() {
  JP.j.A.call(this);
  KP(this, !0);
  this.b && LP(this, this.b, !0);
  uD(this.K, "haspopup", !!this.b);
};
h.ya = function() {
  JP.j.ya.call(this);
  KP(this, !1);
  if (this.b) {
    this.Da(!1);
    this.b.ya();
    LP(this, this.b, !1);
    var a = this.b.g();
    a && wh(a);
  }
};
h.I = function() {
  JP.j.I.call(this);
  this.b && (this.b.O(), delete this.b);
  delete this.ge;
  this.na.O();
};
h.ld = function(a) {
  JP.j.ld.call(this, a);
  rJ(this, 4) && (this.Da(!rJ(this, 64), a), this.b && (this.b.yb = rJ(this, 64)));
};
h.uc = function(a) {
  JP.j.uc.call(this, a);
  this.b && !rJ(this, 4) && (this.b.yb = !1);
};
h.zb = function() {
  AJ(this, !1);
  return !0;
};
h.Gl = function(a) {
  this.b && this.b.aa() && !this.gc(a.target) && this.Da(!1);
};
h.gc = function(a) {
  return a && yh(this.g(), a) || this.b && this.b.gc(a) || !1;
};
h.kd = function(a) {
  if (32 == a.a) {
    if (a.preventDefault(), "keyup" != a.type) {
      return !0;
    }
  } else {
    if ("key" != a.type) {
      return !1;
    }
  }
  if (this.b && this.b.aa()) {
    var b = 13 == a.a || 32 == a.a, c = this.b.$a(a);
    return 27 == a.a || b ? (this.Da(!1), !0) : c;
  }
  return 40 == a.a || 38 == a.a || 32 == a.a || 13 == a.a ? (this.Da(!0, a), !0) : !1;
};
h.nh = function() {
  this.Da(!1);
};
h.Pl = function() {
  rJ(this, 4) || this.Da(!1);
};
h.uf = function(a) {
  this.Gf || this.Da(!1);
  JP.j.uf.call(this, a);
};
function MP(a) {
  a.b || a.Yd(new bK(a.a, a.Gi));
  return a.b || null;
}
h.Yd = function(a) {
  var b = this.b;
  if (a != b && (b && (this.Da(!1), this.pa() && LP(this, b, !1), delete this.b), this.pa() && uD(this.K, "haspopup", !!a), a)) {
    this.b = a;
    VD(a, this);
    a.hd(!1);
    var c = this.Gf;
    (a.Ne = c) && OJ(a, !0);
    this.pa() && LP(this, a, !0);
  }
  return b;
};
h.vf = function(a) {
  MP(this).H(a, !0);
};
h.Va = function(a, b) {
  var c = JP.j.Va.call(this, a, b);
  c && !this.aa() && this.Da(!1);
  return c;
};
h.setEnabled = function(a) {
  JP.j.setEnabled.call(this, a);
  this.isEnabled() || this.Da(!1);
};
h.Da = function(a, b) {
  JP.j.Da.call(this, a);
  if (this.b && rJ(this, 64) == a) {
    if (a) {
      this.b.pa() || this.b.render(), this.Le = Wh(this.g()), this.Wc = ci(this.g()), NP(this), !b || 40 != b.a && 38 != b.a ? this.b.rb(-1) : KJ(this.b);
    } else {
      AJ(this, !1);
      this.b.yb = !1;
      var c = this.g();
      c && (uD(c, "activedescendant", ""), uD(c, "owns", ""));
      null != this.ea && (this.ea = void 0, (c = this.b.g()) && $h(c, "", ""));
    }
    this.b.hd(a, !1, b);
    if (!this.J) {
      var c = X(this), d = a ? c.listen : c.ca;
      d.call(c, this.a.a, "mousedown", this.Gl, !0);
      this.Gf && d.call(c, this.b, "blur", this.Pl);
      d.call(c, this.na, "tick", this.Bl);
      a ? this.na.start() : this.na.stop();
    }
  }
  this.b && this.b.g() && this.b.K.removeAttribute("aria-hidden");
};
function NP(a) {
  if (a.b.pa()) {
    var b = a.ge || a.g(), c = a.$;
    a.$.b = b;
    b = a.b.g();
    a.b.aa() || (b.style.visibility = "hidden", R(b, !0));
    !a.ea && a.$.l && a.$.f & 32 && (a.ea = ai(b));
    c.a(b, c.c ^ 1, null, a.ea);
    a.b.aa() || (R(b, !1), b.style.visibility = "visible");
  }
}
h.Bl = function() {
  var a = ci(this.g()), b = Wh(this.g()), c;
  c = this.Wc;
  (c = !(c == a || c && a && c.left == a.left && c.width == a.width && c.top == a.top && c.height == a.height)) || (c = this.Le, c = !(c == b || c && b && c.top == b.top && c.right == b.right && c.bottom == b.bottom && c.left == b.left));
  c && (this.Wc = a, this.Le = b, NP(this));
};
function LP(a, b, c) {
  var d = X(a);
  c = c ? d.listen : d.ca;
  c.call(d, b, "action", a.nh);
  c.call(d, b, "close", a.yl);
  c.call(d, b, "highlight", a.zl);
  c.call(d, b, "unhighlight", a.Al);
}
function KP(a, b) {
  var c = X(a);
  (b ? c.listen : c.ca).call(c, a.g(), "keydown", a.Ll);
}
h.zl = function(a) {
  (a = a.target.g()) && OP(this, a);
};
h.Ll = function(a) {
  qJ(this, 32) && sJ(this) && this.b && this.b.aa() && a.stopPropagation();
};
h.Al = function() {
  if (!JJ(this.b)) {
    var a = this.g();
    uD(a, "activedescendant", "");
    uD(a, "owns", "");
  }
};
h.yl = function(a) {
  if (rJ(this, 64) && a.target instanceof XJ) {
    a = a.target;
    var b = a.g();
    a.aa() && rJ(a, 2) && null != b && OP(this, b);
  }
};
function OP(a, b) {
  var c = a.g(), d = vD(b, "activedescendant"), d = fh(b).getElementById(d) || b;
  if (!d.id) {
    var e = QD.X();
    d.id = RD(e);
  }
  wD(c, d);
  uD(c, "owns", d.id);
}
cJ("goog-menu-button", function() {
  return new JP(null);
});
function PP() {
  this.a = [];
}
A(PP, SJ);
da(PP);
PP.prototype.Ua = function(a) {
  var b = PP.j.Ua.call(this, a);
  zD(b, "goog-submenu");
  var c = a.a.w("SPAN");
  c.className = "goog-submenu-arrow";
  QP(a, c);
  this.Ca(b).appendChild(c);
  return b;
};
PP.prototype.jd = function(a, b) {
  var c = this.Ca(a), d = c && c.lastChild;
  PP.j.jd.call(this, a, b);
  d && c.lastChild != d && yD(d, "goog-submenu-arrow") && c.appendChild(d);
};
PP.prototype.sf = function(a) {
  PP.j.sf.call(this, a);
  var b = a.T(), c = ih(a.a.a, "SPAN", "goog-submenu-arrow", b)[0];
  QP(a, c);
  c != b.lastChild && b.appendChild(c);
  a = a.g();
  uD(a, "haspopup", "true");
};
function QP(a, b) {
  ZD(a) ? (zD(b, "goog-submenu-arrow-rtl"), zh(b, "\u25c4")) : (BD(b, "goog-submenu-arrow-rtl"), zh(b, "\u25ba"));
}
;function RP(a, b, c, d) {
  XJ.call(this, a, b, c, d || PP.X());
}
A(RP, XJ);
h = RP.prototype;
h.ve = null;
h.gi = null;
h.Ph = !1;
h.La = null;
h.bf = !1;
h.A = function() {
  RP.j.A.call(this);
  X(this).listen(this.la(), "hide", this.bk);
  this.La && SP(this, this.La, !0);
};
h.ya = function() {
  X(this).ca(this.la(), "hide", this.bk);
  this.La && (SP(this, this.La, !1), this.bf || (this.La.ya(), wh(this.La.g())));
  RP.j.ya.call(this);
};
h.I = function() {
  this.La && !this.bf && this.La.O();
  this.La = null;
  RP.j.I.call(this);
};
h.xb = function(a, b) {
  RP.j.xb.call(this, a);
  b && (TP(this).yb = !0);
  a || (this.ve && q.clearTimeout(this.ve), this.ve = Df(this.ic, 218, this));
};
h.ei = function() {
  var a = this.la();
  a && JJ(a) == this && (UP(this, !0), VP(this));
};
h.ic = function() {
  var a = this.La;
  a && a.la() == this && (UP(this, !1), YD(a, function(a) {
    "function" == typeof a.ic && a.ic();
  }));
};
function WP(a) {
  a.ve && q.clearTimeout(a.ve);
  a.gi && q.clearTimeout(a.gi);
}
h.Va = function(a, b) {
  var c = RP.j.Va.call(this, a, b);
  c && !this.aa() && this.ic();
  return c;
};
function VP(a) {
  YD(a.la(), function(a) {
    a != this && "function" == typeof a.ic && (a.ic(), WP(a));
  }, a);
}
h.$a = function(a) {
  var b = a.a, c = ZD(this) ? 37 : 39, d = ZD(this) ? 39 : 37;
  if (!this.Ph) {
    if (!this.isEnabled() || b != c && b != this.Th) {
      return !1;
    }
    this.ei();
    KJ(TP(this));
    WP(this);
  } else {
    if (!TP(this).$a(a)) {
      if (b == d) {
        this.ic();
      } else {
        return !1;
      }
    }
  }
  a.preventDefault();
  return !0;
};
h.tm = function() {
  if (this.La.la() == this) {
    WP(this);
    var a = this.Md();
    a.rb($D(a, this));
    VP(this);
  }
};
h.bk = function(a) {
  a.target == this.Md() && (this.ic(), WP(this));
};
h.Qd = function(a) {
  this.isEnabled() && (WP(this), this.gi = Df(this.ei, 218, this));
  RP.j.Qd.call(this, a);
};
h.zb = function(a) {
  WP(this);
  if (qJ(this, 8) || qJ(this, 16)) {
    return RP.j.zb.call(this, a);
  }
  this.ei();
  return !0;
};
function UP(a, b) {
  !b && TP(a) && TP(a).rb(-1);
  I(a, TD(64, b));
  var c = TP(a);
  if (b != a.Ph) {
    var d = a.g();
    b ? zD(d, "goog-submenu-open") : BD(d, "goog-submenu-open");
  }
  if (b != c.aa() && (b && (c.pa() || c.render(), c.rb(-1)), c.hd(b), b)) {
    var c = new $I(a.g(), 6, !1), d = TP(a), e = d.g();
    d.aa() || (e.style.visibility = "hidden", R(e, !0));
    c.a(e, 4);
    d.aa() || (R(e, !1), e.style.visibility = "visible");
  }
  a.Ph = b;
}
function SP(a, b, c) {
  var d = X(a);
  (c ? d.listen : d.ca).call(d, b, "enter", a.tm);
}
function XP(a, b) {
  TP(a).H(b, !0);
}
h.cd = function() {
  return TP(this).cd();
};
function TP(a) {
  a.La ? a.bf && a.La.la() != a && VD(a.La, a) : a.Yd(new bK(a.a), !0);
  a.La.g() || a.La.B();
  return a.La;
}
h.Yd = function(a, b) {
  var c = this.La;
  a != c && (c && (this.ic(), this.pa() && SP(this, c, !1)), this.La = a, this.bf = !b, a && (VD(a, this), a.hd(!1, !0), a.Ne = !1, OJ(a, !1), this.pa() && SP(this, a, !0)));
};
h.gc = function(a) {
  return TP(this).gc(a);
};
cJ("goog-submenu", function() {
  return new RP(null);
});
function YP(a, b, c) {
  GP.call(this, a, b || HP.X(), c);
  this.Ka(16, !0);
}
A(YP, GP);
cJ("goog-toggle-button", function() {
  return new YP(null);
});
function ZP(a, b, c, d, e, f) {
  By.call(this, a, b, d, e, f);
}
A(ZP, By);
ZP.prototype.Sb = function() {
  return null;
};
ZP.prototype.si = function(a) {
  return ZP.j.si.call(this, a).i(function() {
    I(this, new wy(0, 0, this));
  }, this);
};
function $P(a) {
  Gc.call(this);
  this.b = a || null;
  this.a = [];
  aQ(this);
}
A($P, Gc);
$P.prototype.logger = J("ydn.crm.gmail.Template");
function aQ(a) {
  Sy("sync", "tp-rc").i(function(a) {
    this.a = u(a) ? a : [];
  }, a);
}
function bQ(a, b) {
  ob(a.a, b);
  a.a.unshift(b);
  5 < a.a.length && a.a.splice(5);
  Ty("sync", "tp-rc", a.a);
}
function cQ(a, b, c, d) {
  var e = a.b;
  c ? dQ(a, c.id, d).u(function(a) {
    b.Xf(c.subject || c.name);
    b.ci(a);
    dj("ui.template", "use", "OK");
  }, function(a) {
    window.console.error(a.stack || a);
    dj("ui.template", "fail", "Fail");
  }, a) : window.open(Gy(e), e.L() + "-template");
}
$P.prototype.L = function() {
  return this.b.L();
};
function eQ(a) {
  var b = Cw("Refreshing templates from server", "...");
  return Tx(a.b).send("fetch-module", {module:"EmailTemplates", force:!0}).u(function(a) {
    Dw(b, a + " templates updated from server.");
  }, function(a) {
    Ew(b, "failed: " + a);
  }, a);
}
function fQ(a) {
  return 0 <= a.indexOf("$contact_name") || 0 <= a.indexOf("$contact_account_name");
}
function gQ(a, b, c) {
  Tx(a.b).send("query", [{store:"EmailTemplates", prefix:!1, limit:200}]).u(function(a) {
    a = a[0];
    for (var e = [], f = 0;f < a.result.length;f++) {
      var g = a.result[f], g = {id:g.id, name:g.name, subject:g.subject, type:g.type || "", Fq:fQ(g.body_html)};
      e.push(g);
    }
    for (f = this.a.length - 1;0 <= f;f--) {
      var k = this.a[f];
      -1 == lb(e, function(a) {
        return k == a.id;
      }) && pb(this.a, f);
    }
    b.call(c, e);
  }, function(a) {
    throw a;
  }, a);
}
function hQ(a, b, c) {
  var d = a.b, e = d.b;
  Ex(d);
  return c && !Qx(c) && /account_/i.test(b) ? ly(c).G(function(a) {
    var g = null;
    if (u(a)) {
      for (var k = 0;k < a.length;k++) {
        var l = a[k];
        "Accounts" == l._module && (g = new tr(d.L(), "Accounts", l));
      }
    }
    return iQ(b, d, e, c, g);
  }, a) : iQ(b, d, e, c, null);
}
function iQ(a, b, c, d, e) {
  if (!0 === Ex(b) === !1) {
    var f = document;
    a = -1 != a.indexOf("&") ? La(a, f) : a;
  }
  if (c) {
    var f = Wx(b, "Users"), g;
    for (g in f.module_fields) {
      f = c.value(g), w(f) && (a = a.replace(new RegExp("{::future::Users::" + g + "::}", "g"), f), a = a.replace(new RegExp("\\$user_" + g, "g"), f), a = a.replace(new RegExp("\\$contact_user_" + g, "g"), f));
    }
  }
  if (d && zr(d.a)) {
    for (g in c = Wx(b, "Contacts"), c.module_fields) {
      f = d.value(g), w(f) && (a = a.replace(new RegExp("{::future::Contacts::" + g + "::}", "g"), f), a = a.replace(new RegExp("\\$contact_" + g, "g"), f));
    }
  }
  if (e && zr(e)) {
    for (g in b = Wx(b, "Accounts"), b.module_fields) {
      f = e.value(g), w(f) && (a = a.replace(new RegExp("{::future::Accounts::" + g + "::}", "g"), f), a = a.replace(new RegExp("\\$account_" + g, "g"), f), a = a.replace(new RegExp("\\$contact_account_" + g, "g"), f));
    }
  }
  return a;
}
function dQ(a, b, c) {
  var d = a.b;
  if (w(c)) {
    return Ly(d, c, lr).i(function(a) {
      a = a[0];
      var e = null;
      a && (e = new tr(d.L(), a._module, a));
      return e ? (a = new Nx(d, e), dQ(this, b, a)) : vf().c().send("gdata-list-contact", {email:c}).i(function(a) {
        if (a && a[0]) {
          var c = {};
          xw(a[0], c);
          a = new Nx(d, new tr(d.L(), "Contacts", c));
          return dQ(this, b, a);
        }
        return dQ(this, b, null);
      }, this);
    }, a);
  }
  Cw("Filling template without recipient contact information.");
  if (!w(b) || 16 > b.length) {
    throw Error("valid template id required, but " + b + " found.");
  }
  var e = {module:"EmailTemplates", id:b};
  bQ(a, b);
  return d.send("query-entry", e).i(function(a) {
    a = a.body_html;
    if (w(a)) {
      return hQ(this, a, c);
    }
    throw Error("Template record: " + b + " does not have body_html");
  }, a);
}
;function jQ() {
}
A(jQ, EP);
da(jQ);
jQ.prototype.Ca = function(a) {
  return a;
};
jQ.prototype.Ua = function(a) {
  var b = lJ(this, a);
  return a.a.w("DIV", {"class":"goog-inline-block " + b.join(" "), title:a.Tb() || ""}, a.va());
};
jQ.prototype.U = function() {
  return "goog-css3-button";
};
cJ("goog-css3-button", function() {
  return new GP(null, jQ.X());
});
cJ("goog-css3-toggle-button", function() {
  var a = new GP(null, jQ.X());
  a.Ka(16, !0);
  return a;
});
function kQ(a) {
  V.call(this);
  this.Z(a);
}
A(kQ, V);
kQ.prototype.m = function() {
  return kQ.j.m.call(this);
};
kQ.prototype.B = function() {
  kQ.j.B.call(this);
  var a = this.a, b = new bK(a), a = new JP("Template", b, jQ.X(), a);
  a.ab("Insert SugarCRM template");
  this.H(a, !0);
  lQ(this);
};
function lQ(a) {
  gQ(a.m(), function(a) {
    mQ(this, a);
  }, a);
}
kQ.prototype.A = function() {
  kQ.j.A.call(this);
  X(this).listen(this, "action", this.b);
};
kQ.prototype.b = function(a) {
  if (a.target instanceof XJ) {
    var b = this.la();
    a = a.target.m();
    var c = this.m();
    a ? w(a) ? eQ(c).i(function() {
      aE(MP(Z(this, 0)));
      lQ(this);
    }, this) : (c = b.zd()[0], cQ(this.m(), b, a, c)) : window.open(Gy(c.b), c.L() + "-template");
  }
};
function mQ(a, b) {
  var c = MP(Z(a, 0)), d = a.m(), e = d.a.length;
  if (0 < e) {
    for (var f = new RP("Recents", null, c.a), e = e - 1;0 <= e;e--) {
      var g = d.a[e], k = kb(b, function(a) {
        return a.id == g;
      });
      k && (k = new XJ(k.name, k), XP(f, k));
    }
    c.H(f, !0);
    c.H(new aK, !0);
  }
  d = [];
  for (e = 0;e < b.length;e++) {
    -1 == d.indexOf(b[e].type) && d.push(b[e].type);
  }
  for (e = 0;e < d.length;e++) {
    if (d[e]) {
      for (var f = new RP(d[e], null, c.a), l = 0;l < b.length;l++) {
        b[l].type == d[e] && (k = new XJ(b[l].name, b[l]), XP(f, k));
      }
      c.H(f, !0);
    }
  }
  for (l = 0;l < b.length;l++) {
    b[l].type || (k = new XJ(b[l].name, b[l]), c.H(k, !0));
  }
  c.H(new aK, !0);
  c.H(new XJ("New template...", null), !0);
  c.H(new XJ("Refresh...", "refresh"), !0);
}
;function nQ(a) {
  V.call(this);
  this.Z(a);
}
A(nQ, V);
h = nQ.prototype;
h.logger = J("ydn.crm.su.RecipientProvider");
h.m = function() {
  return nQ.j.m.call(this);
};
h.B = function() {
  nQ.j.B.call(this);
  var a = this.a.w("div", "contact-search-base");
  this.g().appendChild(a);
  var b = this.m();
  CN && CN.f.L() == b.L() || (CN = new AN(b, !0));
  var b = CN, c = this.Wm;
  BN(b);
  b.b = c;
  b.c = this;
  a.appendChild(b.a);
};
h.A = function() {
  nQ.j.A.call(this);
};
function oQ(a, b) {
  var c = a.la().qf(), d = null == c ? null : c.querySelector("textarea");
  d && (d.innerText = b, setTimeout(function() {
    d.focus();
    dj("ui", "recipient", "use");
  }, 4));
}
function pQ(a, b, c) {
  var d = a.la();
  d.Xf(c);
  a.m().send("get", {module:"Cases", id:b}).u(function(a) {
    a && (d.Xf("[CS:" + a.case_number + "] " + a.name), za(a.description || "") || d.ci(a.description), a.account_id && this.m().send("get", {module:"Accounts", id:a.account_id}).u(function(a) {
      a && (a = Jr(a)) && oQ(this, a);
    }, function(a) {
      window.console.log(a);
    }, this));
  }, function(a) {
    window.console.log(a);
  }, a);
}
h.Wm = function(a) {
  if (a.value) {
    var b = a.getAttribute("data-module"), c = a.getAttribute("data-id");
    "Cases" == b ? pQ(this, c, a.value) : oQ(this, a.value);
    a.value = "";
  } else {
    K(this.logger, "To Element no provided");
  }
};
function qQ(a, b) {
  this.c = a;
  this.a = null;
  this.b = new $P;
  var c = new zf(this);
  c.listen(b, "pn", this.h);
  c.listen(b, "nc", this.f);
}
qQ.prototype.h = function(a) {
  if (this.a && (a = a.target, this.c.hasFeature("template"))) {
    var b = new kQ(this.b);
    a.H(b, !0);
  }
};
qQ.prototype.f = function(a) {
  if (this.a) {
    a = a.f;
    if (this.c.hasFeature("template")) {
      var b = new kQ(this.b);
      a.H(b, !0);
    }
    b = new nQ(this.a);
    a.bc(b, 0, !0);
  }
};
function rQ(a, b) {
  a.b.b = b;
  b ? a.a && a.a.L() == b.L() || (a.a = b) : a.a = null;
}
;function sQ(a, b) {
  V.call(this);
  this.b = b;
  this.c = new KI(b);
}
A(sQ, V);
h = sQ.prototype;
h.refresh = function() {
  this.b.send("activity-upcoming").i(function(a) {
    this.jk(a);
    this.b.send("activity-upcoming", {use_server:!0}).i(this.jk, this);
  }, this);
};
h.I = function() {
  sQ.j.I.call(this);
  this.b = null;
  delete this.c;
};
h.B = function() {
  sQ.j.B.call(this);
  var a = this.g();
  a.classList.add("daily-sugar-panel");
  a.innerHTML = '<div class="today"></div>\n<div class="upcoming">\n  <h3>Upcoming Activities</h3>\n  <div class="ydn-content">\n    \n  </div>\n</div>\n  <div class="history"></div>';
  this.refresh();
};
h.A = function() {
  sQ.j.A.call(this);
  var a = this.g().querySelector(".upcoming .ydn-content");
  X(this).listen(a, "click", this.gp);
};
h.gp = function(a) {
  var b = Jh(a.target, "record-item");
  if (b && b.parentElement) {
    var b = b.parentElement, c = b.getAttribute("data-id");
    c && (a.preventDefault(), a = {id:c, module_name:b.getAttribute("data-module")}, I(this, new rI("RecordPage", a, this)));
  }
};
h.jk = function(a) {
  if (a) {
    var b = this.g().querySelector(".upcoming .ydn-content");
    if (0 == a.length) {
      b.textContent = "No upcoming activity";
    } else {
      b.innerHTML = "";
      for (var c = 0;c < a.length;c++) {
        var d = document.createElement("DIV");
        this.c.render(d, a[c]);
        b.appendChild(d);
      }
    }
  }
};
function tQ(a, b) {
  V.call(this, b);
  this.b = a;
}
A(tQ, V);
h = tQ.prototype;
h.logger = J("ydn.crm.su.ui.DesktopHome");
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.B = function() {
  tQ.j.B.call(this);
  var a = this.g(), b = this.a;
  a.classList.add("sugarcrm-desktop");
  a.classList.add("sugar-panel");
  var c = b.w("div", "ydn-head");
  c.innerHTML = '<a href="' + Tw() + '">Setup</a> SugarCRM instance';
  b = b.w("div", "ydn-content");
  a.appendChild(c);
  a.appendChild(b);
};
h.A = function() {
  tQ.j.A.call(this);
  X(this).listen(this.la(), "page-shown", this.Sn);
  X(this).listen(this.b, ["login", "logout"], this.hp);
  LE(this.b) && JE(this.b) && this.refresh();
};
h.hp = function() {
  JE(this.b) && this.refresh();
};
h.Sn = function() {
  this.refresh();
};
h.toString = function() {
  return "SugarCRM home";
};
function uQ(a, b) {
  var c = Z(a, 0) || null, d = a.g().querySelector(".ydn-head"), e = a.T();
  if (b) {
    a: {
      if (R(d, !1), R(e, !0), c = new sQ(0, b), a.H(c, !0), b) {
        d = b.L();
        for (c = 0;c < document.styleSheets.length;c++) {
          if ((e = document.styleSheets[c].ownerNode) && e.getAttribute("name") == d) {
            break a;
          }
        }
        c = document.createElement("style");
        c.setAttribute("name", d);
        document.head.appendChild(c);
        d = c.sheet;
        e = Object.keys(b.a);
        for (c = 0;c < e.length;c++) {
          var f = e[c];
          -1 == hr.indexOf(f) && d.insertRule("." + f + " > * > .icon, ." + f + " > .icon, ." + f + " > .bg-color{background-color: grey;}", d.cssRules.length);
        }
      }
    }
  } else {
    c && (a.removeChild(c, !0), c.O()), R(d, !0), R(e, !1), eI(a.g());
  }
}
h.refresh = function() {
  var a = Z(this, 1);
  a && a.refresh();
};
function vQ(a, b, c) {
  XJ.call(this, a, b, c);
  this.Ka(16, !0);
}
A(vQ, XJ);
cJ("goog-checkbox-menuitem", function() {
  return new vQ(null);
});
function wQ() {
}
A(wQ, IP);
da(wQ);
wQ.prototype.Ca = function(a) {
  return a ? ih(document, "*", this.U() + "-caption", a)[0] : null;
};
wQ.prototype.Ve = function(a, b) {
  var c = this.U();
  return b.w("DIV", "goog-inline-block ", b.w("DIV", [c + "-caption", "goog-inline-block"], a), b.w("DIV", [c + "-dropdown", "goog-inline-block"]));
};
wQ.prototype.U = function() {
  return "goog-css3-button";
};
cJ("goog-css3-menu-button", function() {
  return new JP(null, null, wQ.X());
});
function xQ(a, b, c) {
  GP.call(this, a, b || HP.X(), c);
}
A(xQ, GP);
cJ("goog-custom-button", function() {
  return new xQ(null);
});
function yQ() {
  this.a = "toolbar";
}
A(yQ, eJ);
da(yQ);
yQ.prototype.U = function() {
  return "goog-toolbar";
};
yQ.prototype.h = function() {
  return gJ;
};
function zQ(a, b, c) {
  FJ.call(this, b, a || yQ.X(), c);
}
A(zQ, FJ);
zQ.prototype.qe = function(a) {
  zQ.j.qe.call(this, a);
  this.yb || KJ(this);
};
function AQ() {
}
A(AQ, iJ);
da(AQ);
h = AQ.prototype;
h.tc = function() {
};
h.Ua = function(a) {
  var b = a.a, c = b.w("div", "goog-inline-block " + lJ(this, a).join(" "));
  a = b.w("input", {type:"text", value:a.va() || "", disabled:!a.isEnabled()});
  var d = b.w("div", this.U() + "-inner-box"), e = b.w("div", this.U() + "-clear", "\u00d7"), b = b.w("div", this.U() + "-outer-box", [d, e]);
  c.appendChild(b);
  d.appendChild(a);
  return c;
};
h.Ca = function(a) {
  if (a) {
    a: {
      a = a.getElementsByTagName("input");
      for (var b = 0;b < a.length;++b) {
        var c = a[b];
        if (!c.type || "TEXT" == c.type.toUpperCase()) {
          a = c;
          break a;
        }
      }
      a = null;
    }
  } else {
    a = null;
  }
  return a;
};
h.oj = function(a) {
  return this.Ca(a.g());
};
h.kh = ca;
h.ih = function(a) {
  return a.isEnabled();
};
h.Pd = ca;
h.re = function(a, b, c) {
  AQ.j.re.call(this, a, b, c);
  1 == b && (a = this.Ca(a.g())) && (a.disabled = c);
};
h.Yb = ca;
h.jd = function(a, b) {
  var c = this.Ca(a);
  c && (c.value = b);
};
h.va = function(a) {
  return (a = this.Ca(a)) ? a.value : null;
};
h.U = function() {
  return "wgui-textinput";
};
function BQ(a, b, c, d) {
  tJ.call(this, a, b || AQ.X(), c);
  this.b = !d;
  uJ(this, !1);
  this.Bg = !0;
  (b = this.g()) && this.c.jh(b, !0);
  this.ie &= -256;
  this.Ka(32, !1);
  a || (this.se = "");
}
A(BQ, tJ);
h = BQ.prototype;
h.A = function() {
  BQ.j.A.call(this);
  var a = sJ(this);
  if (a) {
    var b = this.s || (this.s = new tH);
    uH(b, a);
    X(this).listen(b, "key", this.$a);
  }
  a = this.b;
  b = hh(this.c.U() + "-clear", this.g());
  this.b = !!a;
  b && (this.b ? (X(this).listen(b, "click", this.vj), R(b, !0)) : (X(this).ca(b, "click", this.vj), R(b, !1)));
};
h.vj = function(a) {
  a.preventDefault();
  yJ(this, "");
  I(this, new G("action", this));
};
h.va = function() {
  return this.g() ? this.c.va(this.g()) : null;
};
h.Y = function() {
  return this.va();
};
h.Kd = function() {
  return this.va() || "";
};
function CQ(a, b, c) {
  G.call(this, "page-ready-state-event", c);
  this.name = a;
  this.f = b;
}
A(CQ, G);
function DQ(a) {
  H.call(this);
  this.f = a;
  this.a = "";
  this.b = this.h = null;
  this.c = [];
  this.l = !1;
}
A(DQ, H);
function EQ(a, b) {
  if (b != a.h) {
    a.h = b;
    var c = a.a;
    a.a = "";
    a.search(c);
  }
}
DQ.prototype.search = function(a) {
  a = a.trim();
  a != this.a && (this.a = a, this.c = [], I(this, new yy(this.a, this)), this.b = new FQ(this.h), GQ(this), HQ(this));
};
function IQ(a, b, c, d) {
  d == a.a && ("full-text" == c ? (b._score = b._score || 0, b._score = 1 < b._score ? 1 : b._score) : b._score = "id" == c ? 1 : b._score || .5, c = vb(a.c, b, function(a, b) {
    return a.id == b.id ? 0 : a._score > b._score ? -1 : 1;
  }), 0 > c ? (c = -(c + 1), tb(a.c, c, 0, b)) : a.c[c]._score += b._score, I(a, new Ay(c, a)));
}
function JQ(a, b, c, d) {
  Jy(a.f, b, c, d).u(function(a) {
    for (var f = 0;f < a.length;f++) {
      var g = a[f];
      g._module = b;
      IQ(this, g, c, d);
    }
    HQ(this);
  }, function(a) {
    HQ(this);
    throw a;
  }, a);
}
function GQ(a) {
  var b = a.a, c = {q:b};
  a.h && (c.modules = [a.h]);
  a.l = !1;
  Tx(a.f).send("se-bms", c).u(function(a) {
    for (var c = 0;c < a.length;c++) {
      var f = a[c];
      f._score = 0 == c ? 1 : .5;
      IQ(this, f, "server", b);
    }
    this.l = !0;
    KQ(this);
  }, function(a) {
    this.l = !0;
    KQ(this);
    window.console.error(a);
  }, a);
}
function KQ(a) {
  if (!a.b && a.l) {
    I(a, new zy(1, a));
  } else {
    var b;
    b = a.b;
    var c = LQ.length;
    b.c || (c = LQ.length * ir.length);
    b = Math.min(Math.max((b.a + b.b * LQ.length) / c, 0), 1);
    a.l || (b -= .2);
    I(a, new zy(b, a));
  }
}
function HQ(a) {
  if (a.b) {
    if (KQ(a), a.b.next()) {
      var b = LQ[a.b.a], c = a.a, d = MQ(a.b);
      b == NQ ? JQ(a, d, "id", a.a) : b == OQ ? JQ(a, d, "ydn$emails", a.a) : b == PQ ? (b = c.match(/\d/g), 3 > (b ? b.length : 0) ? HQ(a) : JQ(a, d, "ydn$phones", a.a)) : b == QQ ? Ky(a.f, d, c).u(function(a) {
        for (var b = 0;b < a.length;b++) {
          IQ(this, a[b], "full-text", c);
        }
        HQ(this);
      }, function(a) {
        window.console.error(a);
      }, a) : HQ(a);
    } else {
      a.b = null;
    }
  }
}
function FQ(a) {
  this.c = a;
  this.b = 0;
  this.a = -1;
}
var NQ = 0, OQ = 1, PQ = 2, QQ = 3, LQ = [NQ, OQ, PQ, QQ];
FQ.prototype.next = function() {
  this.a++;
  if (this.a >= LQ.length) {
    if (this.c) {
      return !1;
    }
    this.a = 0;
    this.b++;
    return this.b >= ir.length ? !1 : !0;
  }
  return !0;
};
function MQ(a) {
  return a.c ? a.c : ir[a.b];
}
;function RQ(a, b) {
  this.b = null;
  this.a = b || "Contacts";
  this.h = "order-date_modified";
  this.f = "filter-all";
  this.o = this.l = -1;
  this.c = D("Not ready.");
  a && this.b != a && (this.b = a, SQ(this));
}
function TQ(a, b) {
  if (a.f == b) {
    return !1;
  }
  a.f = b;
  SQ(a);
  return !0;
}
function SQ(a) {
  a.c = null;
  a.l = -1;
  a.o = -1;
}
function UQ(a) {
  return Bl([Tx(a.b).send("count", {module:a.a, source:"client"}).i(function(a) {
    this.o = a;
  }, a), Tx(a.b).send("count", {module:a.a, source:"server"}).i(function(a) {
    this.l = a;
  }, a)]);
}
RQ.prototype.le = function() {
  return this.o;
};
function VQ(a, b) {
  if (b) {
    var c = new gf;
    c.callback(null);
    return c;
  }
  c = {module:a.a};
  return Tx(a.b).send("get-favorite-async", c);
}
function WQ(a, b, c) {
  if ("filter-upcoming" == a.f) {
    return Oy(a.b, a.a);
  }
  var d = "id", e = !1, f = null;
  "order-date_modified" == a.h ? (d = "date_modified", e = !0) : "order-name" == a.h && (d = "name");
  "filter-my" == a.f && (d = "assigned_user_id, name", e = !1, f = qj([My(a.b)]));
  b = {store:a.a, index:d, limit:b, reverse:e, keyRange:f, offset:c};
  rv(a.a).i(function(a) {
    "full" != a && "partial" != a || Tx(this.b).send("update-now", {module:this.a});
  }, a);
  return Tx(a.b).send("query", [b]).i(function(a) {
    return a[0].result || [];
  }, a);
}
RQ.prototype.list = function(a, b) {
  if ("filter-fav" == this.f) {
    var c = [];
    b = b || 0;
    var d = VQ(this, b);
    d.c(function(a) {
      for (var d = 0;d < a.length;d++) {
        a[d].ydn$offset = 1 + d + b, c.push(a[d]);
      }
    });
    return d.i(function() {
      return c;
    });
  }
  return WQ(this, a, b).i(function(c) {
    if (0 == c.length && "filter-all" == this.f) {
      return c = {module:this.a}, Tx(this.b).send("update-now", c).i(function() {
        return WQ(this, a, b);
      }, this);
    }
  }, this);
};
RQ.prototype.init = function() {
  if (this.c && this.c.f) {
    return !0;
  }
  this.c || (this.c = UQ(this));
  return !1;
};
function XQ(a) {
  if (a.c) {
    return Bc(a.c);
  }
  a.c || (a.c = UQ(a));
  return a.c;
}
;function YQ(a) {
  this.c = a;
  a = "Cache update option dialog for " + a + " module";
  var b = document.createElement("div");
  b.classList.add("update-option");
  b.innerHTML = '\n  <div>\n    <p>Cache strategy</p>\n    <div class="update-strategy">\n      <label title="All non-deleted records will be proactively\n          cached in browser.">\n        <input type="radio" name="strategy" value="full"/> Full\n      </label>\n      <label title="Cache as necessary."><input type="radio"\n                 name="strategy"\n      value="partial"/> Adaptive</label>\n      <label title="Records already downloaded are cached."><input type="radio" name="strategy" value="opportunistic"/> Opportunistic</label>\n      <label title="No cache."><input type="radio" name="strategy"\n        value="none"/>No cache\n      </label>\n    </div>\n  </div>\n  <details class="audit">\n    <summary>More info</summary>\n    <div class="info">Getting info...</div>\n  </details>\n\n  <div>\n    <button name="clear" title="Removed downloaded records from cache">Clear cache</button>\n    <button name="reset" title="Clear sync checkpoint">Reset checkpoint</button>\n    <button name="update" title="Update records from server to cache">Update now</button>\n  </div>';
  this.b = b;
  iK.call(this, a, this.b, kK());
  ZQ(this);
  this.M.listen(this.b, "click", this.l);
  this.M.listen(this.b, "change", this.f);
  this.M.listen(jK(this).querySelector("details.audit"), "click", this.h);
}
A(YQ, iK);
YQ.prototype.l = function(a) {
  var b = a.target;
  if ("BUTTON" == b.tagName) {
    b.setAttribute("disabled", "disabled");
    var c = this;
    a = uf();
    var d = b.getAttribute("name"), e = {module:this.c};
    if ("clear" == d) {
      a.send("update-clear", e).G(function() {
        b.removeAttribute("disabled");
        ZQ(c);
      }, this);
    } else {
      if ("reset" == d) {
        a.send("update-reset", e).G(function() {
          b.removeAttribute("disabled");
          ZQ(c);
        }, this);
      } else {
        if ("update" == d) {
          a.send("update-now", e).G(function() {
            b.removeAttribute("disabled");
            ZQ(c);
          }, this);
        } else {
          throw b.removeAttribute("disabled"), Error(d);
        }
      }
    }
  }
};
YQ.prototype.h = function(a) {
  a.currentTarget.hasAttribute("open") || $Q(this);
};
YQ.prototype.f = function(a) {
  var b = a.target.getAttribute("name");
  "strategy" == b && sv(this.c, a.target.value).i(function(a) {
    a && Cw(this.c + " set to " + b + " cache strategy.");
  }, this);
};
function $Q(a) {
  var b = a.b.querySelector(".info");
  uf().send("update-audio", {module:a.c}).u(function(a) {
    b.innerHTML = a;
  }, function(a) {
    b.textContent = x(a) ? a.message : a;
  }, a);
}
function ZQ(a) {
  rv(a.c).i(function(a) {
    var c = this.b.querySelector("input[value=full]"), d = this.b.querySelector("input[value=partial]"), e = this.b.querySelector("input[value=opportunistic]"), f = this.b.querySelector("input[value=none]");
    "full" == a ? c.setAttribute("checked", "checked") : "partial" == a ? d.setAttribute("checked", "checked") : "opportunistic" == a ? e.setAttribute("checked", "checked") : f.setAttribute("checked", "checked");
  }, a);
}
YQ.prototype.O = function() {
  this.b = null;
  YQ.j.O.call(this);
};
function aR(a) {
  var b = new YQ(a), c = new B;
  b.a.onclose = function() {
    c.callback(b.a.returnValue);
    b.O();
  };
  b.a.showModal();
}
;function bR(a, b) {
  V.call(this, b);
  this.Z(a);
  this.b = null;
}
A(bR, V);
h = bR.prototype;
h.logger = J("ydn.crm.su.ui.RecordList");
h.U = function() {
  return "module-record-list";
};
h.B = function() {
  bR.j.B.call(this);
  var a = this.g();
  a.classList.add(this.U());
  var b = this.a, c = b.w("ul");
  a.appendChild(c);
  b = b.w("div", "ydn-footer");
  a.appendChild(b);
};
h.A = function() {
  bR.j.A.call(this);
  var a = X(this), b = cR(this), c = this.g().querySelector(".ydn-footer");
  a.listen(b, "wheel", this.kn);
  a.listen(b, "click", this.lp);
  a.listen(c, "click", this.Lm);
  a.listen(vf(), "sugarcrm-ca-ft", this.sm);
};
h.I = function() {
  bR.j.I.call(this);
};
h.sm = function(a) {
  if ("sugarcrm-ca-ft" == a.type && (a = a.getData(), a.module == this.m().a)) {
    if ("start" == a.state) {
      if (a = this.g().querySelector(".ydn-footer [name=count]")) {
        a.textContent += "..";
      } else {
        if (a = this.g().querySelector(".ydn-footer [name=total]")) {
          a.textContent += "..";
        }
      }
    } else {
      dR(this, a.count);
    }
  }
};
h.Lm = function(a) {
  "A" == a.target.tagName && a.target.classList.contains("module-option") && (a.preventDefault(), a = this.m().a, aR(a), dj("ui.cache-update", "option.click.module-option", a, 0));
};
h.lp = function(a) {
  a.target instanceof Element && (a.target.classList.contains("title") || a.target.classList.contains("summary")) || !(a = Hh(a.target, "LI")) || (a = {id:a.getAttribute("data-id"), module_name:a.getAttribute("data-module"), edit_mode:!1}, I(this, new rI("RecordPage", a, this)));
};
h.kn = function(a) {
  var b = a.c, c = a.b;
  0 < b.deltaY ? (c.scrollTop += b.deltaY, b = c.scrollHeight - (c.offsetHeight + c.scrollTop), 0 >= b ? eR(this) : (a.stopPropagation(), a.preventDefault(), 5 > b / fR && eR(this, c))) : 0 > b.deltaY && (c.scrollTop += b.deltaY, 0 < c.scrollTop && (a.stopPropagation(), a.preventDefault()));
};
var fR = 34;
function eR(a, b) {
  if (!a.b) {
    var c = 0, d = b || cR(a);
    d.lastElementChild && (c = parseInt(d.lastElementChild.getAttribute("data-offset"), 10));
    a.b = a.m().list(15, c);
    a.b.u(function(a) {
      if (a) {
        for (var b = 0;b < a.length;b++) {
          a[b].ydn$offset = 1 + b + c;
        }
        if (0 != a.length) {
          var b = cR(this), d;
          d = b || cR(this);
          if (!d.style.height) {
            var k = Qw(2);
            k && (d.style.height = k);
          }
          b.lastElementChild && b.lastElementChild.getAttribute("data-offset") != a[0].ydn$offset - 1 && (b.innerHTML = "");
          for (d = 0;d < a.length;d++) {
            var k = a[d], l = document.createElement("LI"), m = k._module || this.m().a, n = qr(m);
            l.innerHTML = vv(m, n);
            l.querySelector(".ydn-title").textContent = Er(k);
            l.querySelector(".summary").textContent = Fr(k);
            l.setAttribute("data-id", k.id);
            l.setAttribute("data-module", m);
            l.setAttribute("data-offset", k.ydn$offset);
            b.appendChild(l);
          }
        }
      }
      this.b = null;
    }, function(a) {
      window.console.error(a);
      this.b = null;
    }, a);
  }
}
function gR(a) {
  var b = a.m();
  cR(a).innerHTML = "";
  a.g().querySelector(".ydn-footer").innerHTML = "";
  XQ(b).u(function() {
    hR(this);
    iR(this);
  }, function(a) {
    window.console.error(a);
  }, a);
}
function hR(a) {
  var b = a.m();
  a = a.g().querySelector(".ydn-footer");
  var c = b.a, d = b.le(), b = b.l;
  a.innerHTML = '<span>[<a href="#module-option" class="module-option"\n    title="' + c + ' module option"\n    >Option</a>]</span> ' + (0 <= d && d < b ? '<span name="count">' + d + '</span> of  <span name="total">' + b + "</span>  " + c + " cached." : '<span name="total">' + b + "</span> " + c);
}
function dR(a, b) {
  var c = a.m();
  if (b) {
    var d = a.g().querySelector(".ydn-footer [name=count]");
    if (d) {
      d.textContent = c.le() + "+" + b;
    } else {
      if (d = a.g().querySelector(".ydn-footer [name=total]")) {
        d.textContent = c.l + "+" + b;
      }
    }
    UQ(c).i(function() {
      hR(this);
    }, a);
  } else {
    hR(a);
  }
}
function iR(a) {
  cR(a).innerHTML = "";
  eR(a);
}
function cR(a) {
  return a.T().querySelector("ul");
}
function jR(a, b, c) {
  c && TQ(a.m(), c);
  c = a.m();
  c.a != b && (c.a = b, SQ(c));
  gR(a);
}
;function kR(a, b) {
  bR.call(this, a, b);
  this.c = null;
}
A(kR, bR);
kR.prototype.B = function() {
  kR.j.B.call(this);
  var a = this.a, b = cR(this);
  this.c = new LI(this.m().b, b, a);
};
kR.prototype.I = function() {
  kR.j.I.call(this);
  this.c.O();
  this.c = null;
};
function lR(a) {
  V.call(this, a);
  this.b = new zQ(null, gJ, a);
  this.s = new bK(a);
  this.F = new bK(a);
  this.c = null;
}
A(lR, V);
h = lR.prototype;
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
function mR(a) {
  return a.c ? a.c.m().a : "Contacts";
}
function nR(a) {
  for (var b = 0, c = Y(a.b);b < c;b++) {
    var d = Z(a.b, b);
    if ("module-page-select-button" == d.N()) {
      return d;
    }
  }
  return null;
}
function oR(a, b) {
  var c = MP(nR(a));
  aE(c);
  var d = Z(a, 0);
  d && (a.removeChild(d, !0), d.O());
  if (d = Z(a, 1)) {
    d.m().O(), a.removeChild(d, !0), d.O();
  }
  I(a, new CQ("ModuleHome", !!b, a));
  if (b) {
    for (var d = rb(ir), e = 0;e < d.length;e++) {
      var f = d[e];
      c.H(new XJ(f, f), !0);
    }
    c = new RQ(b);
    a.c = new kR(c, a.a);
    EQ(new DQ(b), mR(a));
    a.H(a.c, !0);
    jR(a.c, "Contacts");
  }
}
function pR(a, b) {
  for (var c = 0, d = Y(a.s);c < d;c++) {
    var e = Z(a.s, c);
    if (e instanceof tJ && "filter-upcoming" == (e.m() || "")) {
      var f = 0 <= nr.indexOf(b);
      e.Va(f);
    }
  }
}
function qR(a, b) {
  for (var c = !1, d = 0, e = Y(a.s);d < e;d++) {
    var f = Z(a.s, d);
    if (f instanceof tJ) {
      var g = f.m() || "";
      g == b && (c = f.hb());
      xa(g, "filter-") && f.Qa(b == g);
    }
  }
  d = "filter-all" == b;
  a: {
    e = 0;
    for (f = Y(a.b);e < f;e++) {
      if (g = Z(a.b, e), "order-button" == g.N()) {
        e = g;
        break a;
      }
    }
    e = null;
  }
  e.Va(d);
  return c;
}
h.B = function() {
  lR.j.B.call(this);
  var a = this.g(), b = this.a, c = mR(this);
  a.classList.add("module-page");
  a.classList.add(c);
  var d = b.w("div", "ydn-head"), e = b.w("div", "ydn-content"), f = b.w("div", "ydn-footer");
  a.appendChild(d);
  a.appendChild(e);
  a.appendChild(f);
  a = b.w("ul", "module-page-list");
  e.appendChild(a);
  qr(c);
  c = jQ.X();
  e = wQ.X();
  a = new bK(b);
  a = new JP("Module", a, null, b);
  UD(a, "module-page-select-button");
  this.b.H(a, !0);
  a = new GP("New", c, b);
  a.ab("Create a new record");
  this.b.H(a, !0);
  a = new vQ("All records", "filter-all", b);
  a.Qa(!0);
  this.s.H(a, !0);
  a = new vQ("My records", "filter-my", b);
  this.s.H(a, !0);
  this.s.H(new vQ("Favorites", "filter-fav", b), !0);
  this.s.H(new vQ("Upcoming", "filter-upcoming", b), !0);
  a = new JP("Filter", this.s, e, b);
  UD(a, "filter-button");
  this.b.H(a, !0);
  a = new vQ("Recent", "order-date_modified", b);
  a.Qa(!0);
  this.F.H(a, !0);
  this.F.H(new vQ("Name", "order-name", b), !0);
  e = new JP("Order", this.F, e, b);
  UD(e, "order-button");
  this.b.H(e, !0);
  e = new BQ("", null, b);
  this.b.H(e, !0);
  e.Va(!1);
  e = Pw("search");
  b = new YP(e, c, b);
  this.b.H(b, !0);
  b.Va(!1);
  this.b.render(d);
  pR(this, "Contacts");
};
h.A = function() {
  lR.j.A.call(this);
  var a = X(this), b = nR(this);
  a.listen(MP(b), "action", this.gn);
  a.listen(Z(this.b, 1), "action", this.nn);
  a.listen(this.s, "action", this.Jm);
  a.listen(this.F, "action", this.rn);
};
h.gn = function(a) {
  a.target instanceof XJ && (a = a.target.m() || "") && jR(this.c, a, void 0);
};
h.nn = function() {
  I(this, new rI("RecordPage", {module_name:mR(this)}, this));
};
h.Jm = function(a) {
  if (a.target instanceof vQ && (a = a.target.m() || "") && qR(this, a)) {
    var b = this.c;
    TQ(b.m(), a) && (cR(b).innerHTML = "", iR(b));
  }
};
h.rn = function(a) {
  if (a.target instanceof vQ && (a = a.target.m())) {
    for (var b = !1, c = 0, d = Y(this.F);c < d;c++) {
      var e = Z(this.F, c);
      if (e instanceof tJ) {
        var f = e.m() || "";
        f == a && (b = e.hb());
        xa(f, "order-") && e.Qa(a == f);
      }
    }
    b && (b = this.c, c = b.m(), c.h == a ? a = !1 : (c.h = a, SQ(c), a = !0), a && (cR(b).innerHTML = "", iR(b)));
  }
};
h.toString = function() {
  return "ModuleHome";
};
h.Nc = function(a) {
  if (a) {
    var b;
    a.filter && (b = a.filter);
    a = a.module;
    b && qR(this, b);
    jR(this.c, a, b);
    pR(this, a);
  }
};
function rR(a) {
  V.call(this, a);
}
A(rR, V);
function sR(a, b) {
  var c = Z(a, 0);
  if (c) {
    var d = c.m();
    d && d.O();
    a.removeChild(Z(a, 0), !0);
    c.O();
  }
  b ? (c = new Nx(b, new tr(b.L(), "Contacts")), c = new zM(c, a.a), a.H(c, !0)) : I(a, new CQ("RecordPage", !1, a));
}
rR.prototype.A = function() {
  rR.j.A.call(this);
};
rR.prototype.toString = function() {
  return "RecordPage";
};
function tR(a, b, c) {
  a = Z(a, 0);
  var d = a.m();
  Ux(d, new tr(d.L(), b._module, b));
  ga(c) && $M(a, c);
}
rR.prototype.Nc = function(a) {
  if (a) {
    var b = Z(this, 0), c = a.id, d = a.module_name || a.module;
    if (c && d) {
      var e = a.edit_mode;
      ga(e) || (e = !0);
      a = {module:d, id:c};
      Tx(b.m().parent).send("get", a).i(function(a) {
        a && (a._module = d, tR(this, a, e));
      }, this);
    } else {
      if (c && a._module) {
        tR(this, a, !1);
      } else {
        if (a._module) {
          tR(this, a, !0);
        } else {
          if (w(d)) {
            hN(b, d);
          } else {
            throw window.console.error(a), Error("Invalid record identifier");
          }
        }
      }
    }
  }
};
function uR(a) {
  H.call(this);
  this.about = a || null;
  this.info = null;
  this.M = new zf(this);
  a = vf();
  this.M.listen(a, ["sugarcrm", "host-permission"], this.bp);
  this.about && this.about.domain && vR(this, this.about.baseUrl);
}
A(uR, H);
h = uR.prototype;
h.I = function() {
  uR.j.I.call(this);
  this.info = null;
  this.M.O();
  this.M = null;
};
h.bp = function(a) {
  if ("sugarcrm" == a.type) {
    if (a = a.getData(), "login" == a.type ? this.about = a.about : "remove" == a.type && this.about && a.domain == this.about.domain && (this.about = null), 0 <= rr.indexOf(a.type)) {
      I(this, new oy(a.type, a.domain, this));
    } else {
      throw Error("Invalid type: " + a.type);
    }
  } else {
    "host-permission" == a.type && this.about && (a = a.getData(), a.grant && a.grant == this.L() && (this.about.hostPermission = !0, I(this, new G("hag", this))));
  }
};
h.L = function() {
  return this.about ? this.about.domain : null;
};
function PN(a) {
  return a.about ? !!a.about.isLogin : !1;
}
function wR(a) {
  a = a.L();
  return vf().c("sugarcrm", a);
}
function vR(a, b) {
  xR(a, b);
  return Q().send("sugar-server-info", b).i(function(a) {
    return this.info = a;
  }, a);
}
function xR(a, b) {
  b = b.trim();
  if (!(3 > b.length)) {
    var c = b.replace(/^https?:\/\//, ""), c = c.replace(/\/.*/, "");
    a.about && a.about.baseUrl == b || (a.about = {domain:c, baseUrl:b, isLogin:!1});
  }
}
h.getInfo = function() {
  if (!PN(this)) {
    throw Error("NotLogin");
  }
  return this.info ? C(this.info) : wR(this).send("server-info").i(function(a) {
    this.info = a;
  }, this);
};
function yR(a) {
  var b = a.L();
  return Q().send("remove-sugar", b).i(function() {
    this.about && (this.about.isLogin = !1, this.about.userName = "");
  }, a);
}
function zR(a, b, c, d, e) {
  xR(a, b);
  window.console.assert(!!a.about, "Not initialized");
  c && (a.about.userName = c);
  b = {about:a.about, serverInfo:a.info, credential:{}};
  b.credential.userName = c;
  b.credential.password = d;
  b.credential.provider = e;
  c = Q().send("new-sugarcrm", b);
  c.i(function(a) {
    this.about = a;
  }, a);
  return c;
}
function AR(a) {
  a = new ui(a.about.baseUrl);
  xi(a, "/*");
  return {origins:[a.toString()]};
}
h.load = function() {
  return Q().send("list-sugarcrm").i(function(a) {
    if ((a = a[0]) || this.about) {
      a ? this.about && this.about.domain == a.domain || (this.about = a, I(this, new oy("login", a.domain, this))) : this.about = null;
    }
  }, this);
};
function BR(a, b) {
  V.call(this);
  this.b = null;
  this.F = !!b;
  this.s = !1;
  this.Z(a);
  this.c = new lB(this.xo, 1E3, this);
}
A(BR, V);
h = BR.prototype;
h.m = function() {
  return BR.j.m.call(this);
};
h.Wj = function() {
  this.refresh();
};
h.Z = function(a) {
  this.m() !== a && (this.m() && X(this).ca(this.m(), "login", this.Wj), BR.j.Z.call(this, a), a && X(this).listen(this.m(), "login", this.Wj), this.refresh());
};
h.B = function() {
  BR.j.B.call(this);
  var a = this.g();
  this.b = document.createElement("div");
  var b = jI("sugarcrm-template").content;
  this.b.appendChild(b.cloneNode(!0));
  a.appendChild(this.b);
  CR(this).style.display = "none";
  this.b.querySelector("input[name=domain]").onblur = this.Bm.bind(this);
  this.b.querySelector("input[name=baseurl]").value = "";
  this.b.querySelector("button").onclick = this.Dk.bind(this);
  var c = this;
  this.b.addEventListener("keypress", function(a) {
    13 == a.keyCode && c.Dk(a);
  }, !1);
  this.F && (this.b.querySelector("h3").style.display = "none");
  this.b.querySelector("button[name=clear-cache]").onclick = this.cp.bind(this);
  this.b.querySelector("button[name=update-now]").onclick = this.lo.bind(this);
  this.refresh();
};
h.A = function() {
  BR.j.A.call(this);
  var a = this.g(), b = X(this);
  b.listen(a.querySelector("a[name=remove]"), "click", this.wo);
  b.listen(this.b.querySelector("details"), "click", this.ep);
  b.listen(CR(this), "click", this.Tm);
};
h.cp = function(a) {
  var b = a.currentTarget;
  b.setAttribute("disabled", "disabled");
  wR(this.m()).send("clear-cache").G(function(a) {
    DR(this).G(function() {
      b.removeAttribute("disabled");
    });
    ER(this, a);
  }, this);
};
h.lo = function(a) {
  var b = a.currentTarget;
  b.setAttribute("disabled", "disabled");
  wR(this.m()).send("update-now").G(function(a) {
    DR(this).G(function() {
      b.removeAttribute("disabled");
    });
    ER(this, a);
  }, this);
};
h.ep = function(a) {
  a.currentTarget.hasAttribute("open") || DR(this);
};
function ER(a, b) {
  var c = a.b.querySelector(".domain [name=message]");
  c.textContent = "";
  c.removeAttribute("title");
  b && b instanceof Error ? (c.textContent = b.name, c.setAttribute("title", b.message || ""), c.classList.add("error")) : (c.classList.remove("error"), c.textContent = b || "");
}
function FR(a, b) {
  ER(a, "");
  vR(a.m(), b).u(function(a) {
    var b = this.b.querySelector("input[name=baseurl]");
    b.value = "";
    a && (ER(this, "SugarCRM " + a.flavor + " " + a.version), a.baseUrl && (b.value = a.baseUrl));
  }, function(a) {
    ER(this, a);
  }, a);
}
function CR(a) {
  return a.b.querySelector('[name="grant-host-permission"] button');
}
h.Tm = function() {
  var a = CR(this), b = a.getAttribute("data-domain"), c = b ? GR(b) : AR(this.m());
  c ? Q().send("request-host-permission", c).G(function(c) {
    c = !0 === c;
    a.setAttribute("data-domain", b);
    a.style.display = c ? "none" : "";
    c && this.refresh();
  }, this) : a.style.display = "none";
};
function GR(a) {
  a = new ui(a);
  if (-1 == ["http", "https"].indexOf(a.b)) {
    return null;
  }
  xi(a, "/*");
  return {origins:[a.toString()]};
}
h.Bm = function() {
  var a = this.b.querySelector('input[name="domain"]').value.trim();
  dj("ui.sugarcrm.setting", "domain", a);
  var b = a ? GR(a) : AR(this.m());
  b && Q().send("request-host-permission", b).G(function(b) {
    b = !0 === b;
    FR(this, a);
    var d = CR(this);
    d.setAttribute("data-domain", a);
    d.style.display = b ? "none" : "";
  }, this);
};
h.wo = function(a) {
  a.preventDefault();
  a = this.g();
  var b = a.querySelector("a[name=remove]");
  b.textContent = "Logging out...";
  a.querySelector('input[name="password"]').value = "";
  yR(this.m()).G(function() {
    b.textContent = "Logout";
    b.removeAttribute("disabled");
    this.refresh();
  }, this);
};
function HR(a, b) {
  var c = a.b.querySelector("div[name=login-panel]"), d = a.b.querySelector("div[name=info-panel]"), e = a.b.querySelector("div[name=remove-panel]"), f = a.b.querySelector("[name=grant-host-permission]");
  if (b) {
    if (b.hostPermission) {
      if (b.isLogin) {
        var g = d.querySelector("a[name=instance]");
        g.textContent = b.baseUrl;
        g.href = b.baseUrl;
        g.target = b.domain;
        d.querySelector("span[name=user]").textContent = b.userName;
        a.m().getInfo().i(function(a) {
          var b = d.querySelector("span[name=instance-info]");
          !a || a instanceof Error || (b.textContent = "SugarCRM " + (a.version || "") + " " + (a.flavor || ""));
          R(this.b.querySelector("div[name=stats-panel]"), !0);
        }, a);
        f.style.display = b.hostPermission ? "none" : "";
        c.style.display = "none";
        d.style.display = "";
        e.style.display = "";
        a.c.stop();
      } else {
        c.querySelector(".sugarcrm-domain").value = b.baseUrl, c.querySelector(".sugarcrm-username").value = b.userName, c.style.display = "", f.style.display = "none", d.style.display = "none", e.style.display = "", a.c.start();
      }
    } else {
      d.querySelector("a[name=instance]").textContent = b.baseUrl, d.querySelector("span[name=user]").textContent = b.userName, b.isLogin || (d.querySelector("span[name=instance-info]").textContent = " (Not login)"), CR(a).style.display = "", c.style.display = "none", f.style.display = "", d.style.display = "", e.style.display = "none", a.c.start();
    }
  } else {
    c.style.display = "", d.style.display = "none", e.style.display = "none", a.c.start();
  }
}
h.xo = function() {
  I(this, new AI("Sugar Setting"));
  I(this, new rI("SettingPage", {}));
};
h.refresh = function() {
  var a = this.m();
  this.b && a && (this.b.querySelector("h3").textContent = a.L() ? "SugarCRM" : "Add a new SugarCRM instance", a = this.m().about, !a || a.isLogin && a.domain && a.userName || wR(this.m()).send("details").i(function(a) {
    HR(this, a.about);
  }, this), HR(this, a));
};
function DR(a) {
  t(!0) && (a.s = !0);
  var b = a.b.querySelector("div[name=stats-panel]");
  if (a.s && PN(a.m())) {
    return R(b, !0), wR(a.m()).send("stats").i(function(a) {
      var d = b.querySelector("ul");
      d.innerHTML = "";
      for (var e = 0;e < a.length;e++) {
        var f = a[e], g = document.createElement("li");
        sr(g, f);
        d.appendChild(g);
      }
    }, a);
  }
  R(b, !1);
  return C(null);
}
h.Dk = function(a) {
  var b = this.b, c = b.querySelector("[name=message]");
  c.textContent = "";
  var d = b.querySelector('input[name="domain"]').value, e = b.querySelector('input[name="username"]').value, f = b.querySelector('input[name="password"]').value, g = b.querySelector('input[name="baseurl"]').value;
  g && (d = g);
  var k = this.m(), l = b.querySelector('select[name="sugarcrm-auth"]').value, m = !!a.altKey;
  if (a = GR(d)) {
    var n = this.b.querySelector("button");
    n.textContent = "logging in...";
    n.setAttribute("disabled", "disabled");
    var p = this, r = function(a) {
      a || m ? (a = zR(k, d, e, f, l), a.u(function() {
        dj("ui.sugarcrm", "login-ok", g);
        c.textContent = "";
        n.textContent = "Login";
        n.removeAttribute("disabled");
        p.refresh();
      }, function(a) {
        dj("ui.sugarcrm", "login-fail", g);
        n.removeAttribute("disabled");
        n.textContent = "Login";
        ER(p, a);
      }), a.c(function(a) {
        c.textContent = a;
      })) : c.textContent = "Access permission to " + d + " is required.";
    };
    dj("ui.sugarcrm", "login", g);
    chrome.permissions ? kj(a, function(a) {
      r(a);
    }) : Q().send("request-host-permission", a).G(function(a) {
      r(!0 === a);
    });
  } else {
    c.textContent = "Invalid URL: " + d;
  }
};
function IR(a, b, c) {
  V.call(this, c);
  this.b = a;
  this.c = new BR(b, !0);
  this.H(this.c, !0);
}
A(IR, V);
h = IR.prototype;
h.B = function() {
  IR.j.B.call(this);
  var a = this.g();
  a.classList.add("sugarcrm-setting-page");
  a.classList.add("widget-content");
  a.innerHTML = '<div name="root">\n    <section name="ydn-sugar-widget"></section>\n  </div>\n</div>';
};
h.A = function() {
  IR.j.A.call(this);
  X(this).listen(this.la(), "setting-page-event", this.sp);
  X(this).listen(this.b, ["login", "logout"], this.tp);
  X(this).listen(this.c, sI, this.Pn);
  LE(this.b) && JR(this);
};
h.Pn = function(a) {
  IE(this.b) && JE(this.b) || (a.preventDefault(), a.stopPropagation());
};
h.tp = function() {
  JR(this);
};
function JR(a) {
  JE(a.b) ? R(a.c.b, !0) : R(a.c.b, !1);
}
h.sp = function(a) {
  a.name == this.toString() ? R(this.g(), !0) : R(this.g(), !1);
};
h.refresh = function() {
};
h.toString = function() {
  return "Sugar Setting";
};
function KR(a, b, c, d) {
  V.call(this, d);
  this.Z(c);
  this.b = a;
  this.c = b;
}
A(KR, V);
h = KR.prototype;
h.U = function() {
  return "homebar";
};
h.B = function() {
  KR.j.B.call(this);
  var a = this.g(), b = this.a;
  a.classList.add("home-bar");
  for (var a = new bK(b), c = 0;c < mr.length;c++) {
    var d = mr[c];
    a.H(new XJ("New " + d, d, b), !0);
  }
  for (var c = Pw("add"), a = new JP(c, a, null, b), e = new bK(b), c = 0;c < ir.length;c++) {
    d = ir[c], e.H(new vQ(d, d, b), !0);
  }
  c = new JP("Module", e, null, b);
  d = new BQ("");
  this.H(a, !0);
  this.H(c, !0);
  R(a.g(), this.b);
  R(c.g(), this.c);
  this.H(d, !0);
  a = Pw("search");
  c = jQ.X();
  b = new GP(a, c, b);
  this.H(b, !0);
};
h.A = function() {
  KR.j.A.call(this);
  var a = Z(this, 2);
  X(this).listen(a, "action", this.fk, !0);
  a = Z(this, 3);
  X(this).listen(a, "action", this.fk, !0);
  X(this).listen(MP(Z(this, 1)), "action", this.Km);
};
h.Km = function(a) {
  var b = a.target;
  a = b.m();
  if (b.hb()) {
    EQ(this.m(), a);
    for (var b = MP(Z(this, 1)), c = 0;c < Y(b);c++) {
      var d = Z(b, c);
      d.m() != a && d.Qa(!1);
    }
  } else {
    EQ(this.m(), null);
  }
};
h.fk = function() {
  var a = Z(this, 2).va() || "";
  this.m().search(a);
};
function LR(a, b) {
  V.call(this, b);
  this.b = null;
  this.Z(a);
}
A(LR, V);
h = LR.prototype;
h.logger = J("ydn.crm.su.ui.HoverResultList");
h.Z = function(a) {
  LR.j.Z.call(this, a);
  a ? this.b = new KI(a.f) : this.b = null;
};
h.U = function() {
  return "snippet-panel";
};
h.B = function() {
  LR.j.B.call(this);
  var a = this.g();
  a.classList.add(this.U());
  var b = this.a, c = b.w("div", "ydn-head"), d = b.w("div", "ydn-content", b.w("ul", "snippet-panel-list"));
  a.appendChild(c);
  a.appendChild(d);
  new LI(this.m().f, d, b);
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  LR.j.A.call(this);
  var a = X(this), b = this.m();
  a.listen(b, "rs", this.kp);
  a.listen(b, "ad", this.jm);
  a.listen(b, "pg", this.xn);
  b = MR(this);
  a.listen(b, "click", this.jp);
};
h.jp = function(a) {
  a.target instanceof Element && (a.target.classList.contains("title") || a.target.classList.contains("summary")) || !(a = Hh(a.target, "LI")) || (a = {id:a.getAttribute("data-id"), module:a.getAttribute("data-module")}, I(this, new rI("RecordPage", a, this)));
};
function MR(a) {
  return a.T().querySelector("UL.snippet-panel-list");
}
h.kp = function() {
  this.reset();
};
h.reset = function() {
  MR(this).innerHTML = "";
};
h.jm = function(a) {
  a: {
    var b = this.m().c[a.index], c = a.index;
    a = MR(this);
    for (var d = 0;d < a.childElementCount;d++) {
      if (a.children[d].getAttribute("data-id") == b.id) {
        break a;
      }
    }
    c = a.children[c];
    d = this.a.w("li");
    c ? a.insertBefore(d, c) : a.appendChild(d);
    this.b.render(d, b);
  }
};
h.xn = function() {
};
function NR(a) {
  V.call(this, a);
}
A(NR, V);
NR.prototype.B = function() {
  NR.j.B.call(this);
  this.g().classList.add("desktop-search-page");
};
function OR(a, b) {
  var c = a.m(), d = Z(a, 0), e = Z(a, 1);
  I(a, new CQ("SugarSearch", !!b, a));
  b ? c ? c.f.L() != b.L() && (c = new DQ(b), a.Z(c), d.Z(c), e.Z(c)) : (c = new DQ(b), a.Z(c), e = new LR(c, a.a), d = new KR(!1, !0, c, a.a), a.H(d, !0), a.H(e, !0)) : (e && (a.removeChild(d, !0), a.removeChild(e, !0), e.O()), a.Z(null));
}
NR.prototype.toString = function() {
  return "SugarSearch";
};
NR.prototype.Nc = function() {
  var a = this.g().querySelector("UL");
  if (a && !a.style.height) {
    var b = Qw(2);
    b && (a.style.height = b);
  }
};
function PR(a, b, c, d) {
  this.a = a;
  this.W = c;
  this.ga = d;
  this.$ = b;
  this.c = new uR;
  this.D = new CP(this.a, this.W, this.ga, this.$);
  this.F = new qQ(this.a, this.ga);
  this.b = new tQ(this.a);
  this.o = new IR(this.a, this.c);
  this.h = new lR;
  this.s = new rR;
  this.l = new NR;
  this.f = [];
  this.M = new zf(this);
  this.J = "";
}
PR.prototype.render = function(a) {
  QR(a, "DesktopHome").H(this.b, !0);
  a.H(this.h, !0);
  a.H(this.l, !0);
  a.H(this.s, !0);
  a = RR(a);
  a.H(this.o, !0);
  YathitCrm.Product.GData.Calendar && a.H(new YN(0, this.c), !0);
  YathitCrm.Product.GData.Contacts && a.H(new bO(0, this.c), !0);
  this.M.listen(this.a, ["login", "logout"], this.ea);
  this.M.listen(this.c, ["login", "remove"], this.V);
  LE(this.a) && SR(this);
};
PR.prototype.ea = function() {
  SR(this);
};
function SR(a) {
  JE(a.a) ? (a.c.load(), a = a.b, R(a.g(), !0), a.refresh()) : R(a.b.g(), !1);
}
PR.prototype.V = function() {
  Q().send("get-sugar").u(function(a) {
    a: {
      var b = null;
      if (a) {
        if (a.about.domain == this.J) {
          break a;
        }
        this.J = a.about.domain;
        b = new ZP(a.about, a.modulesInfo, 0, a.serverInfo, a.loginInfo, a.availableModules);
        uQ(this.b, b);
        this.o.refresh();
        OR(this.l, b);
        rQ(this.F, b);
        sR(this.s, b);
        oR(this.h, b);
        jR(this.h.c, "Contacts", void 0);
        DP(this.D, b);
      } else {
        this.J = "", uQ(this.b, null), this.o.refresh(), rQ(this.F, null), OR(this.l, null), sR(this.s, null), oR(this.h, null), DP(this.D, null);
      }
      for (a = 0;a < this.f.length;a++) {
        this.f[a].bg(b);
      }
    }
  }, function(a) {
    window.console.error(a);
  }, this);
};
function TR(a) {
  V.call(this);
  this.b = a;
}
A(TR, V);
h = TR.prototype;
h.U = function() {
  return "gmail-header-widget";
};
h.B = function() {
  TR.j.B.call(this);
  var a = this.g(), b = this.a;
  a.classList.add("ydn-crm");
  a.classList.add(this.U());
  var a = new bK, c = wQ.X(), d = Pw("ydn-logo-bw");
  d.setAttribute("name", "ydn-logo");
  b = b.w("div", "gmail-header-icon", d);
  b = new JP(b, a, c);
  this.H(b, !0);
  b.g().classList.add("gmail-header-menubutton");
  for (b = 0;b < this.b.length;b++) {
    (c = this.b[b]) ? (c = c.getName(), d = new XJ(c), a.H(d, !0), d.g().setAttribute("name", c)) : a.H(new aK, !0);
  }
};
function wP(a, b, c, d, e) {
  a: {
    a = MP(Z(a, 0));
    for (var f = Y(a) - 1;0 <= f;f--) {
      var g = Z(a, f);
      if (g.g().getAttribute("name") == b) {
        b = g;
        break a;
      }
    }
    b = null;
  }
  b && (b.setEnabled(c), yJ(b, d), b.Z(e));
}
function vP(a, b, c, d) {
  var e = a.g().querySelector(".gmail-header-icon"), f = e.querySelector('svg[name="archiver"]'), g = e.querySelector('svg[name="ydn-logo"]');
  if (b) {
    f ? R(f, !0) : (f = Pw(c), f.setAttribute("name", "archiver"), e.appendChild(f)), f.setAttribute("class", "icons"), f.setAttribute("title", d || ""), f != g && R(g, !1);
  } else {
    f && R(f, !1);
    c = !0;
    d = e.querySelectorAll("svg");
    for (b = 0;b < d.length;b++) {
      if (ei(d[b])) {
        c = !1;
        break;
      }
    }
    c && R(g, !0);
  }
  e = e.querySelectorAll("svg");
  g = [];
  for (b = 0;b < e.length;b++) {
    c = e[b], ei(c) && (c = c.getAttribute("title")) && g.push(c);
  }
  Z(a, 0).ab(g.join(" "));
}
function UR(a) {
  for (var b = 0;b < a.b.length;b++) {
    a.b[b] && a.b[b].f(a);
  }
}
h.Xj = function(a) {
  if (a.target instanceof XJ) {
    for (var b = a.target.g().getAttribute("name"), c = 0;c < this.b.length;c++) {
      if (this.b[c] && this.b[c].getName() == b) {
        this.b[c].h(this, a);
        break;
      }
    }
  }
};
h.A = function() {
  TR.j.A.call(this);
  Df(function() {
    UR(this);
  }, 100, this);
  X(this).listen(this, "action", this.Xj);
};
h.ya = function() {
  TR.j.ya.call(this);
  X(this).ca(this, "action", this.Xj);
};
function VR(a) {
  a = a.g();
  a = Hh(a, "TR");
  a = Hh(a, "TABLE");
  return nD(a);
}
;function WR(a) {
  this.c = this.b = null;
  this.a = [];
  var b = new zf(this);
  b.listen(a, "mh", this.h);
  b.listen(a, "ma", this.f);
}
WR.prototype.h = function(a) {
  var b = a.f;
  b.getAttribute("ydn-widget") || (b.setAttribute("ydn-widget", "1"), Df(function() {
    var a;
    a: {
      for (a = 0;a < this.a.length;a++) {
        if (!document.body.contains(this.a[a].g())) {
          this.a[a].pa() && this.a[a].ya();
          a = this.a[a];
          break a;
        }
      }
      a = [];
      this.c && a.push(this.c);
      this.b && (0 < a.length && a.push(null), a.push(this.b));
      a = new TR(a);
      this.a.push(a);
    }
    XD(a, b.parentNode, b);
  }, 200, this));
};
WR.prototype.f = function(a) {
  for (var b = 0;b < this.a.length;b++) {
    var c = this.a[b], d = c.g();
    (d = Hh(d, "TR")) ? (d = Hh(d, "TABLE"), d = nD(d)) : d = null;
    jD(d) == a.wa && UR(c);
  }
};
function XR() {
  this.a = null;
  this.M = new zf(this);
}
h = XR.prototype;
h.Ch = function() {
  return !this.a.classList.contains("open");
};
h.Qo = function() {
  this.Sc(!this.a.classList.contains("open"));
};
h.Sc = function(a) {
  var b = this.a.querySelector(".arrow-box");
  b.innerHTML = "";
  a ? (this.a.classList.add("open"), b.appendChild(Pw("arrow-drop-left"))) : (this.a.classList.remove("open"), b.appendChild(Pw("arrow-drop-right")));
  tI(this.a, a ? "open" : "close");
};
h.render = function(a) {
  var b = jI("hub-template").content, c = document.createElement("div");
  c.appendChild(b.cloneNode(!0));
  this.a = c.firstElementChild;
  document.querySelector("html").getAttribute("manifest") && this.a.classList.add("gmail-offline");
  document.body.appendChild(this.a);
  this.a.querySelector("a[name=option-page-url]").href = chrome.extension.getURL("option-page.html");
  b = this.a.querySelector(".popup-header");
  document.createElement("div");
  c = new pI;
  c.render(b);
  Bw.b.push(c);
  ud(this.a.querySelector(".hud-button"), "click", this.Qo, !1, this);
  this.a.querySelector(".logo-box").appendChild(Pw("ydn-logo"));
  this.a.querySelector(".arrow-box").appendChild(Pw("arrow-drop-right"));
  dh();
  this.a.querySelector("a[name=option-page-url]").textContent = chrome.i18n.getMessage("Options");
  this.a.querySelector("a[name=help]").textContent = chrome.i18n.getMessage("Help");
  this.M.listen(this.a.querySelector(".top-resizer"), "mousedown", this.In);
  YR(a);
  this.M.listen(document.body, "drawer-request", this.Ro);
};
h.Ro = function(a) {
  var b = a.c;
  a = Jb(b, "detail", "open");
  b = Jb(b, "detail", "close");
  !0 === a ? this.Sc(!0) : !0 === b && this.Sc(!1);
};
function YR(a) {
  var b = document.getElementById("sticky-hud-base");
  chrome.storage.local.get("po-hud-b", function(c) {
    c = c["po-hud-b"];
    var d = 200;
    c && (d = c.top, w(d) && (d = parseInt(d, 10)), 50 < d && 400 > d && (b.style.top = d + "px"));
    b.querySelector(".popup-content").style.maxHeight = "calc(100vh - " + (d + 40) + "px)";
    a && a();
  });
}
h.In = function() {
  this.M.listen(document.body, "mousemove", this.ek);
  this.M.listen(document.body, "mouseup", this.dk);
  document.body.style.cursor = "row-resize";
};
h.dk = function() {
  document.body.style.cursor = "";
  this.M.ca(document.body, "mousemove", this.ek);
  this.M.ca(document.body, "mouseup", this.dk);
  var a = document.getElementById("sticky-hud-base").style.top, b = {};
  b["po-hud-b"] = {top:a.substr(0, a.length - 2)};
  chrome.storage.local.set(b);
};
h.ek = function(a) {
  var b = document.getElementById("sticky-hud-base");
  50 < a.clientY && 400 > a.clientY && (b.style.top = a.clientY - 2 + "px");
};
h.oi = function() {
  return this.a.querySelector(".popup-footer");
};
h.Ag = function(a) {
  a.render(this.a.querySelector(".popup-content"));
};
function ZR(a, b) {
  V.call(this);
  this.b = a;
  this.Z(b);
}
A(ZR, V);
h = ZR.prototype;
h.m = function() {
  return ZR.j.m.call(this);
};
h.B = function() {
  ZR.j.B.call(this);
  this.g().classList.add("tracking");
  var a = this.a, b = $R(this.m()) ? mO : nO, b = new oO(b, a), a = a.w("span", "checkbox-label", "Track");
  pO(b, a);
  this.H(b, !0);
  this.T().appendChild(a);
};
h.Cp = function() {
  aS(this);
};
h.A = function() {
  ZR.j.A.call(this);
  X(this).listen(Z(this, 0), "change", this.fo);
  var a = this.la();
  X(this).listen(a, "st", this.Bp);
  X(this).listen(a, EH, this.Cp);
};
h.I = function() {
  ZR.j.I.call(this);
};
function aS(a) {
  var b = a.la().zd();
  if (b && 0 != b.length) {
    var c = $R(a.m()), d = Z(a, 0);
    d.Qa(c);
    bS(a.m(), b).i(function(a) {
      if (a) {
        var b = this.g();
        b.classList.add("donottrack");
        b.setAttribute("title", "Do not track on " + a);
        d.Qa(!1);
        d.setEnabled(!1);
      } else {
        d.setEnabled(!0);
      }
    }, a);
  }
}
h.fo = function() {
};
h.Bp = function(a) {
  if (Z(this, 0).hb()) {
    var b = a.target;
    a = b.oe();
    var c = b.zd(), b = b.Zg(), d = this.m(), e = cS(a, c, b);
    NH(this.b).G(function(a) {
      dS(d, c, e, a);
    });
  }
};
function eS(a) {
  this.b = a;
  this.M = new zf(this);
}
eS.prototype.logger = J("ydn.crm.tracking.Tracker");
function cS(a, b, c) {
  var d = GE.X().a.Id.$t + "/" + y(), e = document.createElement("img");
  e.src = "https://yathit-app.appspot.com/t/" + d + ".gif";
  e.className = "tk-ln";
  e.setAttribute("alt", "yathit-beacon");
  a.appendChild(e);
  a = a.getElementsByTagName("A");
  for (var f = e = 0, g = a.length;f < g;f++) {
    var k = a[f];
    k.href && "#" != k.href.charAt(0) && (k.href = "https://yathit-app.appspot.com/r/" + d + "/?" + k.href, e++);
  }
  return {path:d, recipients:b, numLink:e, created:y(), subject:c, parentMid:""};
}
function dS(a, b, c, d) {
  c.parentMid = d || "";
  d = {query:"is-in-dnt", emails:b};
  Q().send("tracking-query", d).i(function(a) {
    0 <= a ? Cw("Do no track email for " + b[a]) : vf().c().send("request", {path:"track", method:"PUT", body:JSON.stringify(c)}).u(function(a) {
      var b = Cw("Add a new ", ".");
      a = JSON.parse(a.body);
      a = chrome.runtime.getURL("option-page.html") + "#tracking?" + a.path;
      Fw(b, a, "tracking beacon");
    }, function(a) {
      window.console.log(a.stack || a);
    }, this);
  }, a);
}
function $R(a) {
  var b = a.b.h("tracking", "user-default");
  0 <= ["always", "disable", "track", "not-track"].indexOf(b) ? a = b : (a = a.b.h("tracking", "current"), a = ga(a) ? a : "Email Tracker" == Hg() ? !0 : !1);
  return ga(a) ? a : "always" == a ? !0 : !1;
}
function bS(a, b) {
  var c = {query:"is-in-dnt", emails:b};
  return Q().send("tracking-query", c).i(function(a) {
    return b[a] || null;
  }, a);
}
;function fS(a, b, c) {
  eS.call(this, a);
  this.a = b;
  this.M = new zf(this);
  this.M.listen(c, "pn", this.c);
  this.M.listen(c, "nc", this.f);
}
A(fS, eS);
fS.prototype.c = function(a) {
  a = a.target;
  var b = new ZR(this.a, this);
  a.H(b, !0);
};
fS.prototype.f = function(a) {
  var b = new ZR(this.a, this);
  a.f.H(b, !0);
};
function gS() {
  H.call(this);
  this.M = new zf(this);
  var a = vf();
  this.M.listen(a, ["beacon-hit"], this.a);
}
A(gS, JC);
gS.prototype.a = function() {
  I(this, new G("bh"));
};
gS.prototype.M = null;
gS.prototype.I = function() {
  this.M.O();
  this.M = null;
  gS.j.I.call(this);
};
function LC(a, b) {
  var c = {storeName:"BeaconTrack", limit:a};
  b && (c.keyRange = b.toJSON());
  return Q().send("tracking-query", c);
}
function NC(a, b) {
  var c = {storeName:"AccessTokenRecord", index:"Recorded", limit:a};
  b && (c.keyRange = b.toJSON());
  return Q().send("tracking-query", c);
}
function hS(a, b) {
  var c = {storeName:"BeaconTrack", index:"recipients", limit:1E4, keyRange:nj(a).toJSON()};
  return Q().send("tracking-query", c).i(function(a) {
    if (b) {
      return a.filter(function(a) {
        return a.created > b;
      });
    }
  });
}
function SC(a) {
  a = w(a) ? qj(a) : a;
  var b = {storeName:"AccessTokenRecord", index:"Path"};
  a && (b.keyRange = a.toJSON());
  return Q().send("tracking-query", b);
}
;function iS() {
  this.a = null;
}
iS.prototype.render = function(a) {
  this.a = document.createElement("div");
  this.a.className = "simple-status-bar";
  var b = document.createElement("span"), c = document.createElement("a"), d = document.createElement("span");
  this.a.appendChild(b);
  this.a.appendChild(c);
  this.a.appendChild(d);
  a.appendChild(this.a);
};
iS.prototype.f = function(a, b) {
  this.a && (this.a.children[0].textContent = b.title + " ", b.Lc ? (this.a.children[1].textContent = b.Kf, this.a.children[1].href = b.Lc, this.a.children[1].title = b.ye, this.a.children[1].style.display = "") : this.a.children[1].style.display = "none", this.a.children[2].textContent = " " + (b.update || ""));
};
iS.prototype.reset = function() {
  this.f(0, {title:""});
};
function jS(a) {
  this.b = a;
  this.M = new zf(this);
  this.f = new iS;
  this.h = !1;
  this.c = [];
  a = document.createElement("div");
  a.id = "ydn-root-panel";
  a.className = "inj ydn-crm";
  document.body.appendChild(a);
  R(a, !1);
  var b = document.createElement("div");
  b.className = "container";
  a.appendChild(b);
  for (var c = 0;3 > c;c++) {
    var d = document.createElement("div");
    b.appendChild(d);
  }
  b = document.createElement("div");
  a.firstElementChild.appendChild(b);
  R(b, !1);
  b = document.createElement("div");
  b.classList.add("ydn-footer");
  c = document.createElement("div");
  c.classList.add("sidebar-status");
  b.appendChild(c);
  this.f.render(c);
  Bw.b.push(this.f);
  a.appendChild(b);
  this.a = a;
  R(this.a, !1);
}
jS.prototype.setEnabled = function(a) {
  a != this.h && (a ? (this.M.listen(this.b, "cc", this.l), this.M.listen(this.b, "pc", this.o)) : (this.M.ca(this.b, "cc", this.l), this.M.ca(this.b, "pc", this.o), this.a.parentElement && this.a.parentElement.removeChild(this.a)), this.h = a);
};
jS.prototype.g = function() {
  return this.a;
};
jS.prototype.o = function() {
  this.f.reset();
  R(this.a, !1);
};
jS.prototype.l = function(a) {
  for (var b = !1, c = 0;c < this.c.length;c++) {
    b || (b = oI(this.a, a.f));
  }
  if (!b) {
    for (c = 0;c < this.c.length;c++) {
      b || (b = oI(this.a, a.f));
    }
  }
  b && R(this.a, !0);
};
function kS(a) {
  this.b = a;
  this.a = null;
}
function lS(a, b, c, d, e, f, g) {
  if (a.a) {
    a = a.a;
    var k = a.querySelector("svg"), l = "Not tracking", m = "", n = "icons", p = a.querySelector("a.label");
    if (b) {
      if (0 < d) {
        if (n = "icons tracking-icon-has-result", m = d + " open from " + e + " and " + f + " link clicks.", l = d + " opens.", f || g) {
          l += " " + f + " clicks";
        }
      } else {
        if (c) {
          n = "icons tracking-icon-has-result";
          l = d + " opens.";
          if (f || g) {
            l += " " + f + " clicks";
          }
          m = "You have open " + c + " times.";
        } else {
          n = "icons tracking-icon-no-result", l = "No data yet", m = "";
        }
      }
      c = chrome.extension.getURL("option-page.html") + "#tracking?";
      p.href = c + b;
      R(a, !0);
    } else {
      R(a, !1), p.removeAttribute("href");
    }
    p.textContent = l;
    k.setAttribute("class", n);
    p.setAttribute("title", m);
    p.setAttribute("data-id", String(b));
  }
}
kS.prototype.getName = function() {
  return "tracker";
};
var mS = /f\/(\w+)\/(\w+)\.ttf/, nS = /t\/(\w+)\/(\w+)\.gif/;
function oS(a, b) {
  Q().send("tracking-update").G(function(a) {
    0 != a[0][1] && PC(this.b, b).u(function(a) {
      a ? a.clicks || a.opens ? lS(this, b, a.selfOpens, a.opens, a.cities, a.clicks, a.numLink) : lS(this, b, 0, 0, "", 0, 0) : lS(this, b, 0, 0, "", 0, 0);
    }, function(a) {
      window.console.error(a.stack || a);
    }, this);
  }, a);
}
kS.prototype.f = function(a) {
  wP(a, this.getName(), !1, "Tracking", null);
  lS(this, null, 0, 0, "", 0, 0);
  var b = GE.X();
  if (IE(b)) {
    for (var c = VR(a), d = b.a.Id.$t, e = c.querySelectorAll("font > img"), f = null, g = 0;g < e.length;g++) {
      var k = e[g].parentElement.face.match(mS);
      if (k && k[1] && k[1] == d) {
        d = k[1];
        f = k[2];
        break;
      }
    }
    if (!f) {
      for (e = c.querySelectorAll('img[alt="yathit-beacon"]'), g = 0;g < e.length;g++) {
        if ((k = e[g].src.match(nS)) && k[1] && k[1] == d) {
          d = k[1];
          f = k[2];
          break;
        }
      }
    }
    if (f && d == b.a.Id.$t) {
      var l = d + "/" + f;
      PC(this.b, l).u(function(b) {
        b ? b.clicks || b.opens ? (wP(a, this.getName(), !0, "View Tracking", l), lS(this, l, b.selfOpens, b.opens, b.cities, b.clicks, b.numLink)) : (wP(a, this.getName(), !0, "View Tracking", l), lS(this, l, 0, 0, "", 0, 0)) : lS(this, l, 0, 0, "", 0, 0);
        oS(this, l);
      }, function(a) {
        window.console.error(a.stack || a);
      }, this);
      Q().send("tracking-self-open", {beaconKey:l});
    }
  }
};
kS.prototype.h = function(a, b) {
  var c = chrome.extension.getURL("option-page.html");
  window.open(c + "#tracking?" + b.target.m(), "option-page");
};
function pS(a, b, c) {
  V.call(this, c);
  this.Z(a);
  this.b = b;
}
A(pS, V);
h = pS.prototype;
h.logger = J("ydn.crm.tracking.result.DesktopHome");
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.B = function() {
  pS.j.B.call(this);
  var a = this.g(), b = this.a;
  a.classList.add("result-desktop");
  var c = b.w("div", "ydn-head"), b = b.w("div", "ydn-content");
  a.appendChild(c);
  a.appendChild(b);
  c.innerHTML = '<h3 class="ydn-title">Email Tracking</h3>';
  b.innerHTML = '<div name="no-result">No tracking available yet.</div>\n<div name="result" style="display: none;">\n    <span class="opens" title="in last 24 hours">0</span> emails open,\n    <span class="clicks" title="in last 24 hours">0</span> links click\n    [<a href="#tracking-result" name="view">view</a>]\n  </div>';
};
h.A = function() {
  pS.j.A.call(this);
  var a = this.g().querySelector("a[name=view]");
  X(this).listen(a, "click", this.oo);
  qS(this);
};
h.oo = function(a) {
  a.preventDefault();
  I(this, new rI("TrackingPage", {}, this));
};
function qS(a) {
  if (IE(a.b)) {
    var b = a.b.a.Id.$t, c = y() - 864E5;
    VC(a.m(), b, c).i(function(a) {
      var b = 0 < a.opens, c = this.g();
      R(c.querySelector('[name="no-result"]'), !b);
      R(c.querySelector('[name="result"]'), b);
      b = c.querySelector(".clicks");
      c.querySelector(".opens").textContent = a.opens + "/" + a.aj;
      b.textContent = a.clicks + "/" + a.Lj;
    }, a);
  }
}
;function rS() {
}
A(rS, EP);
da(rS);
rS.prototype.Ua = function(a) {
  var b = lJ(this, a), b = a.a.w("DIV", {"class":"goog-inline-block " + b.join(" ")}, a.va());
  this.ab(b, a.Tb());
  return b;
};
rS.prototype.tc = function() {
  return "button";
};
rS.prototype.Y = function() {
  return "";
};
rS.prototype.U = function() {
  return "goog-flat-button";
};
cJ("goog-flat-button", function() {
  return new GP(null, rS.X());
});
function sS() {
}
A(sS, rS);
da(sS);
sS.prototype.Ua = function(a) {
  var b = lJ(this, a), b = a.a.w("DIV", {"class":"goog-inline-block " + b.join(" ")}, [tS(this, a.va(), a.a), a.a.w("DIV", {"class":"goog-inline-block " + (this.U() + "-dropdown"), "aria-hidden":!0}, "\u00a0")]);
  this.ab(b, a.Tb());
  return b;
};
sS.prototype.Ca = function(a) {
  return a && a.firstChild;
};
function tS(a, b, c) {
  return c.w("DIV", "goog-inline-block " + (a.U() + "-caption"), b);
}
sS.prototype.U = function() {
  return "goog-flat-menu-button";
};
cJ("goog-flat-menu-button", function() {
  return new JP(null, null, sS.X());
});
function uS(a, b, c) {
  XJ.call(this, a, b, c);
  this.Ka(8, !0);
}
A(uS, XJ);
uS.prototype.zb = function() {
  return I(this, "action");
};
cJ("goog-option", function() {
  return new uS(null);
});
function vS(a) {
  H.call(this);
  this.a = [];
  wS(this, a);
}
A(vS, H);
vS.prototype.b = null;
function wS(a, b) {
  b && (eb(b, function(a) {
    xS(a, !1);
  }, a), sb(a.a, b));
}
function yS(a, b, c) {
  b && (xS(b, !1), tb(a.a, c, 0, b));
}
vS.prototype.cd = function() {
  return rb(this.a);
};
function zS(a) {
  var b = a.b;
  return b ? cb(a.a, b) : -1;
}
vS.prototype.clear = function() {
  nb(this.a);
  this.b = null;
};
vS.prototype.I = function() {
  vS.j.I.call(this);
  delete this.a;
  this.b = null;
};
function xS(a, b) {
  a && "function" == typeof a.Zd && a.Zd(b);
}
;function AS(a, b, c, d, e) {
  JP.call(this, a, b, c, d, e || new $J("listbox"));
  this.$b = this.va();
  this.Xa = null;
  this.lh = "listbox";
}
A(AS, JP);
h = AS.prototype;
h.ma = null;
h.A = function() {
  AS.j.A.call(this);
  BS(this);
  CS(this);
};
h.I = function() {
  AS.j.I.call(this);
  this.ma && (this.ma.O(), this.ma = null);
  this.$b = null;
};
h.nh = function(a) {
  DS(this, a.target);
  AS.j.nh.call(this, a);
  a.stopPropagation();
  I(this, "action");
};
h.Vl = function() {
  var a = this.ma ? this.ma.b : null;
  AS.j.mj.call(this, a && a.Y());
  BS(this);
};
h.Yd = function(a) {
  var b = AS.j.Yd.call(this, a);
  a != b && (this.ma && this.ma.clear(), a && (this.ma ? YD(a, function(a) {
    ES(a);
    var b = this.ma;
    yS(b, a, b.a.length);
  }, this) : FS(this, a)));
  return b;
};
h.vf = function(a) {
  ES(a);
  AS.j.vf.call(this, a);
  if (this.ma) {
    var b = this.ma;
    yS(b, a, b.a.length);
  } else {
    FS(this, MP(this));
  }
  GS(this);
};
function DS(a, b) {
  if (a.ma) {
    var c = a.ma ? a.ma.b : null, d = a.ma;
    b != d.b && (xS(d.b, !1), d.b = b, xS(b, !0));
    I(d, "select");
    b != c && I(a, "change");
  }
}
h.mj = function(a) {
  if (null != a && this.ma) {
    for (var b = 0, c;c = this.ma.a[b] || null;b++) {
      if (c && "function" == typeof c.Y && c.Y() == a) {
        DS(this, c);
        return;
      }
    }
  }
  DS(this, null);
};
h.Y = function() {
  var a = this.ma ? this.ma.b : null;
  return a ? a.Y() : null;
};
function FS(a, b) {
  a.ma = new vS;
  b && YD(b, function(a) {
    ES(a);
    var b = this.ma;
    yS(b, a, b.a.length);
  }, a);
  CS(a);
}
function CS(a) {
  a.ma && X(a).listen(a.ma, "select", a.Vl);
}
function BS(a) {
  var b = a.ma ? a.ma.b : null;
  yJ(a, b ? b.Kd() : a.$b);
  var c = a.c.Ca(a.g());
  c && a.a.em(c) && (null == a.Xa && (a.Xa = vD(c, "label")), b = (b = b ? b.g() : null) ? vD(b, "label") : a.Xa, uD(c, "label", b), GS(a));
}
function GS(a) {
  var b = a.c;
  if (b && (b = b.Ca(a.g()))) {
    var c = a.K;
    b.id || (b.id = RD(QD.X()));
    tD(b, "option");
    uD(c, "activedescendant", b.id);
    a.ma && (c = a.ma.cd(), uD(b, "setsize", HS(c)), a = zS(a.ma), uD(b, "posinset", 0 <= a ? HS(ub(c, 0, a + 1)) : 0));
  }
}
function HS(a) {
  return jb(a, function(a) {
    return a instanceof XJ;
  });
}
function ES(a) {
  a.lh = a instanceof XJ ? "option" : "separator";
}
h.Da = function(a, b) {
  AS.j.Da.call(this, a, b);
  rJ(this, 64) ? MP(this).rb(this.ma ? zS(this.ma) : -1) : GS(this);
};
cJ("goog-select", function() {
  return new AS(null);
});
function IS(a, b) {
  V.call(this, b);
  this.Z(a);
  this.c = "";
  this.b = null;
}
A(IS, V);
h = IS.prototype;
h.logger = J("ydn.crm.tracking.result.DataList");
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
function JS(a) {
  return a.g().querySelector(".ydn-content .datalist");
}
h.B = function() {
  IS.j.B.call(this);
  var a = this.g();
  a.classList.add("tracking-datalist");
  var b = this.a, c = b.w("div", "datalist"), d = b.w("div", "ydn-head", null, "No result to display."), b = b.w("div", "ydn-content", [c]);
  a.appendChild(d);
  a.appendChild(b);
  R(d, !1);
};
h.A = function() {
  IS.j.A.call(this);
  X(this).listen(JS(this), "click", this.Dp);
};
h.Dp = function(a) {
  if (a = Jh(a.target, "datalist-item")) {
    var b = a.querySelector(".detail");
    b ? a.removeChild(b) : KS(this, a);
  }
};
function KS(a, b) {
  var c = b.getAttribute("data-beacon");
  KC(c).i(function(a) {
    SC(c).i(function(c) {
      var f = b.querySelector(".detail");
      f ? f.innerHTML = "" : (f = document.createElement("div"), f.className = "detail", b.appendChild(f));
      var g = document.createElement("div");
      g.className = "hit-list";
      f.appendChild(g);
      for (f = 0;f < c.length;f++) {
        var k = c[f];
        if (!(k.Recorded < a.recorded || k.AccessUserId && k.AccessUserId == k.User)) {
          var l = jI("template-tracking-detail-item").content;
          g.appendChild(l.cloneNode(!0));
          l = g.lastElementChild.firstElementChild;
          "r" == k.Tracker ? (l.children[0].appendChild(Pw("link")), l.children[2].textContent = "link", l.children[2].href = k.Query, l.children[0].setAttribute("title", "Click link on " + k.Query)) : "t" == k.Tracker && (l.children[0].appendChild(Pw("mail")), l.children[0].setAttribute("title", "Open your email titled: " + a.subject));
          l.children[1].textContent = OC(k);
          l.children[3].textContent = Gq(k.Recorded);
          l.children[1].setAttribute("title", "IP: " + k.Ip);
          l.children[3].setAttribute("title", (new Date(k.Recorded)).toLocaleString());
        }
      }
    }, this);
  }, a);
}
function LS(a, b, c) {
  var d = JS(a).children[b];
  d.querySelector(".recipient").textContent = c.recipients.join(", ");
  d.querySelector(".subject").textContent = c.subject;
  d.setAttribute("data-beacon", c.path);
  SC(c.path).u(function(a) {
    a = RC(c, a);
    30 < a.subject.length && d.querySelector(".subject").setAttribute("title", a.subject);
    d.querySelector(".opens").textContent = a.opens;
    d.querySelector(".clicks").textContent = a.clicks;
    d.querySelector(".lastopen").textContent = a.lastOpen;
  }, function(a) {
    window.console.error(a.stack || a);
  }, a);
}
h.refresh = function(a) {
  a && (this.c = a);
  if (!this.c) {
    return C(0);
  }
  a = null;
  this.b && (a = pj(this.c + "/" + this.b));
  return LC(20, a).u(function(a) {
    var c = JS(this), d = jI("template-tracking-datalist").content, e = this.g().querySelector(".ydn-head");
    if (0 == a.length) {
      return c.innerHTML = "", R(e, !0), 0;
    }
    for (e = 0;e < a.length;e++) {
      c.children[e] || c.appendChild(d.cloneNode(!0)), LS(this, e, a[e]);
    }
    for (e = c.childElementCount - 1;e >= a.length;e--) {
      c.removeChild(c.children[e]);
    }
    return a.length;
  }, function(a) {
    window.console.error(a.stack || a);
  }, this);
};
function MS(a, b) {
  V.call(this, b);
  this.Z(a);
  this.c = "";
  this.b = null;
}
A(MS, V);
MS.prototype.logger = J("ydn.crm.tracking.result.Feed");
MS.prototype.T = function() {
  return this.g().querySelector(".ydn-content");
};
MS.prototype.B = function() {
  MS.j.B.call(this);
  var a = this.g();
  a.classList.add("tracking-feed");
  var b = this.a, c = b.w("div", "datalist"), d = b.w("div", "ydn-head", null, "No result to display."), b = b.w("div", "ydn-content", [c]);
  a.appendChild(d);
  a.appendChild(b);
  R(d, !1);
};
function NS(a, b, c) {
  var d = a.g().querySelector(".ydn-content .datalist").children[b];
  b = c.Path.replace(".gif", "").replace(/\/$/, "");
  LC(1, nj(b)).u(function(a) {
    if (a = a[0]) {
      if (c.Recorded < a.recorded) {
        R(d, !1);
      } else {
        if (c.AccessUserId && c.AccessUserId == c.User) {
          R(d, !1);
        } else {
          var b = a.recipients[0], g = OC(c);
          g && (b += " from " + g);
          d.querySelector(".recipient").textContent = b;
          d.querySelector(".verb").textContent = "r" == c.Tracker ? " click " + c.Query + " " : " open " + a.subject + " ";
          d.querySelector(".object").textContent = "on " + (new Date(c.Recorded)).toLocaleString() + ".";
          a = d.textContent.replace(/\n/g, " ");
          d.setAttribute("title", a);
        }
      }
    } else {
      R(d, !1);
    }
  }, function(a) {
    window.console.error(a.stack || a);
  }, a);
}
MS.prototype.refresh = function(a) {
  a && (this.c = a);
  if (!this.c) {
    return C(0);
  }
  a = null;
  this.b && (a = pj(this.b));
  return NC(40, a).u(function(a) {
    var c = this.g().querySelector(".ydn-content .datalist"), d = this.g().querySelector(".ydn-head");
    if (0 == a.length) {
      return c.innerHTML = "", R(d, !0), 0;
    }
    R(d, !1);
    for (var d = jI("template-tracking-feeditem").content, e = 0;e < a.length;e++) {
      c.children[e] || c.appendChild(d.cloneNode(!0)), NS(this, e, a[e]);
    }
    for (e = c.childElementCount - 1;e >= a.length;e--) {
      c.removeChild(c.children[e]);
    }
    return a.length;
  }, function(a) {
    window.console.error(a.stack || a);
  }, this);
};
function OS(a, b, c) {
  V.call(this, c);
  this.Z(a);
  this.b = b;
  this.c = new AS(null, null, sS.X());
  this.c.vf(new uS("Message"));
  this.c.vf(new uS("Feed"));
  this.c.ab("View");
}
A(OS, V);
h = OS.prototype;
h.logger = J("ydn.crm.tracking.result.Page");
h.m = function() {
  return OS.j.m.call(this);
};
h.B = function() {
  OS.j.B.call(this);
  var a = this.g(), b = jI("template-tracking-sidebar").content;
  a.appendChild(b.cloneNode(!0));
  b = a.querySelector(".sidebar-content");
  R(a.querySelector(".sidebar-head"), !1);
  R(b, !0);
  b = Pw("envelope-open");
  a.querySelector(".head-icon").appendChild(b);
  var b = PS(this), c = Pw("expand-more");
  b.appendChild(c);
  this.c.render(a.querySelector(".select-view"));
  a = this.c;
  a.ma && DS(a, a.ma.a[0] || null);
  b = this.m();
  a = new IS(b);
  b = new MS(b);
  this.H(a, !0);
  this.H(b, !0);
};
h.T = function() {
  return this.g().querySelector(".sidebar-content");
};
function PS(a) {
  return a.g().querySelector(".more-less-toggle");
}
h.A = function() {
  OS.j.A.call(this);
  var a = X(this);
  a.listen(this.b, ["login", "logout"], this.mo);
  var b = this.g().querySelector("input.picker");
  a.listen(b, "change", this.Zn);
  a.listen(this.c, "change", this.jo);
  a.listen(PS(this), "click", this.hn);
  MC().i(function(a) {
    I(this, new CQ("TrackingPage", !!a, this));
    a || X(this).listen(this.m(), "bh", this.Pj);
  }, this);
};
h.Pj = function() {
  QS(this);
};
function QS(a) {
  MC().i(function(a) {
    I(this, new CQ("TrackingPage", !!a, this));
    a && X(this).ca(this.m(), "bh", this.Pj);
  }, a);
}
h.hn = function() {
  var a = PS(this), b = a.querySelector("svg"), c = this.T();
  if (ei(c)) {
    var d = Pw("expand-more");
    a.removeChild(b);
    a.appendChild(d);
    R(c, !1);
  } else {
    d = Pw("expand-less"), a.removeChild(b), a.appendChild(d), R(c, !0), this.refresh();
  }
};
h.mo = function() {
  this.refresh();
};
h.jo = function() {
  this.refresh();
};
h.Zn = function(a) {
  (a = a.b.valueAsDate) ? (a = a.getTime(), a += 864E5, Z(this, 1).b = a || null, Z(this, 0).b = a || null) : (Z(this, 1).b = null, Z(this, 0).b = null);
  this.refresh();
};
h.Ep = function() {
  if (IE(this.b)) {
    var a = this.b.a.Id.$t, b = y() - 864E5;
    VC(this.m(), a, b).i(function(a) {
      var b = this.g().querySelector(".stat-panel.opens"), e = this.g().querySelector(".stat-panel.clicks");
      b.textContent = a.opens + "/" + a.aj;
      e.textContent = a.clicks + "/" + a.Lj;
    }, this);
  }
};
h.refresh = function() {
  var a = this.g().querySelector(".tracking-sidebar");
  if (this.b && JE(this.b)) {
    if (R(a, !0), Df(this.Ep, 1E3, this), a = this.T(), ei(a)) {
      var a = this.c, a = a.ma ? zS(a.ma) : -1, b = this.b.a.Id.$t, c = Z(this, 1), d = Z(this, 0);
      1 == a ? (R(d.g(), !1), R(c.g(), !0), c.refresh(b)) : (R(c.g(), !1), R(d.g(), !0), d.refresh(b));
      I(this, new G("change", this));
    }
  } else {
    R(a, !1);
  }
};
h.toString = function() {
  return "TrackingPage";
};
h.Nc = function() {
  this.refresh();
};
function RS(a, b) {
  V.call(this);
  this.s = b;
  this.b = "";
}
A(RS, V);
RS.prototype.B = function() {
  RS.j.B.call(this);
  var a = this.g();
  a.classList.add("spotlight");
  a.classList.add("tracking-result-person");
  a.innerHTML = '\n      <div class="title-row">\n        <a class="ydn-title">Email Tracking Results</a>\n        <div class="ydn-center"></div>\n        <div class="right"><button style="display: none;" name="view-detail">&rarr;</button></div>\n      </div>\n      <div class="panel">\n        <div class="result">\n          <div class="sent">\n            <div class="count">0</div>\n            <div class="label">Sent</div>\n          </div>\n          <div class="opens" title="Number of emails open excluding self-open.">\n            <div class="count">0</div>\n            <div class="label">Opens</div>\n          </div>\n          <div class="clicks" title="Number of links clicks.">\n            <div class="count">0</div>\n            <div class="label">Clicks</div>\n          </div>\n           <div class="reply" style="display: none;">\n            <div class="count">0</div>\n            <div class="label">Replies</div>\n          </div>\n        </div>\n        <div class="footer-label">Last 7 days</div>\n      </div>';
};
RS.prototype.A = function() {
  RS.j.A.call(this);
  var a = this.la();
  a && a instanceof SS && X(this).listen(a, TS, this.c);
};
RS.prototype.T = function() {
  return this.g().querySelector(".panel");
};
function US(a) {
  a = a.T();
  a.querySelector(".sent .count").innerHTML = "&nbsp;";
  a.querySelector(".opens .count").innerHTML = "&nbsp;";
  a.querySelector(".clicks .count").innerHTML = "&nbsp;";
  a.querySelector(".reply .count").innerHTML = "&nbsp;";
}
RS.prototype.c = function(a) {
  var b = this.g();
  if (a.f && a.f.a) {
    R(b, !0);
    US(this);
    this.b = a.f.a;
    a = y() - 6048E5;
    b.querySelector(".sent").setAttribute("title", "Number of tracked emails sent to " + this.b + " since " + (new Date(a)).toLocaleDateString());
    var c = {email:this.b, opens:0, clicks:0};
    hS(this.b, a).u(function(a) {
      if (c.email == this.b) {
        var b = a.length;
        this.T().querySelector(".sent .count").textContent = b + "";
        VS(this, c, a, 0);
      }
    }, function(a) {
      window.console.error(a);
    }, this);
  } else {
    this.b = "", R(b, !1);
  }
};
function VS(a, b, c, d) {
  if (b.email == a.b) {
    var e = c[d];
    if (e) {
      var f = d + 1;
      QC(a.s, e).u(function(a) {
        if (b.email == this.b) {
          var d = this.T();
          a.opens > a.selfOpens && b.opens++;
          d.querySelector(".opens .count").textContent = b.opens;
          a.clicks && (b.clicks += a.clicks);
          d.querySelector(".clicks .count").textContent = b.clicks;
        }
        VS(this, b, c, f);
      }, function(a) {
        window.console.error(a);
        VS(this, b, c, f);
      }, a);
    }
  }
}
;function WS() {
  this.a = null;
}
h = WS.prototype;
h.Gp = function(a) {
  a.currentTarget.hasAttribute("open") || this.refresh();
};
h.Hp = function(a) {
  if ("A" == a.target.tagName) {
    XS(this, Hh(a.target, "LI")), a.preventDefault();
  } else {
    var b = Hh(a.target, null, "svg-button");
    b && (a.preventDefault(), YS(this, b.parentElement));
  }
};
function XS(a, b, c) {
  var d = b.getAttribute("data-id").split("~")[1];
  c ? Q().send("tracking-clear-dnt", {email:d}).u(function() {
    b.querySelector(".beacon-count").style.display = "none";
  }, function() {
    Cw("Fail to delete beacons for " + d);
  }, a) : (c = "Are you sure you want to permanently delete " + b.querySelector("A.delete-beacon").getAttribute("delete-count") + " beacons and its tracking for " + d + "?", XE("Confirm permanent delete?", c, ["ok", "cancel"]).i(function(a) {
    console.log(a);
    "ok" == a && XS(this, b, !0);
  }, a));
}
function YS(a, b) {
  var c = b.getAttribute("data-id");
  if (b.classList.contains("deleted")) {
    var d = c.split("~")[1];
    Q().send("dnt-add", {email:d}).u(function() {
      b.classList.remove("deleted");
      var a = b.querySelector(".svg-button");
      a.innerHTML = "";
      a.appendChild(Pw("delete"));
      a.setAttribute("title", "Remove from Do Not Track");
    }, function() {
      Cw("Fail to re-add " + d + " to DNT");
    }, a);
  } else {
    b.classList.contains("deleting") || (b.classList.add("deleting"), Q().send("dnt-remove", {id:c}).u(function() {
      b.classList.remove("deleting");
      b.classList.add("deleted");
      var a = b.querySelector(".svg-button");
      a.innerHTML = "";
      a.appendChild(Pw("undo"));
      a.setAttribute("title", "Undo remove from Do Not Track");
    }, function(a) {
      b.classList.remove("deleting");
      Cw("Fail to delete the record " + (a.message || a));
    }, a));
  }
}
function ZS(a, b, c) {
  var d = a.a.querySelector(".dnt-list").children[b];
  if (d) {
    if (d.classList.contains("deleted")) {
      c && ZS(a, b + 1, c);
    } else {
      var e = d.getAttribute("data-id").split("~")[1], f = {query:"count", storeName:"BeaconTrack", index:"recipients", keyRange:nj(e).toJSON()};
      Q().send("tracking-query", f).u(function(a) {
        if (0 < a) {
          var f = document.createElement("span");
          f.className = "beacon-count";
          f.appendChild(document.createTextNode(" ("));
          var l = document.createElement("a");
          l.className = "delete-beacon";
          l.textContent = "delete";
          l.href = "#delete-beacon/" + e;
          l.setAttribute("delete-count", "" + a);
          f.appendChild(l);
          f.appendChild(document.createTextNode(" " + a + " tracking beacons )"));
          d.appendChild(f);
        }
        c && ZS(this, b + 1, c);
      }, function(a) {
        Cw("Fail to load count " + (a.message || a));
      }, a);
    }
  }
}
h.refresh = function() {
  this.a.querySelector(".dnt-list").innerHTML = "";
  Q().send("dnt-query", {limit:100}).u(function(a) {
    for (var b = this.a.querySelector(".dnt-list"), c = 0;c < a.length;c++) {
      var d = a[c], e = document.createElement("li"), f = document.createElement("span");
      f.className = "name";
      f.textContent = d.Target;
      d.Deleted && (e.style.display = "none", e.classList.add("deleted"));
      var g = document.createElement("div"), k = Pw("delete");
      g.appendChild(k);
      g.className = "svg-button delete";
      g.setAttribute("title", "Remove from Do Not Track");
      g.setAttribute("name", "remove");
      e.setAttribute("data-id", d.Id);
      e.appendChild(g);
      e.appendChild(f);
      b.appendChild(e);
    }
    ZS(this, 0, !0);
  }, function(a) {
    Cw("Fail to load DNT list " + (a.message || a));
  }, this);
};
h.cm = function() {
  var a = this.a.querySelector("button[name=add-email]");
  this.a.querySelector("input[name=email-add]:not(:invalid)") ? a.removeAttribute("disabled") : a.setAttribute("disabled", "true");
};
h.Fp = function() {
  var a = this.a.querySelector("input[name=email-add]"), b = this.a.querySelector("button[name=add-email]");
  b.setAttribute("disabled", "true");
  var c = a.value;
  Q().send("dnt-add", {email:c}).u(function() {
    a.value = "";
    b.removeAttribute("disabled");
    this.refresh();
  }, function() {
    Cw("Fail to add " + c + " to DNT");
    b.removeAttribute("disabled");
  }, this);
};
function $S(a) {
  V.call(this);
  this.b = a;
  this.c = new WS;
}
A($S, V);
h = $S.prototype;
h.B = function() {
  $S.j.B.call(this);
  var a = this.g(), b = jI("tracking-setting-template");
  a.appendChild(b.content.cloneNode(!0));
  b = this.c;
  a = a.querySelector(".donotrack-section");
  b.a = a;
  a = a.querySelector("button[name=add-email]");
  a.onclick = b.Fp.bind(b);
  a.setAttribute("disabled", "true");
  b.a.querySelector("input[name=email-add]").addEventListener("input", b.cm.bind(b), !1);
  a = b.a.querySelector("details");
  a.addEventListener("click", b.Gp.bind(b));
  a.addEventListener("click", b.Hp.bind(b));
};
h.A = function() {
  $S.j.A.call(this);
  var a = this.g().querySelector(".default-tracking-selection");
  X(this).listen(a, "click", this.Jp);
  a = this.g().querySelector("#notify");
  X(this).listen(a, "click", this.pn);
  X(this).listen(this.la(), "setting-page-event", this.Kp);
};
h.Kp = function(a) {
  a.name == this.toString() ? (R(this.g(), !0), this.refresh()) : R(this.g(), !1);
};
function aT(a) {
  var b = a.g().querySelector("#notify");
  b.setAttribute("disabled", "disabled");
  HE(a.b).i(function() {
    if (IE(this.b)) {
      b.removeAttribute("disabled");
      var a = this.b.h("tracking", "doNotNotify");
      YC(b, a);
    }
  }, a);
}
h.refresh = function() {
  var a = GE.X().h("tracking", "user-default"), b = this.g(), a = "always" == a ? b.querySelector('input[value="always"]') : "disable" == a ? b.querySelector('input[value="disable"]') : "track" == a ? b.querySelector('input[value="track"]') : "not-track" == a ? b.querySelector('input[value="not-track"]') : b.querySelector('input[value=""]'), b = b.querySelector("input[checked]");
  b != a && (b && b.removeAttribute("checked"), a && a.setAttribute("checked", "1"));
  aT(this);
};
h.pn = function() {
  var a = this.g().querySelector("#notify"), a = !!WC(a);
  this.b.o(a, "tracking", "doNotNotify");
};
h.Jp = function(a) {
  "INPUT" == a.target.tagName && (a = a.target.value, -1 == ["always", "disable", "track", "not-track", ""].indexOf(a) && (a = ""), GE.X().o(a, "tracking", "user-default"));
};
h.toString = function() {
  return "Email Tracking";
};
function bT() {
}
A(bT, iJ);
da(bT);
h = bT.prototype;
h.U = function() {
  return "goog-tab";
};
h.tc = function() {
  return "tab";
};
h.Ua = function(a) {
  var b = bT.j.Ua.call(this, a);
  (a = a.Tb()) && this.ab(b, a);
  return b;
};
h.Tb = function(a) {
  return a.title || "";
};
h.ab = function(a, b) {
  a && (a.title = b || "");
};
function cT(a, b, c) {
  tJ.call(this, a, b || bT.X(), c);
  this.Ka(8, !0);
  this.vd |= 9;
}
A(cT, tJ);
cT.prototype.Tb = function() {
  return this.b;
};
cT.prototype.ab = function(a) {
  this.c.ab(this.g(), a);
  this.nk(a);
};
cT.prototype.nk = function(a) {
  this.b = a;
};
cJ("goog-tab", function() {
  return new cT(null);
});
function dT() {
  this.a = "tablist";
}
A(dT, eJ);
da(dT);
dT.prototype.U = function() {
  return "goog-tab-bar";
};
dT.prototype.b = function(a) {
  var b = dT.j.b.call(this, a);
  if (!this.f) {
    var c = this.U();
    this.f = Rb(eT, c + "-top", fT, c + "-bottom", gT, c + "-start", hT, c + "-end");
  }
  b.push(this.f[a.b]);
  return b;
};
function iT(a, b, c) {
  a = a || eT;
  var d = a == gT || a == hT ? hJ : gJ;
  if (this.g()) {
    throw Error("Component already rendered");
  }
  this.Pc = d;
  this.b = a;
  FJ.call(this, this.Pc, b || dT.X(), c);
  jT(this);
}
A(iT, FJ);
var eT = "top", fT = "bottom", gT = "start", hT = "end";
h = iT.prototype;
h.kb = null;
h.A = function() {
  iT.j.A.call(this);
  jT(this);
};
h.I = function() {
  iT.j.I.call(this);
  this.kb = null;
};
h.removeChild = function(a, b) {
  kT(this, a);
  return iT.j.removeChild.call(this, a, b);
};
h.bi = function(a) {
  iT.j.bi.call(this, a);
  lT(this, Z(this, a));
};
function lT(a, b) {
  b ? b.Zd(!0) : a.kb && a.kb.Zd(!1);
}
function kT(a, b) {
  if (b && b == a.kb) {
    for (var c = $D(a, b), d = c - 1;b = Z(a, d);d--) {
      if (b.aa() && b.isEnabled()) {
        lT(a, b);
        return;
      }
    }
    for (c += 1;b = Z(a, c);c++) {
      if (b.aa() && b.isEnabled()) {
        lT(a, b);
        return;
      }
    }
    lT(a, null);
  }
}
h.Yl = function(a) {
  this.kb && this.kb != a.target && this.kb.Zd(!1);
  this.kb = a.target;
};
h.$l = function(a) {
  a.target == this.kb && (this.kb = null);
};
h.Wl = function(a) {
  kT(this, a.target);
};
h.Xl = function(a) {
  kT(this, a.target);
};
h.qe = function() {
  JJ(this) || this.rb($D(this, this.kb || Z(this, 0)));
};
function jT(a) {
  X(a).listen(a, "select", a.Yl).listen(a, "unselect", a.$l).listen(a, "disable", a.Wl).listen(a, "hide", a.Xl);
}
cJ("goog-tab-bar", function() {
  return new iT;
});
function mT(a) {
  V.call(this, a);
}
A(mT, V);
mT.prototype.B = function() {
  mT.j.B.call(this);
  this.g().classList.add("ydn-desktop-home");
};
mT.prototype.toString = function() {
  return "DesktopHome";
};
mT.prototype.Nc = function() {
  I(this, new G("page-shown", this));
};
function nT(a, b) {
  V.call(this, b);
  this.b = new iT(a ? gT : eT, void 0, b);
}
A(nT, V);
h = nT.prototype;
h.B = function() {
  nT.j.B.call(this);
  var a = this.a, b = this.g();
  zD(b, "desktop");
  var c = a.w("div", "ydn-head"), d = a.w("div", "ydn-content"), e = a.w("div", "ydn-footer");
  b.appendChild(c);
  b.appendChild(d);
  b.appendChild(e);
  this.b.b == gT && b.classList.add("start");
  oT(this, "DesktopHome", "home");
  oT(this, "ModuleHome", "sugarcrm-bw").Va(!1);
  oT(this, "SugarSearch", "search").Va(!1);
  oT(this, "RecordPage", "pencil").Va(!1);
  oT(this, "Context", "person", "Snapshot").Va(!1);
  this.b.render(c);
  a = new mT(a);
  this.H(a, !0);
};
function oT(a, b, c, d) {
  var e = a.a.w("div");
  c = Pw(c);
  e.appendChild(c);
  e = new cT(e);
  d && e.ab(d);
  a.b.H(e, !0);
  UD(e, a.N() + b);
  return e;
}
function pT(a, b) {
  for (var c = 0;c < Y(a);c++) {
    var d = Z(a.b, c);
    if (d.N().substring(a.N().length) == b) {
      return d;
    }
  }
  return null;
}
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  nT.j.A.call(this);
  var a = this.g(), b = X(this);
  b.listen(this, sI, this.Rn);
  b.listen(this.b, "select", this.Zl);
  b.listen(this, ny, this.qo);
  b.listen(this, "page-ready-state-event", this.tn);
  b.listen(a, "click", this.Pp);
  this.b.b == eT && Rw(a);
  a = this.b;
  lT(a, Z(a, 0));
};
h.Pp = function(a) {
  if (a.target && "A" == a.target.tagName) {
    var b = a.target.getAttribute("href");
    if ("#req/reload-now" == b) {
      Q().send("reload-bk").G(function() {
        location.reload();
      });
    } else {
      if (b = Uw(b)) {
        a.preventDefault(), -1 == qT(this, b.name, b.ll) && (a = "page " + b.name + " not found.", Cw(a, "", "e"), window.console.error(a));
      }
    }
  }
};
h.tn = function(a) {
  var b = a.name;
  a = a.f;
  var c = pT(this, b);
  c ? c.Va(a) : window.console.warn("tab for page " + b + " not found.");
};
h.qo = function(a) {
  qT(this, "RecordPage", a.f);
};
h.Rn = function(a) {
  qT(this, a.name, a.data);
};
h.Zl = function() {
  var a = this.b.kb;
  a && (a = a.N().substr(this.N().length), a = Sw.indexOf(a), 0 <= a && I(this, new rI(Sw[a], null, this)));
};
function qT(a, b, c) {
  for (var d = -1, e = 0;e < Y(a);e++) {
    var f = Z(a, e);
    if (f.toString() == b) {
      d = e;
      break;
    }
  }
  if (0 <= d) {
    for (e = 0;e < Y(a);e++) {
      var g = f = Z(a, e), k = e == d;
      R(f.g(), k);
      if (k && (g.Nc(c), "RecordPage" == g.toString() && (f = pT(a, "RecordPage"), f.Va(!0)), k = a.N() + b, f = a.b.kb, !f || f.N() != k)) {
        f = a;
        a: {
          for (var g = f, l = 0;l < Y(g.b);l++) {
            var m = Z(g.b, l);
            if (m.N() == k) {
              g = m;
              break a;
            }
          }
          g = null;
        }
        g && lT(f.b, g);
      }
    }
  }
  return d;
}
h.H = function(a, b) {
  nT.j.H.call(this, a, b);
  var c = a.g();
  c && R(c, !1);
};
function QR(a, b) {
  for (var c = 0;c < Y(a);c++) {
    var d = Z(a, c);
    if (d.toString() == b) {
      return d;
    }
  }
  return null;
}
function RR(a) {
  return QR(a, "SettingPage");
}
;function rT(a, b, c, d, e, f) {
  this.a = a;
  this.o = b;
  this.h = e;
  this.l = f || null;
  this.b = null;
  new fS(a, c, d);
  this.c = new gS;
  this.f = null;
}
rT.prototype.init = function(a) {
  oT(a, "TrackingPage", "near-me", "Email tracking").Va(!1);
  this.f = new OS(this.c, this.a);
  var b = new pS(this.c, this.a);
  QR(a, "DesktopHome").H(b, !0);
  a.H(this.f, !0);
  b = new $S(this.a);
  RR(a).H(b, !0);
  a = b.g();
  a.classList.add("widget-content");
  a.classList.add("setting-panel");
  ud(this.a, ["login", "logout"], this.J, !1, this);
  sT(this);
  a = new RS(0, this.c);
  this.l.H(a, !0);
};
rT.prototype.J = function() {
  sT(this);
};
function sT(a) {
  if (JE(a.a) && !a.b) {
    a.b = new kS(a.c);
    var b;
    b = a.b;
    var c = document.createElement("div");
    c.className = "tracking-result";
    var d = Pw("visibility"), e = document.createElement("div");
    e.appendChild(d);
    var d = document.createElement("div"), f = document.createElement("a");
    d.appendChild(f);
    f.className = "label";
    f.setAttribute("target", "option-page");
    c.appendChild(e);
    c.appendChild(d);
    b.a = c;
    b = b.a;
    c = a.h.a.firstElementChild.children[1];
    c.firstElementChild ? c.insertBefore(b, c.firstElementChild) : c.appendChild(b);
    b = a.o;
    b.c = a.b;
    b.a = [];
  }
}
;function tT(a, b) {
  G.call(this, uT);
  this.email = a;
  this.f = b;
}
A(tT, G);
function vT(a) {
  G.call(this, wT);
  this.email = a;
}
A(vT, G);
function xT(a) {
  G.call(this, yT);
  this.wa = a;
}
A(xT, G);
function zT(a) {
  G.call(this, AT);
  this.f = a;
}
A(zT, G);
function BT(a) {
  G.call(this, CT);
  this.f = a;
}
A(BT, G);
function DT(a, b) {
  G.call(this, ET);
  this.module = a;
  this.f = b;
}
A(DT, G);
var uT = "dt", ET = "rr", AT = "er", CT = "pc", yT = "mc", wT = "am";
function FT(a) {
  H.call(this);
  this.h = a;
  this.a = null;
  this.l = {};
  this.b = {};
  this.f = null;
  this.s = new lB(this.D, 1E3, this);
  this.c = this.o = "";
}
A(FT, H);
FT.prototype.h = null;
FT.prototype.D = function() {
  if (!this.c) {
    var a = Object.keys(this.l);
    0 != a.length && GT(this, a[a.length - 1]);
  }
};
FT.prototype.reset = function() {
  this.l = {};
  HT(this);
  I(this, new G("gn"));
};
function HT(a) {
  for (var b in a.b) {
    wc(a.b[b]);
  }
  a.b = {};
  a.c = "";
  a.f && wc(a.f);
  a.f = null;
  a.o = "";
}
function IT(a) {
  return a.l[a.c] || {Ya:"", Gb:"", Ob:null, subject:"", xc:"", wa:""};
}
function GT(a, b) {
  a.l[b] && a.c != b && (HT(a), a.c = b, I(a, new xT(b)), JT(a));
}
function JT(a) {
  if (a.a && Ey(a.a)) {
    var b = a.c;
    KT(a).i(function(a) {
      a && b == this.c && ky(this.a, "Emails", a.id, 10).c(function(a) {
        b == this.c && a && a[0] && I(this, new DT(a[0]._module, a));
      }, this);
    }, a);
    for (var c = IT(a).Gb.split(", ").concat(IT(a).Ya), d = 0;d < c.length;d++) {
      c[d] != a.h.Za && LT(a, c[d]);
    }
  }
}
function LT(a, b) {
  if (!a.b[b]) {
    if (!a.a || !Ey(a.a)) {
      return window.console.error("No sugar instance"), D(Error("Noo sugar"));
    }
    a.b[b] = Ly(a.a, b, ["Contacts", "Accounts", "Leads", "Users"], !1, !0).i(function(a) {
      a[0] && I(this, new tT(b, a[0]));
      return a[0] || null;
    }, a);
  }
  return Bc(a.b[b]);
}
function MT(a) {
  return IT(a).Ya == a.h.Za;
}
function KT(a) {
  if (!a.a || !Ey(a.a)) {
    return D(Error("No Sugar"));
  }
  a.f || (IT(a).wa ? a.f = Ry(a.a, IT(a).wa) : a.f = D("mid not set"), a.f.i(function(a) {
    I(this, new zT(a));
    a && a.parent_id && a.parent_type && this.a.send("get", {module:a.parent_type, id:a.parent_id}).i(function(a) {
      I(this, new BT(a));
    }, this);
  }, a));
  return Bc(a.f);
}
;function NT(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(NT, V);
h = NT.prototype;
h.m = function() {
  return NT.j.m.call(this);
};
h.B = function() {
  NT.j.B.call(this);
  var a = this.g();
  a.className = "ydn-email-header";
  a.innerHTML = '\n  <div class="flex-bar record-header Emails">\n    <span class="icon">Em</span>\n    <a class="ydn-subject ydn-center" target="_blank" title="View in CRM"></a>\n  </div>\n  <div class="flex-bar ydn-meta">\n    <div><span name="emailer"></span> <span name="emailer-addtional"></span></div>\n    <div class="ydn-center"></div>\n  <div name="right"></div>\n  </div>\n</div>';
  a = this.g().querySelector(".Emails .icon");
  R(a, !1);
};
h.A = function() {
  NT.j.A.call(this);
  var a = X(this);
  a.listen(this.m(), yT, this.$o);
  a.listen(this.m(), "gn", this.en);
};
h.$o = function() {
  OT(this);
};
h.en = function() {
};
function OT(a) {
  var b = IT(a.m());
  if (a.g().getAttribute("data-mid") != b.wa) {
    a.g().setAttribute("data-mid", b.wa);
    var c = a.g().querySelector(".ydn-subject"), d = a.g().querySelector(".Emails .icon");
    R(d, !1);
    c.textContent = b.subject;
    c.removeAttribute("href");
    c = a.g().querySelector(".ydn-meta");
    if (b.Ya) {
      var d = "From: " + b.Ya, e = "";
      if (MT(a.m())) {
        var f = b.Gb.split(","), d = "To: " + f[0];
        1 < f.length && (e = "+" + (f.length - 1) + " others");
      }
      c.querySelector('[name="emailer"]').textContent = d;
      c.querySelector('[name="emailer-addtional"]').textContent = e;
      b.Ob ? (b = Gq(+b.Ob) || b.Ob.toLocaleDateString(), c.querySelector('[name="right"]').textContent = b) : c.querySelector('[name="right"]').textContent = "";
      KT(a.m()).i(function(a) {
        if (a) {
          var b = this.g().querySelector(".Emails .icon");
          R(b, !0);
          b = this.g().querySelector(".ydn-subject");
          a.name && (b.textContent = a.name);
          b.href = ey(this.m().a, "Emails", a.id);
        }
      }, a);
    } else {
      R(c, !1);
    }
  }
}
;function PT(a, b) {
  V.call(this, b);
  this.b = new xQ(QT(RT));
  this.b.Z(RT);
  this.F = a || null;
  this.s = new bK;
  this.c = null;
}
A(PT, V);
var RT = "add,Contacts";
h = PT.prototype;
h.B = function() {
  PT.j.B.call(this);
  var a = this.a, b = this.g();
  b.classList.add("ydn-create-contact-panel");
  b.innerHTML = '\n    <div class="header">\n      <div class="flex-bar">\n        <span class="icon"></span>\n      <span class="ydn-center">\n        <a></a>\n      </span>\n        <span class="menu-holder"></span>\n      </div>\n      <div class="header-content"></div>\n    </div>\n    <div class="ydn-content"></div>\n    <div class="ydn-footer"></div>\n';
  R(b, !1);
  R(this.T(), !1);
  b = b.querySelector(".ydn-footer");
  a = a.w("div");
  b.appendChild(a);
  this.b.render(a);
  wJ(this.b, "goog-custom-button-collapse-right");
  UD(this.s, "ComboMenu");
  this.s.H(new XJ(QT("add,Leads"), "add,Leads"), !0);
  this.s.H(new XJ(QT("add,Accounts"), "add,Accounts"), !0);
  this.s.H(new XJ(QT(RT), RT), !0);
  var b = new JP(null, this.s), c = this.b.g();
  b.ge = c;
  NP(b);
  wJ(b, "goog-menu-button-collapse-left");
  b.render(a);
};
h.A = function() {
  PT.j.A.call(this);
  this.g();
  X(this).listen(this.s, "action", this.Vo);
  X(this).listen(this.b, "action", this.Uo);
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
function QT(a) {
  a = a.split(",");
  var b = "new" == a[0] ? "Create as " : "add" == a[0] ? "Add as " : "";
  "Accounts" == a[1] ? b += "Accounts" : "Leads" == a[1] ? b += "Leads" : "Contacts" == a[1] && (b += "Contacts");
  return b;
}
h.Vo = function(a) {
  if (a.target instanceof XJ) {
    a = a.target;
    var b = a.m();
    yJ(a, QT(this.b.m()));
    a.Z(this.b.m());
    this.b.Z(b);
    yJ(this.b, QT(b));
  }
};
h.Uo = function() {
  var a = this.b.m().split(","), b = a[1];
  "add" == a[0] ? (this.b.setEnabled(!1), ST(this, b).G(function() {
    this.b.setEnabled(!0);
  }, this)) : TT(this, b);
};
function UT(a, b) {
  G.call(this, "rce", this);
  this.f = a;
  this.l = b;
}
A(UT, G);
function ST(a, b) {
  return a.F ? Xx(a.F, new tr(a.F.L(), b, sH(a.c, b))).i(function(a) {
    R(this.g(), !1);
    I(this, new UT(this.c, a));
  }, a) : D("No sugar instance");
}
function TT(a, b) {
  eI(a.g());
  I(a, new my(sH(a.c, b), a));
}
function VT(a) {
  var b = a.g(), c = b.querySelector(".header .header-content");
  if (a.c) {
    var d = a.c.b, e = a.c.a, f = b.querySelector(".header a");
    R(b.querySelector(".header .icon"), !1);
    f.removeAttribute("href");
    f.removeAttribute("title");
    d ? (f.textContent = d, c.textContent = e) : c.textContent = "";
    R(c, !!e);
    R(b, !0);
    a.b.setEnabled(!0);
  } else {
    R(b, !1);
  }
}
PT.prototype.bg = function(a) {
  this.F = a;
};
function WT(a) {
  V.call(this, a);
}
A(WT, V);
function XT(a, b) {
  var c = YT(a);
  c.innerHTML = "";
  var d = Pw(zG[b] ? b : "language");
  c.setAttribute("name", b);
  c.appendChild(d);
}
WT.prototype.Z = function(a) {
  var b = this.m(), b = !!a && (!b || b.ub() != a.ub());
  WT.j.Z.call(this, a);
  b && XT(this, a.ub());
  this.b();
};
WT.prototype.b = function() {
  var a = this.g();
  ZT(this);
  var b = $T(this);
  b.innerHTML = "";
  var c = this.m();
  if (c && 0 < c.a.length) {
    R(a, !0);
    YT(this).setAttribute("title", c.ub());
    a.classList.add("exist");
    R(b, !0);
    a = VG(c);
    b = jI("template-detail-generic").content;
    c = $T(this);
    c.innerHTML = "";
    c.appendChild(b.cloneNode(!0));
    R(c, !0);
    b = c.querySelector(".header");
    c = b.querySelector(".name a");
    c.textContent = EG(a);
    var d = a.wb();
    d ? c.href = d : c.removeAttribute("href");
    c = a.Kb();
    d = b.querySelector(".logo img");
    c && /^https:/.test(c) ? d.src = c : d.removeAttribute("src");
    b.querySelector(".description").textContent = a.Ec() || "";
    c = b.querySelector(".followers");
    a.oc() ? c.textContent = a.oc() : R(c.parentElement, !1);
    b = b.querySelector(".following");
    a.pc() ? b.textContent = a.pc() : R(b.parentElement, !1);
  } else {
    R(a, !1), R(b, !1), a.classList.add("empty");
  }
};
function ZT(a) {
  var b = a.g(), c = "tooltip-container";
  (a = a.m()) && (c += " " + a.ub());
  b.className = c;
}
WT.prototype.B = function() {
  WT.j.B.call(this);
  var a = this.g(), b = document.createElement("div"), c = document.createElement("div");
  ZT(this);
  b.classList.add("tooltip-host");
  c.classList.add("tooltip-detail");
  R(c, !1);
  b.classList.add("svg-button");
  a.appendChild(b);
  a.appendChild(c);
  R(a, !1);
};
function $T(a) {
  return a.g().querySelector(".tooltip-detail");
}
function YT(a) {
  return a.g().querySelector(".tooltip-host");
}
;function aU(a, b) {
  V.call(this, b);
  this.network = a;
}
A(aU, WT);
aU.prototype.B = function() {
  aU.j.B.call(this);
  XT(this, this.network);
  R(this.g(), !0);
};
aU.prototype.Z = function(a) {
  if (a && a.ub() != this.network) {
    throw Error("X " + this.network + " to " + a.ub());
  }
  aU.j.Z.call(this, a);
};
function bU(a) {
  aU.call(this, wG, a);
}
A(bU, aU);
bU.prototype.A = function() {
  bU.j.A.call(this);
  var a = X(this), b = YT(this);
  a.listen(b, "click", this.c);
};
bU.prototype.b = function() {
  var a = this.g();
  ZT(this);
  YT(this).setAttribute("title", "AngelList");
  var b = $T(this);
  b.innerHTML = "";
  var c = this.m();
  if (c = c ? VG(c) : null) {
    R(a, !0);
    a.classList.add("exist");
    R(b, !0);
    a = jI("template-detail-" + vG).content;
    b = $T(this);
    b.innerHTML = "";
    b.appendChild(a.cloneNode(!0));
    R(b, !0);
    a = b.querySelector(".header");
    b = a.querySelector(".name a");
    b.textContent = EG(c);
    var d = c.wb();
    d ? b.href = d : b.removeAttribute("href");
    b = c.Kb();
    d = a.querySelector(".logo img");
    b ? d.src = b : d.removeAttribute("src");
    a.querySelector(".description").textContent = c.Ec() || "";
    a.querySelector(".followers").textContent = c.oc() || "";
    a.querySelector(".following").textContent = c.pc() || "";
    cU(this);
  } else {
    R(a, !1), R(b, !1), a.classList.add("empty");
  }
};
function dU(a, b) {
  if (b) {
    var c = b.map(function(a) {
      return a.display_name;
    });
    a.textContent = c.join(", ");
  }
}
function cU(a) {
  var b = a.m();
  if (b) {
    var c = a.g(), d = $T(a);
    c.classList.add("working");
    c.classList.remove("exist");
    FG(VG(b)).u(function(a) {
      c.classList.remove("working");
      if (a) {
        c.classList.add("exist");
        var b = jI("template-detail-" + wG).content;
        d.innerHTML = "";
        d.appendChild(b.cloneNode(!0));
        R(d, !0);
        var b = d.querySelector(".header"), g = b.querySelector(".name a");
        g.textContent = a.name;
        g.href = a.angellist_url;
        b.querySelector(".description").textContent = a.bio || "";
        b.querySelector(".followers").textContent = a.follower_count;
        var g = b.querySelector(".location"), k = a.locations;
        if (k) {
          for (var l = [], m = 0;m < k.length;m++) {
            k[m].value && l.push(k[m].value);
          }
          g.textContent = l.join(", ");
        }
        dU(b.querySelector(".roles"), a.roles);
      }
    }, function(a) {
      R(d, !1);
      c.classList.remove("working");
      "HostPermissionError" == a.name ? (c.classList.add("alert"), YT(this).setAttribute("title", "Click to grant access to AngelList API")) : (Cw("Fetching AngelList fail: " + String(a)), c.classList.add("error"));
    }, a);
  }
}
bU.prototype.c = function() {
  cU(this);
};
function eU(a) {
  aU.call(this, "facebook", a);
}
A(eU, aU);
eU.prototype.A = function() {
  eU.j.A.call(this);
  var a = X(this), b = YT(this);
  a.listen(b, "click", this.c);
};
eU.prototype.b = function() {
  var a = this.g();
  ZT(this);
  var b = $T(this);
  YT(this).setAttribute("title", "Facebook");
  b.innerHTML = "";
  var c = this.m();
  if (c = c ? VG(c) : null) {
    a.classList.add("exist");
    R(b, !0);
    a = jI("template-detail-facebook").content;
    b = $T(this);
    b.innerHTML = "";
    b.appendChild(a.cloneNode(!0));
    R(b, !0);
    a = b.querySelector(".header");
    b = a.querySelector(".name a");
    b.textContent = EG(c);
    var d = c.wb();
    d ? b.href = d : b.removeAttribute("href");
    b = c.Kb();
    d = a.querySelector(".logo img");
    b ? d.src = b : d.removeAttribute("src");
    a.querySelector(".description").textContent = c.Ec() || "";
  } else {
    R(b, !1), a.classList.add("empty");
  }
};
eU.prototype.c = function() {
};
function fU(a) {
  aU.call(this, xG, a);
}
A(fU, aU);
fU.prototype.A = function() {
  fU.j.A.call(this);
  var a = X(this), b = YT(this);
  a.listen(b, "click", this.c);
};
fU.prototype.b = function() {
  var a = this.g();
  ZT(this);
  var b = $T(this), c = this.m();
  if (c = c ? VG(c) : null) {
    a.classList.add("exist");
    R(b, !0);
    a = jI("template-detail-" + vG).content;
    b = $T(this);
    b.innerHTML = "";
    b.appendChild(a.cloneNode(!0));
    R(b, !0);
    a = b.querySelector(".header");
    b = a.querySelector(".name a");
    b.textContent = EG(c);
    var d = c.Kb();
    d ? b.href = d : b.removeAttribute("href");
    b = c.Kb();
    d = a.querySelector(".logo img");
    b ? d.src = b : d.removeAttribute("src");
    a.querySelector(".description").textContent = c.Ec() || "";
    a.querySelector(".followers").textContent = c.oc() || "";
    a.querySelector(".following").textContent = c.pc() || "";
    gU(this);
  } else {
    R(b, !1), a.classList.add("empty");
  }
};
function gU(a) {
  var b = a.m();
  if (b = b ? VG(b) : null) {
    var c = a.g(), d = $T(a);
    c.classList.add("working");
    c.classList.remove("exist");
    FG(b).u(function(a) {
      c.classList.remove("working");
      if (a) {
        c.classList.add("exist");
        var b = jI("template-detail-" + xG).content;
        d.innerHTML = "";
        d.appendChild(b.cloneNode(!0));
        R(d, !0);
        var b = d.querySelector(".header"), g = b.querySelector(".name a");
        g.textContent = a.displayName;
        g.href = a.url;
        b.querySelector(".description").textContent = a.tagline || "";
        a.image && (b.querySelector(".logo img").src = a.image.url);
        a: {
          var g = b.querySelector(".location"), k = a.placesLived;
          if (k) {
            for (var l, m = 0;m < k.length;m++) {
              if (k[m].value) {
                if (k[m].primary) {
                  g.textContent = k[m].value;
                  break a;
                }
                l = k[m].value;
              }
            }
            g.textContent = l;
          }
        }
        l = b.querySelector(".work");
        b = b.querySelector(".school");
        if (a = a.organizations) {
          for (g = a.length - 1;0 <= g;g--) {
            var k = a[g], m = k.startDate || "", n = k.endDate || "", p = k.title ? k.title + ", " : "";
            if ("school" == k.type) {
              var r = document.createElement("div");
              r.textContent = p + k.name + " [" + m + "-" + n + "]";
              b.appendChild(r);
            } else {
              r = document.createElement("div"), r.textContent = p + k.name + " [" + m + "-" + n + "]", l.appendChild(r);
            }
          }
        }
      }
    }, function(a) {
      R(d, !1);
      c.classList.remove("working");
      "HostPermissionError" == a.name ? (c.classList.add("alert"), YT(this).setAttribute("title", "Click to grant access to Google Plus API")) : (Cw("Fetching Google Plus fail: " + String(a)), c.classList.add("error"));
    }, a);
  }
}
fU.prototype.c = function() {
  gU(this);
};
function hU(a) {
  aU.call(this, "linkedin", a);
}
A(hU, aU);
hU.prototype.A = function() {
  hU.j.A.call(this);
  var a = X(this), b = YT(this);
  a.listen(b, "click", this.c);
};
hU.prototype.b = function() {
  var a = this.g();
  ZT(this);
  var b = $T(this), c = this.m();
  if (c = c ? VG(c) : null) {
    a.classList.add("exist");
    R(b, !0);
    a = jI("template-detail-" + vG).content;
    b = $T(this);
    b.innerHTML = "";
    b.appendChild(a.cloneNode(!0));
    R(b, !0);
    a = b.querySelector(".header");
    b = a.querySelector(".name a");
    b.textContent = EG(c);
    var d = c.wb();
    d ? b.href = d : b.removeAttribute("href");
    b = c.Kb();
    d = a.querySelector(".logo img");
    b ? d.src = b : d.removeAttribute("src");
    a.querySelector(".description").textContent = c.Ec() || "";
    a.querySelector(".followers").textContent = c.oc() || "";
    a.querySelector(".following").textContent = c.pc() || "";
  } else {
    R(b, !1), a.classList.add("empty");
  }
};
hU.prototype.c = function() {
};
function iU() {
  this.a = document.createElement("div");
  this.target = null;
  this.M = new zf(this);
}
iU.prototype.render = function(a) {
  var b = document.createElement("div"), c = document.createElement("div");
  this.a.className = "tooltip-container";
  b.classList.add("tooltip-host");
  c.classList.add("tooltip-detail");
  b.classList.add("svg-button");
  var d = Pw("menu");
  b.appendChild(d);
  this.a.appendChild(b);
  this.a.appendChild(c);
  a.appendChild(this.a);
  jU(this);
  this.M.listen(this.a, "click", this.b);
};
iU.prototype.b = function(a) {
  if (a.target instanceof Element && a.target.classList.contains("show-source")) {
    a.preventDefault();
    a.stopPropagation();
    a = a.target.getAttribute("name");
    var b = "Raw data for " + BG(a), c = document.createElement("div"), d = "";
    "cb" == a ? d = JSON.stringify(this.target.data.cb, null, 2) : "pp" == a ? d = JSON.stringify(this.target.data.pp, null, 2) : "fc" == a ? d = JSON.stringify(this.target.data.fc, null, 2) : "vb" == a && (d = JSON.stringify(this.target.data.vb, null, 2));
    c.innerHTML = '<div>\n    <div class="raw-source-content">\n      <pre>' + d + '</pre>\n    </div>\n    <p class="power-by">Power by <a href="' + ("pp" == a ? "https://pipl.com" : "cb" == a ? "https://clearbit.com" : "td" == a ? "TowerData" : "fc" == a ? "https://www.fullcontact.com/" : "vb" == a ? "https://vibeapp.co" : "") + '">' + BG(a) + "</a></p>\n  </div>";
    XE(b, c);
  }
};
function jU(a) {
  var b = a.a.querySelector(".tooltip-detail"), c = jI("template-social-menu").content;
  b.innerHTML = "";
  b.appendChild(c.cloneNode(!0));
  if (a.target) {
    var d = b.querySelector(".header"), c = b.querySelector(".social-start-menu > .ydn-content");
    d.querySelector(".name").textContent = ZG(a.target);
    d.querySelector(".description").textContent = aH(a.target);
    var e = $G(a.target), d = d.querySelector(".logo img");
    e ? d.src = e : d.removeAttribute("src");
    b.querySelector(".location").textContent = bH(a.target);
    e = b.querySelector(".employment");
    if (d = cH(a.target)) {
      if (d.title && (e.textContent = d.title + ", "), d.Ui) {
        var f = document.createElement("a");
        f.textContent = d.company;
        f.href = d.Ui;
        f.setAttribute("target", "_blank");
        f.setAttribute("title", d.hl || "");
        e.appendChild(f);
      } else {
        d.company && (e.textContent += d.company);
      }
    }
    var e = dH(a.target), g;
    for (g in e) {
      d = document.createElement("div"), d.textContent = g + ": " + e[g], c.appendChild(d);
    }
    var k = b.querySelector(".sources"), b = function(a) {
      var b = document.createElement("a");
      b.href = "#" + a;
      b.textContent = a.toUpperCase();
      b.className = "show-source";
      b.setAttribute("name", a);
      b.setAttribute("title", "Show raw data for " + BG(a));
      k.appendChild(b);
    };
    a.target.data.cb && b("cb");
    a.target.data.fc && b("fc");
    a.target.data.pp && b("pp");
    a.target.data.vb && b("vb");
  }
}
;function kU(a) {
  aU.call(this, vG, a);
}
A(kU, aU);
kU.prototype.A = function() {
  kU.j.A.call(this);
  var a = X(this), b = YT(this);
  a.listen(b, "click", this.c);
};
function lU(a) {
  var b = a.g(), c = b.querySelector(".tweets");
  c ? (b.classList.add("working"), DG(VG(a.m())).u(function(a) {
    b.classList.remove("working");
    if (a) {
      b.classList.add("exist");
      c.innerHTML = "";
      for (var e = jI("template-tweet").content, f = 0;f < a.length;f++) {
        var g = a[f], k = e.cloneNode(!0);
        k.querySelector(".text").textContent = g.text;
        g.location && "Global" != g.location && (k.querySelector(".location").textContent = g.location);
        var g = new Date(g.created_at), l = g.getTime();
        0 < l && (k.querySelector(".time").textContent = Gq(l) || g.toDateString());
        c.appendChild(k);
      }
    }
  }, function(a) {
    b.classList.remove("working");
    a && "HostPermissionError" == a.name ? (b.classList.add("alert"), YT(this).setAttribute("title", "Click to grant access to Twitter API")) : (b.classList.add("error"), Cw("Fetching twitter fail: " + String(a)));
  }, a)) : C(null);
}
function mU(a) {
  var b = a.g(), c = a.m();
  if (!c) {
    return D(null);
  }
  b.classList.add("working");
  return FG(VG(c)).u(function(a) {
    b.classList.remove("working");
    if (a) {
      b.classList.add("exist");
      var c = $T(this), f = jI("template-detail-" + vG).content;
      c.innerHTML = "";
      c.appendChild(f.cloneNode(!0));
      R(c, !0);
      c = c.querySelector(".header");
      f = c.querySelector(".name a");
      f.textContent = "@" + a.screen_name;
      f.href = a.url;
      c.querySelector(".description").textContent = a.description || "";
      c.querySelector(".logo img").src = a.profile_image_url_https;
      c.querySelector(".followers").textContent = a.followers_count;
      c.querySelector(".following").textContent = a.friends_count;
      a.location && "Global" != a.location ? c.querySelector(".location").textContent = a.location : R(c.querySelector(".location"), !1);
    }
  }, function(a) {
    R($T(this), !1);
    b.classList.remove("working");
    a && "HostPermissionError" == a.name ? b.classList.add("alert") : (b.classList.add("error"), Cw("Fetching twitter fail: " + String(a)));
  }, a);
}
function nU(a) {
  mU(a).i(function() {
    lU(this);
  }, a);
}
kU.prototype.b = function() {
  kU.j.b.call(this);
  var a = this.m();
  a && 0 < a.a.length && nU(this);
};
kU.prototype.c = function() {
  nU(this);
};
function oU(a) {
  V.call(this, a);
  this.target = null;
  this.b = new iU;
}
A(oU, V);
oU.prototype.logger = J("yydn.social.ui.Bar");
oU.prototype.B = function() {
  oU.j.B.call(this);
  var a = this.g();
  this.b.render(a);
  a.classList.add("social-bar");
  var a = new kU, b = new bU, c = new eU, d = new hU, e = new fU;
  this.H(a, !0);
  this.H(c, !0);
  this.H(e, !0);
  this.H(d, !0);
  this.H(b, !0);
  for (a = 5;18 > a;a++) {
    this.H(new WT, !0);
  }
  for (a = 0;a < Y(this);a++) {
    $T(Z(this, a)).classList.add("col-" + (a + 1) % 9);
  }
};
function pU(a, b) {
  if (b != a.target) {
    a.target = b;
    for (var c = 0;c < AG.length;c++) {
      var d = Z(a, c), e = AG[c], e = b ? YG(b, e) : null;
      d.Z(e);
    }
    if (b) {
      var f = AG.length, g;
      for (g in zG) {
        e = g, 0 <= AG.indexOf(e) || (c = YG(b, e)) && f < Y(a) && (d = Z(a, f++), d.Z(c));
      }
    }
    for (c = f;c < Y(a);c++) {
      Z(a, c).Z(null);
    }
    d = a.b;
    b != d.target && (d.target = b, jU(d));
  }
}
oU.prototype.A = function() {
  oU.j.A.call(this);
};
function qU(a, b) {
  a.target && a.target.email == b || (pU(a, null), XG(b).i(function(a) {
    pU(this, a || null);
  }, a));
}
;function rU(a) {
  V.call(this, a);
}
A(rU, V);
rU.prototype.B = function() {
  rU.j.B.call(this);
  var a = this.g();
  a.classList.add("social-bar-wrapper");
  a.classList.add("spotlight");
  a.innerHTML = ' <div class="title-row">\n        <div class="ydn-title">Social Info</div>\n        <div class="ydn-center"></div>\n        <div class="right"><button style="display: none;" >&rarr;</button></div>\n      </div>\n  <div class="ydn-content">\n  </div>\n  ';
  var b = new oU;
  this.H(b, !0);
  R(a, !1);
};
rU.prototype.T = function() {
  return this.g().querySelector(".ydn-content");
};
function SS(a, b, c, d) {
  V.call(this, d);
  this.b = a;
  this.H(new zN(0, c), !0);
  this.H(new PT(c.parent), !0);
  YathitCrm.Product.Social && b.hasFeature("social") && (a = new rU, this.H(a, !0));
  YathitCrm.Product.Tracking && b.hasFeature("tracking") && (b = new gS, b = new RS(0, b), this.H(b, !0));
}
A(SS, V);
SS.prototype.B = function() {
  SS.j.B.call(this);
};
function sU(a) {
  for (var b = 0;b < Y(a);b++) {
    var c = Z(a, b);
    if (c instanceof PT) {
      return c;
    }
  }
  return null;
}
function tU(a) {
  G.call(this, TS);
  this.f = a;
}
A(tU, G);
var TS = "cc";
function uU(a, b) {
  for (var c = 0;c < Y(a);c++) {
    var d = Z(a, c);
    if (d instanceof rU) {
      var e = b, f = d.g();
      f && (e && e.a ? (R(f, !0), qU(Z(d, 0), e.a)) : R(f, !1));
    }
  }
  I(a, new tU(b));
}
h = SS.prototype;
h.A = function() {
  SS.j.A.call(this);
  X(this).listen(this.b, "gn", this.Om);
  X(this).listen(this.b, AT, this.Em);
  X(this).listen(this.b, wT, this.$m);
  X(this).listen(this.b, yT, this.cn);
  X(this).listen(this.b, CT, this.To);
};
h.Om = function() {
  R(this.g(), !1);
};
h.cn = function() {
  uU(this, null);
  R(Z(this, 0).g(), !1);
};
h.$m = function(a) {
  var b = lD(a.email), c = new qH(this.b.h.Za || "", a.email, b);
  uU(this, c);
  LT(this.b, a.email).i(function(a) {
    if (a) {
      var b = sU(this);
      b.c = null;
    } else {
      b = sU(this), b.c = c;
    }
    VT(b);
    this.Yh(a);
  }, this);
};
h.Em = function(a) {
  R(this.g(), !0);
  a.f && a.f.parent_id && a.f.parent_type && this.b.a.send("get", {module:a.f.parent_type, id:a.f.parent_id}).i(this.Yh, this);
};
h.To = function(a) {
  if (a.f) {
    var b = Er(a.f);
    uU(this, new qH(this.b.h.Za || "", Jr(a.f), b));
  }
  this.Yh(a.f);
};
h.Yh = function(a) {
  var b = Z(this, 0), c = b.g();
  R(c, !!a);
  b = b.m();
  c = "Contacts";
  a && (c = a._module);
  Ux(b, new tr(b.L(), c, a));
};
function vU(a, b, c) {
  V.call(this, c);
  this.b = a;
  this.c = b;
}
A(vU, V);
h = vU.prototype;
h.B = function() {
  vU.j.B.call(this);
  var a = this.g();
  a.textContent = this.b;
  a.classList.add("record-header");
  a.classList.add("ydn-emailer");
};
h.A = function() {
  vU.j.A.call(this);
  X(this).listen(this.c, uT, this.Yo);
  X(this).listen(this.c, ET, this.En);
  X(this).listen(this.c, CT, this.Zo);
  var a = this.g();
  X(this).listen(a, "click", this.Xo);
};
h.Zo = function(a) {
  if (a.f) {
    a = 0 <= Ir(a.f).indexOf(this.b);
    var b = this.g().querySelector(".ydn-title");
    b && (a ? b.classList.add("ydn-primary") : b.classList.remove("ydn-primary"));
  }
};
h.Xo = function() {
  var a = this.c, b = this.b;
  b != a.o && (a.o = b, I(a, new vT(b)));
};
h.En = function(a) {
  if (-1 != lr.indexOf(a.module)) {
    for (var b = 0;b < a.f.length;b++) {
      if (0 <= Ir(a.f[b]).indexOf(this.b)) {
        this.g().querySelector(".icon").classList.remove("ydn-revert");
        break;
      }
    }
  }
};
h.Yo = function(a) {
  if (a.email == this.b) {
    a = a.f;
    var b = this.a, c = qr(a._module), c = [b.w("span", "icon ydn-revert small", c), b.w("span", {title:this.b, "class":"ydn-title"}, Er(a)), b.w("span")], d = this.g();
    d.innerHTML = "";
    d.appendChild(b.w("span", a._module, c));
  }
};
function wU(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(wU, V);
wU.prototype.m = function() {
  return wU.j.m.call(this);
};
wU.prototype.B = function() {
  wU.j.B.call(this);
};
wU.prototype.A = function() {
  wU.j.A.call(this);
  X(this).listen(this.m(), yT, this.b);
};
wU.prototype.b = function() {
  for (var a = aE(this), b = 0;b < a.length;b++) {
    a[b].O();
  }
  for (var a = this.m(), c = IT(a).Gb.split(", ").concat(IT(a).Ya), b = 0;b < c.length;b++) {
    c[b] != a.h.Za && this.H(new vU(c[b], a), !0);
  }
};
function xU(a, b) {
  V.call(this, b);
  this.Z(a);
}
A(xU, V);
h = xU.prototype;
h.m = function() {
  return xU.j.m.call(this);
};
h.B = function() {
  xU.j.B.call(this);
  var a = this.g();
  a.className = "ydn-email-related";
  a.innerHTML = '<UL class="ydn-relations"></UL><div style="display: none;" class="ydn-add-relation"><input type="text" placeholder="Add Relation"/> </div>';
  R(a, !1);
};
h.A = function() {
  xU.j.A.call(this);
  var a = X(this);
  a.listen(this.m(), yT, this.ap);
  a.listen(this.m(), ET, this.Dn);
};
h.Dn = function(a) {
  if (-1 != ["Cases", "Opportunities"].indexOf(a.module)) {
    R(this.g(), !0);
    for (var b = 0;b < a.f.length;b++) {
      var c = a.f[b], d = document.createElement("LI"), e = c._module, f = qr(e);
      d.innerHTML = vv(e, f);
      d.querySelector(".title").textContent = Er(c);
      d.querySelector(".summary").textContent = Fr(c);
      d.setAttribute("data-id", c.id);
      d.setAttribute("data-module", e);
      this.g().querySelector(".ydn-email-related UL").appendChild(d);
    }
  }
};
h.ap = function() {
  var a = this.g();
  R(a, !1);
  a.querySelector("UL").innerHTML = "";
};
function yU(a, b, c) {
  V.call(this, c);
  this.Ck = a;
  this.pi = b;
  this.Z(new FT(a));
  this.yh = new zf(this);
}
A(yU, V);
h = yU.prototype;
h.yh = null;
h.pi = null;
h.Ck = null;
h.m = function() {
  return yU.j.m.call(this);
};
h.bg = function(a) {
  this.m().a = a;
  zU(this);
};
h.B = function() {
  yU.j.B.call(this);
  this.g().className = "ydn-email-context-panel spotlight";
  this.H(new NT(this.m()), !0);
  this.H(new wU(this.m()), !0);
  this.H(new xU(this.m()), !0);
  var a = this.g().querySelector(".Emails .icon");
  R(a, !1);
  zU(this);
};
function zU(a) {
  var b = a.m().a;
  if (b && a.pa()) {
    for (var c = 0;c < Y(a);c++) {
      var d = Z(a, c);
      if (d instanceof zN) {
        if (d.m().parent.L() == b.L()) {
          return;
        }
        a.removeChild(d, !0);
        break;
      }
    }
    b = new Nx(b, new tr(b.L(), "Contacts"));
    b = new SS(a.m(), a.Ck, b);
    a.H(b, !0);
  }
}
h.A = function() {
  yU.j.A.call(this);
  var a = X(this);
  a.listen(this.pi, "pc", this.sn);
  a.listen(this.pi, "mh", this.fn);
  a.listen(this, "rce", this.Wo);
};
h.Wo = function(a) {
  var b = this.m(), c = a.f.a;
  a = a.l;
  b.b[c] && (b.b[c] = null, a ? (b.b[c] = C(a), I(b, new tT(c, a))) : LT(b, c));
};
h.sn = function(a) {
  a = "em" == a.f;
  a || (this.yh.removeAll(), this.m().reset());
  R(this.g(), a);
};
h.fn = function(a) {
  var b;
  if ((b = (b = Hh(a.f, "TR")) ? Hh(b, "TABLE").parentElement.parentElement : null) && (a = qD(a.f)) && a.wa) {
    var c = this.m();
    c.l[a.wa] = a;
    c.c || c.s.start();
    b.setAttribute("data-mid", a.wa);
    this.yh.listen(b, "click", this.dn);
  }
};
h.dn = function(a) {
  a = a.b.getAttribute("data-mid");
  GT(this.m(), a);
};
function AU(a) {
  V.call(this);
  this.b = a;
}
A(AU, V);
h = AU.prototype;
h.B = function() {
  AU.j.B.call(this);
  var a = this.g();
  a.classList.add("widget-content");
  a.classList.add("desktop-setting-page");
  a.classList.add("setting-panel");
  var b = jI("basic-about-template").content;
  a.appendChild(b.cloneNode(!0));
  a.querySelector("span[name=version]").textContent = "6.2.6";
  a.querySelector("A[name=reload]").href = "#req/reload-now";
  a.querySelector("SELECT[name=channel]").value = Xi;
};
h.A = function() {
  AU.j.A.call(this);
  var a = this.g().querySelector('a[name="login"]');
  X(this).listen(a, "click", this.Lp);
  a = this.g().querySelector("SELECT[name=channel]");
  X(this).listen(a, "change", this.rm);
};
h.rm = function() {
  var a = this.g().querySelector("SELECT[name=channel]");
  if (0 <= Gg.indexOf(a.value)) {
    var b = {};
    b["version-track"] = a.value;
    chrome.storage.local.set(b);
    BU(this);
  } else {
    throw Error("Invalid track: " + a.value);
  }
};
function CU(a, b) {
  a.g().querySelector('[name="message"]').textContent = b && b.message ? b.message || "" : String(b);
}
h.Lp = function(a) {
  a.preventDefault();
  var b = this.g().querySelector('a[name="login"]');
  a = b.getAttribute("href");
  if ("#login" == a) {
    CU(this, "logging in..."), b.setAttribute("disabled", ""), ME(this.b).u(function(a) {
      b.removeAttribute("disabled");
      DU(this, a);
      CU(this, "");
      EU(this);
    }, function(a) {
      b.removeAttribute("disabled");
      CU(this, a);
    }, this);
  } else {
    if ("#logout" == a) {
      NE(this.b).u(function() {
        EU(this);
      }, function(a) {
        CU(this, a);
      }, this);
    } else {
      throw Error(a);
    }
  }
};
h.toString = function() {
  return "About";
};
function DU(a, b) {
  a.g();
  var c = a.g().querySelector('a[name="login"]'), d = a.g().querySelector('[name="username"]');
  b && b.is_login ? (c.href = "#logout", c.textContent = "logout", d.textContent = b.email + " login.", R(c, !1)) : (c.href = "#login", c.textContent = "login", d.textContent = "", R(c, !0));
}
function BU(a) {
  var b = a.g().querySelector("SELECT[name=channel]").value || Xi, c = q.YathitCrm.sugarcrm.Version;
  console.log(Xi, "6.2.6", b, c[b]);
  b = "6.2.6" != c[b];
  a = a.g().querySelector("[name=channel-message]");
  R(a, b);
}
function EU(a) {
  BU(a);
  Q().send("user-license").i(function(a) {
    var c = this.g(), d = c.querySelector(".license-section .license");
    a ? (d.textContent = a.edition, a.begin && (d.textContent += " [" + (new Date(a.begin)).toLocaleDateString() + " - " + (new Date(a.end)).toLocaleDateString() + "]"), a.active || (d.textContent += " (inactive)")) : d.textContent = "";
    c.querySelector(".app-name").textContent = YathitCrm.name;
  }, a);
  HE(a.b).i(function() {
    DU(this, this.b.a);
  }, a);
}
h.Nc = function() {
  EU(this);
};
function FU() {
  this.b = document.createElement("div");
  this.a = document.createElement("DIV");
  this.M = new zf(this);
}
h = FU.prototype;
h.render = function(a) {
  var b = a.querySelector(".center-item");
  this.a.style.display = "none";
  b.appendChild(this.b);
  this.b.classList.add("cache-update-display");
  this.b.setAttribute("title", "Cache update process not observed.");
  this.b.innerHTML = '<span class="label">-</span> <div class="count"> <div class="sup"></div> <div class="sub"></div> </div>';
  a.appendChild(this.a);
  this.a.classList.add("cache-update-display-body");
  this.a.innerHTML = '<h3>Cache statistics in this browser</h3><ul></ul><div class="footer-toolbar"><button name="update-all">Update all</button><button name="close">Close</button></div>';
  this.M.listen(vf(), "sugarcrm-ca-up", this.Op);
  this.M.listen(this.b, "click", this.Np);
  this.M.listen(this.a, "click", this.Mp);
  a = this.a.querySelector('button[name="close"]');
  this.M.listen(this.a.querySelector('button[name="update-all"]'), "click", this.ko);
  this.M.listen(a, "click", this.um);
};
h.um = function() {
  R(this.a, !1);
};
h.ko = function(a) {
  var b = a.b;
  b.setAttribute("disabled", "disabled");
  var c = this;
  uf().send("update-now").G(function(a) {
    GU(c).G(function() {
      b.removeAttribute("disabled");
    });
    a && a.message && alert(a.message);
  }, this);
};
h.Mp = function(a) {
  if ("A" == a.target.tagName) {
    var b = a.target, c = Hh(b, "LI"), d = b.getAttribute("href"), c = c.getAttribute("data-module");
    if ("#update-now" == d) {
      a.preventDefault();
      var e = 0;
      c && (a = uf()) && (e = 1, b.textContent = "updating...", b.href = "", a.send("update-now", {module:c}).u(function() {
        b.textContent = "updated";
        GU(this);
      }, function() {
        b.textContent = "failed";
      }, this));
    } else {
      "#option" == d && (a.preventDefault(), aR(c), dj("ui.cache-update", "option.click." + d, c, 0));
    }
    dj("ui.cache-update", "updateNow.click." + d, c, e);
  }
};
h.Np = function() {
  var a = ei(this.a);
  R(this.a, !a);
  a || (GU(this), dj("ui.cache-update", "click", "open", 0));
};
function GU(a) {
  var b = uf();
  if (b) {
    return b.send("stats").i(function(a) {
      var b = this.a.querySelector("UL");
      b.innerHTML = "";
      for (var e = 0;e < a.length;e++) {
        var f = document.createElement("LI");
        sr(f, a[e], !0);
        b.appendChild(f);
      }
    }, a);
  }
  R(a.a, !1);
  a.b.querySelector(".label").textContent = "";
  a.b.setAttribute("title", "No SugarCRM instance.");
}
h.Op = function(a) {
  if (a = a.f ? a.f.data : null) {
    if (a.end) {
      var b = qr(a.module);
      this.b.querySelector(".label").textContent = b;
      this.b.querySelector(".sub").textContent = a.total;
      this.b.querySelector(".sup").textContent = a.count;
      b = a.module + " module";
      b = a.ok ? b + (" updated on " + (new Date(a.end)).toLocaleTimeString()) : b + (" updating fail on " + (new Date(a.end)).toLocaleTimeString());
      this.b.setAttribute("title", b);
    }
    ei(this.a) && HU(this, a);
  }
};
function HU(a, b) {
  if (b.end) {
    var c = b.module, d = a.a.querySelector('LI[data-module="' + c + '"]');
    d.innerHTML = "";
    uf().send("stats", c).i(function(a) {
      sr(d, a, !0);
    }, a);
  }
}
;function IU() {
  V.call(this);
}
A(IU, V);
IU.prototype.B = function() {
  IU.j.B.call(this);
  var a = this.g();
  a.classList.add("widget-content");
  a.classList.add("setting-panel");
  a.innerHTML = '\n  <div class="logging-pref widget-content">\n\n      <div>\n        <label title="' + chrome.i18n.getMessage("Logging_Analytics_tooltip") + '">\n          <input type="checkbox" name="analytic"/>\n          ' + chrome.i18n.getMessage("Enable_analytic_logging") + '\n        </label>\n      </div>\n      <div>\n        <label title="' + chrome.i18n.getMessage("Logging_Debugging_tooltip") + '">\n          <input type="checkbox" name="debug"/>\n          ' + chrome.i18n.getMessage("Enable_debug_logging") + 
  '\n        </label>\n      </div>\n      <p class="license message">\n        ' + chrome.i18n.getMessage("Logging_subscription_require_message") + '\n      </p>\n      <div>\n        <a target="_blank" href="https://www.yathit.com/privacy.html">\n          ' + chrome.i18n.getMessage("See_our_privacy_policy") + "</a>.\n      </div>\n  </div>";
};
IU.prototype.A = function() {
  IU.j.A.call(this);
  var a = X(this), b = JU(this, KU), c = JU(this, LU);
  a.listen(b, "change", this.c);
  a.listen(c, "change", this.b);
  X(this).listen(this.la(), "setting-page-event", this.s);
};
IU.prototype.s = function(a) {
  a.name == this.toString() ? (R(this.g(), !0), this.refresh()) : R(this.g(), !1);
};
var KU = "analytic", LU = "debug";
function JU(a, b) {
  return a.g().querySelector("input[name=" + b + "]");
}
IU.prototype.c = function() {
  var a = !JU(this, KU).checked;
  Q().send("lg-pref-qa", a);
};
IU.prototype.b = function() {
  var a = !JU(this, LU).checked;
  Q().send("lg-pref-bg", a);
};
function MU(a, b) {
  var c = fj(b), d = JU(a, KU), e = JU(a, LU), f = a.g().querySelector(".license.message");
  c ? (d.removeAttribute("disabled"), e.removeAttribute("disabled"), R(f, !1)) : (d.setAttribute("disabled", "disabled"), e.setAttribute("disabled", "disabled"), R(f, !0));
  return c;
}
function NU() {
  var a = new B;
  chrome.storage.sync.get(["disableAnalyticReport", "disableDebugReport"], function(b) {
    var c = b.disableAnalyticReport;
    b = b.disableDebugReport;
    c = ga(c) ? !c : !0;
    b = ga(b) ? !b : !0;
    a.callback([c, b]);
  });
  return a;
}
IU.prototype.refresh = function() {
  Q().send("user-license").i(function(a) {
    MU(this, a) ? NU().i(function(a) {
      var c = a[0];
      a = a[1];
      JU(this, KU).checked = !!c;
      JU(this, LU).checked = !!a;
    }, this) : (JU(this, KU).checked = !0, JU(this, LU).checked = !0);
  }, this);
};
IU.prototype.toString = function() {
  return "Logging Preference";
};
function OU() {
  H.call(this);
  this.b = {};
  this.a = {};
}
A(OU, H);
function PU(a, b) {
  a.b.hide || (b.id && b.note ? a.a.acknowledged && 0 <= a.a.acknowledged.indexOf(b.id) || I(a, new QU(b, a)) : (window.console.error("Invalid UpdateMessageData"), window.console.error(b)));
}
function RU(a) {
  Sy("local", "pd-up-msg").i(function(a) {
    if (u(a)) {
      for (var c = 0;c < a.length;c++) {
        PU(this, a[c]);
      }
    }
  }, a);
}
function SU(a) {
  var b = Sy("sync", "updateMessage").i(function(a) {
    a && x(a) && (this.b = a);
  }, a), c = Sy("sync", "updateMessageDetail").i(function(a) {
    a && x(a) && (this.a = a);
  }, a);
  Bl([b, c]).G(function() {
    RU(this);
    ud(vf(), "new-up-msg", this.c, !1, this);
  }, a);
}
OU.prototype.c = function(a) {
  "" == a.type && PU(this, a.getData());
};
function QU(a, b) {
  G.call(this, "nw", b);
  this.data = a;
}
A(QU, G);
function TU(a) {
  V.call(this);
  this.Z(a);
}
A(TU, V);
h = TU.prototype;
h.m = function() {
  return TU.j.m.call(this);
};
h.B = function() {
  TU.j.B.call(this);
  this.g().innerHTML = '<div class="update-message-panel">\n    <div class-="header"></div>\n    <div class="ydn-content"></div>\n    <div class="ydn-footer"></div>\n  </div>';
};
h.T = function() {
  return this.g().querySelector(".ydn-content");
};
h.A = function() {
  TU.j.A.call(this);
  X(this).listen(this.m(), "nw", this.mn);
};
h.mn = function(a) {
  a = new UU(a.data, this.m());
  this.H(a, !0);
};
function UU(a, b) {
  V.call(this);
  this.data = a;
  this.Z(b);
}
A(UU, V);
UU.prototype.m = function() {
  return UU.j.m.call(this);
};
UU.prototype.B = function() {
  UU.j.B.call(this);
  this.g().innerHTML = '<div class="update-message-item" data-id="' + this.data.id + '">\n    <div class="message">' + this.data.note + '</div>\n    <div class="option-panel">\n      <label><input type="checkbox" name="donotshow"/> Do not show update news.</label>\n    </div>\n    <div class="control">\n      <a href="#good" title="The product is so far meet my expectation.">Great!</a>\n      <a href="#ok" title="Good, but this is not the feature important to me..">Hide</a>\n      <a href="#bad" style="display: none" title="This feature is not important to me.">Whatever</a>\n    </div>\n  </div>';
};
UU.prototype.A = function() {
  UU.j.A.call(this);
  X(this).listen(this.g(), "click", this.b);
};
UU.prototype.b = function(a) {
  if ("A" == a.target.tagName) {
    a.preventDefault();
    var b = a.target.getAttribute("href"), c = "ok";
    "#good" == b ? c = "good" : "#bad" == b && (c = "bad");
    var b = this.m(), d = this.data;
    b.a.acknowledged || (b.a.acknowledged = []);
    -1 == b.a.acknowledged.indexOf(d.id) && (b.a.acknowledged.push(d.id), Ty("sync", "updateMessageDetail", b.a));
    dj("pref", "update-message", c, 1);
    R(this.g(), !1);
  }
  "INPUT" == a.target.tagName && (c = this.m(), c.b.hide = !!a.target.checked, Ty("sync", "updateMessage", c.b));
};
function VU() {
  xf("content-script");
  Cw("Starting 6.2.6...");
  this.M = new zf(this);
  this.b = GE.X();
  this.c = new LH(QE(this.b));
  this.o = new yO(this.c);
  this.F = new WR(this.c);
  this.s = new yU(this.b, this.c);
  this.f = new jS(this.c);
  var a;
  (a = wI()) ? (a = a.style.width, a = parseInt(a.substr(0, a.length - 2), 10), a = 1080 < a ? !0 : !1) : a = !1;
  this.h = a ? new uI : new XR;
  this.V = new dI(this.b);
  this.a = new nT(a);
  a = new II(this.b);
  this.a.H(a, !0);
  this.ga = this.l = null;
  this.J = new DN;
  this.D = !1;
}
VU.prototype.logger = J("ydn.crm.inj.App");
VU.prototype.W = function() {
  L(this.logger, "handling user login");
  WU(this);
};
function WU(a) {
  IE(a.b) ? (JE(a.b) ? (a.c.setEnabled(!0), a.f.setEnabled(!0)) : (a.c.setEnabled(!1), a.f.setEnabled(!1)), a.c.a = QE(a.b), R(a.a.g(), !0)) : (a.c.setEnabled(!1), a.f.setEnabled(!1), R(a.a.g(), !1));
}
VU.prototype.init = function() {
  L(this.logger, "initializing " + this);
  this.h.render();
  (new FU).render(this.h.oi());
  var a = this.b;
  this.h.Ag(this.V);
  this.h.Ag(this.a);
  R(this.a.g(), !1);
  this.M.listen(a, ["logout", "login"], this.W);
  lI(new kI, this.h.oi());
  "https:" == location.protocol && "mail.google.com" != location.hostname || this.f.c.push(new nI);
  return HE(a).i(function() {
    if (!this.D) {
      var a = new OU, c = new TU(a);
      QR(this.a, "DesktopHome").H(c, !0);
      SU(a);
      this.s.render(this.f.a.firstElementChild.children[1]);
      this.a.H(this.J, !0);
      YathitCrm.Product.SugarCRM && (this.l = new PR(this.b, this.F, this.c, this.o), L(this.logger, "initializing sugarcrm app"), this.l.render(this.a), this.l.f.push(this.J), this.l.f.push(RR(this.a)), this.l.f.push(this.s));
      YathitCrm.Product.Tracking && this.b.hasFeature("tracking") && (this.ga = new rT(this.b, this.F, this.c, this.o, this.f, this.J), L(this.logger, "initializing tracking app"), this.ga.init(this.a));
      a = new IU;
      RR(this.a).H(a, !0);
      a = new AU(this.b);
      this.a.H(a, !0);
      oT(this.a, "SettingPage", "settings");
      oT(this.a, "About", "ydn-logo-bw");
      a = this.o;
      c = this.b.hasFeature("toolbar");
      a.M.removeAll();
      c && (a.M.listen(a.b, "pc", a.Ko), a.M.listen(a.b, "rp", a.Lo));
      this.D = !0;
    }
    WU(this);
  }, this);
};
VU.prototype.toString = function() {
  return "inj.Main:6.2.6";
};
ra("runInjApp", function(a) {
  aj(a);
  a = chrome.extension.getURL("image/all-icons.svg");
  Ow(a, function() {
    var a = chrome.extension.getURL("inj-template.html");
    hI(a, function() {
      window.setTimeout(function() {
        var a = new VU;
        a.init();
        q.ydnapp = a;
      }, 500);
    });
  });
});
ra("ydn.crm.version", "6.2.6");
ra("runEventApp", nH);
iH.prototype.xp = iH.prototype.bj;
ra("ydn.msg.Pipe", sf);
ra("ydn.msg.initPipe", xf);
ra("ydn.msg.getChannel", Q);
sf.prototype.listen = sf.prototype.listen;
sf.prototype.getChannel = sf.prototype.c;
Id.prototype.send = Id.prototype.send;
ra("goog.async.Deferred", B);
B.prototype.addCallback = B.prototype.i;
B.prototype.addErrback = B.prototype.Gc;
B.prototype.addBoth = B.prototype.G;
B.prototype.addCallbacks = B.prototype.u;
gf.prototype.addProgback = gf.prototype.c;
})();
var categ_letters_numbers_data=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748
	,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369
	,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791
	,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220]
	,[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480]
	,2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600]
	,[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705]
	,[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856]
	,[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960]
	,[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088]
	,[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216]
	,[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386]
	,3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632]
	,[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749
	,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911]
	,[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238
	,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744]
	,[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954]
	,[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900]
	,[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6000],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169]
	,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618]
	,[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141]
	,[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965]
	,[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140]
	,[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455
	,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585]
	,[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517
	,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710]
	,[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348]
	,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730]
	,[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908
	,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783]
	,[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43000,43009],[43011,43013],[43015,43018],[43020,43042]
	,[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388]
	,[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695]
	,43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790]
	,[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291]
	,[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318
	,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140]
	,[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495]
	,[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786]
	,[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461]
	,[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640]
	,67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115]
	,[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479]
	,[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926]
	,[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850]
	,[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892]
	,[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003]
	,[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134
	,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628]
	,[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831]
	,[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530
	,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564
	,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627]
	,[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]];
;
var norm_lowercase_data=[[65,90,'R',32],[160,32],[168,[32, 776]],[170,97],[175,[32, 772]],[178,179,'R',-128],[180,[32, 769]],[181,956],
	[184,[32, 807]],[185,49],[186,111],[188,[49, 8260, 52]],[189,[49, 8260, 50]],[190,[51, 8260, 52]],[192,[97, 768]],
	[193,[97, 769]],[194,[97, 770]],[195,[97, 771]],[196,[97, 776]],[197,[97, 778]],[198,230],[199,[99, 807]],
	[200,[101, 768]],[201,[101, 769]],[202,[101, 770]],[203,[101, 776]],[204,[105, 768]],[205,[105, 769]],[206,[105, 770]],
	[207,[105, 776]],[208,240],[209,[110, 771]],[210,[111, 768]],[211,[111, 769]],[212,[111, 770]],[213,[111, 771]],
	[214,[111, 776]],[216,248],[217,[117, 768]],[218,[117, 769]],[219,[117, 770]],[220,[117, 776]],[221,[121, 769]],
	[222,254],[224,[97, 768]],[225,[97, 769]],[226,[97, 770]],[227,[97, 771]],[228,[97, 776]],[229,[97, 778]],
	[231,[99, 807]],[232,[101, 768]],[233,[101, 769]],[234,[101, 770]],[235,[101, 776]],[236,[105, 768]],[237,[105, 769]],
	[238,[105, 770]],[239,[105, 776]],[241,[110, 771]],[242,[111, 768]],[243,[111, 769]],[244,[111, 770]],[245,[111, 771]],
	[246,[111, 776]],[249,[117, 768]],[250,[117, 769]],[251,[117, 770]],[252,[117, 776]],[253,[121, 769]],[255,[121, 776]],
	[256,[97, 772]],[257,[97, 772]],[258,[97, 774]],[259,[97, 774]],[260,[97, 808]],[261,[97, 808]],[262,[99, 769]],
	[263,[99, 769]],[264,[99, 770]],[265,[99, 770]],[266,[99, 775]],[267,[99, 775]],[268,[99, 780]],[269,[99, 780]],
	[270,[100, 780]],[271,[100, 780]],[272,273],[274,[101, 772]],[275,[101, 772]],[276,[101, 774]],[277,[101, 774]],
	[278,[101, 775]],[279,[101, 775]],[280,[101, 808]],[281,[101, 808]],[282,[101, 780]],[283,[101, 780]],[284,[103, 770]],
	[285,[103, 770]],[286,[103, 774]],[287,[103, 774]],[288,[103, 775]],[289,[103, 775]],[290,[103, 807]],[291,[103, 807]],
	[292,[104, 770]],[293,[104, 770]],[294,295],[296,[105, 771]],[297,[105, 771]],[298,[105, 772]],[299,[105, 772]],
	[300,[105, 774]],[301,[105, 774]],[302,[105, 808]],[303,[105, 808]],[304,105],[306,[105, 106]],[307,[105, 106]],
	[308,[106, 770]],[309,[106, 770]],[310,[107, 807]],[311,[107, 807]],[313,[108, 769]],[314,[108, 769]],[315,[108, 807]],
	[316,[108, 807]],[317,[108, 780]],[318,[108, 780]],[319,[108, 183]],[320,[108, 183]],[321,322],[323,[110, 769]],
	[324,[110, 769]],[325,[110, 807]],[326,[110, 807]],[327,[110, 780]],[328,[110, 780]],[329,[700, 110]],[330,331],
	[332,[111, 772]],[333,[111, 772]],[334,[111, 774]],[335,[111, 774]],[336,[111, 779]],[337,[111, 779]],[338,339],
	[340,[114, 769]],[341,[114, 769]],[342,[114, 807]],[343,[114, 807]],[344,[114, 780]],[345,[114, 780]],[346,[115, 769]],
	[347,[115, 769]],[348,[115, 770]],[349,[115, 770]],[350,[115, 807]],[351,[115, 807]],[352,[115, 780]],[353,[115, 780]],
	[354,[116, 807]],[355,[116, 807]],[356,[116, 780]],[357,[116, 780]],[358,359],[360,[117, 771]],[361,[117, 771]],
	[362,[117, 772]],[363,[117, 772]],[364,[117, 774]],[365,[117, 774]],[366,[117, 778]],[367,[117, 778]],[368,[117, 779]],
	[369,[117, 779]],[370,[117, 808]],[371,[117, 808]],[372,[119, 770]],[373,[119, 770]],[374,[121, 770]],[375,[121, 770]],
	[376,[121, 776]],[377,[122, 769]],[378,[122, 769]],[379,[122, 775]],[380,[122, 775]],[381,[122, 780]],[382,[122, 780]],
	[383,115],[385,595],[386,388,'R',1],[390,596],[391,392],[393,394,'R',205],[395,396],[398,477],[399,601],[400,603],
	[401,402],[403,608],[404,611],[406,617],[407,616],[408,409],[412,623],[413,626],[415,629],[416,[111, 795]],
	[417,[111, 795]],[418,420,'R',1],[422,640],[423,424],[425,643],[428,429],[430,648],[431,[117, 795]],[432,[117, 795]],
	[433,434,'R',217],[435,437,'R',1],[439,658],[440,444,'R',1],[452,[100, 382]],[453,[100, 382]],[454,[100, 382]],
	[455,[108, 106]],[456,[108, 106]],[457,[108, 106]],[458,[110, 106]],[459,[110, 106]],[460,[110, 106]],[461,[97, 780]],
	[462,[97, 780]],[463,[105, 780]],[464,[105, 780]],[465,[111, 780]],[466,[111, 780]],[467,[117, 780]],[468,[117, 780]],
	[469,[252, 772]],[470,[252, 772]],[471,[252, 769]],[472,[252, 769]],[473,[252, 780]],[474,[252, 780]],[475,[252, 768]],
	[476,[252, 768]],[478,[228, 772]],[479,[228, 772]],[480,[551, 772]],[481,[551, 772]],[482,[230, 772]],[483,[230, 772]],
	[484,485],[486,[103, 780]],[487,[103, 780]],[488,[107, 780]],[489,[107, 780]],[490,[111, 808]],[491,[111, 808]],
	[492,[491, 772]],[493,[491, 772]],[494,[658, 780]],[495,[658, 780]],[496,[106, 780]],[497,[100, 122]],[498,[100, 122]],
	[499,[100, 122]],[500,[103, 769]],[501,[103, 769]],[502,405],[503,447],[504,[110, 768]],[505,[110, 768]],
	[506,[229, 769]],[507,[229, 769]],[508,[230, 769]],[509,[230, 769]],[510,[248, 769]],[511,[248, 769]],[512,[97, 783]],
	[513,[97, 783]],[514,[97, 785]],[515,[97, 785]],[516,[101, 783]],[517,[101, 783]],[518,[101, 785]],[519,[101, 785]],
	[520,[105, 783]],[521,[105, 783]],[522,[105, 785]],[523,[105, 785]],[524,[111, 783]],[525,[111, 783]],[526,[111, 785]],
	[527,[111, 785]],[528,[114, 783]],[529,[114, 783]],[530,[114, 785]],[531,[114, 785]],[532,[117, 783]],[533,[117, 783]],
	[534,[117, 785]],[535,[117, 785]],[536,[115, 806]],[537,[115, 806]],[538,[116, 806]],[539,[116, 806]],[540,541],
	[542,[104, 780]],[543,[104, 780]],[544,414],[546,548,'R',1],[550,[97, 775]],[551,[97, 775]],[552,[101, 807]],
	[553,[101, 807]],[554,[246, 772]],[555,[246, 772]],[556,[245, 772]],[557,[245, 772]],[558,[111, 775]],[559,[111, 775]],
	[560,[559, 772]],[561,[559, 772]],[562,[121, 772]],[563,[121, 772]],[570,11365],[571,572],[573,410],[574,11366],
	[577,578],[579,384],[580,649],[581,652],[582,590,'R',1],[688,104],[689,614],[690,106],[691,114],[692,633],[693,635],
	[694,641],[695,119],[696,121],[728,[32, 774]],[729,[32, 775]],[730,[32, 778]],[731,[32, 808]],[732,[32, 771]],
	[733,[32, 779]],[736,611],[737,108],[738,115],[739,120],[740,661],[832,833,'R',-64],[835,787],[836,[776, 769]],
	[880,882,'R',1],[884,697],[886,887],[890,[32, 837]],[894,59],[900,[32, 769]],[901,[168, 769]],[902,[945, 769]],[903,183],
	[904,[949, 769]],[905,[951, 769]],[906,[953, 769]],[908,[959, 769]],[910,[965, 769]],[911,[969, 769]],[912,[970, 769]],
	[913,937,'R',32],[938,[953, 776]],[939,[965, 776]],[940,[945, 769]],[941,[949, 769]],[942,[951, 769]],[943,[953, 769]],
	[944,[971, 769]],[970,[953, 776]],[971,[965, 776]],[972,[959, 769]],[973,[965, 769]],[974,[969, 769]],[975,983],
	[976,946],[977,952],[978,933],[979,[978, 769]],[980,[978, 776]],[981,966],[982,960],[984,1006,'R',1],[1008,954],
	[1009,1010,'R',-48],[1012,952],[1013,949],[1015,1016],[1017,962],[1018,1019],[1021,1023,'R',-130],[1024,[1077, 768]],
	[1025,[1077, 776]],[1026,1106],[1027,[1075, 769]],[1028,1030,'R',80],[1031,[1110, 776]],[1032,1035,'R',80],
	[1036,[1082, 769]],[1037,[1080, 768]],[1038,[1091, 774]],[1039,1119],[1040,1048,'R',32],[1049,[1080, 774]],
	[1050,1071,'R',32],[1081,[1080, 774]],[1104,[1077, 768]],[1105,[1077, 776]],[1107,[1075, 769]],[1111,[1110, 776]],
	[1116,[1082, 769]],[1117,[1080, 768]],[1118,[1091, 774]],[1120,1140,'R',1],[1142,[1141, 783]],[1143,[1141, 783]],
	[1144,1214,'R',1],[1216,1231],[1217,[1078, 774]],[1218,[1078, 774]],[1219,1229,'R',1],[1232,[1072, 774]],
	[1233,[1072, 774]],[1234,[1072, 776]],[1235,[1072, 776]],[1236,1237],[1238,[1077, 774]],[1239,[1077, 774]],[1240,1241],
	[1242,[1241, 776]],[1243,[1241, 776]],[1244,[1078, 776]],[1245,[1078, 776]],[1246,[1079, 776]],[1247,[1079, 776]],
	[1248,1249],[1250,[1080, 772]],[1251,[1080, 772]],[1252,[1080, 776]],[1253,[1080, 776]],[1254,[1086, 776]],
	[1255,[1086, 776]],[1256,1257],[1258,[1257, 776]],[1259,[1257, 776]],[1260,[1101, 776]],[1261,[1101, 776]],
	[1262,[1091, 772]],[1263,[1091, 772]],[1264,[1091, 776]],[1265,[1091, 776]],[1266,[1091, 779]],[1267,[1091, 779]],
	[1268,[1095, 776]],[1269,[1095, 776]],[1270,1271],[1272,[1099, 776]],[1273,[1099, 776]],[1274,1318,'R',1],
	[1329,1366,'R',48],[1415,[1381, 1410]],[1570,[1575, 1619]],[1571,[1575, 1620]],[1572,[1608, 1620]],[1573,[1575, 1621]],
	[1574,[1610, 1620]],[1653,[1575, 1652]],[1654,[1608, 1652]],[1655,[1735, 1652]],[1656,[1610, 1652]],[1728,[1749, 1620]],
	[1730,[1729, 1620]],[1747,[1746, 1620]],[2345,[2344, 2364]],[2353,[2352, 2364]],[2356,[2355, 2364]],[2392,[2325, 2364]],
	[2393,[2326, 2364]],[2394,[2327, 2364]],[2395,[2332, 2364]],[2396,[2337, 2364]],[2397,[2338, 2364]],[2398,[2347, 2364]],
	[2399,[2351, 2364]],[2507,[2503, 2494]],[2508,[2503, 2519]],[2524,[2465, 2492]],[2525,[2466, 2492]],[2527,[2479, 2492]],
	[2611,[2610, 2620]],[2614,[2616, 2620]],[2649,[2582, 2620]],[2650,[2583, 2620]],[2651,[2588, 2620]],[2654,[2603, 2620]],
	[2888,[2887, 2902]],[2891,[2887, 2878]],[2892,[2887, 2903]],[2908,[2849, 2876]],[2909,[2850, 2876]],[2964,[2962, 3031]],
	[3018,[3014, 3006]],[3019,[3015, 3006]],[3020,[3014, 3031]],[3144,[3142, 3158]],[3264,[3263, 3285]],[3271,[3270, 3285]],
	[3272,[3270, 3286]],[3274,[3270, 3266]],[3275,[3274, 3285]],[3402,[3398, 3390]],[3403,[3399, 3390]],[3404,[3398, 3415]],
	[3546,[3545, 3530]],[3548,[3545, 3535]],[3549,[3548, 3530]],[3550,[3545, 3551]],[3635,[3661, 3634]],[3763,[3789, 3762]],
	[3804,[3755, 3737]],[3805,[3755, 3745]],[3852,3851],[3907,[3906, 4023]],[3917,[3916, 4023]],[3922,[3921, 4023]],
	[3927,[3926, 4023]],[3932,[3931, 4023]],[3945,[3904, 4021]],[3955,[3953, 3954]],[3957,[3953, 3956]],[3958,[4018, 3968]],
	[3959,[4018, 3969]],[3960,[4019, 3968]],[3961,[4019, 3969]],[3969,[3953, 3968]],[3987,[3986, 4023]],[3997,[3996, 4023]],
	[4002,[4001, 4023]],[4007,[4006, 4023]],[4012,[4011, 4023]],[4025,[3984, 4021]],[4134,[4133, 4142]],[4256,4301,'R',7264],
	[4348,4316],[6918,[6917, 6965]],[6920,[6919, 6965]],[6922,[6921, 6965]],[6924,[6923, 6965]],[6926,[6925, 6965]],
	[6930,[6929, 6965]],[6971,[6970, 6965]],[6973,[6972, 6965]],[6976,[6974, 6965]],[6977,[6975, 6965]],[6979,[6978, 6965]],
	[7468,65],[7469,198],[7470,7473,'R',-7404],[7474,398],[7475,7482,'R',-7404],[7484,79],[7485,546],[7486,80],[7487,82],
	[7488,7489,'R',-7404],[7490,87],[7491,97],[7492,7493,'R',-6900],[7494,7426],[7495,98],[7496,7497,'R',-7396],[7498,601],
	[7499,7500,'R',-6896],[7501,103],[7503,107],[7504,109],[7505,331],[7506,111],[7507,596],[7508,7509,'R',-62],[7510,112],
	[7511,7512,'R',-7395],[7513,7453],[7514,623],[7515,118],[7516,7461],[7517,7519,'R',-6571],[7520,7521,'R',-6554],
	[7522,105],[7523,114],[7524,7525,'R',-7407],[7526,7527,'R',-6580],[7528,961],[7529,7530,'R',-6563],[7544,1085],
	[7579,594],[7580,99],[7581,597],[7582,240],[7583,604],[7584,102],[7585,607],[7586,609],[7587,613],[7588,7590,'R',-6972],
	[7591,7547],[7592,669],[7593,621],[7594,7557],[7595,671],[7596,625],[7597,624],[7598,7601,'R',-6972],[7602,632],
	[7603,7604,'R',-6961],[7605,427],[7606,7607,'R',-6957],[7608,7452],[7609,7610,'R',-6958],[7611,122],
	[7612,7614,'R',-6956],[7615,952],[7680,[97, 805]],[7681,[97, 805]],[7682,[98, 775]],[7683,[98, 775]],[7684,[98, 803]],
	[7685,[98, 803]],[7686,[98, 817]],[7687,[98, 817]],[7688,[231, 769]],[7689,[231, 769]],[7690,[100, 775]],
	[7691,[100, 775]],[7692,[100, 803]],[7693,[100, 803]],[7694,[100, 817]],[7695,[100, 817]],[7696,[100, 807]],
	[7697,[100, 807]],[7698,[100, 813]],[7699,[100, 813]],[7700,[275, 768]],[7701,[275, 768]],[7702,[275, 769]],
	[7703,[275, 769]],[7704,[101, 813]],[7705,[101, 813]],[7706,[101, 816]],[7707,[101, 816]],[7708,[553, 774]],
	[7709,[553, 774]],[7710,[102, 775]],[7711,[102, 775]],[7712,[103, 772]],[7713,[103, 772]],[7714,[104, 775]],
	[7715,[104, 775]],[7716,[104, 803]],[7717,[104, 803]],[7718,[104, 776]],[7719,[104, 776]],[7720,[104, 807]],
	[7721,[104, 807]],[7722,[104, 814]],[7723,[104, 814]],[7724,[105, 816]],[7725,[105, 816]],[7726,[239, 769]],
	[7727,[239, 769]],[7728,[107, 769]],[7729,[107, 769]],[7730,[107, 803]],[7731,[107, 803]],[7732,[107, 817]],
	[7733,[107, 817]],[7734,[108, 803]],[7735,[108, 803]],[7736,[7735, 772]],[7737,[7735, 772]],[7738,[108, 817]],
	[7739,[108, 817]],[7740,[108, 813]],[7741,[108, 813]],[7742,[109, 769]],[7743,[109, 769]],[7744,[109, 775]],
	[7745,[109, 775]],[7746,[109, 803]],[7747,[109, 803]],[7748,[110, 775]],[7749,[110, 775]],[7750,[110, 803]],
	[7751,[110, 803]],[7752,[110, 817]],[7753,[110, 817]],[7754,[110, 813]],[7755,[110, 813]],[7756,[245, 769]],
	[7757,[245, 769]],[7758,[245, 776]],[7759,[245, 776]],[7760,[333, 768]],[7761,[333, 768]],[7762,[333, 769]],
	[7763,[333, 769]],[7764,[112, 769]],[7765,[112, 769]],[7766,[112, 775]],[7767,[112, 775]],[7768,[114, 775]],
	[7769,[114, 775]],[7770,[114, 803]],[7771,[114, 803]],[7772,[7771, 772]],[7773,[7771, 772]],[7774,[114, 817]],
	[7775,[114, 817]],[7776,[115, 775]],[7777,[115, 775]],[7778,[115, 803]],[7779,[115, 803]],[7780,[347, 775]],
	[7781,[347, 775]],[7782,[353, 775]],[7783,[353, 775]],[7784,[7779, 775]],[7785,[7779, 775]],[7786,[116, 775]],
	[7787,[116, 775]],[7788,[116, 803]],[7789,[116, 803]],[7790,[116, 817]],[7791,[116, 817]],[7792,[116, 813]],
	[7793,[116, 813]],[7794,[117, 804]],[7795,[117, 804]],[7796,[117, 816]],[7797,[117, 816]],[7798,[117, 813]],
	[7799,[117, 813]],[7800,[361, 769]],[7801,[361, 769]],[7802,[363, 776]],[7803,[363, 776]],[7804,[118, 771]],
	[7805,[118, 771]],[7806,[118, 803]],[7807,[118, 803]],[7808,[119, 768]],[7809,[119, 768]],[7810,[119, 769]],
	[7811,[119, 769]],[7812,[119, 776]],[7813,[119, 776]],[7814,[119, 775]],[7815,[119, 775]],[7816,[119, 803]],
	[7817,[119, 803]],[7818,[120, 775]],[7819,[120, 775]],[7820,[120, 776]],[7821,[120, 776]],[7822,[121, 775]],
	[7823,[121, 775]],[7824,[122, 770]],[7825,[122, 770]],[7826,[122, 803]],[7827,[122, 803]],[7828,[122, 817]],
	[7829,[122, 817]],[7830,[104, 817]],[7831,[116, 776]],[7832,[119, 778]],[7833,[121, 778]],[7834,[97, 702]],
	[7835,[383, 775]],[7838,223],[7840,[97, 803]],[7841,[97, 803]],[7842,[97, 777]],[7843,[97, 777]],[7844,[226, 769]],
	[7845,[226, 769]],[7846,[226, 768]],[7847,[226, 768]],[7848,[226, 777]],[7849,[226, 777]],[7850,[226, 771]],
	[7851,[226, 771]],[7852,[7841, 770]],[7853,[7841, 770]],[7854,[259, 769]],[7855,[259, 769]],[7856,[259, 768]],
	[7857,[259, 768]],[7858,[259, 777]],[7859,[259, 777]],[7860,[259, 771]],[7861,[259, 771]],[7862,[7841, 774]],
	[7863,[7841, 774]],[7864,[101, 803]],[7865,[101, 803]],[7866,[101, 777]],[7867,[101, 777]],[7868,[101, 771]],
	[7869,[101, 771]],[7870,[234, 769]],[7871,[234, 769]],[7872,[234, 768]],[7873,[234, 768]],[7874,[234, 777]],
	[7875,[234, 777]],[7876,[234, 771]],[7877,[234, 771]],[7878,[7865, 770]],[7879,[7865, 770]],[7880,[105, 777]],
	[7881,[105, 777]],[7882,[105, 803]],[7883,[105, 803]],[7884,[111, 803]],[7885,[111, 803]],[7886,[111, 777]],
	[7887,[111, 777]],[7888,[244, 769]],[7889,[244, 769]],[7890,[244, 768]],[7891,[244, 768]],[7892,[244, 777]],
	[7893,[244, 777]],[7894,[244, 771]],[7895,[244, 771]],[7896,[7885, 770]],[7897,[7885, 770]],[7898,[417, 769]],
	[7899,[417, 769]],[7900,[417, 768]],[7901,[417, 768]],[7902,[417, 777]],[7903,[417, 777]],[7904,[417, 771]],
	[7905,[417, 771]],[7906,[417, 803]],[7907,[417, 803]],[7908,[117, 803]],[7909,[117, 803]],[7910,[117, 777]],
	[7911,[117, 777]],[7912,[432, 769]],[7913,[432, 769]],[7914,[432, 768]],[7915,[432, 768]],[7916,[432, 777]],
	[7917,[432, 777]],[7918,[432, 771]],[7919,[432, 771]],[7920,[432, 803]],[7921,[432, 803]],[7922,[121, 768]],
	[7923,[121, 768]],[7924,[121, 803]],[7925,[121, 803]],[7926,[121, 777]],[7927,[121, 777]],[7928,[121, 771]],
	[7929,[121, 771]],[7930,7934,'R',1],[7936,[945, 787]],[7937,[945, 788]],[7938,[7936, 768]],[7939,[7937, 768]],
	[7940,[7936, 769]],[7941,[7937, 769]],[7942,[7936, 834]],[7943,[7937, 834]],[7944,[945, 787]],[7945,[945, 788]],
	[7946,[7936, 768]],[7947,[7937, 768]],[7948,[7936, 769]],[7949,[7937, 769]],[7950,[7936, 834]],[7951,[7937, 834]],
	[7952,[949, 787]],[7953,[949, 788]],[7954,[7952, 768]],[7955,[7953, 768]],[7956,[7952, 769]],[7957,[7953, 769]],
	[7960,[949, 787]],[7961,[949, 788]],[7962,[7952, 768]],[7963,[7953, 768]],[7964,[7952, 769]],[7965,[7953, 769]],
	[7968,[951, 787]],[7969,[951, 788]],[7970,[7968, 768]],[7971,[7969, 768]],[7972,[7968, 769]],[7973,[7969, 769]],
	[7974,[7968, 834]],[7975,[7969, 834]],[7976,[951, 787]],[7977,[951, 788]],[7978,[7968, 768]],[7979,[7969, 768]],
	[7980,[7968, 769]],[7981,[7969, 769]],[7982,[7968, 834]],[7983,[7969, 834]],[7984,[953, 787]],[7985,[953, 788]],
	[7986,[7984, 768]],[7987,[7985, 768]],[7988,[7984, 769]],[7989,[7985, 769]],[7990,[7984, 834]],[7991,[7985, 834]],
	[7992,[953, 787]],[7993,[953, 788]],[7994,[7984, 768]],[7995,[7985, 768]],[7996,[7984, 769]],[7997,[7985, 769]],
	[7998,[7984, 834]],[7999,[7985, 834]],[8000,[959, 787]],[8001,[959, 788]],[8002,[8000, 768]],[8003,[8001, 768]],
	[8004,[8000, 769]],[8005,[8001, 769]],[8008,[959, 787]],[8009,[959, 788]],[8010,[8000, 768]],[8011,[8001, 768]],
	[8012,[8000, 769]],[8013,[8001, 769]],[8016,[965, 787]],[8017,[965, 788]],[8018,[8016, 768]],[8019,[8017, 768]],
	[8020,[8016, 769]],[8021,[8017, 769]],[8022,[8016, 834]],[8023,[8017, 834]],[8025,[965, 788]],[8027,[8017, 768]],
	[8029,[8017, 769]],[8031,[8017, 834]],[8032,[969, 787]],[8033,[969, 788]],[8034,[8032, 768]],[8035,[8033, 768]],
	[8036,[8032, 769]],[8037,[8033, 769]],[8038,[8032, 834]],[8039,[8033, 834]],[8040,[969, 787]],[8041,[969, 788]],
	[8042,[8032, 768]],[8043,[8033, 768]],[8044,[8032, 769]],[8045,[8033, 769]],[8046,[8032, 834]],[8047,[8033, 834]],
	[8048,[945, 768]],[8049,940],[8050,[949, 768]],[8051,941],[8052,[951, 768]],[8053,942],[8054,[953, 768]],[8055,943],
	[8056,[959, 768]],[8057,972],[8058,[965, 768]],[8059,973],[8060,[969, 768]],[8061,974],[8064,[7936, 837]],
	[8065,[7937, 837]],[8066,[7938, 837]],[8067,[7939, 837]],[8068,[7940, 837]],[8069,[7941, 837]],[8070,[7942, 837]],
	[8071,[7943, 837]],[8072,[7936, 837]],[8073,[7937, 837]],[8074,[7938, 837]],[8075,[7939, 837]],[8076,[7940, 837]],
	[8077,[7941, 837]],[8078,[7942, 837]],[8079,[7943, 837]],[8080,[7968, 837]],[8081,[7969, 837]],[8082,[7970, 837]],
	[8083,[7971, 837]],[8084,[7972, 837]],[8085,[7973, 837]],[8086,[7974, 837]],[8087,[7975, 837]],[8088,[7968, 837]],
	[8089,[7969, 837]],[8090,[7970, 837]],[8091,[7971, 837]],[8092,[7972, 837]],[8093,[7973, 837]],[8094,[7974, 837]],
	[8095,[7975, 837]],[8096,[8032, 837]],[8097,[8033, 837]],[8098,[8034, 837]],[8099,[8035, 837]],[8100,[8036, 837]],
	[8101,[8037, 837]],[8102,[8038, 837]],[8103,[8039, 837]],[8104,[8032, 837]],[8105,[8033, 837]],[8106,[8034, 837]],
	[8107,[8035, 837]],[8108,[8036, 837]],[8109,[8037, 837]],[8110,[8038, 837]],[8111,[8039, 837]],[8112,[945, 774]],
	[8113,[945, 772]],[8114,[8048, 837]],[8115,[945, 837]],[8116,[940, 837]],[8118,[945, 834]],[8119,[8118, 837]],
	[8120,[945, 774]],[8121,[945, 772]],[8122,[945, 768]],[8123,940],[8124,[945, 837]],[8125,[32, 787]],[8126,953],
	[8127,[32, 787]],[8128,[32, 834]],[8129,[168, 834]],[8130,[8052, 837]],[8131,[951, 837]],[8132,[942, 837]],
	[8134,[951, 834]],[8135,[8134, 837]],[8136,[949, 768]],[8137,941],[8138,[951, 768]],[8139,942],[8140,[951, 837]],
	[8141,[8127, 768]],[8142,[8127, 769]],[8143,[8127, 834]],[8144,[953, 774]],[8145,[953, 772]],[8146,[970, 768]],
	[8147,912],[8150,[953, 834]],[8151,[970, 834]],[8152,[953, 774]],[8153,[953, 772]],[8154,[953, 768]],[8155,943],
	[8157,[8190, 768]],[8158,[8190, 769]],[8159,[8190, 834]],[8160,[965, 774]],[8161,[965, 772]],[8162,[971, 768]],
	[8163,944],[8164,[961, 787]],[8165,[961, 788]],[8166,[965, 834]],[8167,[971, 834]],[8168,[965, 774]],[8169,[965, 772]],
	[8170,[965, 768]],[8171,973],[8172,[961, 788]],[8173,[168, 768]],[8174,901],[8175,96],[8178,[8060, 837]],
	[8179,[969, 837]],[8180,[974, 837]],[8182,[969, 834]],[8183,[8182, 837]],[8184,[959, 768]],[8185,972],[8186,[969, 768]],
	[8187,974],[8188,[969, 837]],[8189,180],[8190,[32, 788]],[8192,8193,'R',2],[8194,8202,'A',32],[8209,8208],
	[8215,[32, 819]],[8228,46],[8229,[46, 46]],[8230,[46, 46, 46]],[8239,32],[8243,[8242, 8242]],[8244,[8242, 8242, 8242]],
	[8246,[8245, 8245]],[8247,[8245, 8245, 8245]],[8252,[33, 33]],[8254,[32, 773]],[8263,[63, 63]],[8264,[63, 33]],
	[8265,[33, 63]],[8279,[8242, 8242, 8242, 8242]],[8287,32],[8304,48],[8305,105],[8308,8313,'R',-8256],[8314,43],
	[8315,8722],[8316,61],[8317,8318,'R',-8277],[8319,110],[8320,8329,'R',-8272],[8330,43],[8331,8722],[8332,61],
	[8333,8334,'R',-8293],[8336,97],[8337,101],[8338,111],[8339,120],[8340,601],[8341,104],[8342,8345,'R',-8235],[8346,112],
	[8347,8348,'R',-8232],[8360,[82, 115]],[8448,[97, 47, 99]],[8449,[97, 47, 115]],[8450,67],[8451,[176, 67]],
	[8453,[99, 47, 111]],[8454,[99, 47, 117]],[8455,400],[8457,[176, 70]],[8458,103],[8459,8461,'A',72],[8462,104],
	[8463,295],[8464,8465,'A',73],[8466,76],[8467,108],[8469,78],[8470,[78, 111]],[8473,8475,'R',-8393],[8476,8477,'A',82],
	[8480,[83, 77]],[8481,[84, 69, 76]],[8482,[84, 77]],[8484,90],[8486,969],[8488,90],[8490,107],[8491,[97, 778]],
	[8492,8493,'R',-8426],[8495,101],[8496,8497,'R',-8427],[8498,8526],[8499,77],[8500,111],[8501,8504,'R',-7013],[8505,105],
	[8507,[70, 65, 88]],[8508,960],[8509,947],[8510,915],[8511,928],[8512,8721],[8517,68],[8518,8519,'R',-8418],
	[8520,8521,'R',-8415],[8528,[49, 8260, 55]],[8529,[49, 8260, 57]],[8530,[49, 8260, 49, 48]],[8531,[49, 8260, 51]],
	[8532,[50, 8260, 51]],[8533,[49, 8260, 53]],[8534,[50, 8260, 53]],[8535,[51, 8260, 53]],[8536,[52, 8260, 53]],
	[8537,[49, 8260, 54]],[8538,[53, 8260, 54]],[8539,[49, 8260, 56]],[8540,[51, 8260, 56]],[8541,[53, 8260, 56]],
	[8542,[55, 8260, 56]],[8543,[49, 8260]],[8544,105],[8545,[105, 105]],[8546,[105, 105, 105]],[8547,[105, 118]],[8548,118],
	[8549,[118, 105]],[8550,[118, 105, 105]],[8551,[118, 105, 105, 105]],[8552,[105, 120]],[8553,120],[8554,[120, 105]],
	[8555,[120, 105, 105]],[8556,108],[8557,8558,'R',-8458],[8559,109],[8560,105],[8561,[105, 105]],[8562,[105, 105, 105]],
	[8563,[105, 118]],[8564,118],[8565,[118, 105]],[8566,[118, 105, 105]],[8567,[118, 105, 105, 105]],[8568,[105, 120]],
	[8569,120],[8570,[120, 105]],[8571,[120, 105, 105]],[8572,108],[8573,8574,'R',-8474],[8575,109],[8579,8580],
	[8585,[48, 8260, 51]],[8602,[8592, 824]],[8603,[8594, 824]],[8622,[8596, 824]],[8653,[8656, 824]],[8654,[8660, 824]],
	[8655,[8658, 824]],[8708,[8707, 824]],[8713,[8712, 824]],[8716,[8715, 824]],[8740,[8739, 824]],[8742,[8741, 824]],
	[8748,[8747, 8747]],[8749,[8747, 8747, 8747]],[8751,[8750, 8750]],[8752,[8750, 8750, 8750]],[8769,[8764, 824]],
	[8772,[8771, 824]],[8775,[8773, 824]],[8777,[8776, 824]],[8800,[61, 824]],[8802,[8801, 824]],[8813,[8781, 824]],
	[8814,[60, 824]],[8815,[62, 824]],[8816,[8804, 824]],[8817,[8805, 824]],[8820,[8818, 824]],[8821,[8819, 824]],
	[8824,[8822, 824]],[8825,[8823, 824]],[8832,[8826, 824]],[8833,[8827, 824]],[8836,[8834, 824]],[8837,[8835, 824]],
	[8840,[8838, 824]],[8841,[8839, 824]],[8876,[8866, 824]],[8877,[8872, 824]],[8878,[8873, 824]],[8879,[8875, 824]],
	[8928,[8828, 824]],[8929,[8829, 824]],[8930,[8849, 824]],[8931,[8850, 824]],[8938,[8882, 824]],[8939,[8883, 824]],
	[8940,[8884, 824]],[8941,[8885, 824]],[9001,9002,'R',3295],[9312,9320,'R',-9263],[9321,[49, 48]],[9322,[49, 49]],
	[9323,[49, 50]],[9324,[49, 51]],[9325,[49, 52]],[9326,[49, 53]],[9327,[49, 54]],[9328,[49, 55]],[9329,[49, 56]],
	[9330,[49, 57]],[9331,[50, 48]],[9332,[40, 49, 41]],[9333,[40, 50, 41]],[9334,[40, 51, 41]],[9335,[40, 52, 41]],
	[9336,[40, 53, 41]],[9337,[40, 54, 41]],[9338,[40, 55, 41]],[9339,[40, 56, 41]],[9340,[40, 57, 41]],
	[9341,[40, 49, 48, 41]],[9342,[40, 49, 49, 41]],[9343,[40, 49, 50, 41]],[9344,[40, 49, 51, 41]],[9345,[40, 49, 52, 41]],
	[9346,[40, 49, 53, 41]],[9347,[40, 49, 54, 41]],[9348,[40, 49, 55, 41]],[9349,[40, 49, 56, 41]],[9350,[40, 49, 57, 41]],
	[9351,[40, 50, 48, 41]],[9352,[49, 46]],[9353,[50, 46]],[9354,[51, 46]],[9355,[52, 46]],[9356,[53, 46]],[9357,[54, 46]],
	[9358,[55, 46]],[9359,[56, 46]],[9360,[57, 46]],[9361,[49, 48, 46]],[9362,[49, 49, 46]],[9363,[49, 50, 46]],
	[9364,[49, 51, 46]],[9365,[49, 52, 46]],[9366,[49, 53, 46]],[9367,[49, 54, 46]],[9368,[49, 55, 46]],[9369,[49, 56, 46]],
	[9370,[49, 57, 46]],[9371,[50, 48, 46]],[9372,[40, 97, 41]],[9373,[40, 98, 41]],[9374,[40, 99, 41]],[9375,[40, 100, 41]],
	[9376,[40, 101, 41]],[9377,[40, 102, 41]],[9378,[40, 103, 41]],[9379,[40, 104, 41]],[9380,[40, 105, 41]],
	[9381,[40, 106, 41]],[9382,[40, 107, 41]],[9383,[40, 108, 41]],[9384,[40, 109, 41]],[9385,[40, 110, 41]],
	[9386,[40, 111, 41]],[9387,[40, 112, 41]],[9388,[40, 113, 41]],[9389,[40, 114, 41]],[9390,[40, 115, 41]],
	[9391,[40, 116, 41]],[9392,[40, 117, 41]],[9393,[40, 118, 41]],[9394,[40, 119, 41]],[9395,[40, 120, 41]],
	[9396,[40, 121, 41]],[9397,[40, 122, 41]],[9398,9423,'R',-9301],[9424,9449,'R',-9327],[9450,48],
	[10764,[8747, 8747, 8747, 8747]],[10868,[58, 58, 61]],[10869,[61, 61]],[10870,[61, 61, 61]],[10972,[10973, 824]],
	[11264,11310,'R',48],[11360,11361],[11362,619],[11363,7549],[11364,637],[11367,11371,'R',1],[11373,593],[11374,625],
	[11375,592],[11376,594],[11378,11381,'R',1],[11388,106],[11389,86],[11390,11391,'R',-10815],[11392,11506,'R',1],
	[11631,11617],[11935,27597],[12019,40863],[12032,19968],[12033,20008],[12034,20022],[12035,20031],[12036,20057],
	[12037,20101],[12038,20108],[12039,20128],[12040,20154],[12041,20799],[12042,20837],[12043,20843],[12044,20866],
	[12045,20886],[12046,20907],[12047,20960],[12048,20981],[12049,20992],[12050,21147],[12051,21241],[12052,21269],
	[12053,21274],[12054,21304],[12055,21313],[12056,21340],[12057,21353],[12058,21378],[12059,21430],[12060,21448],
	[12061,21475],[12062,22231],[12063,22303],[12064,22763],[12065,22786],[12066,22794],[12067,22805],[12068,22823],
	[12069,22899],[12070,23376],[12071,23424],[12072,23544],[12073,23567],[12074,23586],[12075,23608],[12076,23662],
	[12077,23665],[12078,24027],[12079,24037],[12080,24049],[12081,24062],[12082,24178],[12083,24186],[12084,24191],
	[12085,24308],[12086,24318],[12087,24331],[12088,24339],[12089,24400],[12090,24417],[12091,24435],[12092,24515],
	[12093,25096],[12094,25142],[12095,25163],[12096,25903],[12097,25908],[12098,25991],[12099,26007],[12100,26020],
	[12101,26041],[12102,26080],[12103,26085],[12104,26352],[12105,26376],[12106,26408],[12107,27424],[12108,27490],
	[12109,27513],[12110,27571],[12111,27595],[12112,27604],[12113,27611],[12114,27663],[12115,27668],[12116,27700],
	[12117,28779],[12118,29226],[12119,29238],[12120,29243],[12121,29247],[12122,29255],[12123,29273],[12124,29275],
	[12125,29356],[12126,29572],[12127,29577],[12128,29916],[12129,29926],[12130,29976],[12131,29983],[12132,29992],
	[12133,30000],[12134,30091],[12135,30098],[12136,30326],[12137,30333],[12138,30382],[12139,30399],[12140,30446],
	[12141,30683],[12142,30690],[12143,30707],[12144,31034],[12145,31160],[12146,31166],[12147,31348],[12148,31435],
	[12149,31481],[12150,31859],[12151,31992],[12152,32566],[12153,32593],[12154,32650],[12155,32701],[12156,32769],
	[12157,32780],[12158,32786],[12159,32819],[12160,32895],[12161,32905],[12162,33251],[12163,33258],[12164,33267],
	[12165,33276],[12166,33292],[12167,33307],[12168,33311],[12169,33390],[12170,33394],[12171,33400],[12172,34381],
	[12173,34411],[12174,34880],[12175,34892],[12176,34915],[12177,35198],[12178,35211],[12179,35282],[12180,35328],
	[12181,35895],[12182,35910],[12183,35925],[12184,35960],[12185,35997],[12186,36196],[12187,36208],[12188,36275],
	[12189,36523],[12190,36554],[12191,36763],[12192,36784],[12193,36789],[12194,37009],[12195,37193],[12196,37318],
	[12197,37324],[12198,37329],[12199,38263],[12200,38272],[12201,38428],[12202,38582],[12203,38585],[12204,38632],
	[12205,38737],[12206,38750],[12207,38754],[12208,38761],[12209,38859],[12210,38893],[12211,38899],[12212,38913],
	[12213,39080],[12214,39131],[12215,39135],[12216,39318],[12217,39321],[12218,39340],[12219,39592],[12220,39640],
	[12221,39647],[12222,39717],[12223,39727],[12224,39730],[12225,39740],[12226,39770],[12227,40165],[12228,40565],
	[12229,40575],[12230,40613],[12231,40635],[12232,40643],[12233,40653],[12234,40657],[12235,40697],[12236,40701],
	[12237,40718],[12238,40723],[12239,40736],[12240,40763],[12241,40778],[12242,40786],[12243,40845],[12244,40860],
	[12245,40864],[12288,32],[12342,12306],[12344,21313],[12345,12346,'R',8971],[12364,[12363, 12441]],
	[12366,[12365, 12441]],[12368,[12367, 12441]],[12370,[12369, 12441]],[12372,[12371, 12441]],[12374,[12373, 12441]],
	[12376,[12375, 12441]],[12378,[12377, 12441]],[12380,[12379, 12441]],[12382,[12381, 12441]],[12384,[12383, 12441]],
	[12386,[12385, 12441]],[12389,[12388, 12441]],[12391,[12390, 12441]],[12393,[12392, 12441]],[12400,[12399, 12441]],
	[12401,[12399, 12442]],[12403,[12402, 12441]],[12404,[12402, 12442]],[12406,[12405, 12441]],[12407,[12405, 12442]],
	[12409,[12408, 12441]],[12410,[12408, 12442]],[12412,[12411, 12441]],[12413,[12411, 12442]],[12436,[12358, 12441]],
	[12443,[32, 12441]],[12444,[32, 12442]],[12446,[12445, 12441]],[12447,[12424, 12426]],[12460,[12459, 12441]],
	[12462,[12461, 12441]],[12464,[12463, 12441]],[12466,[12465, 12441]],[12468,[12467, 12441]],[12470,[12469, 12441]],
	[12472,[12471, 12441]],[12474,[12473, 12441]],[12476,[12475, 12441]],[12478,[12477, 12441]],[12480,[12479, 12441]],
	[12482,[12481, 12441]],[12485,[12484, 12441]],[12487,[12486, 12441]],[12489,[12488, 12441]],[12496,[12495, 12441]],
	[12497,[12495, 12442]],[12499,[12498, 12441]],[12500,[12498, 12442]],[12502,[12501, 12441]],[12503,[12501, 12442]],
	[12505,[12504, 12441]],[12506,[12504, 12442]],[12508,[12507, 12441]],[12509,[12507, 12442]],[12532,[12454, 12441]],
	[12535,[12527, 12441]],[12536,[12528, 12441]],[12537,[12529, 12441]],[12538,[12530, 12441]],[12542,[12541, 12441]],
	[12543,[12467, 12488]],[12593,12594,'R',-8241],[12595,4522],[12596,4354],[12597,12598,'R',-8073],[12599,12601,'R',-8244],
	[12602,12607,'R',-8074],[12608,4378],[12609,12611,'R',-8251],[12612,4385],[12613,12622,'R',-8252],
	[12623,12643,'R',-8174],[12644,4448],[12645,12646,'R',-8273],[12647,12648,'R',-8096],[12649,4556],[12650,4558],
	[12651,4563],[12652,4567],[12653,4569],[12654,4380],[12655,4573],[12656,4575],[12657,12658,'R',-8276],[12659,4384],
	[12660,12661,'R',-8274],[12662,4391],[12663,4393],[12664,12668,'R',-8269],[12669,4402],[12670,4406],[12671,4416],
	[12672,4423],[12673,4428],[12674,12675,'R',-8081],[12676,12678,'R',-8237],[12679,12680,'R',-8195],[12681,4488],
	[12682,12683,'R',-8185],[12684,4500],[12685,4510],[12686,4513],[12690,19968],[12691,20108],[12692,19977],[12693,22235],
	[12694,19978],[12695,20013],[12696,19979],[12697,30002],[12698,20057],[12699,19993],[12700,19969],[12701,22825],
	[12702,22320],[12703,20154],[12800,[40, 4352, 41]],[12801,[40, 4354, 41]],[12802,[40, 4355, 41]],[12803,[40, 4357, 41]],
	[12804,[40, 4358, 41]],[12805,[40, 4359, 41]],[12806,[40, 4361, 41]],[12807,[40, 4363, 41]],[12808,[40, 4364, 41]],
	[12809,[40, 4366, 41]],[12810,[40, 4367, 41]],[12811,[40, 4368, 41]],[12812,[40, 4369, 41]],[12813,[40, 4370, 41]],
	[12814,[40, 4352, 4449, 41]],[12815,[40, 4354, 4449, 41]],[12816,[40, 4355, 4449, 41]],[12817,[40, 4357, 4449, 41]],
	[12818,[40, 4358, 4449, 41]],[12819,[40, 4359, 4449, 41]],[12820,[40, 4361, 4449, 41]],[12821,[40, 4363, 4449, 41]],
	[12822,[40, 4364, 4449, 41]],[12823,[40, 4366, 4449, 41]],[12824,[40, 4367, 4449, 41]],[12825,[40, 4368, 4449, 41]],
	[12826,[40, 4369, 4449, 41]],[12827,[40, 4370, 4449, 41]],[12828,[40, 4364, 4462, 41]],
	[12829,[40, 4363, 4457, 4364, 4453, 4523, 41]],[12830,[40, 4363, 4457, 4370, 4462, 41]],[12832,[40, 19968, 41]],
	[12833,[40, 20108, 41]],[12834,[40, 19977, 41]],[12835,[40, 22235, 41]],[12836,[40, 20116, 41]],[12837,[40, 20845, 41]],
	[12838,[40, 19971, 41]],[12839,[40, 20843, 41]],[12840,[40, 20061, 41]],[12841,[40, 21313, 41]],[12842,[40, 26376, 41]],
	[12843,[40, 28779, 41]],[12844,[40, 27700, 41]],[12845,[40, 26408, 41]],[12846,[40, 37329, 41]],[12847,[40, 22303, 41]],
	[12848,[40, 26085, 41]],[12849,[40, 26666, 41]],[12850,[40, 26377, 41]],[12851,[40, 31038, 41]],[12852,[40, 21517, 41]],
	[12853,[40, 29305, 41]],[12854,[40, 36001, 41]],[12855,[40, 31069, 41]],[12856,[40, 21172, 41]],[12857,[40, 20195, 41]],
	[12858,[40, 21628, 41]],[12859,[40, 23398, 41]],[12860,[40, 30435, 41]],[12861,[40, 20225, 41]],[12862,[40, 36039, 41]],
	[12863,[40, 21332, 41]],[12864,[40, 31085, 41]],[12865,[40, 20241, 41]],[12866,[40, 33258, 41]],[12867,[40, 33267, 41]],
	[12868,21839],[12869,24188],[12870,25991],[12871,31631],[12880,[80, 84, 69]],[12881,[50, 49]],[12882,[50, 50]],
	[12883,[50, 51]],[12884,[50, 52]],[12885,[50, 53]],[12886,[50, 54]],[12887,[50, 55]],[12888,[50, 56]],[12889,[50, 57]],
	[12890,[51, 48]],[12891,[51, 49]],[12892,[51, 50]],[12893,[51, 51]],[12894,[51, 52]],[12895,[51, 53]],[12896,4352],
	[12897,12898,'R',-8543],[12899,12901,'R',-8542],[12902,4361],[12903,12904,'R',-8540],[12905,12909,'R',-8539],
	[12910,[4352, 4449]],[12911,[4354, 4449]],[12912,[4355, 4449]],[12913,[4357, 4449]],[12914,[4358, 4449]],
	[12915,[4359, 4449]],[12916,[4361, 4449]],[12917,[4363, 4449]],[12918,[4364, 4449]],[12919,[4366, 4449]],
	[12920,[4367, 4449]],[12921,[4368, 4449]],[12922,[4369, 4449]],[12923,[4370, 4449]],
	[12924,[4366, 4449, 4535, 4352, 4457]],[12925,[4364, 4462, 4363, 4468]],[12926,[4363, 4462]],[12928,19968],[12929,20108],
	[12930,19977],[12931,22235],[12932,20116],[12933,20845],[12934,19971],[12935,20843],[12936,20061],[12937,21313],
	[12938,26376],[12939,28779],[12940,27700],[12941,26408],[12942,37329],[12943,22303],[12944,26085],[12945,26666],
	[12946,26377],[12947,31038],[12948,21517],[12949,29305],[12950,36001],[12951,31069],[12952,21172],[12953,31192],
	[12954,30007],[12955,22899],[12956,36969],[12957,20778],[12958,21360],[12959,27880],[12960,38917],[12961,20241],
	[12962,20889],[12963,27491],[12964,19978],[12965,20013],[12966,19979],[12967,24038],[12968,21491],[12969,21307],
	[12970,23447],[12971,23398],[12972,30435],[12973,20225],[12974,36039],[12975,21332],[12976,22812],[12977,[51, 54]],
	[12978,[51, 55]],[12979,[51, 56]],[12980,[51, 57]],[12981,[52, 48]],[12982,[52, 49]],[12983,[52, 50]],[12984,[52, 51]],
	[12985,[52, 52]],[12986,[52, 53]],[12987,[52, 54]],[12988,[52, 55]],[12989,[52, 56]],[12990,[52, 57]],[12991,[53, 48]],
	[12992,[49, 26376]],[12993,[50, 26376]],[12994,[51, 26376]],[12995,[52, 26376]],[12996,[53, 26376]],[12997,[54, 26376]],
	[12998,[55, 26376]],[12999,[56, 26376]],[13000,[57, 26376]],[13001,[49, 48, 26376]],[13002,[49, 49, 26376]],
	[13003,[49, 50, 26376]],[13004,[72, 103]],[13005,[101, 114, 103]],[13006,[101, 86]],[13007,[76, 84, 68]],[13008,12450],
	[13009,12452],[13010,12454],[13011,12456],[13012,13013,'R',-554],[13014,12461],[13015,12463],[13016,12465],[13017,12467],
	[13018,12469],[13019,12471],[13020,12473],[13021,12475],[13022,12477],[13023,12479],[13024,12481],[13025,12484],
	[13026,12486],[13027,12488],[13028,13033,'R',-538],[13034,12498],[13035,12501],[13036,12504],[13037,12507],
	[13038,13042,'R',-528],[13043,12516],[13044,12518],[13045,13050,'R',-525],[13051,13054,'R',-524],
	[13056,[12450, 12497, 12540, 12488]],[13057,[12450, 12523, 12501, 12449]],[13058,[12450, 12531, 12506, 12450]],
	[13059,[12450, 12540, 12523]],[13060,[12452, 12491, 12531, 12464]],[13061,[12452, 12531, 12481]],
	[13062,[12454, 12457, 12531]],[13063,[12456, 12473, 12463, 12540, 12489]],[13064,[12456, 12540, 12459, 12540]],
	[13065,[12458, 12531, 12473]],[13066,[12458, 12540, 12512]],[13067,[12459, 12452, 12522]],
	[13068,[12459, 12521, 12483, 12488]],[13069,[12459, 12525, 12522, 12540]],[13070,[12460, 12525, 12531]],
	[13071,[12460, 12531, 12510]],[13072,[12462, 12460]],[13073,[12462, 12491, 12540]],[13074,[12461, 12517, 12522, 12540]],
	[13075,[12462, 12523, 12480, 12540]],[13076,[12461, 12525]],[13077,[12461, 12525, 12464, 12521, 12512]],
	[13078,[12461, 12525, 12513, 12540, 12488, 12523]],[13079,[12461, 12525, 12527, 12483, 12488]],
	[13080,[12464, 12521, 12512]],[13081,[12464, 12521, 12512, 12488, 12531]],[13082,[12463, 12523, 12476, 12452, 12525]],
	[13083,[12463, 12525, 12540, 12493]],[13084,[12465, 12540, 12473]],[13085,[12467, 12523, 12490]],
	[13086,[12467, 12540, 12509]],[13087,[12469, 12452, 12463, 12523]],[13088,[12469, 12531, 12481, 12540, 12512]],
	[13089,[12471, 12522, 12531, 12464]],[13090,[12475, 12531, 12481]],[13091,[12475, 12531, 12488]],
	[13092,[12480, 12540, 12473]],[13093,[12487, 12471]],[13094,[12489, 12523]],[13095,[12488, 12531]],
	[13096,[12490, 12494]],[13097,[12494, 12483, 12488]],[13098,[12495, 12452, 12484]],
	[13099,[12497, 12540, 12475, 12531, 12488]],[13100,[12497, 12540, 12484]],[13101,[12496, 12540, 12524, 12523]],
	[13102,[12500, 12450, 12473, 12488, 12523]],[13103,[12500, 12463, 12523]],[13104,[12500, 12467]],[13105,[12499, 12523]],
	[13106,[12501, 12449, 12521, 12483, 12489]],[13107,[12501, 12451, 12540, 12488]],
	[13108,[12502, 12483, 12471, 12455, 12523]],[13109,[12501, 12521, 12531]],[13110,[12504, 12463, 12479, 12540, 12523]],
	[13111,[12506, 12477]],[13112,[12506, 12491, 12498]],[13113,[12504, 12523, 12484]],[13114,[12506, 12531, 12473]],
	[13115,[12506, 12540, 12472]],[13116,[12505, 12540, 12479]],[13117,[12509, 12452, 12531, 12488]],
	[13118,[12508, 12523, 12488]],[13119,[12507, 12531]],[13120,[12509, 12531, 12489]],[13121,[12507, 12540, 12523]],
	[13122,[12507, 12540, 12531]],[13123,[12510, 12452, 12463, 12525]],[13124,[12510, 12452, 12523]],
	[13125,[12510, 12483, 12495]],[13126,[12510, 12523, 12463]],[13127,[12510, 12531, 12471, 12519, 12531]],
	[13128,[12511, 12463, 12525, 12531]],[13129,[12511, 12522]],[13130,[12511, 12522, 12496, 12540, 12523]],
	[13131,[12513, 12460]],[13132,[12513, 12460, 12488, 12531]],[13133,[12513, 12540, 12488, 12523]],
	[13134,[12516, 12540, 12489]],[13135,[12516, 12540, 12523]],[13136,[12518, 12450, 12531]],
	[13137,[12522, 12483, 12488, 12523]],[13138,[12522, 12521]],[13139,[12523, 12500, 12540]],
	[13140,[12523, 12540, 12502, 12523]],[13141,[12524, 12512]],[13142,[12524, 12531, 12488, 12466, 12531]],
	[13143,[12527, 12483, 12488]],[13144,[48, 28857]],[13145,[49, 28857]],[13146,[50, 28857]],[13147,[51, 28857]],
	[13148,[52, 28857]],[13149,[53, 28857]],[13150,[54, 28857]],[13151,[55, 28857]],[13152,[56, 28857]],[13153,[57, 28857]],
	[13154,[49, 48, 28857]],[13155,[49, 49, 28857]],[13156,[49, 50, 28857]],[13157,[49, 51, 28857]],[13158,[49, 52, 28857]],
	[13159,[49, 53, 28857]],[13160,[49, 54, 28857]],[13161,[49, 55, 28857]],[13162,[49, 56, 28857]],[13163,[49, 57, 28857]],
	[13164,[50, 48, 28857]],[13165,[50, 49, 28857]],[13166,[50, 50, 28857]],[13167,[50, 51, 28857]],[13168,[50, 52, 28857]],
	[13169,[104, 80, 97]],[13170,[100, 97]],[13171,[65, 85]],[13172,[98, 97, 114]],[13173,[111, 86]],[13174,[112, 99]],
	[13175,[100, 109]],[13176,[100, 109, 178]],[13177,[100, 109, 179]],[13178,[73, 85]],[13179,[24179, 25104]],
	[13180,[26157, 21644]],[13181,[22823, 27491]],[13182,[26126, 27835]],[13183,[26666, 24335, 20250, 31038]],
	[13184,[112, 65]],[13185,[110, 65]],[13186,[956, 65]],[13187,[109, 65]],[13188,[107, 65]],[13189,[75, 66]],
	[13190,[77, 66]],[13191,[71, 66]],[13192,[99, 97, 108]],[13193,[107, 99, 97, 108]],[13194,[112, 70]],[13195,[110, 70]],
	[13196,[956, 70]],[13197,[956, 103]],[13198,[109, 103]],[13199,[107, 103]],[13200,[72, 122]],[13201,[107, 72, 122]],
	[13202,[77, 72, 122]],[13203,[71, 72, 122]],[13204,[84, 72, 122]],[13205,[956, 8467]],[13206,[109, 8467]],
	[13207,[100, 8467]],[13208,[107, 8467]],[13209,[102, 109]],[13210,[110, 109]],[13211,[956, 109]],[13212,[109, 109]],
	[13213,[99, 109]],[13214,[107, 109]],[13215,[109, 109, 178]],[13216,[99, 109, 178]],[13217,[109, 178]],
	[13218,[107, 109, 178]],[13219,[109, 109, 179]],[13220,[99, 109, 179]],[13221,[109, 179]],[13222,[107, 109, 179]],
	[13223,[109, 8725, 115]],[13224,[109, 8725, 115, 178]],[13225,[80, 97]],[13226,[107, 80, 97]],[13227,[77, 80, 97]],
	[13228,[71, 80, 97]],[13229,[114, 97, 100]],[13230,[114, 97, 100, 8725, 115]],[13231,[114, 97, 100, 8725, 115, 178]],
	[13232,[112, 115]],[13233,[110, 115]],[13234,[956, 115]],[13235,[109, 115]],[13236,[112, 86]],[13237,[110, 86]],
	[13238,[956, 86]],[13239,[109, 86]],[13240,[107, 86]],[13241,[77, 86]],[13242,[112, 87]],[13243,[110, 87]],
	[13244,[956, 87]],[13245,[109, 87]],[13246,[107, 87]],[13247,[77, 87]],[13248,[107, 937]],[13249,[77, 937]],
	[13250,[97, 46, 109, 46]],[13251,[66, 113]],[13252,[99, 99]],[13253,[99, 100]],[13254,[67, 8725, 107, 103]],
	[13255,[67, 111, 46]],[13256,[100, 66]],[13257,[71, 121]],[13258,[104, 97]],[13259,[72, 80]],[13260,[105, 110]],
	[13261,[75, 75]],[13262,[75, 77]],[13263,[107, 116]],[13264,[108, 109]],[13265,[108, 110]],[13266,[108, 111, 103]],
	[13267,[108, 120]],[13268,[109, 98]],[13269,[109, 105, 108]],[13270,[109, 111, 108]],[13271,[80, 72]],
	[13272,[112, 46, 109, 46]],[13273,[80, 80, 77]],[13274,[80, 82]],[13275,[115, 114]],[13276,[83, 118]],[13277,[87, 98]],
	[13278,[86, 8725, 109]],[13279,[65, 8725, 109]],[13280,[49, 26085]],[13281,[50, 26085]],[13282,[51, 26085]],
	[13283,[52, 26085]],[13284,[53, 26085]],[13285,[54, 26085]],[13286,[55, 26085]],[13287,[56, 26085]],[13288,[57, 26085]],
	[13289,[49, 48, 26085]],[13290,[49, 49, 26085]],[13291,[49, 50, 26085]],[13292,[49, 51, 26085]],[13293,[49, 52, 26085]],
	[13294,[49, 53, 26085]],[13295,[49, 54, 26085]],[13296,[49, 55, 26085]],[13297,[49, 56, 26085]],[13298,[49, 57, 26085]],
	[13299,[50, 48, 26085]],[13300,[50, 49, 26085]],[13301,[50, 50, 26085]],[13302,[50, 51, 26085]],[13303,[50, 52, 26085]],
	[13304,[50, 53, 26085]],[13305,[50, 54, 26085]],[13306,[50, 55, 26085]],[13307,[50, 56, 26085]],[13308,[50, 57, 26085]],
	[13309,[51, 48, 26085]],[13310,[51, 49, 26085]],[13311,[103, 97, 108]],[42560,42862,'R',1],[42864,42863],
	[42873,42875,'R',1],[42877,7545],[42878,42891,'R',1],[42893,613],[42896,42920,'R',1],[42922,614],[43000,294],[43001,339],
	[63744,35912],[63745,26356],[63746,36554],[63747,36040],[63748,28369],[63749,20018],[63750,21477],
	[63751,63752,'A',40860],[63753,22865],[63754,37329],[63755,21895],[63756,22856],[63757,25078],[63758,30313],
	[63759,32645],[63760,34367],[63761,34746],[63762,35064],[63763,37007],[63764,27138],[63765,27931],[63766,28889],
	[63767,29662],[63768,33853],[63769,37226],[63770,39409],[63771,20098],[63772,21365],[63773,27396],[63774,29211],
	[63775,34349],[63776,40478],[63777,23888],[63778,28651],[63779,34253],[63780,35172],[63781,25289],[63782,33240],
	[63783,34847],[63784,24266],[63785,26391],[63786,28010],[63787,29436],[63788,37070],[63789,20358],[63790,20919],
	[63791,21214],[63792,25796],[63793,27347],[63794,29200],[63795,30439],[63796,32769],[63797,34310],[63798,34396],
	[63799,36335],[63800,38706],[63801,39791],[63802,40442],[63803,30860],[63804,31103],[63805,32160],[63806,33737],
	[63807,37636],[63808,40575],[63809,35542],[63810,22751],[63811,24324],[63812,31840],[63813,32894],[63814,29282],
	[63815,30922],[63816,36034],[63817,38647],[63818,22744],[63819,23650],[63820,27155],[63821,28122],[63822,28431],
	[63823,32047],[63824,32311],[63825,38475],[63826,21202],[63827,32907],[63828,20956],[63829,20940],[63830,31260],
	[63831,32190],[63832,33777],[63833,38517],[63834,35712],[63835,25295],[63836,27138],[63837,35582],[63838,20025],
	[63839,23527],[63840,24594],[63841,29575],[63842,30064],[63843,21271],[63844,30971],[63845,20415],[63846,24489],
	[63847,19981],[63848,27852],[63849,25976],[63850,32034],[63851,21443],[63852,22622],[63853,30465],[63854,33865],
	[63855,35498],[63856,27578],[63857,36784],[63858,27784],[63859,25342],[63860,33509],[63861,25504],[63862,30053],
	[63863,20142],[63864,20841],[63865,20937],[63866,26753],[63867,31975],[63868,33391],[63869,35538],[63870,37327],
	[63871,21237],[63872,21570],[63873,22899],[63874,24300],[63875,26053],[63876,28670],[63877,31018],[63878,38317],
	[63879,39530],[63880,40599],[63881,40654],[63882,21147],[63883,26310],[63884,27511],[63885,36706],[63886,24180],
	[63887,24976],[63888,25088],[63889,25754],[63890,28451],[63891,29001],[63892,29833],[63893,31178],[63894,32244],
	[63895,32879],[63896,36646],[63897,34030],[63898,36899],[63899,37706],[63900,21015],[63901,21155],[63902,21693],
	[63903,28872],[63904,35010],[63905,35498],[63906,24265],[63907,24565],[63908,25467],[63909,27566],[63910,31806],
	[63911,29557],[63912,20196],[63913,22265],[63914,23527],[63915,23994],[63916,24604],[63917,29618],[63918,29801],
	[63919,32666],[63920,32838],[63921,37428],[63922,38646],[63923,38728],[63924,38936],[63925,20363],[63926,31150],
	[63927,37300],[63928,38584],[63929,24801],[63930,20102],[63931,20698],[63932,23534],[63933,23615],[63934,26009],
	[63935,27138],[63936,29134],[63937,30274],[63938,34044],[63939,36988],[63940,40845],[63941,26248],[63942,38446],
	[63943,21129],[63944,26491],[63945,26611],[63946,27969],[63947,28316],[63948,29705],[63949,30041],[63950,30827],
	[63951,32016],[63952,39006],[63953,20845],[63954,25134],[63955,38520],[63956,20523],[63957,23833],[63958,28138],
	[63959,36650],[63960,24459],[63961,24900],[63962,26647],[63963,29575],[63964,38534],[63965,21033],[63966,21519],
	[63967,23653],[63968,26131],[63969,26446],[63970,26792],[63971,27877],[63972,29702],[63973,30178],[63974,32633],
	[63975,35023],[63976,35041],[63977,37324],[63978,38626],[63979,21311],[63980,28346],[63981,21533],[63982,29136],
	[63983,29848],[63984,34298],[63985,38563],[63986,40023],[63987,40607],[63988,26519],[63989,28107],[63990,33256],
	[63991,31435],[63992,31520],[63993,31890],[63994,29376],[63995,28825],[63996,35672],[63997,20160],[63998,33590],
	[63999,21050],[64000,20999],[64001,24230],[64002,25299],[64003,31958],[64004,23429],[64005,27934],[64006,26292],
	[64007,36667],[64008,34892],[64009,38477],[64010,35211],[64011,24275],[64012,20800],[64013,21952],[64016,22618],
	[64018,26228],[64021,20958],[64022,29482],[64023,30410],[64024,31036],[64025,31070],[64026,31077],[64027,31119],
	[64028,38742],[64029,31934],[64030,32701],[64032,34322],[64034,35576],[64037,36920],[64038,37117],[64042,39151],
	[64043,39164],[64044,39208],[64045,40372],[64046,37086],[64047,38583],[64048,20398],[64049,20711],[64050,20813],
	[64051,21193],[64052,21220],[64053,21329],[64054,21917],[64055,22022],[64056,22120],[64057,22592],[64058,22696],
	[64059,23652],[64060,23662],[64061,24724],[64062,24936],[64063,24974],[64064,25074],[64065,25935],[64066,26082],
	[64067,26257],[64068,26757],[64069,28023],[64070,28186],[64071,28450],[64072,29038],[64073,29227],[64074,29730],
	[64075,30865],[64076,31038],[64077,31049],[64078,31048],[64079,31056],[64080,31062],[64081,31069],
	[64082,64083,'R',-32965],[64084,31296],[64085,31361],[64086,31680],[64087,32244],[64088,32265],[64089,32321],
	[64090,32626],[64091,32773],[64092,33261],[64093,64094,'A',33401],[64095,33879],[64096,35088],[64097,35222],
	[64098,35585],[64099,35641],[64100,36051],[64101,36104],[64102,36790],[64103,36920],[64104,38627],[64105,38911],
	[64106,38971],[64107,24693],[64108,148206],[64109,33304],[64112,20006],[64113,20917],[64114,20840],[64115,20352],
	[64116,20805],[64117,20864],[64118,21191],[64119,21242],[64120,21917],[64121,21845],[64122,21913],[64123,21986],
	[64124,22618],[64125,22707],[64126,22852],[64127,22868],[64128,23138],[64129,23336],[64130,24274],[64131,24281],
	[64132,24425],[64133,24493],[64134,24792],[64135,24910],[64136,24840],[64137,24974],[64138,24928],[64139,25074],
	[64140,25140],[64141,25540],[64142,25628],[64143,25682],[64144,25942],[64145,26228],[64146,26391],[64147,26395],
	[64148,26454],[64149,27513],[64150,27578],[64151,27969],[64152,28379],[64153,28363],[64154,28450],[64155,28702],
	[64156,29038],[64157,30631],[64158,29237],[64159,29359],[64160,29482],[64161,29809],[64162,29958],[64163,30011],
	[64164,30237],[64165,30239],[64166,30410],[64167,30427],[64168,30452],[64169,30538],[64170,30528],[64171,30924],
	[64172,31409],[64173,31680],[64174,31867],[64175,32091],[64176,32244],[64177,32574],[64178,32773],[64179,33618],
	[64180,33775],[64181,34681],[64182,35137],[64183,35206],[64184,35222],[64185,35519],[64186,35576],[64187,35531],
	[64188,35585],[64189,35582],[64190,35565],[64191,35641],[64192,35722],[64193,36104],[64194,36664],[64195,36978],
	[64196,37273],[64197,37494],[64198,38524],[64199,38627],[64200,38742],[64201,38875],[64202,38911],[64203,38923],
	[64204,38971],[64205,39698],[64206,40860],[64207,141386],[64208,141380],[64209,144341],[64210,15261],[64211,16408],
	[64212,16441],[64213,152137],[64214,154832],[64215,163539],[64216,40771],[64217,40846],[64256,[102, 102]],
	[64257,[102, 105]],[64258,[102, 108]],[64259,[102, 102, 105]],[64260,[102, 102, 108]],[64261,[383, 116]],
	[64262,[115, 116]],[64275,[1396, 1398]],[64276,[1396, 1381]],[64277,[1396, 1387]],[64278,[1406, 1398]],
	[64279,[1396, 1389]],[64285,[1497, 1460]],[64287,[1522, 1463]],[64288,1506],[64289,1488],[64290,64291,'R',-62799],
	[64292,64294,'R',-62793],[64295,1512],[64296,1514],[64297,43],[64298,[1513, 1473]],[64299,[1513, 1474]],
	[64300,[64329, 1473]],[64301,[64329, 1474]],[64302,[1488, 1463]],[64303,[1488, 1464]],[64304,[1488, 1468]],
	[64305,[1489, 1468]],[64306,[1490, 1468]],[64307,[1491, 1468]],[64308,[1492, 1468]],[64309,[1493, 1468]],
	[64310,[1494, 1468]],[64312,[1496, 1468]],[64313,[1497, 1468]],[64314,[1498, 1468]],[64315,[1499, 1468]],
	[64316,[1500, 1468]],[64318,[1502, 1468]],[64320,[1504, 1468]],[64321,[1505, 1468]],[64323,[1507, 1468]],
	[64324,[1508, 1468]],[64326,[1510, 1468]],[64327,[1511, 1468]],[64328,[1512, 1468]],[64329,[1513, 1468]],
	[64330,[1514, 1468]],[64331,[1493, 1465]],[64332,[1489, 1471]],[64333,[1499, 1471]],[64334,[1508, 1471]],
	[64335,[1488, 1500]],[64336,64337,'A',1649],[64338,64341,'A',1659],[64342,64345,'A',1662],[64346,64349,'A',1664],
	[64350,64353,'A',1658],[64354,64357,'A',1663],[64358,64361,'A',1657],[64362,64365,'A',1700],[64366,64369,'A',1702],
	[64370,64373,'A',1668],[64374,64377,'A',1667],[64378,64381,'A',1670],[64382,64385,'A',1671],[64386,64387,'A',1677],
	[64388,64389,'A',1676],[64390,64391,'A',1678],[64392,64393,'A',1672],[64394,64395,'A',1688],[64396,64397,'A',1681],
	[64398,64401,'A',1705],[64402,64405,'A',1711],[64406,64409,'A',1715],[64410,64413,'A',1713],[64414,64415,'A',1722],
	[64416,64419,'A',1723],[64420,64421,'A',1728],[64422,64425,'A',1729],[64426,64429,'A',1726],[64430,64431,'A',1746],
	[64432,64433,'A',1747],[64467,64470,'A',1709],[64471,64472,'A',1735],[64473,64474,'A',1734],[64475,64476,'A',1736],
	[64477,1655],[64478,64479,'A',1739],[64480,64481,'A',1733],[64482,64483,'A',1737],[64484,64487,'A',1744],
	[64488,64489,'A',1609],[64490,[1574, 1575]],[64491,[1574, 1575]],[64492,[1574, 1749]],[64493,[1574, 1749]],
	[64494,[1574, 1608]],[64495,[1574, 1608]],[64496,[1574, 1735]],[64497,[1574, 1735]],[64498,[1574, 1734]],
	[64499,[1574, 1734]],[64500,[1574, 1736]],[64501,[1574, 1736]],[64502,[1574, 1744]],[64503,[1574, 1744]],
	[64504,[1574, 1744]],[64505,[1574, 1609]],[64506,[1574, 1609]],[64507,[1574, 1609]],[64508,64511,'A',1740],
	[64512,[1574, 1580]],[64513,[1574, 1581]],[64514,[1574, 1605]],[64515,[1574, 1609]],[64516,[1574, 1610]],
	[64517,[1576, 1580]],[64518,[1576, 1581]],[64519,[1576, 1582]],[64520,[1576, 1605]],[64521,[1576, 1609]],
	[64522,[1576, 1610]],[64523,[1578, 1580]],[64524,[1578, 1581]],[64525,[1578, 1582]],[64526,[1578, 1605]],
	[64527,[1578, 1609]],[64528,[1578, 1610]],[64529,[1579, 1580]],[64530,[1579, 1605]],[64531,[1579, 1609]],
	[64532,[1579, 1610]],[64533,[1580, 1581]],[64534,[1580, 1605]],[64535,[1581, 1580]],[64536,[1581, 1605]],
	[64537,[1582, 1580]],[64538,[1582, 1581]],[64539,[1582, 1605]],[64540,[1587, 1580]],[64541,[1587, 1581]],
	[64542,[1587, 1582]],[64543,[1587, 1605]],[64544,[1589, 1581]],[64545,[1589, 1605]],[64546,[1590, 1580]],
	[64547,[1590, 1581]],[64548,[1590, 1582]],[64549,[1590, 1605]],[64550,[1591, 1581]],[64551,[1591, 1605]],
	[64552,[1592, 1605]],[64553,[1593, 1580]],[64554,[1593, 1605]],[64555,[1594, 1580]],[64556,[1594, 1605]],
	[64557,[1601, 1580]],[64558,[1601, 1581]],[64559,[1601, 1582]],[64560,[1601, 1605]],[64561,[1601, 1609]],
	[64562,[1601, 1610]],[64563,[1602, 1581]],[64564,[1602, 1605]],[64565,[1602, 1609]],[64566,[1602, 1610]],
	[64567,[1603, 1575]],[64568,[1603, 1580]],[64569,[1603, 1581]],[64570,[1603, 1582]],[64571,[1603, 1604]],
	[64572,[1603, 1605]],[64573,[1603, 1609]],[64574,[1603, 1610]],[64575,[1604, 1580]],[64576,[1604, 1581]],
	[64577,[1604, 1582]],[64578,[1604, 1605]],[64579,[1604, 1609]],[64580,[1604, 1610]],[64581,[1605, 1580]],
	[64582,[1605, 1581]],[64583,[1605, 1582]],[64584,[1605, 1605]],[64585,[1605, 1609]],[64586,[1605, 1610]],
	[64587,[1606, 1580]],[64588,[1606, 1581]],[64589,[1606, 1582]],[64590,[1606, 1605]],[64591,[1606, 1609]],
	[64592,[1606, 1610]],[64593,[1607, 1580]],[64594,[1607, 1605]],[64595,[1607, 1609]],[64596,[1607, 1610]],
	[64597,[1610, 1580]],[64598,[1610, 1581]],[64599,[1610, 1582]],[64600,[1610, 1605]],[64601,[1610, 1609]],
	[64602,[1610, 1610]],[64603,[1584, 1648]],[64604,[1585, 1648]],[64605,[1609, 1648]],[64606,[32, 1612, 1617]],
	[64607,[32, 1613, 1617]],[64608,[32, 1614, 1617]],[64609,[32, 1615, 1617]],[64610,[32, 1616, 1617]],
	[64611,[32, 1617, 1648]],[64612,[1574, 1585]],[64613,[1574, 1586]],[64614,[1574, 1605]],[64615,[1574, 1606]],
	[64616,[1574, 1609]],[64617,[1574, 1610]],[64618,[1576, 1585]],[64619,[1576, 1586]],[64620,[1576, 1605]],
	[64621,[1576, 1606]],[64622,[1576, 1609]],[64623,[1576, 1610]],[64624,[1578, 1585]],[64625,[1578, 1586]],
	[64626,[1578, 1605]],[64627,[1578, 1606]],[64628,[1578, 1609]],[64629,[1578, 1610]],[64630,[1579, 1585]],
	[64631,[1579, 1586]],[64632,[1579, 1605]],[64633,[1579, 1606]],[64634,[1579, 1609]],[64635,[1579, 1610]],
	[64636,[1601, 1609]],[64637,[1601, 1610]],[64638,[1602, 1609]],[64639,[1602, 1610]],[64640,[1603, 1575]],
	[64641,[1603, 1604]],[64642,[1603, 1605]],[64643,[1603, 1609]],[64644,[1603, 1610]],[64645,[1604, 1605]],
	[64646,[1604, 1609]],[64647,[1604, 1610]],[64648,[1605, 1575]],[64649,[1605, 1605]],[64650,[1606, 1585]],
	[64651,[1606, 1586]],[64652,[1606, 1605]],[64653,[1606, 1606]],[64654,[1606, 1609]],[64655,[1606, 1610]],
	[64656,[1609, 1648]],[64657,[1610, 1585]],[64658,[1610, 1586]],[64659,[1610, 1605]],[64660,[1610, 1606]],
	[64661,[1610, 1609]],[64662,[1610, 1610]],[64663,[1574, 1580]],[64664,[1574, 1581]],[64665,[1574, 1582]],
	[64666,[1574, 1605]],[64667,[1574, 1607]],[64668,[1576, 1580]],[64669,[1576, 1581]],[64670,[1576, 1582]],
	[64671,[1576, 1605]],[64672,[1576, 1607]],[64673,[1578, 1580]],[64674,[1578, 1581]],[64675,[1578, 1582]],
	[64676,[1578, 1605]],[64677,[1578, 1607]],[64678,[1579, 1605]],[64679,[1580, 1581]],[64680,[1580, 1605]],
	[64681,[1581, 1580]],[64682,[1581, 1605]],[64683,[1582, 1580]],[64684,[1582, 1605]],[64685,[1587, 1580]],
	[64686,[1587, 1581]],[64687,[1587, 1582]],[64688,[1587, 1605]],[64689,[1589, 1581]],[64690,[1589, 1582]],
	[64691,[1589, 1605]],[64692,[1590, 1580]],[64693,[1590, 1581]],[64694,[1590, 1582]],[64695,[1590, 1605]],
	[64696,[1591, 1581]],[64697,[1592, 1605]],[64698,[1593, 1580]],[64699,[1593, 1605]],[64700,[1594, 1580]],
	[64701,[1594, 1605]],[64702,[1601, 1580]],[64703,[1601, 1581]],[64704,[1601, 1582]],[64705,[1601, 1605]],
	[64706,[1602, 1581]],[64707,[1602, 1605]],[64708,[1603, 1580]],[64709,[1603, 1581]],[64710,[1603, 1582]],
	[64711,[1603, 1604]],[64712,[1603, 1605]],[64713,[1604, 1580]],[64714,[1604, 1581]],[64715,[1604, 1582]],
	[64716,[1604, 1605]],[64717,[1604, 1607]],[64718,[1605, 1580]],[64719,[1605, 1581]],[64720,[1605, 1582]],
	[64721,[1605, 1605]],[64722,[1606, 1580]],[64723,[1606, 1581]],[64724,[1606, 1582]],[64725,[1606, 1605]],
	[64726,[1606, 1607]],[64727,[1607, 1580]],[64728,[1607, 1605]],[64729,[1607, 1648]],[64730,[1610, 1580]],
	[64731,[1610, 1581]],[64732,[1610, 1582]],[64733,[1610, 1605]],[64734,[1610, 1607]],[64735,[1574, 1605]],
	[64736,[1574, 1607]],[64737,[1576, 1605]],[64738,[1576, 1607]],[64739,[1578, 1605]],[64740,[1578, 1607]],
	[64741,[1579, 1605]],[64742,[1579, 1607]],[64743,[1587, 1605]],[64744,[1587, 1607]],[64745,[1588, 1605]],
	[64746,[1588, 1607]],[64747,[1603, 1604]],[64748,[1603, 1605]],[64749,[1604, 1605]],[64750,[1606, 1605]],
	[64751,[1606, 1607]],[64752,[1610, 1605]],[64753,[1610, 1607]],[64754,[1600, 1614, 1617]],[64755,[1600, 1615, 1617]],
	[64756,[1600, 1616, 1617]],[64757,[1591, 1609]],[64758,[1591, 1610]],[64759,[1593, 1609]],[64760,[1593, 1610]],
	[64761,[1594, 1609]],[64762,[1594, 1610]],[64763,[1587, 1609]],[64764,[1587, 1610]],[64765,[1588, 1609]],
	[64766,[1588, 1610]],[64767,[1581, 1609]],[64768,[1581, 1610]],[64769,[1580, 1609]],[64770,[1580, 1610]],
	[64771,[1582, 1609]],[64772,[1582, 1610]],[64773,[1589, 1609]],[64774,[1589, 1610]],[64775,[1590, 1609]],
	[64776,[1590, 1610]],[64777,[1588, 1580]],[64778,[1588, 1581]],[64779,[1588, 1582]],[64780,[1588, 1605]],
	[64781,[1588, 1585]],[64782,[1587, 1585]],[64783,[1589, 1585]],[64784,[1590, 1585]],[64785,[1591, 1609]],
	[64786,[1591, 1610]],[64787,[1593, 1609]],[64788,[1593, 1610]],[64789,[1594, 1609]],[64790,[1594, 1610]],
	[64791,[1587, 1609]],[64792,[1587, 1610]],[64793,[1588, 1609]],[64794,[1588, 1610]],[64795,[1581, 1609]],
	[64796,[1581, 1610]],[64797,[1580, 1609]],[64798,[1580, 1610]],[64799,[1582, 1609]],[64800,[1582, 1610]],
	[64801,[1589, 1609]],[64802,[1589, 1610]],[64803,[1590, 1609]],[64804,[1590, 1610]],[64805,[1588, 1580]],
	[64806,[1588, 1581]],[64807,[1588, 1582]],[64808,[1588, 1605]],[64809,[1588, 1585]],[64810,[1587, 1585]],
	[64811,[1589, 1585]],[64812,[1590, 1585]],[64813,[1588, 1580]],[64814,[1588, 1581]],[64815,[1588, 1582]],
	[64816,[1588, 1605]],[64817,[1587, 1607]],[64818,[1588, 1607]],[64819,[1591, 1605]],[64820,[1587, 1580]],
	[64821,[1587, 1581]],[64822,[1587, 1582]],[64823,[1588, 1580]],[64824,[1588, 1581]],[64825,[1588, 1582]],
	[64826,[1591, 1605]],[64827,[1592, 1605]],[64828,[1575, 1611]],[64829,[1575, 1611]],[64848,[1578, 1580, 1605]],
	[64849,[1578, 1581, 1580]],[64850,[1578, 1581, 1580]],[64851,[1578, 1581, 1605]],[64852,[1578, 1582, 1605]],
	[64853,[1578, 1605, 1580]],[64854,[1578, 1605, 1581]],[64855,[1578, 1605, 1582]],[64856,[1580, 1605, 1581]],
	[64857,[1580, 1605, 1581]],[64858,[1581, 1605, 1610]],[64859,[1581, 1605, 1609]],[64860,[1587, 1581, 1580]],
	[64861,[1587, 1580, 1581]],[64862,[1587, 1580, 1609]],[64863,[1587, 1605, 1581]],[64864,[1587, 1605, 1581]],
	[64865,[1587, 1605, 1580]],[64866,[1587, 1605, 1605]],[64867,[1587, 1605, 1605]],[64868,[1589, 1581, 1581]],
	[64869,[1589, 1581, 1581]],[64870,[1589, 1605, 1605]],[64871,[1588, 1581, 1605]],[64872,[1588, 1581, 1605]],
	[64873,[1588, 1580, 1610]],[64874,[1588, 1605, 1582]],[64875,[1588, 1605, 1582]],[64876,[1588, 1605, 1605]],
	[64877,[1588, 1605, 1605]],[64878,[1590, 1581, 1609]],[64879,[1590, 1582, 1605]],[64880,[1590, 1582, 1605]],
	[64881,[1591, 1605, 1581]],[64882,[1591, 1605, 1581]],[64883,[1591, 1605, 1605]],[64884,[1591, 1605, 1610]],
	[64885,[1593, 1580, 1605]],[64886,[1593, 1605, 1605]],[64887,[1593, 1605, 1605]],[64888,[1593, 1605, 1609]],
	[64889,[1594, 1605, 1605]],[64890,[1594, 1605, 1610]],[64891,[1594, 1605, 1609]],[64892,[1601, 1582, 1605]],
	[64893,[1601, 1582, 1605]],[64894,[1602, 1605, 1581]],[64895,[1602, 1605, 1605]],[64896,[1604, 1581, 1605]],
	[64897,[1604, 1581, 1610]],[64898,[1604, 1581, 1609]],[64899,[1604, 1580, 1580]],[64900,[1604, 1580, 1580]],
	[64901,[1604, 1582, 1605]],[64902,[1604, 1582, 1605]],[64903,[1604, 1605, 1581]],[64904,[1604, 1605, 1581]],
	[64905,[1605, 1581, 1580]],[64906,[1605, 1581, 1605]],[64907,[1605, 1581, 1610]],[64908,[1605, 1580, 1581]],
	[64909,[1605, 1580, 1605]],[64910,[1605, 1582, 1580]],[64911,[1605, 1582, 1605]],[64914,[1605, 1580, 1582]],
	[64915,[1607, 1605, 1580]],[64916,[1607, 1605, 1605]],[64917,[1606, 1581, 1605]],[64918,[1606, 1581, 1609]],
	[64919,[1606, 1580, 1605]],[64920,[1606, 1580, 1605]],[64921,[1606, 1580, 1609]],[64922,[1606, 1605, 1610]],
	[64923,[1606, 1605, 1609]],[64924,[1610, 1605, 1605]],[64925,[1610, 1605, 1605]],[64926,[1576, 1582, 1610]],
	[64927,[1578, 1580, 1610]],[64928,[1578, 1580, 1609]],[64929,[1578, 1582, 1610]],[64930,[1578, 1582, 1609]],
	[64931,[1578, 1605, 1610]],[64932,[1578, 1605, 1609]],[64933,[1580, 1605, 1610]],[64934,[1580, 1581, 1609]],
	[64935,[1580, 1605, 1609]],[64936,[1587, 1582, 1609]],[64937,[1589, 1581, 1610]],[64938,[1588, 1581, 1610]],
	[64939,[1590, 1581, 1610]],[64940,[1604, 1580, 1610]],[64941,[1604, 1605, 1610]],[64942,[1610, 1581, 1610]],
	[64943,[1610, 1580, 1610]],[64944,[1610, 1605, 1610]],[64945,[1605, 1605, 1610]],[64946,[1602, 1605, 1610]],
	[64947,[1606, 1581, 1610]],[64948,[1602, 1605, 1581]],[64949,[1604, 1581, 1605]],[64950,[1593, 1605, 1610]],
	[64951,[1603, 1605, 1610]],[64952,[1606, 1580, 1581]],[64953,[1605, 1582, 1610]],[64954,[1604, 1580, 1605]],
	[64955,[1603, 1605, 1605]],[64956,[1604, 1580, 1605]],[64957,[1606, 1580, 1581]],[64958,[1580, 1581, 1610]],
	[64959,[1581, 1580, 1610]],[64960,[1605, 1580, 1610]],[64961,[1601, 1605, 1610]],[64962,[1576, 1581, 1610]],
	[64963,[1603, 1605, 1605]],[64964,[1593, 1580, 1605]],[64965,[1589, 1605, 1605]],[64966,[1587, 1582, 1610]],
	[64967,[1606, 1580, 1610]],[65008,[1589, 1604, 1746]],[65009,[1602, 1604, 1746]],[65010,[1575, 1604, 1604, 1607]],
	[65011,[1575, 1603, 1576, 1585]],[65012,[1605, 1581, 1605, 1583]],[65013,[1589, 1604, 1593, 1605]],
	[65014,[1585, 1587, 1608, 1604]],[65015,[1593, 1604, 1610, 1607]],[65016,[1608, 1587, 1604, 1605]],
	[65017,[1589, 1604, 1609]],
	[65018,[1589, 1604, 1609, 32, 1575, 1604, 1604, 1607, 32, 1593, 1604, 1610, 1607, 32, 1608, 1587, 1604, 1605]],
	[65019,[1580, 1604, 32, 1580, 1604, 1575, 1604, 1607]],[65020,[1585, 1740, 1575, 1604]],[65040,44],
	[65041,65042,'R',-52752],[65043,65044,'R',-64985],[65045,33],[65046,63],[65047,65048,'R',-52737],[65049,8230],
	[65072,8229],[65073,8212],[65074,8211],[65075,65076,'A',95],[65077,65078,'R',-65037],[65079,123],[65080,125],
	[65081,65082,'R',-52773],[65083,65084,'R',-52779],[65085,65086,'R',-52787],[65087,65088,'R',-52791],
	[65089,65092,'R',-52789],[65095,91],[65096,93],[65097,65100,'A',8254],[65101,65103,'A',95],[65104,44],[65105,12289],
	[65106,46],[65108,59],[65109,58],[65110,63],[65111,33],[65112,8212],[65113,65114,'R',-65073],[65115,123],[65116,125],
	[65117,65118,'R',-52809],[65119,35],[65120,38],[65121,65122,'R',-65079],[65123,45],[65124,60],[65125,62],[65126,61],
	[65128,92],[65129,65130,'R',-65093],[65131,64],[65136,[32, 1611]],[65137,[1600, 1611]],[65138,[32, 1612]],
	[65140,[32, 1613]],[65142,[32, 1614]],[65143,[1600, 1614]],[65144,[32, 1615]],[65145,[1600, 1615]],[65146,[32, 1616]],
	[65147,[1600, 1616]],[65148,[32, 1617]],[65149,[1600, 1617]],[65150,[32, 1618]],[65151,[1600, 1618]],
	[65152,65153,'R',-63583],[65154,65155,'R',-63584],[65156,65157,'R',-63585],[65158,65159,'R',-63586],
	[65160,65161,'R',-63587],[65162,65164,'A',1574],[65165,65166,'A',1575],[65167,65170,'A',1576],[65171,65172,'A',1577],
	[65173,65176,'A',1578],[65177,65180,'A',1579],[65181,65184,'A',1580],[65185,65188,'A',1581],[65189,65192,'A',1582],
	[65193,65194,'A',1583],[65195,65196,'A',1584],[65197,65198,'A',1585],[65199,65200,'A',1586],[65201,65204,'A',1587],
	[65205,65208,'A',1588],[65209,65212,'A',1589],[65213,65216,'A',1590],[65217,65220,'A',1591],[65221,65224,'A',1592],
	[65225,65228,'A',1593],[65229,65232,'A',1594],[65233,65236,'A',1601],[65237,65240,'A',1602],[65241,65244,'A',1603],
	[65245,65248,'A',1604],[65249,65252,'A',1605],[65253,65256,'A',1606],[65257,65260,'A',1607],[65261,65262,'A',1608],
	[65263,65264,'A',1609],[65265,65268,'A',1610],[65269,[1604, 1570]],[65270,[1604, 1570]],[65271,[1604, 1571]],
	[65272,[1604, 1571]],[65273,[1604, 1573]],[65274,[1604, 1573]],[65275,[1604, 1575]],[65276,[1604, 1575]],
	[65281,65312,'R',-65248],[65313,65338,'R',-65216],[65339,65374,'R',-65248],[65375,65376,'R',-54746],[65377,12290],
	[65378,65379,'R',-53078],[65380,12289],[65381,12539],[65382,12530],[65383,12449],[65384,12451],[65385,12453],
	[65386,12455],[65387,12457],[65388,12515],[65389,12517],[65390,12519],[65391,12483],[65392,12540],[65393,12450],
	[65394,12452],[65395,12454],[65396,12456],[65397,65398,'R',-52939],[65399,12461],[65400,12463],[65401,12465],
	[65402,12467],[65403,12469],[65404,12471],[65405,12473],[65406,12475],[65407,12477],[65408,12479],[65409,12481],
	[65410,12484],[65411,12486],[65412,12488],[65413,65418,'R',-52923],[65419,12498],[65420,12501],[65421,12504],
	[65422,12507],[65423,65427,'R',-52913],[65428,12516],[65429,12518],[65430,65435,'R',-52910],[65436,12527],[65437,12531],
	[65438,65439,'R',-52997],[65440,12644],[65441,65470,'R',-52848],[65474,65479,'R',-52851],[65482,65487,'R',-52853],
	[65490,65495,'R',-52855],[65498,65500,'R',-52857],[65504,65505,'R',-65342],[65506,172],[65507,175],[65508,166],
	[65509,165],[65510,8361],[65512,9474],[65513,65516,'R',-56921],[65517,9632],[65518,9675],[66560,66599,'R',40],
	[69786,[69785, 69818]],[69788,[69787, 69818]],[69803,[69797, 69818]],[69934,[69937, 69927]],[69935,[69938, 69927]],
	[119134,[119127, 119141]],[119135,[119128, 119141]],[119136,[119135, 119150]],[119137,[119135, 119151]],
	[119138,[119135, 119152]],[119139,[119135, 119153]],[119140,[119135, 119154]],[119227,[119225, 119141]],
	[119228,[119226, 119141]],[119229,[119227, 119150]],[119230,[119228, 119150]],[119231,[119227, 119151]],
	[119232,[119228, 119151]],[119808,119833,'R',-119743],[119834,119859,'R',-119737],[119860,119885,'R',-119795],
	[119886,119911,'R',-119789],[119912,119937,'R',-119847],[119938,119963,'R',-119841],[119964,119989,'R',-119899],
	[119990,120015,'R',-119893],[120016,120041,'R',-119951],[120042,120067,'R',-119945],[120068,120092,'R',-120003],
	[120094,120119,'R',-119997],[120120,120144,'R',-120055],[120146,120171,'R',-120049],[120172,120197,'R',-120107],
	[120198,120223,'R',-120101],[120224,120249,'R',-120159],[120250,120275,'R',-120153],[120276,120301,'R',-120211],
	[120302,120327,'R',-120205],[120328,120353,'R',-120263],[120354,120379,'R',-120257],[120380,120405,'R',-120315],
	[120406,120431,'R',-120309],[120432,120457,'R',-120367],[120458,120483,'R',-120361],[120484,305],[120485,567],
	[120488,120504,'R',-119575],[120505,1012],[120506,120512,'R',-119575],[120513,8711],[120514,120538,'R',-119569],
	[120539,8706],[120540,1013],[120541,977],[120542,1008],[120543,981],[120544,1009],[120545,982],
	[120546,120562,'R',-119633],[120563,1012],[120564,120570,'R',-119633],[120571,8711],[120572,120596,'R',-119627],
	[120597,8706],[120598,1013],[120599,977],[120600,1008],[120601,981],[120602,1009],[120603,982],
	[120604,120620,'R',-119691],[120621,1012],[120622,120628,'R',-119691],[120629,8711],[120630,120654,'R',-119685],
	[120655,8706],[120656,1013],[120657,977],[120658,1008],[120659,981],[120660,1009],[120661,982],
	[120662,120678,'R',-119749],[120679,1012],[120680,120686,'R',-119749],[120687,8711],[120688,120712,'R',-119743],
	[120713,8706],[120714,1013],[120715,977],[120716,1008],[120717,981],[120718,1009],[120719,982],
	[120720,120736,'R',-119807],[120737,1012],[120738,120744,'R',-119807],[120745,8711],[120746,120770,'R',-119801],
	[120771,8706],[120772,1013],[120773,977],[120774,1008],[120775,981],[120776,1009],[120777,982],
	[120778,120779,'R',-119790],[120782,120791,'R',-120734],[120792,120801,'R',-120744],[120802,120811,'R',-120754],
	[120812,120821,'R',-120764],[120822,120831,'R',-120774],[126464,126465,'R',-124889],[126466,1580],[126467,1583],
	[126469,1608],[126470,1586],[126471,1581],[126472,1591],[126473,1610],[126474,126477,'R',-124871],[126478,1587],
	[126479,1593],[126480,1601],[126481,1589],[126482,1602],[126483,1585],[126484,1588],[126485,126486,'R',-124907],
	[126487,1582],[126488,1584],[126489,1590],[126490,1592],[126491,1594],[126492,1646],[126493,1722],[126494,1697],
	[126495,1647],[126497,1576],[126498,1580],[126500,1607],[126503,1581],[126505,1610],[126506,126509,'R',-124903],
	[126510,1587],[126511,1593],[126512,1601],[126513,1589],[126514,1602],[126516,1588],[126517,126518,'R',-124939],
	[126519,1582],[126521,1590],[126523,1594],[126530,1580],[126535,1581],[126537,1610],[126539,126541,'R',-124935],
	[126542,1587],[126543,1593],[126545,1589],[126546,1602],[126548,1588],[126551,1582],[126553,1590],[126555,1594],
	[126557,1722],[126559,1647],[126561,1576],[126562,1580],[126564,1607],[126567,1581],[126568,1591],[126569,1610],
	[126570,126573,'R',-124967],[126574,1587],[126575,1593],[126576,1601],[126577,1589],[126578,1602],[126580,1588],
	[126581,126582,'R',-125003],[126583,1582],[126585,1590],[126586,1592],[126587,1594],[126588,1646],[126590,1697],
	[126592,126593,'R',-125017],[126594,1580],[126595,1583],[126596,126597,'R',-124989],[126598,1586],[126599,1581],
	[126600,1591],[126601,1610],[126603,126605,'R',-124999],[126606,1587],[126607,1593],[126608,1601],[126609,1589],
	[126610,1602],[126611,1585],[126612,1588],[126613,126614,'R',-125035],[126615,1582],[126616,1584],[126617,1590],
	[126618,1592],[126619,1594],[126625,1576],[126626,1580],[126627,1583],[126629,1608],[126630,1586],[126631,1581],
	[126632,1591],[126633,1610],[126635,126637,'R',-125031],[126638,1587],[126639,1593],[126640,1601],[126641,1589],
	[126642,1602],[126643,1585],[126644,1588],[126645,126646,'R',-125067],[126647,1582],[126648,1584],[126649,1590],
	[126650,1592],[126651,1594],[127232,[48, 46]],[127233,[48, 44]],[127234,[49, 44]],[127235,[50, 44]],[127236,[51, 44]],
	[127237,[52, 44]],[127238,[53, 44]],[127239,[54, 44]],[127240,[55, 44]],[127241,[56, 44]],[127242,[57, 44]],
	[127248,[40, 65, 41]],[127249,[40, 66, 41]],[127250,[40, 67, 41]],[127251,[40, 68, 41]],[127252,[40, 69, 41]],
	[127253,[40, 70, 41]],[127254,[40, 71, 41]],[127255,[40, 72, 41]],[127256,[40, 73, 41]],[127257,[40, 74, 41]],
	[127258,[40, 75, 41]],[127259,[40, 76, 41]],[127260,[40, 77, 41]],[127261,[40, 78, 41]],[127262,[40, 79, 41]],
	[127263,[40, 80, 41]],[127264,[40, 81, 41]],[127265,[40, 82, 41]],[127266,[40, 83, 41]],[127267,[40, 84, 41]],
	[127268,[40, 85, 41]],[127269,[40, 86, 41]],[127270,[40, 87, 41]],[127271,[40, 88, 41]],[127272,[40, 89, 41]],
	[127273,[40, 90, 41]],[127274,[12308, 83, 12309]],[127275,67],[127276,82],[127277,[67, 68]],[127278,[87, 90]],
	[127280,127305,'R',-127215],[127306,[72, 86]],[127307,[77, 86]],[127308,[83, 68]],[127309,[83, 83]],
	[127310,[80, 80, 86]],[127311,[87, 67]],[127338,[77, 67]],[127339,[77, 68]],[127376,[68, 74]],[127488,[12411, 12363]],
	[127489,[12467, 12467]],[127490,12469],[127504,25163],[127505,23383],[127506,21452],[127507,12487],[127508,20108],
	[127509,22810],[127510,35299],[127511,22825],[127512,20132],[127513,26144],[127514,28961],[127515,26009],[127516,21069],
	[127517,24460],[127518,20877],[127519,26032],[127520,21021],[127521,32066],[127522,29983],[127523,36009],[127524,22768],
	[127525,21561],[127526,28436],[127527,25237],[127528,25429],[127529,19968],[127530,19977],[127531,36938],[127532,24038],
	[127533,20013],[127534,21491],[127535,25351],[127536,36208],[127537,25171],[127538,31105],[127539,31354],[127540,21512],
	[127541,28288],[127542,26377],[127543,26376],[127544,30003],[127545,21106],[127546,21942],[127552,[12308, 26412, 12309]],
	[127553,[12308, 19977, 12309]],[127554,[12308, 20108, 12309]],[127555,[12308, 23433, 12309]],
	[127556,[12308, 28857, 12309]],[127557,[12308, 25171, 12309]],[127558,[12308, 30423, 12309]],
	[127559,[12308, 21213, 12309]],[127560,[12308, 25943, 12309]],[127568,24471],[127569,21487],[194560,20029],
	[194561,20024],[194562,20033],[194563,131362],[194564,20320],[194565,20398],[194566,20411],[194567,20482],[194568,20602],
	[194569,20633],[194570,20711],[194571,20687],[194572,13470],[194573,132666],[194574,20813],[194575,20820],[194576,20836],
	[194577,20855],[194578,132380],[194579,13497],[194580,20839],[194581,20877],[194582,132427],[194583,20887],
	[194584,20900],[194585,20172],[194586,20908],[194587,20917],[194588,168415],[194589,20981],[194590,20995],[194591,13535],
	[194592,21051],[194593,21062],[194594,21106],[194595,21111],[194596,13589],[194597,21191],[194598,21193],[194599,21220],
	[194600,21242],[194601,194602,'R',-173348],[194603,21271],[194604,21321],[194605,21329],[194606,21338],[194607,21363],
	[194608,21373],[194609,194611,'A',21375],[194612,133676],[194613,28784],[194614,21450],[194615,21471],[194616,133987],
	[194617,21483],[194618,21489],[194619,21510],[194620,21662],[194621,21560],[194622,21576],[194623,21608],[194624,21666],
	[194625,21750],[194626,21776],[194627,21843],[194628,21859],[194629,194630,'A',21892],[194631,21913],[194632,21931],
	[194633,21939],[194634,21954],[194635,22294],[194636,22022],[194637,22295],[194638,22097],[194639,22132],[194640,20999],
	[194641,22766],[194642,22478],[194643,22516],[194644,22541],[194645,22411],[194646,22578],[194647,22577],[194648,22700],
	[194649,136420],[194650,22770],[194651,22775],[194652,22790],[194653,22810],[194654,22818],[194655,22882],
	[194656,136872],[194657,136938],[194658,23020],[194659,23067],[194660,23079],[194661,23000],[194662,23142],
	[194663,14062],[194664,14076],[194665,23304],[194666,194667,'A',23358],[194668,137672],[194669,23491],[194670,23512],
	[194671,23527],[194672,23539],[194673,138008],[194674,23551],[194675,23558],[194676,24403],[194677,23586],[194678,14209],
	[194679,23648],[194680,23662],[194681,23744],[194682,23693],[194683,138724],[194684,23875],[194685,138726],
	[194686,23918],[194687,23915],[194688,23932],[194689,194690,'R',-170656],[194691,14383],[194692,24061],[194693,24104],
	[194694,24125],[194695,24169],[194696,14434],[194697,139651],[194698,14460],[194699,24240],[194700,24243],[194701,24246],
	[194702,24266],[194703,172946],[194704,24318],[194705,194706,'A',140081],[194707,33281],[194708,194709,'A',24354],
	[194710,14535],[194711,144056],[194712,156122],[194713,24418],[194714,24427],[194715,14563],[194716,24474],
	[194717,24525],[194718,24535],[194719,24569],[194720,24705],[194721,14650],[194722,14620],[194723,24724],[194724,141012],
	[194725,24775],[194726,24904],[194727,24908],[194728,24910],[194729,24908],[194730,24954],[194731,24974],[194732,25010],
	[194733,24996],[194734,25007],[194735,25054],[194736,25074],[194737,25078],[194738,25104],[194739,25115],[194740,25181],
	[194741,25265],[194742,25300],[194743,25424],[194744,142092],[194745,25405],[194746,25340],[194747,25448],[194748,25475],
	[194749,25572],[194750,142321],[194751,25634],[194752,25541],[194753,25513],[194754,14894],[194755,25705],[194756,25726],
	[194757,25757],[194758,25719],[194759,14956],[194760,25935],[194761,25964],[194762,143370],[194763,26083],[194764,26360],
	[194765,26185],[194766,15129],[194767,26257],[194768,15112],[194769,15076],[194770,20882],[194771,20885],[194772,26368],
	[194773,26268],[194774,32941],[194775,17369],[194776,26391],[194777,26395],[194778,26401],[194779,26462],[194780,26451],
	[194781,144323],[194782,15177],[194783,26618],[194784,26501],[194785,26706],[194786,26757],[194787,144493],
	[194788,26766],[194789,26655],[194790,26900],[194791,15261],[194792,26946],[194793,27043],[194794,27114],[194795,27304],
	[194796,145059],[194797,27355],[194798,15384],[194799,27425],[194800,145575],[194801,27476],[194802,15438],
	[194803,27506],[194804,27551],[194805,194806,'R',-167227],[194807,146061],[194808,138507],[194809,146170],[194810,27726],
	[194811,146620],[194812,27839],[194813,27853],[194814,27751],[194815,27926],[194816,27966],[194817,28023],[194818,27969],
	[194819,28009],[194820,28024],[194821,28037],[194822,146718],[194823,27956],[194824,28207],[194825,28270],[194826,15667],
	[194827,28363],[194828,28359],[194829,147153],[194830,28153],[194831,28526],[194832,147294],[194833,147342],
	[194834,28614],[194835,28729],[194836,28702],[194837,28699],[194838,15766],[194839,28746],[194840,28797],[194841,28791],
	[194842,28845],[194843,132389],[194844,28997],[194845,148067],[194846,29084],[194847,148395],[194848,29224],
	[194849,29237],[194850,29264],[194851,149000],[194852,29312],[194853,29333],[194854,149301],[194855,149524],
	[194856,29562],[194857,29579],[194858,16044],[194859,29605],[194860,194861,'A',16056],[194862,29767],[194863,29788],
	[194864,29809],[194865,29829],[194866,29898],[194867,16155],[194868,29988],[194869,150582],[194870,30014],
	[194871,150674],[194872,30064],[194873,139679],[194874,30224],[194875,151457],[194876,151480],[194877,151620],
	[194878,16380],[194879,16392],[194880,30452],[194881,151795],[194882,151794],[194883,151833],[194884,151859],
	[194885,194886,'R',-164391],[194887,30495],[194888,30538],[194889,16441],[194890,30603],[194891,16454],[194892,16534],
	[194893,152605],[194894,30798],[194895,30860],[194896,30924],[194897,16611],[194898,153126],[194899,31062],
	[194900,153242],[194901,153285],[194902,31119],[194903,31211],[194904,16687],[194905,31296],[194906,31306],
	[194907,31311],[194908,153980],[194909,194910,'A',154279],[194911,31470],[194912,16898],[194913,154539],[194914,31686],
	[194915,31689],[194916,16935],[194917,154752],[194918,31954],[194919,17056],[194920,31976],[194921,31971],[194922,32000],
	[194923,155526],[194924,32099],[194925,17153],[194926,32199],[194927,32258],[194928,32325],[194929,17204],
	[194930,156200],[194931,156231],[194932,17241],[194933,156377],[194934,32634],[194935,156478],[194936,32661],
	[194937,32762],[194938,32773],[194939,156890],[194940,156963],[194941,32864],[194942,157096],[194943,32880],
	[194944,144223],[194945,17365],[194946,32946],[194947,33027],[194948,17419],[194949,33086],[194950,23221],
	[194951,157607],[194952,157621],[194953,144275],[194954,144284],[194955,33281],[194956,33284],[194957,36766],
	[194958,17515],[194959,33425],[194960,33419],[194961,33437],[194962,21171],[194963,33457],[194964,33459],[194965,33469],
	[194966,33510],[194967,158524],[194968,33509],[194969,33565],[194970,33635],[194971,33709],[194972,33571],[194973,33725],
	[194974,33767],[194975,33879],[194976,33619],[194977,33738],[194978,33740],[194979,33756],[194980,158774],
	[194981,159083],[194982,158933],[194983,17707],[194984,34033],[194985,34035],[194986,34070],[194987,160714],
	[194988,34148],[194989,159532],[194990,17757],[194991,17761],[194992,159665],[194993,159954],[194994,17771],
	[194995,34384],[194996,34396],[194997,34407],[194998,34409],[194999,34473],[195000,34440],[195001,34574],[195002,34530],
	[195003,34681],[195004,34600],[195005,34667],[195006,34694],[195007,17879],[195008,34785],[195009,34817],[195010,17913],
	[195011,34912],[195012,34915],[195013,161383],[195014,35031],[195015,35038],[195016,17973],[195017,35066],[195018,13499],
	[195019,161966],[195020,162150],[195021,18110],[195022,18119],[195023,35488],[195024,35565],[195025,35722],
	[195026,35925],[195027,162984],[195028,36011],[195029,36033],[195030,36123],[195031,36215],[195032,163631],
	[195033,133124],[195034,36299],[195035,36284],[195036,36336],[195037,133342],[195038,36564],[195039,36664],
	[195040,165330],[195041,165357],[195042,37012],[195043,37105],[195044,37137],[195045,165678],[195046,37147],
	[195047,37432],[195048,195049,'R',-157457],[195050,37500],[195051,37881],[195052,37909],[195053,166906],[195054,38283],
	[195055,18837],[195056,38327],[195057,167287],[195058,18918],[195059,38595],[195060,23986],[195061,38691],
	[195062,168261],[195063,168474],[195064,19054],[195065,19062],[195066,38880],[195067,168970],[195068,19122],
	[195069,169110],[195070,195071,'A',38923],[195072,38953],[195073,169398],[195074,39138],[195075,19251],[195076,39209],
	[195077,39335],[195078,39362],[195079,39422],[195080,19406],[195081,170800],[195082,39698],[195083,40000],[195084,40189],
	[195085,19662],[195086,19693],[195087,40295],[195088,172238],[195089,19704],[195090,172293],[195091,172558],
	[195092,172689],[195093,40635],[195094,19798],[195095,40697],[195096,40702],[195097,40709],[195098,40719],[195099,40726],
	[195100,40763],[195101,173568]];

var norm_lowercase_nomark_data=[[65,90,'R',32],[160,168,'A',32],[170,97],[175,32],[178,179,'R',-128],[180,32],[181,956],[184,32],[185,49],[186,111],
	[188,[49, 8260, 52]],[189,[49, 8260, 50]],[190,[51, 8260, 52]],[192,197,'A',97],[198,230],[199,99],[200,203,'A',101],
	[204,207,'A',105],[208,240],[209,210,'R',-99],[211,214,'A',111],[216,248],[217,220,'A',117],[221,121],[222,254],
	[224,229,'A',97],[231,99],[232,235,'A',101],[236,239,'A',105],[241,242,'R',-131],[243,246,'A',111],[249,252,'A',117],
	[253,255,'A',121],[256,261,'A',97],[262,269,'A',99],[270,271,'A',100],[272,273],[274,283,'A',101],[284,291,'A',103],
	[292,293,'A',104],[294,295],[296,304,'A',105],[306,[105, 106]],[307,[105, 106]],[308,309,'A',106],[310,311,'A',107],
	[313,318,'A',108],[319,[108, 183]],[320,[108, 183]],[321,322],[323,328,'A',110],[329,[700, 110]],[330,331],
	[332,337,'A',111],[338,339],[340,345,'A',114],[346,353,'A',115],[354,357,'A',116],[358,359],[360,371,'A',117],
	[372,373,'A',119],[374,376,'A',121],[377,382,'A',122],[383,115],[385,595],[386,388,'R',1],[390,596],[391,392],
	[393,394,'R',205],[395,396],[398,477],[399,601],[400,603],[401,402],[403,608],[404,611],[406,617],[407,616],[408,409],
	[412,623],[413,626],[415,629],[416,417,'A',111],[418,420,'R',1],[422,640],[423,424],[425,643],[428,429],[430,648],
	[431,432,'A',117],[433,434,'R',217],[435,437,'R',1],[439,658],[440,444,'R',1],[452,[100, 382]],[453,[100, 382]],
	[454,[100, 382]],[455,[108, 106]],[456,[108, 106]],[457,[108, 106]],[458,[110, 106]],[459,[110, 106]],[460,[110, 106]],
	[461,462,'A',97],[463,464,'A',105],[465,466,'A',111],[467,468,'A',117],[469,476,'A',252],[478,479,'A',228],
	[480,481,'A',551],[482,483,'A',230],[484,485],[486,487,'A',103],[488,489,'A',107],[490,491,'A',111],[492,493,'A',491],
	[494,495,'A',658],[496,106],[497,[100, 122]],[498,[100, 122]],[499,[100, 122]],[500,501,'A',103],[502,405],[503,447],
	[504,505,'A',110],[506,507,'A',229],[508,509,'A',230],[510,511,'A',248],[512,515,'A',97],[516,519,'A',101],
	[520,523,'A',105],[524,527,'A',111],[528,531,'A',114],[532,535,'A',117],[536,537,'A',115],[538,539,'A',116],[540,541],
	[542,543,'A',104],[544,414],[546,548,'R',1],[550,551,'A',97],[552,553,'A',101],[554,555,'A',246],[556,557,'A',245],
	[558,559,'A',111],[560,561,'A',559],[562,563,'A',121],[570,11365],[571,572],[573,410],[574,11366],[577,578],[579,384],
	[580,649],[581,652],[582,590,'R',1],[688,104],[689,614],[690,106],[691,114],[692,633],[693,635],[694,641],[695,119],
	[696,121],[728,733,'A',32],[736,611],[737,108],[738,115],[739,120],[740,661],[832,836,'R',0],[880,882,'R',1],[884,697],
	[886,887],[890,32],[894,59],[900,32],[901,168],[902,945],[903,183],[904,949],[905,951],[906,953],[908,959],[910,965],
	[911,912,'R',58],[913,937,'R',32],[938,953],[939,965],[940,945],[941,949],[942,951],[943,953],[944,971],[970,953],
	[971,965],[972,959],[973,965],[974,969],[975,983],[976,946],[977,952],[978,933],[979,980,'A',978],[981,966],[982,960],
	[984,1006,'R',1],[1008,954],[1009,1010,'R',-48],[1012,952],[1013,949],[1015,1016],[1017,962],[1018,1019],
	[1021,1023,'R',-130],[1024,1025,'A',1077],[1026,1106],[1027,1075],[1028,1030,'R',80],[1031,1110],[1032,1035,'R',80],
	[1036,1082],[1037,1080],[1038,1091],[1039,1119],[1040,1048,'R',32],[1049,1080],[1050,1071,'R',32],[1081,1080],
	[1104,1105,'A',1077],[1107,1075],[1111,1110],[1116,1082],[1117,1080],[1118,1091],[1120,1140,'R',1],[1142,1143,'A',1141],
	[1144,1214,'R',1],[1216,1231],[1217,1218,'A',1078],[1219,1229,'R',1],[1232,1235,'A',1072],[1236,1237],
	[1238,1239,'A',1077],[1240,1243,'A',1241],[1244,1245,'A',1078],[1246,1247,'A',1079],[1248,1249],[1250,1253,'A',1080],
	[1254,1255,'A',1086],[1256,1259,'A',1257],[1260,1261,'A',1101],[1262,1267,'A',1091],[1268,1269,'A',1095],[1270,1271],
	[1272,1273,'A',1099],[1274,1318,'R',1],[1329,1366,'R',48],[1415,[1381, 1410]],[1570,1571,'A',1575],[1572,1608],
	[1573,1575],[1574,1610],[1653,[1575, 1652]],[1654,[1608, 1652]],[1655,[1735, 1652]],[1656,[1610, 1652]],[1728,1749],
	[1730,2356,'R',-1],[2392,2394,'R',-67],[2395,2332],[2396,2397,'R',-59],[2398,2347],[2399,2351],[2507,2508,'R',0],
	[2524,2525,'R',-59],[2527,2479],[2611,2610],[2614,2616],[2649,2650,'R',-67],[2651,2588],[2654,2603],[2888,2892,'R',0],
	[2908,2909,'R',-59],[2964,2962],[3018,3550,'R',0],[3635,3763,'R',-1],[3804,[3755, 3737]],[3805,[3755, 3745]],
	[3852,3932,'R',-1],[3945,3904],[3955,4025,'R',0],[4134,4133],[4256,4301,'R',7264],[4348,4316],[6918,6930,'R',-1],
	[6971,6979,'R',0],[7468,65],[7469,198],[7470,7473,'R',-7404],[7474,398],[7475,7482,'R',-7404],[7484,79],[7485,546],
	[7486,80],[7487,82],[7488,7489,'R',-7404],[7490,87],[7491,97],[7492,7493,'R',-6900],[7494,7426],[7495,98],
	[7496,7497,'R',-7396],[7498,601],[7499,7500,'R',-6896],[7501,103],[7503,107],[7504,109],[7505,331],[7506,111],[7507,596],
	[7508,7509,'R',-62],[7510,112],[7511,7512,'R',-7395],[7513,7453],[7514,623],[7515,118],[7516,7461],[7517,7519,'R',-6571],
	[7520,7521,'R',-6554],[7522,105],[7523,114],[7524,7525,'R',-7407],[7526,7527,'R',-6580],[7528,961],[7529,7530,'R',-6563],
	[7544,1085],[7579,594],[7580,99],[7581,597],[7582,240],[7583,604],[7584,102],[7585,607],[7586,609],[7587,613],
	[7588,7590,'R',-6972],[7591,7547],[7592,669],[7593,621],[7594,7557],[7595,671],[7596,625],[7597,624],
	[7598,7601,'R',-6972],[7602,632],[7603,7604,'R',-6961],[7605,427],[7606,7607,'R',-6957],[7608,7452],
	[7609,7610,'R',-6958],[7611,122],[7612,7614,'R',-6956],[7615,952],[7680,7681,'A',97],[7682,7687,'A',98],
	[7688,7689,'A',231],[7690,7699,'A',100],[7700,7703,'A',275],[7704,7707,'A',101],[7708,7709,'A',553],[7710,7711,'A',102],
	[7712,7713,'A',103],[7714,7723,'A',104],[7724,7725,'A',105],[7726,7727,'A',239],[7728,7733,'A',107],[7734,7735,'A',108],
	[7736,7737,'A',7735],[7738,7741,'A',108],[7742,7747,'A',109],[7748,7755,'A',110],[7756,7759,'A',245],[7760,7763,'A',333],
	[7764,7767,'A',112],[7768,7771,'A',114],[7772,7773,'A',7771],[7774,7775,'A',114],[7776,7779,'A',115],[7780,7781,'A',347],
	[7782,7783,'A',353],[7784,7785,'A',7779],[7786,7793,'A',116],[7794,7799,'A',117],[7800,7801,'A',361],[7802,7803,'A',363],
	[7804,7807,'A',118],[7808,7817,'A',119],[7818,7821,'A',120],[7822,7823,'A',121],[7824,7829,'A',122],[7830,104],
	[7831,116],[7832,119],[7833,121],[7834,[97, 702]],[7835,383],[7838,223],[7840,7843,'A',97],[7844,7851,'A',226],
	[7852,7853,'A',7841],[7854,7861,'A',259],[7862,7863,'A',7841],[7864,7869,'A',101],[7870,7877,'A',234],
	[7878,7879,'A',7865],[7880,7883,'A',105],[7884,7887,'A',111],[7888,7895,'A',244],[7896,7897,'A',7885],
	[7898,7907,'A',417],[7908,7911,'A',117],[7912,7921,'A',432],[7922,7929,'A',121],[7930,7934,'R',1],[7936,7937,'A',945],
	[7938,7939,'R',-2],[7940,7941,'R',-4],[7942,7943,'R',-6],[7944,7945,'A',945],[7946,7947,'R',-10],[7948,7949,'R',-12],
	[7950,7951,'R',-14],[7952,7953,'A',949],[7954,7955,'R',-2],[7956,7957,'R',-4],[7960,7961,'A',949],[7962,7963,'R',-10],
	[7964,7965,'R',-12],[7968,7969,'A',951],[7970,7971,'R',-2],[7972,7973,'R',-4],[7974,7975,'R',-6],[7976,7977,'A',951],
	[7978,7979,'R',-10],[7980,7981,'R',-12],[7982,7983,'R',-14],[7984,7985,'A',953],[7986,7987,'R',-2],[7988,7989,'R',-4],
	[7990,7991,'R',-6],[7992,7993,'A',953],[7994,7995,'R',-10],[7996,7997,'R',-12],[7998,7999,'R',-14],[8000,8001,'A',959],
	[8002,8003,'R',-2],[8004,8005,'R',-4],[8008,8009,'A',959],[8010,8011,'R',-10],[8012,8013,'R',-12],[8016,8017,'A',965],
	[8018,8019,'R',-2],[8020,8021,'R',-4],[8022,8023,'R',-6],[8025,965],[8027,8031,'A',8017],[8032,8033,'A',969],
	[8034,8035,'R',-2],[8036,8037,'R',-4],[8038,8039,'R',-6],[8040,8041,'A',969],[8042,8043,'R',-10],[8044,8045,'R',-12],
	[8046,8047,'R',-14],[8048,945],[8049,940],[8050,949],[8051,941],[8052,951],[8053,942],[8054,953],[8055,943],[8056,959],
	[8057,972],[8058,965],[8059,973],[8060,969],[8061,974],[8064,8071,'R',-128],[8072,8079,'R',-136],[8080,8087,'R',-112],
	[8088,8095,'R',-120],[8096,8103,'R',-64],[8104,8111,'R',-72],[8112,8113,'A',945],[8114,8048],[8115,945],[8116,940],
	[8118,945],[8119,8118],[8120,8122,'A',945],[8123,940],[8124,945],[8125,32],[8126,953],[8127,8128,'A',32],[8129,168],
	[8130,8052],[8131,951],[8132,942],[8134,951],[8135,8134],[8136,949],[8137,941],[8138,951],[8139,942],[8140,951],
	[8141,8143,'A',8127],[8144,8145,'A',953],[8146,970],[8147,912],[8150,953],[8151,970],[8152,8154,'A',953],[8155,943],
	[8157,8159,'A',8190],[8160,8161,'A',965],[8162,971],[8163,944],[8164,8165,'A',961],[8166,965],[8167,971],
	[8168,8170,'A',965],[8171,973],[8172,961],[8173,168],[8174,901],[8175,96],[8178,8060],[8179,969],[8180,974],[8182,969],
	[8183,8182],[8184,959],[8185,972],[8186,969],[8187,974],[8188,969],[8189,180],[8190,32],[8192,8193,'R',2],
	[8194,8202,'A',32],[8209,8208],[8215,32],[8228,46],[8229,[46, 46]],[8230,[46, 46, 46]],[8239,32],[8243,[8242, 8242]],
	[8244,[8242, 8242, 8242]],[8246,[8245, 8245]],[8247,[8245, 8245, 8245]],[8252,[33, 33]],[8254,32],[8263,[63, 63]],
	[8264,[63, 33]],[8265,[33, 63]],[8279,[8242, 8242, 8242, 8242]],[8287,32],[8304,48],[8305,105],[8308,8313,'R',-8256],
	[8314,43],[8315,8722],[8316,61],[8317,8318,'R',-8277],[8319,110],[8320,8329,'R',-8272],[8330,43],[8331,8722],[8332,61],
	[8333,8334,'R',-8293],[8336,97],[8337,101],[8338,111],[8339,120],[8340,601],[8341,104],[8342,8345,'R',-8235],[8346,112],
	[8347,8348,'R',-8232],[8360,[82, 115]],[8448,[97, 47, 99]],[8449,[97, 47, 115]],[8450,67],[8451,[176, 67]],
	[8453,[99, 47, 111]],[8454,[99, 47, 117]],[8455,400],[8457,[176, 70]],[8458,103],[8459,8461,'A',72],[8462,104],
	[8463,295],[8464,8465,'A',73],[8466,76],[8467,108],[8469,78],[8470,[78, 111]],[8473,8475,'R',-8393],[8476,8477,'A',82],
	[8480,[83, 77]],[8481,[84, 69, 76]],[8482,[84, 77]],[8484,90],[8486,969],[8488,90],[8490,107],[8491,97],
	[8492,8493,'R',-8426],[8495,101],[8496,8497,'R',-8427],[8498,8526],[8499,77],[8500,111],[8501,8504,'R',-7013],[8505,105],
	[8507,[70, 65, 88]],[8508,960],[8509,947],[8510,915],[8511,928],[8512,8721],[8517,68],[8518,8519,'R',-8418],
	[8520,8521,'R',-8415],[8528,[49, 8260, 55]],[8529,[49, 8260, 57]],[8530,[49, 8260, 49, 48]],[8531,[49, 8260, 51]],
	[8532,[50, 8260, 51]],[8533,[49, 8260, 53]],[8534,[50, 8260, 53]],[8535,[51, 8260, 53]],[8536,[52, 8260, 53]],
	[8537,[49, 8260, 54]],[8538,[53, 8260, 54]],[8539,[49, 8260, 56]],[8540,[51, 8260, 56]],[8541,[53, 8260, 56]],
	[8542,[55, 8260, 56]],[8543,[49, 8260]],[8544,105],[8545,[105, 105]],[8546,[105, 105, 105]],[8547,[105, 118]],[8548,118],
	[8549,[118, 105]],[8550,[118, 105, 105]],[8551,[118, 105, 105, 105]],[8552,[105, 120]],[8553,120],[8554,[120, 105]],
	[8555,[120, 105, 105]],[8556,108],[8557,8558,'R',-8458],[8559,109],[8560,105],[8561,[105, 105]],[8562,[105, 105, 105]],
	[8563,[105, 118]],[8564,118],[8565,[118, 105]],[8566,[118, 105, 105]],[8567,[118, 105, 105, 105]],[8568,[105, 120]],
	[8569,120],[8570,[120, 105]],[8571,[120, 105, 105]],[8572,108],[8573,8574,'R',-8474],[8575,109],[8579,8580],
	[8585,[48, 8260, 51]],[8602,8592],[8603,8594],[8622,8596],[8653,8656],[8654,8660],[8655,8658],[8708,8742,'R',-1],
	[8748,[8747, 8747]],[8749,[8747, 8747, 8747]],[8751,[8750, 8750]],[8752,[8750, 8750, 8750]],[8769,8764],[8772,8771],
	[8775,8773],[8777,8776],[8800,61],[8802,8801],[8813,8781],[8814,60],[8815,62],[8816,8817,'R',-12],[8820,8825,'R',-2],
	[8832,8833,'R',-6],[8836,8841,'R',-2],[8876,8866],[8877,8878,'R',-5],[8879,8875],[8928,8929,'R',-100],
	[8930,8931,'R',-81],[8938,8941,'R',-56],[9001,9002,'R',3295],[9312,9320,'R',-9263],[9321,[49, 48]],[9322,[49, 49]],
	[9323,[49, 50]],[9324,[49, 51]],[9325,[49, 52]],[9326,[49, 53]],[9327,[49, 54]],[9328,[49, 55]],[9329,[49, 56]],
	[9330,[49, 57]],[9331,[50, 48]],[9332,[40, 49, 41]],[9333,[40, 50, 41]],[9334,[40, 51, 41]],[9335,[40, 52, 41]],
	[9336,[40, 53, 41]],[9337,[40, 54, 41]],[9338,[40, 55, 41]],[9339,[40, 56, 41]],[9340,[40, 57, 41]],
	[9341,[40, 49, 48, 41]],[9342,[40, 49, 49, 41]],[9343,[40, 49, 50, 41]],[9344,[40, 49, 51, 41]],[9345,[40, 49, 52, 41]],
	[9346,[40, 49, 53, 41]],[9347,[40, 49, 54, 41]],[9348,[40, 49, 55, 41]],[9349,[40, 49, 56, 41]],[9350,[40, 49, 57, 41]],
	[9351,[40, 50, 48, 41]],[9352,[49, 46]],[9353,[50, 46]],[9354,[51, 46]],[9355,[52, 46]],[9356,[53, 46]],[9357,[54, 46]],
	[9358,[55, 46]],[9359,[56, 46]],[9360,[57, 46]],[9361,[49, 48, 46]],[9362,[49, 49, 46]],[9363,[49, 50, 46]],
	[9364,[49, 51, 46]],[9365,[49, 52, 46]],[9366,[49, 53, 46]],[9367,[49, 54, 46]],[9368,[49, 55, 46]],[9369,[49, 56, 46]],
	[9370,[49, 57, 46]],[9371,[50, 48, 46]],[9372,[40, 97, 41]],[9373,[40, 98, 41]],[9374,[40, 99, 41]],[9375,[40, 100, 41]],
	[9376,[40, 101, 41]],[9377,[40, 102, 41]],[9378,[40, 103, 41]],[9379,[40, 104, 41]],[9380,[40, 105, 41]],
	[9381,[40, 106, 41]],[9382,[40, 107, 41]],[9383,[40, 108, 41]],[9384,[40, 109, 41]],[9385,[40, 110, 41]],
	[9386,[40, 111, 41]],[9387,[40, 112, 41]],[9388,[40, 113, 41]],[9389,[40, 114, 41]],[9390,[40, 115, 41]],
	[9391,[40, 116, 41]],[9392,[40, 117, 41]],[9393,[40, 118, 41]],[9394,[40, 119, 41]],[9395,[40, 120, 41]],
	[9396,[40, 121, 41]],[9397,[40, 122, 41]],[9398,9423,'R',-9301],[9424,9449,'R',-9327],[9450,48],
	[10764,[8747, 8747, 8747, 8747]],[10868,[58, 58, 61]],[10869,[61, 61]],[10870,[61, 61, 61]],[10972,10973],
	[11264,11310,'R',48],[11360,11361],[11362,619],[11363,7549],[11364,637],[11367,11371,'R',1],[11373,593],[11374,625],
	[11375,592],[11376,594],[11378,11381,'R',1],[11388,106],[11389,86],[11390,11391,'R',-10815],[11392,11506,'R',1],
	[11631,11617],[11935,12019,'R',0],[12032,19968],[12033,12245,'R',0],[12288,32],[12342,12306],[12344,12346,'R',0],
	[12364,12400,'R',-1],[12401,12399],[12403,12404,'A',12402],[12406,12407,'A',12405],[12409,12410,'A',12408],
	[12412,12413,'A',12411],[12436,12358],[12443,12444,'A',32],[12446,12445],[12447,[12424, 12426]],[12460,12496,'R',-1],
	[12497,12495],[12499,12500,'A',12498],[12502,12503,'A',12501],[12505,12506,'A',12504],[12508,12509,'A',12507],
	[12532,12454],[12535,12538,'R',-8],[12542,12541],[12543,[12467, 12488]],[12593,12594,'R',-8241],[12595,4522],
	[12596,4354],[12597,12598,'R',-8073],[12599,12601,'R',-8244],[12602,12607,'R',-8074],[12608,4378],
	[12609,12611,'R',-8251],[12612,4385],[12613,12622,'R',-8252],[12623,12643,'R',-8174],[12644,4448],
	[12645,12646,'R',-8273],[12647,12648,'R',-8096],[12649,4556],[12650,4558],[12651,4563],[12652,4567],[12653,4569],
	[12654,4380],[12655,4573],[12656,4575],[12657,12658,'R',-8276],[12659,4384],[12660,12661,'R',-8274],[12662,4391],
	[12663,4393],[12664,12668,'R',-8269],[12669,4402],[12670,4406],[12671,4416],[12672,4423],[12673,4428],
	[12674,12675,'R',-8081],[12676,12678,'R',-8237],[12679,12680,'R',-8195],[12681,4488],[12682,12683,'R',-8185],
	[12684,4500],[12685,4510],[12686,4513],[12690,19968],[12691,12703,'R',0],[12800,[40, 4352, 41]],[12801,[40, 4354, 41]],
	[12802,[40, 4355, 41]],[12803,[40, 4357, 41]],[12804,[40, 4358, 41]],[12805,[40, 4359, 41]],[12806,[40, 4361, 41]],
	[12807,[40, 4363, 41]],[12808,[40, 4364, 41]],[12809,[40, 4366, 41]],[12810,[40, 4367, 41]],[12811,[40, 4368, 41]],
	[12812,[40, 4369, 41]],[12813,[40, 4370, 41]],[12814,[40, 4352, 4449, 41]],[12815,[40, 4354, 4449, 41]],
	[12816,[40, 4355, 4449, 41]],[12817,[40, 4357, 4449, 41]],[12818,[40, 4358, 4449, 41]],[12819,[40, 4359, 4449, 41]],
	[12820,[40, 4361, 4449, 41]],[12821,[40, 4363, 4449, 41]],[12822,[40, 4364, 4449, 41]],[12823,[40, 4366, 4449, 41]],
	[12824,[40, 4367, 4449, 41]],[12825,[40, 4368, 4449, 41]],[12826,[40, 4369, 4449, 41]],[12827,[40, 4370, 4449, 41]],
	[12828,[40, 4364, 4462, 41]],[12829,[40, 4363, 4457, 4364, 4453, 4523, 41]],[12830,[40, 4363, 4457, 4370, 4462, 41]],
	[12832,[40, 19968, 41]],[12833,[40, 41]],[12834,[40, 41]],[12835,[40, 41]],[12836,[40, 41]],[12837,[40, 41]],
	[12838,[40, 41]],[12839,[40, 41]],[12840,[40, 41]],[12841,[40, 41]],[12842,[40, 41]],[12843,[40, 41]],[12844,[40, 41]],
	[12845,[40, 41]],[12846,[40, 41]],[12847,[40, 41]],[12848,[40, 41]],[12849,[40, 41]],[12850,[40, 41]],[12851,[40, 41]],
	[12852,[40, 41]],[12853,[40, 41]],[12854,[40, 41]],[12855,[40, 41]],[12856,[40, 41]],[12857,[40, 41]],[12858,[40, 41]],
	[12859,[40, 41]],[12860,[40, 41]],[12861,[40, 41]],[12862,[40, 41]],[12863,[40, 41]],[12864,[40, 41]],[12865,[40, 41]],
	[12866,[40, 41]],[12867,[40, 41]],[12868,12871,'R',0],[12880,[80, 84, 69]],[12881,[50, 49]],[12882,[50, 50]],
	[12883,[50, 51]],[12884,[50, 52]],[12885,[50, 53]],[12886,[50, 54]],[12887,[50, 55]],[12888,[50, 56]],[12889,[50, 57]],
	[12890,[51, 48]],[12891,[51, 49]],[12892,[51, 50]],[12893,[51, 51]],[12894,[51, 52]],[12895,[51, 53]],[12896,4352],
	[12897,12898,'R',-8543],[12899,12901,'R',-8542],[12902,4361],[12903,12904,'R',-8540],[12905,12909,'R',-8539],
	[12910,[4352, 4449]],[12911,[4354, 4449]],[12912,[4355, 4449]],[12913,[4357, 4449]],[12914,[4358, 4449]],
	[12915,[4359, 4449]],[12916,[4361, 4449]],[12917,[4363, 4449]],[12918,[4364, 4449]],[12919,[4366, 4449]],
	[12920,[4367, 4449]],[12921,[4368, 4449]],[12922,[4369, 4449]],[12923,[4370, 4449]],
	[12924,[4366, 4449, 4535, 4352, 4457]],[12925,[4364, 4462, 4363, 4468]],[12926,[4363, 4462]],[12928,19968],
	[12929,12976,'R',0],[12977,[51, 54]],[12978,[51, 55]],[12979,[51, 56]],[12980,[51, 57]],[12981,[52, 48]],
	[12982,[52, 49]],[12983,[52, 50]],[12984,[52, 51]],[12985,[52, 52]],[12986,[52, 53]],[12987,[52, 54]],[12988,[52, 55]],
	[12989,[52, 56]],[12990,[52, 57]],[12991,[53, 48]],[12992,13000,'R',-12943],[13001,[49, 48]],[13002,[49, 49]],
	[13003,[49, 50]],[13004,[72, 103]],[13005,[101, 114, 103]],[13006,[101, 86]],[13007,[76, 84, 68]],[13008,12450],
	[13009,12452],[13010,12454],[13011,12456],[13012,13013,'R',-554],[13014,12461],[13015,12463],[13016,12465],[13017,12467],
	[13018,12469],[13019,12471],[13020,12473],[13021,12475],[13022,12477],[13023,12479],[13024,12481],[13025,12484],
	[13026,12486],[13027,12488],[13028,13033,'R',-538],[13034,12498],[13035,12501],[13036,12504],[13037,12507],
	[13038,13042,'R',-528],[13043,12516],[13044,12518],[13045,13050,'R',-525],[13051,13054,'R',-524],
	[13056,[12450, 12497, 12540, 12488]],[13057,[12450, 12523, 12501, 12449]],[13058,[12450, 12531, 12506, 12450]],
	[13059,[12450, 12540, 12523]],[13060,[12452, 12491, 12531, 12464]],[13061,[12452, 12531, 12481]],
	[13062,[12454, 12457, 12531]],[13063,[12456, 12473, 12463, 12540, 12489]],[13064,[12456, 12540, 12459, 12540]],
	[13065,[12458, 12531, 12473]],[13066,[12458, 12540, 12512]],[13067,[12459, 12452, 12522]],
	[13068,[12459, 12521, 12483, 12488]],[13069,[12459, 12525, 12522, 12540]],[13070,[12460, 12525, 12531]],
	[13071,[12460, 12531, 12510]],[13072,[12462, 12460]],[13073,[12462, 12491, 12540]],[13074,[12461, 12517, 12522, 12540]],
	[13075,[12462, 12523, 12480, 12540]],[13076,[12461, 12525]],[13077,[12461, 12525, 12464, 12521, 12512]],
	[13078,[12461, 12525, 12513, 12540, 12488, 12523]],[13079,[12461, 12525, 12527, 12483, 12488]],
	[13080,[12464, 12521, 12512]],[13081,[12464, 12521, 12512, 12488, 12531]],[13082,[12463, 12523, 12476, 12452, 12525]],
	[13083,[12463, 12525, 12540, 12493]],[13084,[12465, 12540, 12473]],[13085,[12467, 12523, 12490]],
	[13086,[12467, 12540, 12509]],[13087,[12469, 12452, 12463, 12523]],[13088,[12469, 12531, 12481, 12540, 12512]],
	[13089,[12471, 12522, 12531, 12464]],[13090,[12475, 12531, 12481]],[13091,[12475, 12531, 12488]],
	[13092,[12480, 12540, 12473]],[13093,[12487, 12471]],[13094,[12489, 12523]],[13095,[12488, 12531]],
	[13096,[12490, 12494]],[13097,[12494, 12483, 12488]],[13098,[12495, 12452, 12484]],
	[13099,[12497, 12540, 12475, 12531, 12488]],[13100,[12497, 12540, 12484]],[13101,[12496, 12540, 12524, 12523]],
	[13102,[12500, 12450, 12473, 12488, 12523]],[13103,[12500, 12463, 12523]],[13104,[12500, 12467]],[13105,[12499, 12523]],
	[13106,[12501, 12449, 12521, 12483, 12489]],[13107,[12501, 12451, 12540, 12488]],
	[13108,[12502, 12483, 12471, 12455, 12523]],[13109,[12501, 12521, 12531]],[13110,[12504, 12463, 12479, 12540, 12523]],
	[13111,[12506, 12477]],[13112,[12506, 12491, 12498]],[13113,[12504, 12523, 12484]],[13114,[12506, 12531, 12473]],
	[13115,[12506, 12540, 12472]],[13116,[12505, 12540, 12479]],[13117,[12509, 12452, 12531, 12488]],
	[13118,[12508, 12523, 12488]],[13119,[12507, 12531]],[13120,[12509, 12531, 12489]],[13121,[12507, 12540, 12523]],
	[13122,[12507, 12540, 12531]],[13123,[12510, 12452, 12463, 12525]],[13124,[12510, 12452, 12523]],
	[13125,[12510, 12483, 12495]],[13126,[12510, 12523, 12463]],[13127,[12510, 12531, 12471, 12519, 12531]],
	[13128,[12511, 12463, 12525, 12531]],[13129,[12511, 12522]],[13130,[12511, 12522, 12496, 12540, 12523]],
	[13131,[12513, 12460]],[13132,[12513, 12460, 12488, 12531]],[13133,[12513, 12540, 12488, 12523]],
	[13134,[12516, 12540, 12489]],[13135,[12516, 12540, 12523]],[13136,[12518, 12450, 12531]],
	[13137,[12522, 12483, 12488, 12523]],[13138,[12522, 12521]],[13139,[12523, 12500, 12540]],
	[13140,[12523, 12540, 12502, 12523]],[13141,[12524, 12512]],[13142,[12524, 12531, 12488, 12466, 12531]],
	[13143,[12527, 12483, 12488]],[13144,13153,'R',-13096],[13154,[49, 48]],[13155,[49, 49]],[13156,[49, 50]],
	[13157,[49, 51]],[13158,[49, 52]],[13159,[49, 53]],[13160,[49, 54]],[13161,[49, 55]],[13162,[49, 56]],[13163,[49, 57]],
	[13164,[50, 48]],[13165,[50, 49]],[13166,[50, 50]],[13167,[50, 51]],[13168,[50, 52]],[13169,[104, 80, 97]],
	[13170,[100, 97]],[13171,[65, 85]],[13172,[98, 97, 114]],[13173,[111, 86]],[13174,[112, 99]],[13175,[100, 109]],
	[13176,[100, 109, 178]],[13177,[100, 109, 179]],[13178,[73, 85]],[13179,13183,'R',0],[13184,[112, 65]],[13185,[110, 65]],
	[13186,[956, 65]],[13187,[109, 65]],[13188,[107, 65]],[13189,[75, 66]],[13190,[77, 66]],[13191,[71, 66]],
	[13192,[99, 97, 108]],[13193,[107, 99, 97, 108]],[13194,[112, 70]],[13195,[110, 70]],[13196,[956, 70]],
	[13197,[956, 103]],[13198,[109, 103]],[13199,[107, 103]],[13200,[72, 122]],[13201,[107, 72, 122]],[13202,[77, 72, 122]],
	[13203,[71, 72, 122]],[13204,[84, 72, 122]],[13205,[956, 8467]],[13206,[109, 8467]],[13207,[100, 8467]],
	[13208,[107, 8467]],[13209,[102, 109]],[13210,[110, 109]],[13211,[956, 109]],[13212,[109, 109]],[13213,[99, 109]],
	[13214,[107, 109]],[13215,[109, 109, 178]],[13216,[99, 109, 178]],[13217,[109, 178]],[13218,[107, 109, 178]],
	[13219,[109, 109, 179]],[13220,[99, 109, 179]],[13221,[109, 179]],[13222,[107, 109, 179]],[13223,[109, 8725, 115]],
	[13224,[109, 8725, 115, 178]],[13225,[80, 97]],[13226,[107, 80, 97]],[13227,[77, 80, 97]],[13228,[71, 80, 97]],
	[13229,[114, 97, 100]],[13230,[114, 97, 100, 8725, 115]],[13231,[114, 97, 100, 8725, 115, 178]],[13232,[112, 115]],
	[13233,[110, 115]],[13234,[956, 115]],[13235,[109, 115]],[13236,[112, 86]],[13237,[110, 86]],[13238,[956, 86]],
	[13239,[109, 86]],[13240,[107, 86]],[13241,[77, 86]],[13242,[112, 87]],[13243,[110, 87]],[13244,[956, 87]],
	[13245,[109, 87]],[13246,[107, 87]],[13247,[77, 87]],[13248,[107, 937]],[13249,[77, 937]],[13250,[97, 46, 109, 46]],
	[13251,[66, 113]],[13252,[99, 99]],[13253,[99, 100]],[13254,[67, 8725, 107, 103]],[13255,[67, 111, 46]],
	[13256,[100, 66]],[13257,[71, 121]],[13258,[104, 97]],[13259,[72, 80]],[13260,[105, 110]],[13261,[75, 75]],
	[13262,[75, 77]],[13263,[107, 116]],[13264,[108, 109]],[13265,[108, 110]],[13266,[108, 111, 103]],[13267,[108, 120]],
	[13268,[109, 98]],[13269,[109, 105, 108]],[13270,[109, 111, 108]],[13271,[80, 72]],[13272,[112, 46, 109, 46]],
	[13273,[80, 80, 77]],[13274,[80, 82]],[13275,[115, 114]],[13276,[83, 118]],[13277,[87, 98]],[13278,[86, 8725, 109]],
	[13279,[65, 8725, 109]],[13280,13288,'R',-13231],[13289,[49, 48]],[13290,[49, 49]],[13291,[49, 50]],[13292,[49, 51]],
	[13293,[49, 52]],[13294,[49, 53]],[13295,[49, 54]],[13296,[49, 55]],[13297,[49, 56]],[13298,[49, 57]],[13299,[50, 48]],
	[13300,[50, 49]],[13301,[50, 50]],[13302,[50, 51]],[13303,[50, 52]],[13304,[50, 53]],[13305,[50, 54]],[13306,[50, 55]],
	[13307,[50, 56]],[13308,[50, 57]],[13309,[51, 48]],[13310,[51, 49]],[13311,[103, 97, 108]],[42560,42862,'R',1],
	[42864,42863],[42873,42875,'R',1],[42877,7545],[42878,42891,'R',1],[42893,613],[42896,42920,'R',1],[42922,614],
	[43000,294],[43001,339],[63744,64217,'R',0],[64256,[102, 102]],[64257,[102, 105]],[64258,[102, 108]],
	[64259,[102, 102, 105]],[64260,[102, 102, 108]],[64261,[383, 116]],[64262,[115, 116]],[64275,[1396, 1398]],
	[64276,[1396, 1381]],[64277,[1396, 1387]],[64278,[1406, 1398]],[64279,[1396, 1389]],[64285,1497],[64287,1522],
	[64288,1506],[64289,1488],[64290,64291,'R',-62799],[64292,64294,'R',-62793],[64295,1512],[64296,1514],[64297,43],
	[64298,64299,'A',1513],[64300,64301,'A',64329],[64302,64304,'A',1488],[64305,64330,'R',-62816],[64331,1493],[64332,1489],
	[64333,1499],[64334,1508],[64335,[1488, 1500]],[64336,64337,'A',1649],[64338,64341,'A',1659],[64342,64345,'A',1662],
	[64346,64349,'A',1664],[64350,64353,'A',1658],[64354,64357,'A',1663],[64358,64361,'A',1657],[64362,64365,'A',1700],
	[64366,64369,'A',1702],[64370,64373,'A',1668],[64374,64377,'A',1667],[64378,64381,'A',1670],[64382,64385,'A',1671],
	[64386,64387,'A',1677],[64388,64389,'A',1676],[64390,64391,'A',1678],[64392,64393,'A',1672],[64394,64395,'A',1688],
	[64396,64397,'A',1681],[64398,64401,'A',1705],[64402,64405,'A',1711],[64406,64409,'A',1715],[64410,64413,'A',1713],
	[64414,64415,'A',1722],[64416,64419,'A',1723],[64420,64421,'A',1728],[64422,64425,'A',1729],[64426,64429,'A',1726],
	[64430,64431,'A',1746],[64432,64433,'A',1747],[64467,64470,'A',1709],[64471,64472,'A',1735],[64473,64474,'A',1734],
	[64475,64476,'A',1736],[64477,1655],[64478,64479,'A',1739],[64480,64481,'A',1733],[64482,64483,'A',1737],
	[64484,64487,'A',1744],[64488,64489,'A',1609],[64490,[1574, 1575]],[64491,[1574, 1575]],[64492,[1574, 1749]],
	[64493,[1574, 1749]],[64494,[1574, 1608]],[64495,[1574, 1608]],[64496,[1574, 1735]],[64497,[1574, 1735]],
	[64498,[1574, 1734]],[64499,[1574, 1734]],[64500,[1574, 1736]],[64501,[1574, 1736]],[64502,[1574, 1744]],
	[64503,[1574, 1744]],[64504,[1574, 1744]],[64505,[1574, 1609]],[64506,[1574, 1609]],[64507,[1574, 1609]],
	[64508,64511,'A',1740],[64512,[1574, 1580]],[64513,[1574, 1581]],[64514,[1574, 1605]],[64515,[1574, 1609]],
	[64516,[1574, 1610]],[64517,[1576, 1580]],[64518,[1576, 1581]],[64519,[1576, 1582]],[64520,[1576, 1605]],
	[64521,[1576, 1609]],[64522,[1576, 1610]],[64523,[1578, 1580]],[64524,[1578, 1581]],[64525,[1578, 1582]],
	[64526,[1578, 1605]],[64527,[1578, 1609]],[64528,[1578, 1610]],[64529,[1579, 1580]],[64530,[1579, 1605]],
	[64531,[1579, 1609]],[64532,[1579, 1610]],[64533,[1580, 1581]],[64534,[1580, 1605]],[64535,[1581, 1580]],
	[64536,[1581, 1605]],[64537,[1582, 1580]],[64538,[1582, 1581]],[64539,[1582, 1605]],[64540,[1587, 1580]],
	[64541,[1587, 1581]],[64542,[1587, 1582]],[64543,[1587, 1605]],[64544,[1589, 1581]],[64545,[1589, 1605]],
	[64546,[1590, 1580]],[64547,[1590, 1581]],[64548,[1590, 1582]],[64549,[1590, 1605]],[64550,[1591, 1581]],
	[64551,[1591, 1605]],[64552,[1592, 1605]],[64553,[1593, 1580]],[64554,[1593, 1605]],[64555,[1594, 1580]],
	[64556,[1594, 1605]],[64557,[1601, 1580]],[64558,[1601, 1581]],[64559,[1601, 1582]],[64560,[1601, 1605]],
	[64561,[1601, 1609]],[64562,[1601, 1610]],[64563,[1602, 1581]],[64564,[1602, 1605]],[64565,[1602, 1609]],
	[64566,[1602, 1610]],[64567,[1603, 1575]],[64568,[1603, 1580]],[64569,[1603, 1581]],[64570,[1603, 1582]],
	[64571,[1603, 1604]],[64572,[1603, 1605]],[64573,[1603, 1609]],[64574,[1603, 1610]],[64575,[1604, 1580]],
	[64576,[1604, 1581]],[64577,[1604, 1582]],[64578,[1604, 1605]],[64579,[1604, 1609]],[64580,[1604, 1610]],
	[64581,[1605, 1580]],[64582,[1605, 1581]],[64583,[1605, 1582]],[64584,[1605, 1605]],[64585,[1605, 1609]],
	[64586,[1605, 1610]],[64587,[1606, 1580]],[64588,[1606, 1581]],[64589,[1606, 1582]],[64590,[1606, 1605]],
	[64591,[1606, 1609]],[64592,[1606, 1610]],[64593,[1607, 1580]],[64594,[1607, 1605]],[64595,[1607, 1609]],
	[64596,[1607, 1610]],[64597,[1610, 1580]],[64598,[1610, 1581]],[64599,[1610, 1582]],[64600,[1610, 1605]],
	[64601,[1610, 1609]],[64602,[1610, 1610]],[64603,64604,'R',-63019],[64605,1609],[64606,64611,'A',32],
	[64612,[1574, 1585]],[64613,[1574, 1586]],[64614,[1574, 1605]],[64615,[1574, 1606]],[64616,[1574, 1609]],
	[64617,[1574, 1610]],[64618,[1576, 1585]],[64619,[1576, 1586]],[64620,[1576, 1605]],[64621,[1576, 1606]],
	[64622,[1576, 1609]],[64623,[1576, 1610]],[64624,[1578, 1585]],[64625,[1578, 1586]],[64626,[1578, 1605]],
	[64627,[1578, 1606]],[64628,[1578, 1609]],[64629,[1578, 1610]],[64630,[1579, 1585]],[64631,[1579, 1586]],
	[64632,[1579, 1605]],[64633,[1579, 1606]],[64634,[1579, 1609]],[64635,[1579, 1610]],[64636,[1601, 1609]],
	[64637,[1601, 1610]],[64638,[1602, 1609]],[64639,[1602, 1610]],[64640,[1603, 1575]],[64641,[1603, 1604]],
	[64642,[1603, 1605]],[64643,[1603, 1609]],[64644,[1603, 1610]],[64645,[1604, 1605]],[64646,[1604, 1609]],
	[64647,[1604, 1610]],[64648,[1605, 1575]],[64649,[1605, 1605]],[64650,[1606, 1585]],[64651,[1606, 1586]],
	[64652,[1606, 1605]],[64653,[1606, 1606]],[64654,[1606, 1609]],[64655,[1606, 1610]],[64656,1609],[64657,[1610, 1585]],
	[64658,[1610, 1586]],[64659,[1610, 1605]],[64660,[1610, 1606]],[64661,[1610, 1609]],[64662,[1610, 1610]],
	[64663,[1574, 1580]],[64664,[1574, 1581]],[64665,[1574, 1582]],[64666,[1574, 1605]],[64667,[1574, 1607]],
	[64668,[1576, 1580]],[64669,[1576, 1581]],[64670,[1576, 1582]],[64671,[1576, 1605]],[64672,[1576, 1607]],
	[64673,[1578, 1580]],[64674,[1578, 1581]],[64675,[1578, 1582]],[64676,[1578, 1605]],[64677,[1578, 1607]],
	[64678,[1579, 1605]],[64679,[1580, 1581]],[64680,[1580, 1605]],[64681,[1581, 1580]],[64682,[1581, 1605]],
	[64683,[1582, 1580]],[64684,[1582, 1605]],[64685,[1587, 1580]],[64686,[1587, 1581]],[64687,[1587, 1582]],
	[64688,[1587, 1605]],[64689,[1589, 1581]],[64690,[1589, 1582]],[64691,[1589, 1605]],[64692,[1590, 1580]],
	[64693,[1590, 1581]],[64694,[1590, 1582]],[64695,[1590, 1605]],[64696,[1591, 1581]],[64697,[1592, 1605]],
	[64698,[1593, 1580]],[64699,[1593, 1605]],[64700,[1594, 1580]],[64701,[1594, 1605]],[64702,[1601, 1580]],
	[64703,[1601, 1581]],[64704,[1601, 1582]],[64705,[1601, 1605]],[64706,[1602, 1581]],[64707,[1602, 1605]],
	[64708,[1603, 1580]],[64709,[1603, 1581]],[64710,[1603, 1582]],[64711,[1603, 1604]],[64712,[1603, 1605]],
	[64713,[1604, 1580]],[64714,[1604, 1581]],[64715,[1604, 1582]],[64716,[1604, 1605]],[64717,[1604, 1607]],
	[64718,[1605, 1580]],[64719,[1605, 1581]],[64720,[1605, 1582]],[64721,[1605, 1605]],[64722,[1606, 1580]],
	[64723,[1606, 1581]],[64724,[1606, 1582]],[64725,[1606, 1605]],[64726,[1606, 1607]],[64727,[1607, 1580]],
	[64728,[1607, 1605]],[64729,1607],[64730,[1610, 1580]],[64731,[1610, 1581]],[64732,[1610, 1582]],[64733,[1610, 1605]],
	[64734,[1610, 1607]],[64735,[1574, 1605]],[64736,[1574, 1607]],[64737,[1576, 1605]],[64738,[1576, 1607]],
	[64739,[1578, 1605]],[64740,[1578, 1607]],[64741,[1579, 1605]],[64742,[1579, 1607]],[64743,[1587, 1605]],
	[64744,[1587, 1607]],[64745,[1588, 1605]],[64746,[1588, 1607]],[64747,[1603, 1604]],[64748,[1603, 1605]],
	[64749,[1604, 1605]],[64750,[1606, 1605]],[64751,[1606, 1607]],[64752,[1610, 1605]],[64753,[1610, 1607]],
	[64754,64756,'A',1600],[64757,[1591, 1609]],[64758,[1591, 1610]],[64759,[1593, 1609]],[64760,[1593, 1610]],
	[64761,[1594, 1609]],[64762,[1594, 1610]],[64763,[1587, 1609]],[64764,[1587, 1610]],[64765,[1588, 1609]],
	[64766,[1588, 1610]],[64767,[1581, 1609]],[64768,[1581, 1610]],[64769,[1580, 1609]],[64770,[1580, 1610]],
	[64771,[1582, 1609]],[64772,[1582, 1610]],[64773,[1589, 1609]],[64774,[1589, 1610]],[64775,[1590, 1609]],
	[64776,[1590, 1610]],[64777,[1588, 1580]],[64778,[1588, 1581]],[64779,[1588, 1582]],[64780,[1588, 1605]],
	[64781,[1588, 1585]],[64782,[1587, 1585]],[64783,[1589, 1585]],[64784,[1590, 1585]],[64785,[1591, 1609]],
	[64786,[1591, 1610]],[64787,[1593, 1609]],[64788,[1593, 1610]],[64789,[1594, 1609]],[64790,[1594, 1610]],
	[64791,[1587, 1609]],[64792,[1587, 1610]],[64793,[1588, 1609]],[64794,[1588, 1610]],[64795,[1581, 1609]],
	[64796,[1581, 1610]],[64797,[1580, 1609]],[64798,[1580, 1610]],[64799,[1582, 1609]],[64800,[1582, 1610]],
	[64801,[1589, 1609]],[64802,[1589, 1610]],[64803,[1590, 1609]],[64804,[1590, 1610]],[64805,[1588, 1580]],
	[64806,[1588, 1581]],[64807,[1588, 1582]],[64808,[1588, 1605]],[64809,[1588, 1585]],[64810,[1587, 1585]],
	[64811,[1589, 1585]],[64812,[1590, 1585]],[64813,[1588, 1580]],[64814,[1588, 1581]],[64815,[1588, 1582]],
	[64816,[1588, 1605]],[64817,[1587, 1607]],[64818,[1588, 1607]],[64819,[1591, 1605]],[64820,[1587, 1580]],
	[64821,[1587, 1581]],[64822,[1587, 1582]],[64823,[1588, 1580]],[64824,[1588, 1581]],[64825,[1588, 1582]],
	[64826,[1591, 1605]],[64827,[1592, 1605]],[64828,64829,'A',1575],[64848,[1578, 1580, 1605]],[64849,[1578, 1581, 1580]],
	[64850,[1578, 1581, 1580]],[64851,[1578, 1581, 1605]],[64852,[1578, 1582, 1605]],[64853,[1578, 1605, 1580]],
	[64854,[1578, 1605, 1581]],[64855,[1578, 1605, 1582]],[64856,[1580, 1605, 1581]],[64857,[1580, 1605, 1581]],
	[64858,[1581, 1605, 1610]],[64859,[1581, 1605, 1609]],[64860,[1587, 1581, 1580]],[64861,[1587, 1580, 1581]],
	[64862,[1587, 1580, 1609]],[64863,[1587, 1605, 1581]],[64864,[1587, 1605, 1581]],[64865,[1587, 1605, 1580]],
	[64866,[1587, 1605, 1605]],[64867,[1587, 1605, 1605]],[64868,[1589, 1581, 1581]],[64869,[1589, 1581, 1581]],
	[64870,[1589, 1605, 1605]],[64871,[1588, 1581, 1605]],[64872,[1588, 1581, 1605]],[64873,[1588, 1580, 1610]],
	[64874,[1588, 1605, 1582]],[64875,[1588, 1605, 1582]],[64876,[1588, 1605, 1605]],[64877,[1588, 1605, 1605]],
	[64878,[1590, 1581, 1609]],[64879,[1590, 1582, 1605]],[64880,[1590, 1582, 1605]],[64881,[1591, 1605, 1581]],
	[64882,[1591, 1605, 1581]],[64883,[1591, 1605, 1605]],[64884,[1591, 1605, 1610]],[64885,[1593, 1580, 1605]],
	[64886,[1593, 1605, 1605]],[64887,[1593, 1605, 1605]],[64888,[1593, 1605, 1609]],[64889,[1594, 1605, 1605]],
	[64890,[1594, 1605, 1610]],[64891,[1594, 1605, 1609]],[64892,[1601, 1582, 1605]],[64893,[1601, 1582, 1605]],
	[64894,[1602, 1605, 1581]],[64895,[1602, 1605, 1605]],[64896,[1604, 1581, 1605]],[64897,[1604, 1581, 1610]],
	[64898,[1604, 1581, 1609]],[64899,[1604, 1580, 1580]],[64900,[1604, 1580, 1580]],[64901,[1604, 1582, 1605]],
	[64902,[1604, 1582, 1605]],[64903,[1604, 1605, 1581]],[64904,[1604, 1605, 1581]],[64905,[1605, 1581, 1580]],
	[64906,[1605, 1581, 1605]],[64907,[1605, 1581, 1610]],[64908,[1605, 1580, 1581]],[64909,[1605, 1580, 1605]],
	[64910,[1605, 1582, 1580]],[64911,[1605, 1582, 1605]],[64914,[1605, 1580, 1582]],[64915,[1607, 1605, 1580]],
	[64916,[1607, 1605, 1605]],[64917,[1606, 1581, 1605]],[64918,[1606, 1581, 1609]],[64919,[1606, 1580, 1605]],
	[64920,[1606, 1580, 1605]],[64921,[1606, 1580, 1609]],[64922,[1606, 1605, 1610]],[64923,[1606, 1605, 1609]],
	[64924,[1610, 1605, 1605]],[64925,[1610, 1605, 1605]],[64926,[1576, 1582, 1610]],[64927,[1578, 1580, 1610]],
	[64928,[1578, 1580, 1609]],[64929,[1578, 1582, 1610]],[64930,[1578, 1582, 1609]],[64931,[1578, 1605, 1610]],
	[64932,[1578, 1605, 1609]],[64933,[1580, 1605, 1610]],[64934,[1580, 1581, 1609]],[64935,[1580, 1605, 1609]],
	[64936,[1587, 1582, 1609]],[64937,[1589, 1581, 1610]],[64938,[1588, 1581, 1610]],[64939,[1590, 1581, 1610]],
	[64940,[1604, 1580, 1610]],[64941,[1604, 1605, 1610]],[64942,[1610, 1581, 1610]],[64943,[1610, 1580, 1610]],
	[64944,[1610, 1605, 1610]],[64945,[1605, 1605, 1610]],[64946,[1602, 1605, 1610]],[64947,[1606, 1581, 1610]],
	[64948,[1602, 1605, 1581]],[64949,[1604, 1581, 1605]],[64950,[1593, 1605, 1610]],[64951,[1603, 1605, 1610]],
	[64952,[1606, 1580, 1581]],[64953,[1605, 1582, 1610]],[64954,[1604, 1580, 1605]],[64955,[1603, 1605, 1605]],
	[64956,[1604, 1580, 1605]],[64957,[1606, 1580, 1581]],[64958,[1580, 1581, 1610]],[64959,[1581, 1580, 1610]],
	[64960,[1605, 1580, 1610]],[64961,[1601, 1605, 1610]],[64962,[1576, 1581, 1610]],[64963,[1603, 1605, 1605]],
	[64964,[1593, 1580, 1605]],[64965,[1589, 1605, 1605]],[64966,[1587, 1582, 1610]],[64967,[1606, 1580, 1610]],
	[65008,[1589, 1604, 1746]],[65009,[1602, 1604, 1746]],[65010,[1575, 1604, 1604, 1607]],[65011,[1575, 1603, 1576, 1585]],
	[65012,[1605, 1581, 1605, 1583]],[65013,[1589, 1604, 1593, 1605]],[65014,[1585, 1587, 1608, 1604]],
	[65015,[1593, 1604, 1610, 1607]],[65016,[1608, 1587, 1604, 1605]],[65017,[1589, 1604, 1609]],
	[65018,[1589, 1604, 1609, 32, 1575, 1604, 1604, 1607, 32, 1593, 1604, 1610, 1607, 32, 1608, 1587, 1604, 1605]],
	[65019,[1580, 1604, 32, 1580, 1604, 1575, 1604, 1607]],[65020,[1585, 1740, 1575, 1604]],[65040,44],
	[65041,65042,'R',-52752],[65043,65044,'R',-64985],[65045,33],[65046,63],[65047,65048,'R',-52737],[65049,8230],
	[65072,8229],[65073,8212],[65074,8211],[65075,65076,'A',95],[65077,65078,'R',-65037],[65079,123],[65080,125],
	[65081,65082,'R',-52773],[65083,65084,'R',-52779],[65085,65086,'R',-52787],[65087,65088,'R',-52791],
	[65089,65092,'R',-52789],[65095,91],[65096,93],[65097,65100,'A',8254],[65101,65103,'A',95],[65104,44],[65105,12289],
	[65106,46],[65108,59],[65109,58],[65110,63],[65111,33],[65112,8212],[65113,65114,'R',-65073],[65115,123],[65116,125],
	[65117,65118,'R',-52809],[65119,35],[65120,38],[65121,65122,'R',-65079],[65123,45],[65124,60],[65125,62],[65126,61],
	[65128,92],[65129,65130,'R',-65093],[65131,64],[65136,32],[65137,1600],[65138,65142,'A',32],[65143,1600],[65144,32],
	[65145,1600],[65146,32],[65147,1600],[65148,32],[65149,1600],[65150,32],[65151,1600],[65152,65153,'R',-63583],
	[65154,65155,'R',-63584],[65156,65157,'R',-63585],[65158,65159,'R',-63586],[65160,65161,'R',-63587],
	[65162,65164,'A',1574],[65165,65166,'A',1575],[65167,65170,'A',1576],[65171,65172,'A',1577],[65173,65176,'A',1578],
	[65177,65180,'A',1579],[65181,65184,'A',1580],[65185,65188,'A',1581],[65189,65192,'A',1582],[65193,65194,'A',1583],
	[65195,65196,'A',1584],[65197,65198,'A',1585],[65199,65200,'A',1586],[65201,65204,'A',1587],[65205,65208,'A',1588],
	[65209,65212,'A',1589],[65213,65216,'A',1590],[65217,65220,'A',1591],[65221,65224,'A',1592],[65225,65228,'A',1593],
	[65229,65232,'A',1594],[65233,65236,'A',1601],[65237,65240,'A',1602],[65241,65244,'A',1603],[65245,65248,'A',1604],
	[65249,65252,'A',1605],[65253,65256,'A',1606],[65257,65260,'A',1607],[65261,65262,'A',1608],[65263,65264,'A',1609],
	[65265,65268,'A',1610],[65269,[1604, 1570]],[65270,[1604, 1570]],[65271,[1604, 1571]],[65272,[1604, 1571]],
	[65273,[1604, 1573]],[65274,[1604, 1573]],[65275,[1604, 1575]],[65276,[1604, 1575]],[65281,65312,'R',-65248],
	[65313,65338,'R',-65216],[65339,65374,'R',-65248],[65375,65376,'R',-54746],[65377,12290],[65378,65379,'R',-53078],
	[65380,12289],[65381,12539],[65382,12530],[65383,12449],[65384,12451],[65385,12453],[65386,12455],[65387,12457],
	[65388,12515],[65389,12517],[65390,12519],[65391,12483],[65392,12540],[65393,12450],[65394,12452],[65395,12454],
	[65396,12456],[65397,65398,'R',-52939],[65399,12461],[65400,12463],[65401,12465],[65402,12467],[65403,12469],
	[65404,12471],[65405,12473],[65406,12475],[65407,12477],[65408,12479],[65409,12481],[65410,12484],[65411,12486],
	[65412,12488],[65413,65418,'R',-52923],[65419,12498],[65420,12501],[65421,12504],[65422,12507],[65423,65427,'R',-52913],
	[65428,12516],[65429,12518],[65430,65435,'R',-52910],[65436,12527],[65437,12531],[65438,65439,'R',0],[65440,12644],
	[65441,65470,'R',-52848],[65474,65479,'R',-52851],[65482,65487,'R',-52853],[65490,65495,'R',-52855],
	[65498,65500,'R',-52857],[65504,65505,'R',-65342],[65506,172],[65507,175],[65508,166],[65509,165],[65510,8361],
	[65512,9474],[65513,65516,'R',-56921],[65517,9632],[65518,9675],[66560,66599,'R',40],[69786,69788,'R',-1],[69803,69797],
	[69934,69935,'R',0],[119134,119135,'R',-7],[119136,119140,'A',119135],[119227,119230,'R',-2],[119231,119232,'R',-4],
	[119808,119833,'R',-119743],[119834,119859,'R',-119737],[119860,119885,'R',-119795],[119886,119911,'R',-119789],
	[119912,119937,'R',-119847],[119938,119963,'R',-119841],[119964,119989,'R',-119899],[119990,120015,'R',-119893],
	[120016,120041,'R',-119951],[120042,120067,'R',-119945],[120068,120092,'R',-120003],[120094,120119,'R',-119997],
	[120120,120144,'R',-120055],[120146,120171,'R',-120049],[120172,120197,'R',-120107],[120198,120223,'R',-120101],
	[120224,120249,'R',-120159],[120250,120275,'R',-120153],[120276,120301,'R',-120211],[120302,120327,'R',-120205],
	[120328,120353,'R',-120263],[120354,120379,'R',-120257],[120380,120405,'R',-120315],[120406,120431,'R',-120309],
	[120432,120457,'R',-120367],[120458,120483,'R',-120361],[120484,305],[120485,567],[120488,120504,'R',-119575],
	[120505,1012],[120506,120512,'R',-119575],[120513,8711],[120514,120538,'R',-119569],[120539,8706],[120540,1013],
	[120541,977],[120542,1008],[120543,981],[120544,1009],[120545,982],[120546,120562,'R',-119633],[120563,1012],
	[120564,120570,'R',-119633],[120571,8711],[120572,120596,'R',-119627],[120597,8706],[120598,1013],[120599,977],
	[120600,1008],[120601,981],[120602,1009],[120603,982],[120604,120620,'R',-119691],[120621,1012],
	[120622,120628,'R',-119691],[120629,8711],[120630,120654,'R',-119685],[120655,8706],[120656,1013],[120657,977],
	[120658,1008],[120659,981],[120660,1009],[120661,982],[120662,120678,'R',-119749],[120679,1012],
	[120680,120686,'R',-119749],[120687,8711],[120688,120712,'R',-119743],[120713,8706],[120714,1013],[120715,977],
	[120716,1008],[120717,981],[120718,1009],[120719,982],[120720,120736,'R',-119807],[120737,1012],
	[120738,120744,'R',-119807],[120745,8711],[120746,120770,'R',-119801],[120771,8706],[120772,1013],[120773,977],
	[120774,1008],[120775,981],[120776,1009],[120777,982],[120778,120779,'R',-119790],[120782,120791,'R',-120734],
	[120792,120801,'R',-120744],[120802,120811,'R',-120754],[120812,120821,'R',-120764],[120822,120831,'R',-120774],
	[126464,126465,'R',-124889],[126466,1580],[126467,1583],[126469,1608],[126470,1586],[126471,1581],[126472,1591],
	[126473,1610],[126474,126477,'R',-124871],[126478,1587],[126479,1593],[126480,1601],[126481,1589],[126482,1602],
	[126483,1585],[126484,1588],[126485,126486,'R',-124907],[126487,1582],[126488,1584],[126489,1590],[126490,1592],
	[126491,1594],[126492,1646],[126493,1722],[126494,1697],[126495,1647],[126497,1576],[126498,1580],[126500,1607],
	[126503,1581],[126505,1610],[126506,126509,'R',-124903],[126510,1587],[126511,1593],[126512,1601],[126513,1589],
	[126514,1602],[126516,1588],[126517,126518,'R',-124939],[126519,1582],[126521,1590],[126523,1594],[126530,1580],
	[126535,1581],[126537,1610],[126539,126541,'R',-124935],[126542,1587],[126543,1593],[126545,1589],[126546,1602],
	[126548,1588],[126551,1582],[126553,1590],[126555,1594],[126557,1722],[126559,1647],[126561,1576],[126562,1580],
	[126564,1607],[126567,1581],[126568,1591],[126569,1610],[126570,126573,'R',-124967],[126574,1587],[126575,1593],
	[126576,1601],[126577,1589],[126578,1602],[126580,1588],[126581,126582,'R',-125003],[126583,1582],[126585,1590],
	[126586,1592],[126587,1594],[126588,1646],[126590,1697],[126592,126593,'R',-125017],[126594,1580],[126595,1583],
	[126596,126597,'R',-124989],[126598,1586],[126599,1581],[126600,1591],[126601,1610],[126603,126605,'R',-124999],
	[126606,1587],[126607,1593],[126608,1601],[126609,1589],[126610,1602],[126611,1585],[126612,1588],
	[126613,126614,'R',-125035],[126615,1582],[126616,1584],[126617,1590],[126618,1592],[126619,1594],[126625,1576],
	[126626,1580],[126627,1583],[126629,1608],[126630,1586],[126631,1581],[126632,1591],[126633,1610],
	[126635,126637,'R',-125031],[126638,1587],[126639,1593],[126640,1601],[126641,1589],[126642,1602],[126643,1585],
	[126644,1588],[126645,126646,'R',-125067],[126647,1582],[126648,1584],[126649,1590],[126650,1592],[126651,1594],
	[127232,[48, 46]],[127233,[48, 44]],[127234,[49, 44]],[127235,[50, 44]],[127236,[51, 44]],[127237,[52, 44]],
	[127238,[53, 44]],[127239,[54, 44]],[127240,[55, 44]],[127241,[56, 44]],[127242,[57, 44]],[127248,[40, 65, 41]],
	[127249,[40, 66, 41]],[127250,[40, 67, 41]],[127251,[40, 68, 41]],[127252,[40, 69, 41]],[127253,[40, 70, 41]],
	[127254,[40, 71, 41]],[127255,[40, 72, 41]],[127256,[40, 73, 41]],[127257,[40, 74, 41]],[127258,[40, 75, 41]],
	[127259,[40, 76, 41]],[127260,[40, 77, 41]],[127261,[40, 78, 41]],[127262,[40, 79, 41]],[127263,[40, 80, 41]],
	[127264,[40, 81, 41]],[127265,[40, 82, 41]],[127266,[40, 83, 41]],[127267,[40, 84, 41]],[127268,[40, 85, 41]],
	[127269,[40, 86, 41]],[127270,[40, 87, 41]],[127271,[40, 88, 41]],[127272,[40, 89, 41]],[127273,[40, 90, 41]],
	[127274,[12308, 83, 12309]],[127275,67],[127276,82],[127277,[67, 68]],[127278,[87, 90]],[127280,127305,'R',-127215],
	[127306,[72, 86]],[127307,[77, 86]],[127308,[83, 68]],[127309,[83, 83]],[127310,[80, 80, 86]],[127311,[87, 67]],
	[127338,[77, 67]],[127339,[77, 68]],[127376,[68, 74]],[127488,[12411, 12363]],[127489,[12467, 12467]],[127490,12469],
	[127504,127506,'R',0],[127507,12487],[127508,127528,'R',0],[127529,19968],[127530,127546,'R',0],[127552,[12308, 12309]],
	[127553,[12308, 12309]],[127554,[12308, 12309]],[127555,[12308, 12309]],[127556,[12308, 12309]],[127557,[12308, 12309]],
	[127558,[12308, 12309]],[127559,[12308, 12309]],[127560,[12308, 12309]],[127568,195101,'R',0]];


            //# sourceMappingURL=https://ydn-src-2.storage.googleapis.com/jsc/ydn.crm-6.2.6.js.map
        